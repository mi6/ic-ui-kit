/*! For license information please see 7008.cc33635e.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_ukic_react=self.webpackChunk_ukic_react||[]).push([[7008],{"./node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{BN:()=>MDXContext,RP:()=>useMDXComponents,gz:()=>withMDXComponents,xA:()=>MDXProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return function boundMDXComponent(props){const allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components}),[contextComponents,components])}const emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"./node_modules/@storybook/addon-docs/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Hl:()=>_storybook_blocks__WEBPACK_IMPORTED_MODULE_1__.Hl,VY:()=>_storybook_blocks__WEBPACK_IMPORTED_MODULE_1__.VY,W8:()=>_storybook_blocks__WEBPACK_IMPORTED_MODULE_1__.W8,gG:()=>_storybook_blocks__WEBPACK_IMPORTED_MODULE_1__.gG});__webpack_require__("./node_modules/@storybook/addon-docs/dist/chunk-HLWAVYOI.mjs");var _storybook_blocks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/blocks/dist/index.mjs")},"./node_modules/@storybook/addon-postcss/node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/ag-grid-community/styles/ag-grid.css":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/@storybook/addon-postcss/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,'.ag-icon {\n  font-family: var(--ag-icon-font-family);\n  font-weight: var(--ag-icon-font-weight);\n  color: var(--ag-icon-font-color);\n  font-size: var(--ag-icon-size);\n  line-height: var(--ag-icon-size);\n  font-style: normal;\n  font-variant: normal;\n  text-transform: none;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  width: var(--ag-icon-size);\n  height: var(--ag-icon-size);\n  position: relative;\n}\n.ag-icon::before {\n  content: "";\n  font-family: inherit;\n}\n.ag-icon::after {\n  background: transparent var(--ag-icon-image, none) center/contain no-repeat;\n  display: var(--ag-icon-image-display);\n  opacity: var(--ag-icon-image-opacity, 0.9);\n  position: absolute;\n  inset: 0;\n  content: "";\n}\n\n.ag-icon-aggregation {\n  font-family: var(--ag-icon-font-family-aggregation, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-aggregation, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-aggregation, var(--ag-icon-font-color));\n}\n\n.ag-icon-aggregation::before {\n  content: var(--ag-icon-font-code-aggregation, "\\f101");\n  display: var(--ag-icon-font-display-aggregation, var(--ag-icon-font-display));\n}\n\n.ag-icon-aggregation::after {\n  background-image: var(--ag-icon-image-aggregation, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-aggregation, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-aggregation, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-arrows {\n  font-family: var(--ag-icon-font-family-arrows, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-arrows, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-arrows, var(--ag-icon-font-color));\n}\n\n.ag-icon-arrows::before {\n  content: var(--ag-icon-font-code-arrows, "\\f102");\n  display: var(--ag-icon-font-display-arrows, var(--ag-icon-font-display));\n}\n\n.ag-icon-arrows::after {\n  background-image: var(--ag-icon-image-arrows, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-arrows, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-arrows, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-asc {\n  font-family: var(--ag-icon-font-family-asc, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-asc, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-asc, var(--ag-icon-font-color));\n}\n\n.ag-icon-asc::before {\n  content: var(--ag-icon-font-code-asc, "\\f103");\n  display: var(--ag-icon-font-display-asc, var(--ag-icon-font-display));\n}\n\n.ag-icon-asc::after {\n  background-image: var(--ag-icon-image-asc, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-asc, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-asc, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-cancel {\n  font-family: var(--ag-icon-font-family-cancel, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-cancel, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-cancel, var(--ag-icon-font-color));\n}\n\n.ag-icon-cancel::before {\n  content: var(--ag-icon-font-code-cancel, "\\f104");\n  display: var(--ag-icon-font-display-cancel, var(--ag-icon-font-display));\n}\n\n.ag-icon-cancel::after {\n  background-image: var(--ag-icon-image-cancel, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-cancel, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-cancel, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-chart {\n  font-family: var(--ag-icon-font-family-chart, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-chart, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-chart, var(--ag-icon-font-color));\n}\n\n.ag-icon-chart::before {\n  content: var(--ag-icon-font-code-chart, "\\f105");\n  display: var(--ag-icon-font-display-chart, var(--ag-icon-font-display));\n}\n\n.ag-icon-chart::after {\n  background-image: var(--ag-icon-image-chart, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-chart, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-chart, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-checkbox-checked {\n  font-family: var(--ag-icon-font-family-checkbox-checked, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-checkbox-checked, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-checkbox-checked, var(--ag-icon-font-color));\n}\n\n.ag-icon-checkbox-checked::before {\n  content: var(--ag-icon-font-code-checkbox-checked, "\\f106");\n  display: var(--ag-icon-font-display-checkbox-checked, var(--ag-icon-font-display));\n}\n\n.ag-icon-checkbox-checked::after {\n  background-image: var(--ag-icon-image-checkbox-checked, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-checkbox-checked, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-checkbox-checked, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-checkbox-indeterminate {\n  font-family: var(--ag-icon-font-family-checkbox-indeterminate, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-checkbox-indeterminate, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-checkbox-indeterminate, var(--ag-icon-font-color));\n}\n\n.ag-icon-checkbox-indeterminate::before {\n  content: var(--ag-icon-font-code-checkbox-indeterminate, "\\f107");\n  display: var(--ag-icon-font-display-checkbox-indeterminate, var(--ag-icon-font-display));\n}\n\n.ag-icon-checkbox-indeterminate::after {\n  background-image: var(--ag-icon-image-checkbox-indeterminate, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-checkbox-indeterminate, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-checkbox-indeterminate, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-checkbox-unchecked {\n  font-family: var(--ag-icon-font-family-checkbox-unchecked, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-checkbox-unchecked, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-checkbox-unchecked, var(--ag-icon-font-color));\n}\n\n.ag-icon-checkbox-unchecked::before {\n  content: var(--ag-icon-font-code-checkbox-unchecked, "\\f108");\n  display: var(--ag-icon-font-display-checkbox-unchecked, var(--ag-icon-font-display));\n}\n\n.ag-icon-checkbox-unchecked::after {\n  background-image: var(--ag-icon-image-checkbox-unchecked, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-checkbox-unchecked, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-checkbox-unchecked, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-color-picker {\n  font-family: var(--ag-icon-font-family-color-picker, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-color-picker, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-color-picker, var(--ag-icon-font-color));\n}\n\n.ag-icon-color-picker::before {\n  content: var(--ag-icon-font-code-color-picker, "\\f109");\n  display: var(--ag-icon-font-display-color-picker, var(--ag-icon-font-display));\n}\n\n.ag-icon-color-picker::after {\n  background-image: var(--ag-icon-image-color-picker, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-color-picker, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-color-picker, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-columns {\n  font-family: var(--ag-icon-font-family-columns, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-columns, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-columns, var(--ag-icon-font-color));\n}\n\n.ag-icon-columns::before {\n  content: var(--ag-icon-font-code-columns, "\\f10a");\n  display: var(--ag-icon-font-display-columns, var(--ag-icon-font-display));\n}\n\n.ag-icon-columns::after {\n  background-image: var(--ag-icon-image-columns, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-columns, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-columns, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-contracted {\n  font-family: var(--ag-icon-font-family-contracted, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-contracted, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-contracted, var(--ag-icon-font-color));\n}\n\n.ag-icon-contracted::before {\n  content: var(--ag-icon-font-code-contracted, "\\f10b");\n  display: var(--ag-icon-font-display-contracted, var(--ag-icon-font-display));\n}\n\n.ag-icon-contracted::after {\n  background-image: var(--ag-icon-image-contracted, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-contracted, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-contracted, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-copy {\n  font-family: var(--ag-icon-font-family-copy, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-copy, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-copy, var(--ag-icon-font-color));\n}\n\n.ag-icon-copy::before {\n  content: var(--ag-icon-font-code-copy, "\\f10c");\n  display: var(--ag-icon-font-display-copy, var(--ag-icon-font-display));\n}\n\n.ag-icon-copy::after {\n  background-image: var(--ag-icon-image-copy, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-copy, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-copy, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-cross {\n  font-family: var(--ag-icon-font-family-cross, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-cross, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-cross, var(--ag-icon-font-color));\n}\n\n.ag-icon-cross::before {\n  content: var(--ag-icon-font-code-cross, "\\f10d");\n  display: var(--ag-icon-font-display-cross, var(--ag-icon-font-display));\n}\n\n.ag-icon-cross::after {\n  background-image: var(--ag-icon-image-cross, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-cross, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-cross, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-csv {\n  font-family: var(--ag-icon-font-family-csv, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-csv, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-csv, var(--ag-icon-font-color));\n}\n\n.ag-icon-csv::before {\n  content: var(--ag-icon-font-code-csv, "\\f10e");\n  display: var(--ag-icon-font-display-csv, var(--ag-icon-font-display));\n}\n\n.ag-icon-csv::after {\n  background-image: var(--ag-icon-image-csv, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-csv, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-csv, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-cut {\n  font-family: var(--ag-icon-font-family-cut, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-cut, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-cut, var(--ag-icon-font-color));\n}\n\n.ag-icon-cut::before {\n  content: var(--ag-icon-font-code-cut, "\\f10f");\n  display: var(--ag-icon-font-display-cut, var(--ag-icon-font-display));\n}\n\n.ag-icon-cut::after {\n  background-image: var(--ag-icon-image-cut, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-cut, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-cut, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-desc {\n  font-family: var(--ag-icon-font-family-desc, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-desc, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-desc, var(--ag-icon-font-color));\n}\n\n.ag-icon-desc::before {\n  content: var(--ag-icon-font-code-desc, "\\f110");\n  display: var(--ag-icon-font-display-desc, var(--ag-icon-font-display));\n}\n\n.ag-icon-desc::after {\n  background-image: var(--ag-icon-image-desc, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-desc, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-desc, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-excel {\n  font-family: var(--ag-icon-font-family-excel, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-excel, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-excel, var(--ag-icon-font-color));\n}\n\n.ag-icon-excel::before {\n  content: var(--ag-icon-font-code-excel, "\\f111");\n  display: var(--ag-icon-font-display-excel, var(--ag-icon-font-display));\n}\n\n.ag-icon-excel::after {\n  background-image: var(--ag-icon-image-excel, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-excel, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-excel, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-expanded {\n  font-family: var(--ag-icon-font-family-expanded, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-expanded, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-expanded, var(--ag-icon-font-color));\n}\n\n.ag-icon-expanded::before {\n  content: var(--ag-icon-font-code-expanded, "\\f112");\n  display: var(--ag-icon-font-display-expanded, var(--ag-icon-font-display));\n}\n\n.ag-icon-expanded::after {\n  background-image: var(--ag-icon-image-expanded, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-expanded, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-expanded, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-eye-slash {\n  font-family: var(--ag-icon-font-family-eye-slash, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-eye-slash, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-eye-slash, var(--ag-icon-font-color));\n}\n\n.ag-icon-eye-slash::before {\n  content: var(--ag-icon-font-code-eye-slash, "\\f113");\n  display: var(--ag-icon-font-display-eye-slash, var(--ag-icon-font-display));\n}\n\n.ag-icon-eye-slash::after {\n  background-image: var(--ag-icon-image-eye-slash, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-eye-slash, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-eye-slash, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-eye {\n  font-family: var(--ag-icon-font-family-eye, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-eye, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-eye, var(--ag-icon-font-color));\n}\n\n.ag-icon-eye::before {\n  content: var(--ag-icon-font-code-eye, "\\f114");\n  display: var(--ag-icon-font-display-eye, var(--ag-icon-font-display));\n}\n\n.ag-icon-eye::after {\n  background-image: var(--ag-icon-image-eye, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-eye, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-eye, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-filter {\n  font-family: var(--ag-icon-font-family-filter, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-filter, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-filter, var(--ag-icon-font-color));\n}\n\n.ag-icon-filter::before {\n  content: var(--ag-icon-font-code-filter, "\\f115");\n  display: var(--ag-icon-font-display-filter, var(--ag-icon-font-display));\n}\n\n.ag-icon-filter::after {\n  background-image: var(--ag-icon-image-filter, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-filter, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-filter, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-first {\n  font-family: var(--ag-icon-font-family-first, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-first, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-first, var(--ag-icon-font-color));\n}\n\n.ag-icon-first::before {\n  content: var(--ag-icon-font-code-first, "\\f116");\n  display: var(--ag-icon-font-display-first, var(--ag-icon-font-display));\n}\n\n.ag-icon-first::after {\n  background-image: var(--ag-icon-image-first, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-first, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-first, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-grip {\n  font-family: var(--ag-icon-font-family-grip, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-grip, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-grip, var(--ag-icon-font-color));\n}\n\n.ag-icon-grip::before {\n  content: var(--ag-icon-font-code-grip, "\\f117");\n  display: var(--ag-icon-font-display-grip, var(--ag-icon-font-display));\n}\n\n.ag-icon-grip::after {\n  background-image: var(--ag-icon-image-grip, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-grip, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-grip, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-group {\n  font-family: var(--ag-icon-font-family-group, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-group, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-group, var(--ag-icon-font-color));\n}\n\n.ag-icon-group::before {\n  content: var(--ag-icon-font-code-group, "\\f118");\n  display: var(--ag-icon-font-display-group, var(--ag-icon-font-display));\n}\n\n.ag-icon-group::after {\n  background-image: var(--ag-icon-image-group, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-group, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-group, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-last {\n  font-family: var(--ag-icon-font-family-last, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-last, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-last, var(--ag-icon-font-color));\n}\n\n.ag-icon-last::before {\n  content: var(--ag-icon-font-code-last, "\\f119");\n  display: var(--ag-icon-font-display-last, var(--ag-icon-font-display));\n}\n\n.ag-icon-last::after {\n  background-image: var(--ag-icon-image-last, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-last, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-last, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-left {\n  font-family: var(--ag-icon-font-family-left, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-left, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-left, var(--ag-icon-font-color));\n}\n\n.ag-icon-left::before {\n  content: var(--ag-icon-font-code-left, "\\f11a");\n  display: var(--ag-icon-font-display-left, var(--ag-icon-font-display));\n}\n\n.ag-icon-left::after {\n  background-image: var(--ag-icon-image-left, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-left, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-left, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-linked {\n  font-family: var(--ag-icon-font-family-linked, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-linked, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-linked, var(--ag-icon-font-color));\n}\n\n.ag-icon-linked::before {\n  content: var(--ag-icon-font-code-linked, "\\f11b");\n  display: var(--ag-icon-font-display-linked, var(--ag-icon-font-display));\n}\n\n.ag-icon-linked::after {\n  background-image: var(--ag-icon-image-linked, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-linked, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-linked, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-loading {\n  font-family: var(--ag-icon-font-family-loading, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-loading, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-loading, var(--ag-icon-font-color));\n}\n\n.ag-icon-loading::before {\n  content: var(--ag-icon-font-code-loading, "\\f11c");\n  display: var(--ag-icon-font-display-loading, var(--ag-icon-font-display));\n}\n\n.ag-icon-loading::after {\n  background-image: var(--ag-icon-image-loading, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-loading, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-loading, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-maximize {\n  font-family: var(--ag-icon-font-family-maximize, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-maximize, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-maximize, var(--ag-icon-font-color));\n}\n\n.ag-icon-maximize::before {\n  content: var(--ag-icon-font-code-maximize, "\\f11d");\n  display: var(--ag-icon-font-display-maximize, var(--ag-icon-font-display));\n}\n\n.ag-icon-maximize::after {\n  background-image: var(--ag-icon-image-maximize, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-maximize, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-maximize, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-menu {\n  font-family: var(--ag-icon-font-family-menu, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-menu, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-menu, var(--ag-icon-font-color));\n}\n\n.ag-icon-menu::before {\n  content: var(--ag-icon-font-code-menu, "\\f11e");\n  display: var(--ag-icon-font-display-menu, var(--ag-icon-font-display));\n}\n\n.ag-icon-menu::after {\n  background-image: var(--ag-icon-image-menu, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-menu, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-menu, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-minimize {\n  font-family: var(--ag-icon-font-family-minimize, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-minimize, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-minimize, var(--ag-icon-font-color));\n}\n\n.ag-icon-minimize::before {\n  content: var(--ag-icon-font-code-minimize, "\\f11f");\n  display: var(--ag-icon-font-display-minimize, var(--ag-icon-font-display));\n}\n\n.ag-icon-minimize::after {\n  background-image: var(--ag-icon-image-minimize, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-minimize, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-minimize, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-next {\n  font-family: var(--ag-icon-font-family-next, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-next, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-next, var(--ag-icon-font-color));\n}\n\n.ag-icon-next::before {\n  content: var(--ag-icon-font-code-next, "\\f120");\n  display: var(--ag-icon-font-display-next, var(--ag-icon-font-display));\n}\n\n.ag-icon-next::after {\n  background-image: var(--ag-icon-image-next, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-next, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-next, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-none {\n  font-family: var(--ag-icon-font-family-none, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-none, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-none, var(--ag-icon-font-color));\n}\n\n.ag-icon-none::before {\n  content: var(--ag-icon-font-code-none, "\\f121");\n  display: var(--ag-icon-font-display-none, var(--ag-icon-font-display));\n}\n\n.ag-icon-none::after {\n  background-image: var(--ag-icon-image-none, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-none, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-none, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-not-allowed {\n  font-family: var(--ag-icon-font-family-not-allowed, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-not-allowed, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-not-allowed, var(--ag-icon-font-color));\n}\n\n.ag-icon-not-allowed::before {\n  content: var(--ag-icon-font-code-not-allowed, "\\f122");\n  display: var(--ag-icon-font-display-not-allowed, var(--ag-icon-font-display));\n}\n\n.ag-icon-not-allowed::after {\n  background-image: var(--ag-icon-image-not-allowed, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-not-allowed, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-not-allowed, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-paste {\n  font-family: var(--ag-icon-font-family-paste, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-paste, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-paste, var(--ag-icon-font-color));\n}\n\n.ag-icon-paste::before {\n  content: var(--ag-icon-font-code-paste, "\\f123");\n  display: var(--ag-icon-font-display-paste, var(--ag-icon-font-display));\n}\n\n.ag-icon-paste::after {\n  background-image: var(--ag-icon-image-paste, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-paste, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-paste, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-pin {\n  font-family: var(--ag-icon-font-family-pin, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-pin, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-pin, var(--ag-icon-font-color));\n}\n\n.ag-icon-pin::before {\n  content: var(--ag-icon-font-code-pin, "\\f124");\n  display: var(--ag-icon-font-display-pin, var(--ag-icon-font-display));\n}\n\n.ag-icon-pin::after {\n  background-image: var(--ag-icon-image-pin, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-pin, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-pin, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-pivot {\n  font-family: var(--ag-icon-font-family-pivot, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-pivot, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-pivot, var(--ag-icon-font-color));\n}\n\n.ag-icon-pivot::before {\n  content: var(--ag-icon-font-code-pivot, "\\f125");\n  display: var(--ag-icon-font-display-pivot, var(--ag-icon-font-display));\n}\n\n.ag-icon-pivot::after {\n  background-image: var(--ag-icon-image-pivot, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-pivot, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-pivot, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-previous {\n  font-family: var(--ag-icon-font-family-previous, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-previous, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-previous, var(--ag-icon-font-color));\n}\n\n.ag-icon-previous::before {\n  content: var(--ag-icon-font-code-previous, "\\f126");\n  display: var(--ag-icon-font-display-previous, var(--ag-icon-font-display));\n}\n\n.ag-icon-previous::after {\n  background-image: var(--ag-icon-image-previous, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-previous, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-previous, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-radio-button-off {\n  font-family: var(--ag-icon-font-family-radio-button-off, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-radio-button-off, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-radio-button-off, var(--ag-icon-font-color));\n}\n\n.ag-icon-radio-button-off::before {\n  content: var(--ag-icon-font-code-radio-button-off, "\\f127");\n  display: var(--ag-icon-font-display-radio-button-off, var(--ag-icon-font-display));\n}\n\n.ag-icon-radio-button-off::after {\n  background-image: var(--ag-icon-image-radio-button-off, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-radio-button-off, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-radio-button-off, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-radio-button-on {\n  font-family: var(--ag-icon-font-family-radio-button-on, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-radio-button-on, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-radio-button-on, var(--ag-icon-font-color));\n}\n\n.ag-icon-radio-button-on::before {\n  content: var(--ag-icon-font-code-radio-button-on, "\\f128");\n  display: var(--ag-icon-font-display-radio-button-on, var(--ag-icon-font-display));\n}\n\n.ag-icon-radio-button-on::after {\n  background-image: var(--ag-icon-image-radio-button-on, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-radio-button-on, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-radio-button-on, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-right {\n  font-family: var(--ag-icon-font-family-right, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-right, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-right, var(--ag-icon-font-color));\n}\n\n.ag-icon-right::before {\n  content: var(--ag-icon-font-code-right, "\\f129");\n  display: var(--ag-icon-font-display-right, var(--ag-icon-font-display));\n}\n\n.ag-icon-right::after {\n  background-image: var(--ag-icon-image-right, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-right, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-right, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-save {\n  font-family: var(--ag-icon-font-family-save, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-save, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-save, var(--ag-icon-font-color));\n}\n\n.ag-icon-save::before {\n  content: var(--ag-icon-font-code-save, "\\f12a");\n  display: var(--ag-icon-font-display-save, var(--ag-icon-font-display));\n}\n\n.ag-icon-save::after {\n  background-image: var(--ag-icon-image-save, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-save, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-save, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-small-down {\n  font-family: var(--ag-icon-font-family-small-down, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-small-down, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-small-down, var(--ag-icon-font-color));\n}\n\n.ag-icon-small-down::before {\n  content: var(--ag-icon-font-code-small-down, "\\f12b");\n  display: var(--ag-icon-font-display-small-down, var(--ag-icon-font-display));\n}\n\n.ag-icon-small-down::after {\n  background-image: var(--ag-icon-image-small-down, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-small-down, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-small-down, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-small-left {\n  font-family: var(--ag-icon-font-family-small-left, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-small-left, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-small-left, var(--ag-icon-font-color));\n}\n\n.ag-icon-small-left::before {\n  content: var(--ag-icon-font-code-small-left, "\\f12c");\n  display: var(--ag-icon-font-display-small-left, var(--ag-icon-font-display));\n}\n\n.ag-icon-small-left::after {\n  background-image: var(--ag-icon-image-small-left, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-small-left, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-small-left, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-small-right {\n  font-family: var(--ag-icon-font-family-small-right, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-small-right, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-small-right, var(--ag-icon-font-color));\n}\n\n.ag-icon-small-right::before {\n  content: var(--ag-icon-font-code-small-right, "\\f12d");\n  display: var(--ag-icon-font-display-small-right, var(--ag-icon-font-display));\n}\n\n.ag-icon-small-right::after {\n  background-image: var(--ag-icon-image-small-right, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-small-right, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-small-right, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-small-up {\n  font-family: var(--ag-icon-font-family-small-up, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-small-up, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-small-up, var(--ag-icon-font-color));\n}\n\n.ag-icon-small-up::before {\n  content: var(--ag-icon-font-code-small-up, "\\f12e");\n  display: var(--ag-icon-font-display-small-up, var(--ag-icon-font-display));\n}\n\n.ag-icon-small-up::after {\n  background-image: var(--ag-icon-image-small-up, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-small-up, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-small-up, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-tick {\n  font-family: var(--ag-icon-font-family-tick, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-tick, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-tick, var(--ag-icon-font-color));\n}\n\n.ag-icon-tick::before {\n  content: var(--ag-icon-font-code-tick, "\\f12f");\n  display: var(--ag-icon-font-display-tick, var(--ag-icon-font-display));\n}\n\n.ag-icon-tick::after {\n  background-image: var(--ag-icon-image-tick, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-tick, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-tick, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-tree-closed {\n  font-family: var(--ag-icon-font-family-tree-closed, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-tree-closed, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-tree-closed, var(--ag-icon-font-color));\n}\n\n.ag-icon-tree-closed::before {\n  content: var(--ag-icon-font-code-tree-closed, "\\f130");\n  display: var(--ag-icon-font-display-tree-closed, var(--ag-icon-font-display));\n}\n\n.ag-icon-tree-closed::after {\n  background-image: var(--ag-icon-image-tree-closed, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-tree-closed, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-tree-closed, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-tree-indeterminate {\n  font-family: var(--ag-icon-font-family-tree-indeterminate, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-tree-indeterminate, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-tree-indeterminate, var(--ag-icon-font-color));\n}\n\n.ag-icon-tree-indeterminate::before {\n  content: var(--ag-icon-font-code-tree-indeterminate, "\\f131");\n  display: var(--ag-icon-font-display-tree-indeterminate, var(--ag-icon-font-display));\n}\n\n.ag-icon-tree-indeterminate::after {\n  background-image: var(--ag-icon-image-tree-indeterminate, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-tree-indeterminate, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-tree-indeterminate, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-tree-open {\n  font-family: var(--ag-icon-font-family-tree-open, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-tree-open, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-tree-open, var(--ag-icon-font-color));\n}\n\n.ag-icon-tree-open::before {\n  content: var(--ag-icon-font-code-tree-open, "\\f132");\n  display: var(--ag-icon-font-display-tree-open, var(--ag-icon-font-display));\n}\n\n.ag-icon-tree-open::after {\n  background-image: var(--ag-icon-image-tree-open, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-tree-open, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-tree-open, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-unlinked {\n  font-family: var(--ag-icon-font-family-unlinked, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-unlinked, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-unlinked, var(--ag-icon-font-color));\n}\n\n.ag-icon-unlinked::before {\n  content: var(--ag-icon-font-code-unlinked, "\\f133");\n  display: var(--ag-icon-font-display-unlinked, var(--ag-icon-font-display));\n}\n\n.ag-icon-unlinked::after {\n  background-image: var(--ag-icon-image-unlinked, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-unlinked, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-unlinked, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-up {\n  font-family: var(--ag-icon-font-family-up, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-up, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-up, var(--ag-icon-font-color));\n}\n\n.ag-icon-up::before {\n  content: var(--ag-icon-font-code-up, "\\f134");\n  display: var(--ag-icon-font-display-up, var(--ag-icon-font-display));\n}\n\n.ag-icon-up::after {\n  background-image: var(--ag-icon-image-up, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-up, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-up, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-down {\n  font-family: var(--ag-icon-font-family-down, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-down, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-down, var(--ag-icon-font-color));\n}\n\n.ag-icon-down::before {\n  content: var(--ag-icon-font-code-down, "\\f135");\n  display: var(--ag-icon-font-display-down, var(--ag-icon-font-display));\n}\n\n.ag-icon-down::after {\n  background-image: var(--ag-icon-image-down, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-down, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-down, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-plus {\n  font-family: var(--ag-icon-font-family-plus, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-plus, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-plus, var(--ag-icon-font-color));\n}\n\n.ag-icon-plus::before {\n  content: var(--ag-icon-font-code-plus, "\\f136");\n  display: var(--ag-icon-font-display-plus, var(--ag-icon-font-display));\n}\n\n.ag-icon-plus::after {\n  background-image: var(--ag-icon-image-plus, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-plus, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-plus, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-minus {\n  font-family: var(--ag-icon-font-family-minus, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-minus, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-minus, var(--ag-icon-font-color));\n}\n\n.ag-icon-minus::before {\n  content: var(--ag-icon-font-code-minus, "\\f137");\n  display: var(--ag-icon-font-display-minus, var(--ag-icon-font-display));\n}\n\n.ag-icon-minus::after {\n  background-image: var(--ag-icon-image-minus, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-minus, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-minus, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-menu-alt {\n  font-family: var(--ag-icon-font-family-menu-alt, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-menu-alt, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-menu-alt, var(--ag-icon-font-color));\n}\n\n.ag-icon-menu-alt::before {\n  content: var(--ag-icon-font-code-menu-alt, "\\f138");\n  display: var(--ag-icon-font-display-menu-alt, var(--ag-icon-font-display));\n}\n\n.ag-icon-menu-alt::after {\n  background-image: var(--ag-icon-image-menu-alt, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-menu-alt, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-menu-alt, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-settings {\n  font-family: var(--ag-icon-font-family-settings, var(--ag-icon-font-family));\n  font-weight: var(--ag-icon-font-weight-settings, var(--ag-icon-font-weight));\n  color: var(--ag-icon-font-color-settings, var(--ag-icon-font-color));\n}\n\n.ag-icon-settings::before {\n  content: var(--ag-icon-font-code-settings, "\\f139");\n  display: var(--ag-icon-font-display-settings, var(--ag-icon-font-display));\n}\n\n.ag-icon-settings::after {\n  background-image: var(--ag-icon-image-settings, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-settings, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-settings, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-icon-row-drag::before {\n  content: var(--ag-icon-font-code-grip);\n}\n\n.ag-left-arrow::before {\n  content: var(--ag-icon-font-code-left);\n}\n\n.ag-right-arrow::before {\n  content: var(--ag-icon-font-code-right);\n}\n\n[class*=ag-theme-] {\n  --ag-foreground-color: #000;\n  --ag-data-color: var(--ag-foreground-color);\n  --ag-secondary-foreground-color: var(--ag-foreground-color);\n  --ag-header-foreground-color: var(--ag-secondary-foreground-color);\n  --ag-disabled-foreground-color: rgba(0, 0, 0, 0.5);\n  --ag-background-color: #fff;\n  --ag-header-background-color: transparent;\n  --ag-tooltip-background-color: transparent;\n  --ag-subheader-background-color: transparent;\n  --ag-subheader-toolbar-background-color: transparent;\n  --ag-control-panel-background-color: transparent;\n  --ag-side-button-selected-background-color: var(--ag-control-panel-background-color);\n  --ag-selected-row-background-color: #bbb;\n  --ag-odd-row-background-color: var(--ag-background-color);\n  --ag-modal-overlay-background-color: rgba(255, 255, 255, 0.66);\n  --ag-menu-background-color: var(--ag-background-color);\n  --ag-menu-border-color: var(--ag-border-color);\n  --ag-panel-background-color: var(--ag-background-color);\n  --ag-panel-border-color: var(--ag-border-color);\n  --ag-row-hover-color: transparent;\n  --ag-column-hover-color: transparent;\n  --ag-range-selection-border-color: var(--ag-foreground-color);\n  --ag-range-selection-border-style: solid;\n  --ag-range-selection-background-color: rgba(0, 0, 0, 0.2);\n  --ag-range-selection-background-color-2: var(--ag-range-selection-background-color);\n  --ag-range-selection-background-color-3: var(--ag-range-selection-background-color);\n  --ag-range-selection-background-color-4: var(--ag-range-selection-background-color);\n  --ag-range-selection-highlight-color: var(--ag-range-selection-border-color);\n  --ag-selected-tab-underline-color: var(--ag-range-selection-border-color);\n  --ag-selected-tab-underline-width: 0;\n  --ag-selected-tab-underline-transition-speed: 0s;\n  --ag-range-selection-chart-category-background-color: rgba(0, 255, 132, 0.1);\n  --ag-range-selection-chart-background-color: rgba(0, 88, 255, 0.1);\n  --ag-header-cell-hover-background-color: transparent;\n  --ag-header-cell-moving-background-color: var(--ag-background-color);\n  --ag-value-change-value-highlight-background-color: rgba(22, 160, 133, 0.5);\n  --ag-value-change-delta-up-color: #43a047;\n  --ag-value-change-delta-down-color: #e53935;\n  --ag-row-loading-skeleton-effect-color: rgba(66, 66, 66, 0.2);\n  --ag-chip-background-color: transparent;\n  --ag-chip-border-color: var(--ag-chip-background-color);\n  --ag-borders: solid 1px;\n  --ag-border-color: rgba(0, 0, 0, 0.25);\n  --ag-borders-critical: var(--ag-borders);\n  --ag-borders-secondary: var(--ag-borders);\n  --ag-secondary-border-color: var(--ag-border-color);\n  --ag-row-border-style: solid;\n  --ag-row-border-color: var(--ag-secondary-border-color);\n  --ag-row-border-width: 1px;\n  --ag-cell-horizontal-border: solid transparent;\n  --ag-borders-input: var(--ag-borders-secondary);\n  --ag-input-border-color: var(--ag-secondary-border-color);\n  --ag-borders-input-invalid: solid 2px;\n  --ag-input-border-color-invalid: var(--ag-invalid-color);\n  --ag-borders-side-button: var(--ag-borders);\n  --ag-border-radius: 0px;\n  --ag-wrapper-border-radius: var(--ag-border-radius);\n  --ag-row-border-color: var(--ag-secondary-border-color);\n  --ag-header-column-separator-display: none;\n  --ag-header-column-separator-height: 100%;\n  --ag-header-column-separator-width: 1px;\n  --ag-header-column-separator-color: var(--ag-secondary-border-color);\n  --ag-header-column-resize-handle-display: none;\n  --ag-header-column-resize-handle-height: 50%;\n  --ag-header-column-resize-handle-width: 1px;\n  --ag-header-column-resize-handle-color: var(--ag-secondary-border-color);\n  --ag-invalid-color: red;\n  --ag-input-disabled-border-color: var(--ag-input-border-color);\n  --ag-input-disabled-background-color: transparent;\n  --ag-checkbox-background-color: transparent;\n  --ag-checkbox-border-radius: var(--ag-border-radius);\n  --ag-checkbox-checked-color: var(--ag-foreground-color);\n  --ag-checkbox-unchecked-color: var(--ag-foreground-color);\n  --ag-checkbox-indeterminate-color: var(--ag-checkbox-unchecked-color);\n  --ag-toggle-button-off-border-color: var(--ag-checkbox-unchecked-color);\n  --ag-toggle-button-off-background-color: var(--ag-checkbox-unchecked-color);\n  --ag-toggle-button-on-border-color: var(--ag-checkbox-checked-color);\n  --ag-toggle-button-on-background-color: var(--ag-checkbox-checked-color);\n  --ag-toggle-button-switch-background-color: var(--ag-background-color);\n  --ag-toggle-button-switch-border-color: var(--ag-toggle-button-off-border-color);\n  --ag-toggle-button-border-width: 1px;\n  --ag-toggle-button-height: var(--ag-icon-size);\n  --ag-toggle-button-width: calc(var(--ag-toggle-button-height) * 2);\n  --ag-input-focus-box-shadow: none;\n  --ag-input-focus-border-color: none;\n  --ag-minichart-selected-chart-color: var(--ag-checkbox-checked-color);\n  --ag-minichart-selected-page-color: var(--ag-checkbox-checked-color);\n  --ag-grid-size: 4px;\n  --ag-icon-size: 12px;\n  --ag-icon-font-weight: normal;\n  --ag-icon-font-color: var(--ag-foreground-color);\n  --ag-icon-image-display: block;\n  --ag-widget-container-horizontal-padding: calc(var(--ag-grid-size) * 1.5);\n  --ag-widget-container-vertical-padding: calc(var(--ag-grid-size) * 1.5);\n  --ag-widget-horizontal-spacing: calc(var(--ag-grid-size) * 2);\n  --ag-widget-vertical-spacing: var(--ag-grid-size);\n  --ag-cell-horizontal-padding: calc(var(--ag-grid-size) * 3);\n  --ag-cell-widget-spacing: var(--ag-cell-horizontal-padding);\n  --ag-row-height: calc(var(--ag-grid-size) * 6 + 1px);\n  --ag-header-height: var(--ag-row-height);\n  --ag-list-item-height: calc(var(--ag-grid-size) * 5);\n  --ag-column-select-indent-size: calc(var(--ag-grid-size) + var(--ag-icon-size));\n  --ag-set-filter-indent-size: calc(var(--ag-grid-size) + var(--ag-icon-size));\n  --ag-advanced-filter-builder-indent-size: calc(var(--ag-grid-size) * 2 + var(--ag-icon-size));\n  --ag-row-group-indent-size: calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size));\n  --ag-filter-tool-panel-group-indent: 16px;\n  --ag-tab-min-width: 220px;\n  --ag-chart-menu-panel-width: var(--ag-tab-min-width);\n  --ag-menu-min-width: 181px;\n  --ag-side-bar-panel-width: 200px;\n  --ag-font-family: "Helvetica Neue", sans-serif;\n  --ag-font-size: 14px;\n  --ag-card-radius: var(--ag-border-radius);\n  --ag-card-shadow: none;\n  --ag-popup-shadow: 5px 5px 10px rgba(0, 0, 0, 0.3);\n  --ag-advanced-filter-join-pill-color: #f08e8d;\n  --ag-advanced-filter-column-pill-color: #a6e194;\n  --ag-advanced-filter-option-pill-color: #f3c08b;\n  --ag-advanced-filter-value-pill-color: #85c0e4;\n}\n\n.ag-root-wrapper,\n.ag-sticky-top,\n.ag-sticky-bottom,\n.ag-dnd-ghost {\n  background-color: var(--ag-background-color);\n}\n\n.ag-root-wrapper,\n.ag-popup {\n  --ag-indentation-level: 0;\n}\n\n[class*=ag-theme-] {\n  -webkit-font-smoothing: antialiased;\n  font-family: var(--ag-font-family);\n  font-size: var(--ag-font-size);\n  line-height: normal;\n  color: var(--ag-foreground-color);\n}\n\nag-grid,\nag-grid-angular,\nag-grid-ng2,\nag-grid-polymer,\nag-grid-aurelia {\n  display: block;\n}\n\n.ag-aria-description-container {\n  z-index: 9999;\n  border: 0px;\n  clip: rect(1px, 1px, 1px, 1px);\n  height: 1px;\n  width: 1px;\n  position: absolute;\n  overflow: hidden;\n  padding: 0px;\n  white-space: nowrap;\n}\n\n.ag-hidden {\n  display: none !important;\n}\n\n.ag-invisible {\n  visibility: hidden !important;\n}\n\n.ag-drag-handle {\n  cursor: grab;\n}\n\n.ag-column-drop-wrapper {\n  display: flex;\n}\n\n.ag-column-drop-horizontal-half-width {\n  display: inline-block;\n  width: 50% !important;\n}\n\n.ag-unselectable {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.ag-selectable {\n  -moz-user-select: text;\n  -webkit-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n\n.ag-tab {\n  position: relative;\n}\n\n.ag-tab-guard {\n  position: absolute;\n  width: 0;\n  height: 0;\n  display: block;\n}\n\n.ag-virtual-list-viewport .ag-tab-guard {\n  position: sticky;\n}\n\n.ag-tab-guard-top {\n  top: 1px;\n}\n\n.ag-tab-guard-bottom {\n  bottom: 1px;\n}\n\n.ag-select-agg-func-popup {\n  position: absolute;\n}\n\n.ag-input-wrapper,\n.ag-picker-field-wrapper {\n  display: flex;\n  flex: 1 1 auto;\n  align-items: center;\n  line-height: normal;\n  position: relative;\n}\n\n.ag-shake-left-to-right {\n  animation-direction: alternate;\n  animation-duration: 0.2s;\n  animation-iteration-count: infinite;\n  animation-name: ag-shake-left-to-right;\n}\n\n@keyframes ag-shake-left-to-right {\n  from {\n    padding-left: 6px;\n    padding-right: 2px;\n  }\n  to {\n    padding-left: 2px;\n    padding-right: 6px;\n  }\n}\n.ag-root-wrapper {\n  cursor: default;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: normal;\n}\n.ag-root-wrapper.ag-layout-normal {\n  height: 100%;\n}\n\n.ag-watermark {\n  position: absolute;\n  bottom: 20px;\n  right: 25px;\n  opacity: 0.7;\n  transition: opacity 1s ease-out 3s;\n  color: #9b9b9b;\n}\n.ag-watermark::before {\n  content: "";\n  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjA5IiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgMjA5IDM2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMTkyLjk5MyAyMy42NTgyVjE1LjcxMTdIMTc5LjQ1MkwxNzEuNTA1IDIzLjY1ODJIMTkyLjk5M1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTIwOC4yNSAzLjk1MDgxSDE5MS4yNzZMMTgzLjI2NiAxMS44OTczSDIwOC4yNVYzLjk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMTYzLjYyMiAzMS42MDQ4TDE2Ny42OTEgMjcuNTM2MUgxODEuNDIzVjM1LjQ4MjdIMTYzLjYyMlYzMS42MDQ4WiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMTY2LjYxIDE5Ljc4MDNIMTc1LjM4M0wxODMuMzkzIDExLjgzMzdIMTY2LjYxVjE5Ljc4MDNaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0xNTcuMDExIDMxLjYwNDdIMTYzLjYyMkwxNzEuNTA1IDIzLjY1ODJIMTU3LjAxMVYzMS42MDQ3WiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMTkxLjI3NiAzLjk1MDgxTDE4Ny4yMDggOC4wMTk0MUgxNjEuMjdWMC4wNzI4NzZIMTkxLjI3NlYzLjk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjAuODM5MSAzMC4yMDYxSDguMzc4OTJMNi4yMTc0NSAzNS41NDYySDAuNzUwMjQ0TDEyLjI1NjggOC41OTE1NUgxNy4wMjQ3TDI4LjUzMTMgMzUuNTQ2MkgyMy4wMDA1TDIwLjgzOTEgMzAuMjA2MVpNMTkuMTIyNyAyNS45NDY4TDE0LjYwOSAxNC45NDg4TDEwLjA5NTQgMjUuOTQ2OEgxOS4xMjI3WiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMTA0LjQzNyAxOC41MDg5QzEwNi4wMjYgMTYuMTU2NyAxMTAuMDMxIDE1LjkwMjQgMTExLjY4NCAxNS45MDI0VjIwLjQ3OTZDMTA5LjY1IDIwLjQ3OTYgMTA3LjYxNSAyMC41NDMyIDEwNi40MDcgMjEuNDMzMkMxMDUuMiAyMi4zMjMyIDEwNC41NjQgMjMuNTMxMSAxMDQuNTY0IDI0Ljk5MzJWMzUuNTQ2Mkg5OS42MDUxVjE1LjkwMjRIMTA0LjM3M0wxMDQuNDM3IDE4LjUwODlaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0xMTkuMzc2IDE1LjkwMjRIMTE0LjQxOFYzNS41NDYySDExOS4zNzZWMTUuOTAyNFoiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTExOS4zNzYgNy4xMjkzOUgxMTQuNDE4VjEyLjk3OEgxMTkuMzc2VjcuMTI5MzlaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0xNDMuOTc5IDcuMTI5MzlWMzUuNTQ2MkgxMzkuMjExTDEzOS4wODQgMzIuNTU4M0MxMzguMzg0IDMzLjU3NTUgMTM3LjQ5NCAzNC40MDE5IDEzNi40MTQgMzUuMDM3NkMxMzUuMzMzIDM1LjYwOTggMTMzLjk5OCAzNS45Mjc2IDEzMi40NzIgMzUuOTI3NkMxMzEuMTM3IDM1LjkyNzYgMTI5Ljg2NiAzNS42NzMzIDEyOC43ODUgMzUuMjI4M0MxMjcuNjQxIDM0LjcxOTcgMTI2LjYyMyAzNC4wODQgMTI1Ljc5NyAzMy4xOTRDMTI0Ljk3MSAzMi4zMDQgMTI0LjI3MSAzMS4yMjMzIDEyMy44MjYgMzAuMDE1NEMxMjMuMzE4IDI4LjgwNzUgMTIzLjEyNyAyNy40MDkgMTIzLjEyNyAyNS44ODMyQzEyMy4xMjcgMjQuMzU3NSAxMjMuMzgxIDIyLjk1ODkgMTIzLjgyNiAyMS42ODc0QzEyNC4zMzUgMjAuNDE2IDEyNC45NzEgMTkuMzM1MyAxMjUuNzk3IDE4LjQ0NTNDMTI2LjYyMyAxNy41NTUyIDEyNy42NDEgMTYuODU2IDEyOC43ODUgMTYuMzQ3NEMxMjkuOTI5IDE1LjgzODggMTMxLjEzNyAxNS41ODQ1IDEzMi40NzIgMTUuNTg0NUMxMzMuOTk4IDE1LjU4NDUgMTM1LjI2OSAxNS44Mzg4IDEzNi4zNSAxNi40MTA5QzEzNy40MzEgMTYuOTgzMSAxMzguMzIxIDE3Ljc0NTkgMTM5LjAyIDE4LjgyNjdWNy4xOTI5NUgxNDMuOTc5VjcuMTI5MzlaTTEzMy41NTMgMzEuNjY4M0MxMzUuMjA2IDMxLjY2ODMgMTM2LjQ3NyAzMS4wOTYyIDEzNy40OTQgMzAuMDE1NEMxMzguNTExIDI4LjkzNDcgMTM5LjAyIDI3LjQ3MjUgMTM5LjAyIDI1LjY5MjVDMTM5LjAyIDIzLjkxMjUgMTM4LjUxMSAyMi41MTM5IDEzNy40OTQgMjEuMzY5NkMxMzYuNDc3IDIwLjI4ODggMTM1LjIwNiAxOS43MTY3IDEzMy41NTMgMTkuNzE2N0MxMzEuOTYzIDE5LjcxNjcgMTMwLjYyOCAyMC4yODg4IDEyOS42NzUgMjEuMzY5NkMxMjguNjU4IDIyLjQ1MDMgMTI4LjE0OSAyMy45MTI1IDEyOC4xNDkgMjUuNjkyNUMxMjguMTQ5IDI3LjQ3MjUgMTI4LjY1OCAyOC44NzExIDEyOS42NzUgMjkuOTUxOEMxMzAuNjkyIDMxLjA5NjEgMTMxLjk2MyAzMS42NjgzIDEzMy41NTMgMzEuNjY4M1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTU3LjIwMjQgMjAuMzUyNUg0NC45MzNWMjQuNjExOEg1MS45MjU5QzUxLjczNTIgMjYuNzczMyA1MC45MDg4IDI4LjQyNjEgNDkuNTEwMiAyOS43NjExQzQ4LjExMTYgMzEuMDMyNiA0Ni4zMzE1IDMxLjY2ODMgNDQuMDQyOSAzMS42NjgzQzQyLjc3MTUgMzEuNjY4MyA0MS41NjM2IDMxLjQxNCA0MC41NDY1IDMwLjk2OUMzOS40NjU3IDMwLjUyNCAzOC41NzU3IDI5Ljg4ODMgMzcuODEyOSAyOC45OTgzQzM3LjA1IDI4LjE3MTggMzYuNDc3OCAyNy4xNTQ3IDM2LjAzMjggMjUuOTQ2OEMzNS41ODc4IDI0LjczODkgMzUuMzk3MSAyMy40Njc1IDM1LjM5NzEgMjIuMDA1M0MzNS4zOTcxIDIwLjU0MzIgMzUuNTg3OCAxOS4yNzE3IDM2LjAzMjggMTguMDYzOEMzNi40MTQzIDE2Ljg1NiAzNy4wNSAxNS45MDI0IDM3LjgxMjkgMTUuMDEyNEMzOC41NzU3IDE0LjE4NTkgMzkuNDY1NyAxMy41NTAyIDQwLjU0NjUgMTMuMDQxNkM0MS42MjcyIDEyLjU5NjYgNDIuNzcxNSAxMi4zNDIzIDQ0LjEwNjUgMTIuMzQyM0M0Ni43NzY2IDEyLjM0MjMgNDguODEwOSAxMi45NzggNTAuMjA5NSAxNC4yNDk1TDUzLjUxNTIgMTAuOTQzOEM1MS4wMzU5IDkuMDM2NTkgNDcuODU3MyA4LjAxOTQxIDQ0LjEwNjUgOC4wMTk0MUM0Mi4wMDg2IDguMDE5NDEgNDAuMTAxNSA4LjMzNzI5IDM4LjM4NSA5LjAzNjU5QzM2LjY2ODYgOS43MzU4OCAzNS4yMDY0IDEwLjYyNTkgMzMuOTk4NSAxMS44MzM3QzMyLjc5MDYgMTMuMDQxNiAzMS44MzcxIDE0LjUwMzggMzEuMjAxNCAxNi4yMjAzQzMwLjU2NTYgMTcuOTM2NyAzMC4yNDc4IDE5Ljg0MzggMzAuMjQ3OCAyMS44NzgyQzMwLjI0NzggMjMuOTEyNSAzMC41NjU2IDI1LjgxOTcgMzEuMjY0OSAyNy41MzYxQzMxLjk2NDIgMjkuMjUyNiAzMi44NTQyIDMwLjcxNDcgMzQuMDYyMSAzMS45MjI2QzM1LjI3IDMzLjEzMDUgMzYuNzMyMSAzNC4wODQxIDM4LjQ0ODYgMzQuNzE5OEM0MC4xNjUgMzUuNDE5MSA0Mi4wNzIyIDM1LjczNyA0NC4xMDY1IDM1LjczN0M0Ni4xNDA4IDM1LjczNyA0Ny45ODQ0IDM1LjQxOTEgNDkuNjM3MyAzNC43MTk4QzUxLjI5MDIgMzQuMDIwNSA1Mi42ODg4IDMzLjEzMDUgNTMuODMzMSAzMS45MjI2QzU0Ljk3NzQgMzAuNzE0NyA1NS44Njc0IDI5LjI1MjYgNTYuNTAzMSAyNy41MzYxQzU3LjEzODggMjUuODE5NyA1Ny40NTY3IDIzLjkxMjUgNTcuNDU2NyAyMS44NzgyVjIxLjA1MTdDNTcuMjY2IDIwLjkyNDYgNTcuMjAyNCAyMC42MDY3IDU3LjIwMjQgMjAuMzUyNVoiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTk1Ljk4MTUgMjAuMzUyNUg4My43MTIxVjI0LjYxMThIOTAuNzA1QzkwLjUxNDMgMjYuNzczMyA4OS42ODc5IDI4LjQyNjEgODguMjg5MyAyOS43NjExQzg2Ljg5MDcgMzEuMDMyNiA4NS4xMTA2IDMxLjY2ODMgODIuODIyIDMxLjY2ODNDODEuNTUwNiAzMS42NjgzIDgwLjM0MjcgMzEuNDE0IDc5LjMyNTYgMzAuOTY5Qzc4LjI0NDggMzAuNTI0IDc3LjM1NDggMjkuODg4MyA3Ni41OTIgMjguOTk4M0M3NS44MjkxIDI4LjE3MTggNzUuMjU3IDI3LjE1NDcgNzQuODExOSAyNS45NDY4Qzc0LjM2NjkgMjQuNzM4OSA3NC4xNzYyIDIzLjQ2NzUgNzQuMTc2MiAyMi4wMDUzQzc0LjE3NjIgMjAuNTQzMiA3NC4zNjY5IDE5LjI3MTcgNzQuODExOSAxOC4wNjM4Qzc1LjE5MzQgMTYuODU2IDc1LjgyOTEgMTUuOTAyNCA3Ni41OTIgMTUuMDEyNEM3Ny4zNTQ4IDE0LjE4NTkgNzguMjQ0OCAxMy41NTAyIDc5LjMyNTYgMTMuMDQxNkM4MC40MDYzIDEyLjU5NjYgODEuNTUwNiAxMi4zNDIzIDgyLjg4NTYgMTIuMzQyM0M4NS41NTU3IDEyLjM0MjMgODcuNTkgMTIuOTc4IDg4Ljk4ODYgMTQuMjQ5NUw5Mi4yOTQzIDEwLjk0MzhDODkuODE1IDkuMDM2NTkgODYuNjM2NCA4LjAxOTQxIDgyLjg4NTYgOC4wMTk0MUM4MC43ODc4IDguMDE5NDEgNzguODgwNiA4LjMzNzI5IDc3LjE2NDEgOS4wMzY1OUM3NS40NDc3IDkuNzM1ODggNzMuOTg1NSAxMC42MjU5IDcyLjc3NzYgMTEuODMzN0M3MS41Njk4IDEzLjA0MTYgNzAuNjE2MiAxNC41MDM4IDY5Ljk4MDUgMTYuMjIwM0M2OS4zNDQ3IDE3LjkzNjcgNjkuMDI2OSAxOS44NDM4IDY5LjAyNjkgMjEuODc4MkM2OS4wMjY5IDIzLjkxMjUgNjkuMzQ0NyAyNS44MTk3IDcwLjA0NCAyNy41MzYxQzcwLjc0MzMgMjkuMjUyNiA3MS42MzM0IDMwLjcxNDcgNzIuODQxMiAzMS45MjI2Qzc0LjA0OTEgMzMuMTMwNSA3NS41MTEyIDM0LjA4NDEgNzcuMjI3NyAzNC43MTk4Qzc4Ljk0NDEgMzUuNDE5MSA4MC44NTEzIDM1LjczNyA4Mi44ODU2IDM1LjczN0M4NC45MiAzNS43MzcgODYuNzYzNiAzNS40MTkxIDg4LjQxNjQgMzQuNzE5OEM5MC4wNjkzIDM0LjAyMDUgOTEuNDY3OSAzMy4xMzA1IDkyLjYxMjIgMzEuOTIyNkM5My43NTY1IDMwLjcxNDcgOTQuNjQ2NSAyOS4yNTI2IDk1LjI4MjIgMjcuNTM2MUM5NS45MTggMjUuODE5NyA5Ni4yMzU4IDIzLjkxMjUgOTYuMjM1OCAyMS44NzgyVjIxLjA1MTdDOTYuMDQ1MSAyMC45MjQ2IDk1Ljk4MTUgMjAuNjA2NyA5NS45ODE1IDIwLjM1MjVaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=);\n  background-repeat: no-repeat;\n  background-size: 170px 40px;\n  display: block;\n  height: 40px;\n  width: 170px;\n}\n\n.ag-watermark-text {\n  opacity: 0.5;\n  font-weight: bold;\n  font-family: Impact, sans-serif;\n  font-size: 19px;\n  padding-left: 0.7rem;\n}\n\n.ag-root-wrapper-body {\n  display: flex;\n  flex-direction: row;\n}\n.ag-root-wrapper-body.ag-layout-normal {\n  flex: 1 1 auto;\n  height: 0;\n  min-height: 0;\n}\n\n.ag-root {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n.ag-root.ag-layout-normal, .ag-root.ag-layout-auto-height {\n  overflow: hidden;\n  flex: 1 1 auto;\n  width: 0;\n}\n.ag-root.ag-layout-normal {\n  height: 100%;\n}\n\n.ag-header-viewport,\n.ag-floating-top-viewport,\n.ag-body-viewport,\n.ag-center-cols-viewport,\n.ag-floating-bottom-viewport,\n.ag-body-horizontal-scroll-viewport,\n.ag-body-vertical-scroll-viewport,\n.ag-virtual-list-viewport,\n.ag-sticky-top-viewport,\n.ag-sticky-bottom-viewport {\n  position: relative;\n  height: 100%;\n  min-width: 0px;\n  overflow: hidden;\n  flex: 1 1 auto;\n}\n\n.ag-body-viewport,\n.ag-center-cols-viewport {\n  -ms-overflow-style: none !important;\n  scrollbar-width: none !important;\n}\n.ag-body-viewport::-webkit-scrollbar,\n.ag-center-cols-viewport::-webkit-scrollbar {\n  display: none !important;\n}\n\n.ag-body-viewport {\n  display: flex;\n}\n.ag-body-viewport.ag-layout-normal {\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n\n.ag-center-cols-viewport {\n  min-height: 100%;\n  width: 100%;\n  overflow-x: auto;\n}\n\n.ag-body-horizontal-scroll-viewport {\n  overflow-x: scroll;\n}\n\n.ag-body-vertical-scroll-viewport {\n  overflow-y: scroll;\n}\n\n.ag-virtual-list-viewport {\n  overflow: auto;\n  width: 100%;\n}\n\n.ag-header-container,\n.ag-floating-top-container,\n.ag-body-container,\n.ag-pinned-right-cols-container,\n.ag-center-cols-container,\n.ag-pinned-left-cols-container,\n.ag-floating-bottom-container,\n.ag-body-horizontal-scroll-container,\n.ag-body-vertical-scroll-container,\n.ag-full-width-container,\n.ag-floating-bottom-full-width-container,\n.ag-virtual-list-container,\n.ag-sticky-top-container,\n.ag-sticky-bottom-container {\n  position: relative;\n}\n\n.ag-header-container,\n.ag-floating-top-container,\n.ag-floating-bottom-container,\n.ag-sticky-top-container,\n.ag-sticky-bottom-container {\n  height: 100%;\n  white-space: nowrap;\n}\n\n.ag-center-cols-container {\n  display: block;\n}\n\n.ag-pinned-right-cols-container {\n  display: block;\n}\n\n.ag-body-horizontal-scroll-container {\n  height: 100%;\n}\n\n.ag-body-vertical-scroll-container {\n  width: 100%;\n}\n\n.ag-full-width-container,\n.ag-floating-top-full-width-container,\n.ag-floating-bottom-full-width-container,\n.ag-sticky-top-full-width-container,\n.ag-sticky-bottom-full-width-container {\n  position: absolute;\n  top: 0px;\n  pointer-events: none;\n}\n.ag-ltr .ag-full-width-container,\n.ag-ltr .ag-floating-top-full-width-container,\n.ag-ltr .ag-floating-bottom-full-width-container,\n.ag-ltr .ag-sticky-top-full-width-container,\n.ag-ltr .ag-sticky-bottom-full-width-container {\n  left: 0;\n}\n.ag-rtl .ag-full-width-container,\n.ag-rtl .ag-floating-top-full-width-container,\n.ag-rtl .ag-floating-bottom-full-width-container,\n.ag-rtl .ag-sticky-top-full-width-container,\n.ag-rtl .ag-sticky-bottom-full-width-container {\n  right: 0;\n}\n\n.ag-full-width-container {\n  width: 100%;\n}\n\n.ag-floating-bottom-full-width-container,\n.ag-floating-top-full-width-container {\n  display: inline-block;\n  overflow: hidden;\n  height: 100%;\n  width: 100%;\n}\n\n.ag-virtual-list-container {\n  overflow: hidden;\n}\n\n.ag-body {\n  position: relative;\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: row !important;\n  min-height: 0;\n}\n\n.ag-body-horizontal-scroll,\n.ag-body-vertical-scroll {\n  min-height: 0;\n  min-width: 0;\n  display: flex;\n  position: relative;\n}\n.ag-body-horizontal-scroll.ag-scrollbar-invisible,\n.ag-body-vertical-scroll.ag-scrollbar-invisible {\n  position: absolute;\n  bottom: 0;\n}\n.ag-body-horizontal-scroll.ag-scrollbar-invisible.ag-apple-scrollbar,\n.ag-body-vertical-scroll.ag-scrollbar-invisible.ag-apple-scrollbar {\n  opacity: 0;\n  transition: opacity 400ms;\n  visibility: hidden;\n}\n.ag-body-horizontal-scroll.ag-scrollbar-invisible.ag-apple-scrollbar.ag-scrollbar-scrolling, .ag-body-horizontal-scroll.ag-scrollbar-invisible.ag-apple-scrollbar.ag-scrollbar-active,\n.ag-body-vertical-scroll.ag-scrollbar-invisible.ag-apple-scrollbar.ag-scrollbar-scrolling,\n.ag-body-vertical-scroll.ag-scrollbar-invisible.ag-apple-scrollbar.ag-scrollbar-active {\n  visibility: visible;\n  opacity: 1;\n}\n\n.ag-body-horizontal-scroll {\n  width: 100%;\n}\n.ag-body-horizontal-scroll.ag-scrollbar-invisible {\n  left: 0;\n  right: 0;\n}\n\n.ag-body-vertical-scroll {\n  height: 100%;\n}\n.ag-body-vertical-scroll.ag-scrollbar-invisible {\n  top: 0;\n  z-index: 10;\n}\n.ag-ltr .ag-body-vertical-scroll.ag-scrollbar-invisible {\n  right: 0;\n}\n.ag-rtl .ag-body-vertical-scroll.ag-scrollbar-invisible {\n  left: 0;\n}\n\n.ag-force-vertical-scroll {\n  overflow-y: scroll !important;\n}\n\n.ag-horizontal-left-spacer,\n.ag-horizontal-right-spacer {\n  height: 100%;\n  min-width: 0;\n  overflow-x: scroll;\n}\n.ag-horizontal-left-spacer.ag-scroller-corner,\n.ag-horizontal-right-spacer.ag-scroller-corner {\n  overflow-x: hidden;\n}\n\n.ag-header,\n.ag-pinned-left-header,\n.ag-pinned-right-header {\n  display: inline-block;\n  overflow: hidden;\n  position: relative;\n}\n\n.ag-header-cell-sortable .ag-header-cell-label {\n  cursor: pointer;\n}\n\n.ag-header {\n  display: flex;\n  width: 100%;\n  white-space: nowrap;\n}\n\n.ag-pinned-left-header {\n  height: 100%;\n}\n\n.ag-pinned-right-header {\n  height: 100%;\n}\n\n.ag-header-row {\n  position: absolute;\n}\n\n.ag-header-row:not(.ag-header-row-column-group) {\n  overflow: hidden;\n}\n\n.ag-header.ag-header-allow-overflow .ag-header-row {\n  overflow: visible;\n}\n\n.ag-header-cell {\n  display: inline-flex;\n  align-items: center;\n  position: absolute;\n  height: 100%;\n}\n\n.ag-header-cell.ag-header-active .ag-header-cell-menu-button,\n.ag-header-cell-filter-button {\n  opacity: 1;\n}\n\n.ag-header-cell-menu-button:not(.ag-header-menu-always-show) {\n  transition: opacity 0.2s;\n  opacity: 0;\n}\n\n.ag-header-group-cell-label,\n.ag-header-cell-label {\n  display: flex;\n  flex: 1 1 auto;\n  align-self: stretch;\n  align-items: center;\n}\n\n.ag-header-cell-label {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ag-header-group-cell-label.ag-sticky-label {\n  position: sticky;\n  flex: none;\n  max-width: 100%;\n}\n\n.ag-header-group-text {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.ag-header-cell-text {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n}\n\n.ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper {\n  height: 100%;\n  display: flex;\n  align-items: center;\n}\n\n.ag-header-cell-comp-wrapper {\n  width: 100%;\n}\n\n.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper {\n  white-space: normal;\n}\n\n.ag-right-aligned-header .ag-header-cell-label {\n  flex-direction: row-reverse;\n}\n\n.ag-header-cell-resize {\n  position: absolute;\n  z-index: 2;\n  height: 100%;\n  width: 8px;\n  top: 0;\n  cursor: ew-resize;\n}\n.ag-ltr .ag-header-cell-resize {\n  right: -4px;\n}\n.ag-rtl .ag-header-cell-resize {\n  left: -4px;\n}\n\n.ag-pinned-left-header .ag-header-cell-resize {\n  right: -4px;\n}\n\n.ag-pinned-right-header .ag-header-cell-resize {\n  left: -4px;\n}\n\n.ag-header-select-all {\n  display: flex;\n}\n\n.ag-header-cell-menu-button,\n.ag-header-cell-filter-button,\n.ag-side-button-button,\n.ag-panel-title-bar-button,\n.ag-floating-filter-button-button {\n  cursor: pointer;\n}\n\n.ag-column-moving .ag-cell {\n  transition: left 0.2s;\n}\n.ag-column-moving .ag-header-cell {\n  transition: left 0.2s;\n}\n.ag-column-moving .ag-header-group-cell {\n  transition: left 0.2s, width 0.2s;\n}\n\n.ag-column-panel {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  flex: 1 1 auto;\n}\n\n.ag-column-select {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  flex: 3 1 0px;\n}\n\n.ag-column-select-header {\n  position: relative;\n  display: flex;\n  flex: none;\n}\n\n.ag-column-select-header-icon {\n  position: relative;\n}\n\n.ag-column-select-header-filter-wrapper {\n  flex: 1 1 auto;\n}\n\n.ag-column-select-header-filter {\n  width: 100%;\n}\n\n.ag-column-select-list {\n  flex: 1 1 0px;\n  overflow: hidden;\n}\n\n.ag-column-drop {\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  overflow: auto;\n  width: 100%;\n}\n\n.ag-column-drop-list {\n  display: flex;\n  align-items: center;\n}\n\n.ag-column-drop-cell {\n  position: relative;\n  display: flex;\n  align-items: center;\n}\n\n.ag-column-drop-cell-text {\n  overflow: hidden;\n  flex: 1 1 auto;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.ag-column-drop-vertical {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  align-items: stretch;\n  flex: 1 1 0px;\n}\n\n.ag-column-drop-vertical-title-bar {\n  display: flex;\n  align-items: center;\n  flex: none;\n}\n\n.ag-column-drop-vertical-list {\n  position: relative;\n  align-items: stretch;\n  flex-grow: 1;\n  flex-direction: column;\n  overflow-x: auto;\n}\n.ag-column-drop-vertical-list > * {\n  flex: none;\n}\n\n.ag-column-drop-empty .ag-column-drop-vertical-list {\n  overflow: hidden;\n}\n\n.ag-column-drop-vertical-empty-message {\n  display: block;\n}\n\n.ag-column-drop.ag-column-drop-horizontal {\n  white-space: nowrap;\n  overflow: hidden;\n}\n\n.ag-column-drop-cell-button {\n  cursor: pointer;\n}\n\n.ag-filter-toolpanel {\n  flex: 1 1 0px;\n  min-width: 0;\n}\n\n.ag-filter-toolpanel-header {\n  position: relative;\n}\n\n.ag-filter-toolpanel-header,\n.ag-filter-toolpanel-search {\n  display: flex;\n  align-items: center;\n}\n.ag-filter-toolpanel-header > *,\n.ag-filter-toolpanel-search > * {\n  display: flex;\n  align-items: center;\n}\n\n.ag-filter-apply-panel {\n  display: flex;\n  justify-content: flex-end;\n  overflow: hidden;\n}\n\n.ag-row-animation .ag-row {\n  transition: transform 0.4s, top 0.4s, opacity 0.2s;\n}\n\n.ag-row-animation .ag-row.ag-after-created {\n  transition: transform 0.4s, top 0.4s, height 0.4s, opacity 0.2s;\n}\n\n.ag-row-no-animation .ag-row {\n  transition: none;\n}\n\n.ag-row {\n  white-space: nowrap;\n  width: 100%;\n}\n\n.ag-row-loading {\n  display: flex;\n  align-items: center;\n}\n\n.ag-row-position-absolute {\n  position: absolute;\n}\n\n.ag-row-position-relative {\n  position: relative;\n}\n\n.ag-full-width-row {\n  overflow: hidden;\n  pointer-events: all;\n}\n\n.ag-row-inline-editing {\n  z-index: 1;\n}\n\n.ag-row-dragging {\n  z-index: 2;\n}\n\n.ag-stub-cell {\n  display: flex;\n  align-items: center;\n}\n\n.ag-cell {\n  display: inline-block;\n  position: absolute;\n  white-space: nowrap;\n  height: 100%;\n}\n\n.ag-cell-value {\n  flex: 1 1 auto;\n}\n\n.ag-cell-value,\n.ag-group-value {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ag-cell-wrap-text {\n  white-space: normal;\n  word-break: break-word;\n}\n\n.ag-cell-wrapper {\n  display: flex;\n  align-items: center;\n}\n.ag-cell-wrapper.ag-row-group {\n  align-items: flex-start;\n}\n\n.ag-sparkline-wrapper {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  left: 0;\n  top: 0;\n}\n\n.ag-full-width-row .ag-cell-wrapper.ag-row-group {\n  height: 100%;\n  align-items: center;\n}\n\n.ag-cell-inline-editing {\n  z-index: 1;\n}\n.ag-cell-inline-editing .ag-cell-wrapper,\n.ag-cell-inline-editing .ag-cell-edit-wrapper,\n.ag-cell-inline-editing .ag-cell-editor,\n.ag-cell-inline-editing .ag-cell-editor .ag-wrapper,\n.ag-cell-inline-editing .ag-cell-editor input {\n  height: 100%;\n  width: 100%;\n  line-height: normal;\n}\n\n.ag-cell .ag-icon {\n  display: inline-block;\n  vertical-align: middle;\n}\n\n.ag-set-filter-item {\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n\n.ag-set-filter-item-checkbox {\n  display: flex;\n  width: 100%;\n  height: 100%;\n}\n\n.ag-set-filter-group-icons {\n  display: block;\n}\n.ag-set-filter-group-icons > * {\n  cursor: pointer;\n}\n\n.ag-filter-body-wrapper {\n  display: flex;\n  flex-direction: column;\n}\n\n.ag-filter-filter {\n  flex: 1 1 0px;\n}\n\n.ag-filter-condition {\n  display: flex;\n  justify-content: center;\n}\n\n.ag-floating-filter-body {\n  position: relative;\n  display: flex;\n  flex: 1 1 auto;\n  height: 100%;\n}\n\n.ag-floating-filter-full-body {\n  display: flex;\n  flex: 1 1 auto;\n  height: 100%;\n  width: 100%;\n  align-items: center;\n  overflow: hidden;\n}\n\n.ag-floating-filter-full-body > div {\n  flex: 1 1 auto;\n}\n\n.ag-floating-filter-input {\n  align-items: center;\n  display: flex;\n  width: 100%;\n}\n.ag-floating-filter-input > * {\n  flex: 1 1 auto;\n}\n\n.ag-floating-filter-button {\n  display: flex;\n  flex: none;\n}\n\n.ag-set-floating-filter-input input[disabled] {\n  pointer-events: none;\n}\n\n.ag-dnd-ghost {\n  position: absolute;\n  display: inline-flex;\n  align-items: center;\n  cursor: move;\n  white-space: nowrap;\n  z-index: 9999;\n}\n\n.ag-overlay {\n  height: 100%;\n  left: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  z-index: 2;\n}\n\n.ag-overlay-panel {\n  display: flex;\n  height: 100%;\n  width: 100%;\n}\n\n.ag-overlay-wrapper {\n  display: flex;\n  flex: none;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n}\n\n.ag-overlay-loading-wrapper {\n  pointer-events: all;\n}\n\n.ag-popup-child {\n  z-index: 5;\n  top: 0;\n}\n\n.ag-popup-editor {\n  position: absolute;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.ag-large-text-input {\n  display: block;\n}\n\n.ag-virtual-list-item {\n  position: absolute;\n  width: 100%;\n}\n\n.ag-floating-top {\n  overflow: hidden;\n  white-space: nowrap;\n  width: 100%;\n  position: relative;\n  display: flex;\n}\n\n.ag-pinned-left-floating-top {\n  display: inline-block;\n  overflow: hidden;\n  position: relative;\n  min-width: 0px;\n}\n\n.ag-pinned-right-floating-top {\n  display: inline-block;\n  overflow: hidden;\n  position: relative;\n  min-width: 0px;\n}\n\n.ag-floating-bottom {\n  overflow: hidden;\n  white-space: nowrap;\n  width: 100%;\n  position: relative;\n  display: flex;\n}\n\n.ag-pinned-left-floating-bottom {\n  display: inline-block;\n  overflow: hidden;\n  position: relative;\n  min-width: 0px;\n}\n\n.ag-pinned-right-floating-bottom {\n  display: inline-block;\n  overflow: hidden;\n  position: relative;\n  min-width: 0px;\n}\n\n.ag-sticky-top,\n.ag-sticky-bottom {\n  position: absolute;\n  display: flex;\n  width: 100%;\n}\n\n.ag-pinned-left-sticky-top,\n.ag-pinned-right-sticky-top {\n  position: relative;\n  height: 100%;\n  overflow: hidden;\n}\n\n.ag-sticky-top-full-width-container,\n.ag-sticky-bottom-full-width-container {\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n}\n\n.ag-dialog,\n.ag-panel {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  overflow: hidden;\n}\n\n.ag-panel-title-bar {\n  display: flex;\n  flex: none;\n  align-items: center;\n  cursor: default;\n}\n\n.ag-panel-title-bar-title {\n  flex: 1 1 auto;\n}\n\n.ag-panel-title-bar-buttons {\n  display: flex;\n}\n\n.ag-panel-title-bar-button {\n  cursor: pointer;\n}\n\n.ag-panel-content-wrapper {\n  display: flex;\n  flex: 1 1 auto;\n  position: relative;\n  overflow: hidden;\n}\n\n.ag-dialog {\n  position: absolute;\n}\n\n.ag-resizer {\n  position: absolute;\n  pointer-events: none;\n  z-index: 1;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.ag-resizer.ag-resizer-topLeft {\n  top: 0;\n  left: 0;\n  height: 5px;\n  width: 5px;\n  cursor: nwse-resize;\n}\n.ag-resizer.ag-resizer-top {\n  top: 0;\n  left: 5px;\n  right: 5px;\n  height: 5px;\n  cursor: ns-resize;\n}\n.ag-resizer.ag-resizer-topRight {\n  top: 0;\n  right: 0;\n  height: 5px;\n  width: 5px;\n  cursor: nesw-resize;\n}\n.ag-resizer.ag-resizer-right {\n  top: 5px;\n  right: 0;\n  bottom: 5px;\n  width: 5px;\n  cursor: ew-resize;\n}\n.ag-resizer.ag-resizer-bottomRight {\n  bottom: 0;\n  right: 0;\n  height: 5px;\n  width: 5px;\n  cursor: nwse-resize;\n}\n.ag-resizer.ag-resizer-bottom {\n  bottom: 0;\n  left: 5px;\n  right: 5px;\n  height: 5px;\n  cursor: ns-resize;\n}\n.ag-resizer.ag-resizer-bottomLeft {\n  bottom: 0;\n  left: 0;\n  height: 5px;\n  width: 5px;\n  cursor: nesw-resize;\n}\n.ag-resizer.ag-resizer-left {\n  left: 0;\n  top: 5px;\n  bottom: 5px;\n  width: 5px;\n  cursor: ew-resize;\n}\n\n.ag-tooltip {\n  position: absolute;\n  z-index: 99999;\n}\n\n.ag-tooltip-custom {\n  position: absolute;\n  z-index: 99999;\n}\n\n.ag-tooltip:not(.ag-tooltip-interactive),\n.ag-tooltip-custom:not(.ag-tooltip-interactive) {\n  pointer-events: none;\n}\n\n.ag-value-slide-out {\n  margin-right: 5px;\n  opacity: 1;\n  transition: opacity 3s, margin-right 3s;\n  transition-timing-function: linear;\n}\n\n.ag-value-slide-out-end {\n  margin-right: 10px;\n  opacity: 0;\n}\n\n.ag-opacity-zero {\n  opacity: 0 !important;\n}\n\n.ag-menu {\n  max-height: 100%;\n  overflow-y: auto;\n  position: absolute;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.ag-menu-column-select-wrapper {\n  height: 265px;\n  overflow: auto;\n}\n.ag-menu-column-select-wrapper .ag-column-select {\n  height: 100%;\n}\n\n.ag-dialog .ag-panel-content-wrapper .ag-column-select {\n  user-select: none;\n}\n\n.ag-menu-list {\n  display: table;\n  width: 100%;\n}\n\n.ag-menu-option,\n.ag-menu-separator {\n  display: table-row;\n}\n\n.ag-menu-option-part,\n.ag-menu-separator-part {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.ag-menu-option-text {\n  white-space: nowrap;\n}\n\n.ag-menu-option-custom {\n  display: contents;\n}\n\n.ag-compact-menu-option {\n  width: 100%;\n  display: flex;\n  flex-wrap: nowrap;\n}\n\n.ag-compact-menu-option-text {\n  white-space: nowrap;\n  flex: 1 1 auto;\n}\n\n.ag-pill-container {\n  display: flex;\n  gap: 0.25rem;\n  flex-wrap: nowrap;\n}\n\n.ag-pill {\n  display: flex;\n  white-space: nowrap;\n  padding: 0 0.25rem;\n  align-items: center;\n}\n\n.ag-pill .ag-pill-button {\n  border: none;\n  padding: 0;\n}\n\n.ag-rich-select {\n  cursor: default;\n  outline: none;\n  height: 100%;\n}\n\n.ag-rich-select-value {\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n.ag-rich-select-value .ag-picker-field-display {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.ag-rich-select-value .ag-picker-field-display.ag-display-as-placeholder {\n  opacity: 0.5;\n}\n\n.ag-rich-select-list {\n  position: relative;\n}\n.ag-rich-select-list .ag-loading-text {\n  min-height: 2rem;\n}\n\n.ag-rich-select-row {\n  display: flex;\n  flex: 1 1 auto;\n  align-items: center;\n  white-space: nowrap;\n  overflow: hidden;\n  height: 100%;\n}\n\n.ag-rich-select-field-input {\n  flex: 1 1 auto;\n}\n.ag-rich-select-field-input .ag-input-field-input {\n  padding: 0 !important;\n  border: none !important;\n  box-shadow: none !important;\n  text-overflow: ellipsis;\n}\n.ag-rich-select-field-input .ag-input-field-input::placeholder {\n  opacity: 0.8;\n}\n\n.ag-autocomplete {\n  align-items: center;\n  display: flex;\n}\n.ag-autocomplete > * {\n  flex: 1 1 auto;\n}\n\n.ag-autocomplete-list-popup {\n  position: absolute;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.ag-autocomplete-list {\n  position: relative;\n}\n\n.ag-autocomplete-virtual-list-item {\n  display: flex;\n}\n\n.ag-autocomplete-row {\n  display: flex;\n  flex: 1 1 auto;\n  align-items: center;\n  overflow: hidden;\n}\n\n.ag-autocomplete-row-label {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.ag-paging-panel {\n  align-items: center;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.ag-paging-page-summary-panel {\n  display: flex;\n  align-items: center;\n}\n\n.ag-paging-button {\n  position: relative;\n}\n\n.ag-disabled .ag-paging-page-summary-panel {\n  pointer-events: none;\n}\n\n.ag-tool-panel-wrapper {\n  display: flex;\n  overflow-y: auto;\n  overflow-x: hidden;\n  cursor: default;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.ag-column-select-column,\n.ag-column-select-column-group,\n.ag-select-agg-func-item {\n  position: relative;\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  height: 100%;\n}\n.ag-column-select-column > *,\n.ag-column-select-column-group > *,\n.ag-select-agg-func-item > * {\n  flex: none;\n}\n\n.ag-select-agg-func-item,\n.ag-column-select-column-label {\n  flex: 1 1 auto;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.ag-column-select-checkbox {\n  display: flex;\n}\n\n.ag-tool-panel-horizontal-resize {\n  cursor: ew-resize;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  width: 5px;\n  z-index: 1;\n}\n\n.ag-ltr .ag-side-bar-left .ag-tool-panel-horizontal-resize {\n  right: -3px;\n}\n.ag-rtl .ag-side-bar-left .ag-tool-panel-horizontal-resize {\n  left: -3px;\n}\n\n.ag-ltr .ag-side-bar-right .ag-tool-panel-horizontal-resize {\n  left: -3px;\n}\n.ag-rtl .ag-side-bar-right .ag-tool-panel-horizontal-resize {\n  right: -3px;\n}\n\n.ag-details-row {\n  width: 100%;\n}\n\n.ag-details-row-fixed-height {\n  height: 100%;\n}\n\n.ag-details-grid {\n  width: 100%;\n}\n\n.ag-details-grid-fixed-height {\n  height: 100%;\n}\n\n.ag-header-group-cell {\n  display: flex;\n  align-items: center;\n  height: 100%;\n  position: absolute;\n}\n\n.ag-header-group-cell-no-group.ag-header-span-height .ag-header-cell-resize {\n  display: none;\n}\n\n.ag-cell-label-container {\n  display: flex;\n  justify-content: space-between;\n  flex-direction: row-reverse;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  padding: 5px 0px;\n}\n\n.ag-right-aligned-header .ag-cell-label-container {\n  flex-direction: row;\n}\n.ag-right-aligned-header .ag-header-cell-text {\n  text-align: end;\n}\n\n.ag-side-bar {\n  display: flex;\n  flex-direction: row-reverse;\n}\n\n.ag-side-bar-left {\n  order: -1;\n  flex-direction: row;\n}\n\n.ag-side-button-button {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: nowrap;\n  white-space: nowrap;\n  outline: none;\n  cursor: pointer;\n}\n\n.ag-side-button-label {\n  writing-mode: vertical-lr;\n}\n\n.ag-status-bar {\n  display: flex;\n  justify-content: space-between;\n  overflow: hidden;\n}\n\n.ag-status-panel {\n  display: inline-flex;\n}\n\n.ag-status-name-value {\n  white-space: nowrap;\n}\n\n.ag-status-bar-left {\n  display: inline-flex;\n}\n\n.ag-status-bar-center {\n  display: inline-flex;\n}\n\n.ag-status-bar-right {\n  display: inline-flex;\n}\n\n.ag-icon {\n  display: block;\n  speak: none;\n}\n\n.ag-group {\n  position: relative;\n  width: 100%;\n}\n\n.ag-group-title-bar {\n  display: flex;\n  align-items: center;\n}\n\n.ag-group-title {\n  display: inline;\n  min-width: 0;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.ag-group-title-bar .ag-group-title {\n  cursor: default;\n}\n\n.ag-group-toolbar {\n  display: flex;\n  align-items: center;\n}\n\n.ag-group-container {\n  display: flex;\n}\n\n.ag-disabled .ag-group-container {\n  pointer-events: none;\n}\n\n.ag-group-container-horizontal {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n\n.ag-group-container-vertical {\n  flex-direction: column;\n}\n\n.ag-column-group-icons {\n  display: block;\n}\n.ag-column-group-icons > * {\n  cursor: pointer;\n}\n\n.ag-group-item-alignment-stretch .ag-group-item {\n  align-items: stretch;\n}\n\n.ag-group-item-alignment-start .ag-group-item {\n  align-items: flex-start;\n}\n\n.ag-group-item-alignment-end .ag-group-item {\n  align-items: flex-end;\n}\n\n.ag-toggle-button-icon {\n  transition: right 0.3s;\n  position: absolute;\n  top: -1px;\n}\n\n.ag-input-field,\n.ag-select {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.ag-input-field-input {\n  flex: 1 1 auto;\n}\n\n.ag-floating-filter-input .ag-input-field-input[type=date] {\n  width: 1px;\n}\n\n.ag-range-field {\n  display: flex;\n  align-items: center;\n}\n\n.ag-angle-select {\n  display: flex;\n  align-items: center;\n}\n\n.ag-angle-select-wrapper {\n  display: flex;\n}\n\n.ag-angle-select-parent-circle {\n  display: block;\n  position: relative;\n}\n\n.ag-angle-select-child-circle {\n  position: absolute;\n}\n\n.ag-slider-wrapper {\n  display: flex;\n}\n.ag-slider-wrapper .ag-input-field {\n  flex: 1 1 auto;\n}\n\n.ag-picker-field-display {\n  flex: 1 1 auto;\n}\n\n.ag-picker-field {\n  display: flex;\n  align-items: center;\n}\n\n.ag-picker-field-icon {\n  display: flex;\n  border: 0;\n  padding: 0;\n  margin: 0;\n  cursor: pointer;\n}\n\n.ag-picker-field-wrapper {\n  overflow: hidden;\n}\n\n.ag-label-align-right .ag-label {\n  order: 1;\n}\n.ag-label-align-right > * {\n  flex: none;\n}\n\n.ag-label-align-top {\n  flex-direction: column;\n  align-items: flex-start;\n}\n.ag-label-align-top > * {\n  align-self: stretch;\n}\n\n.ag-label-ellipsis {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  flex: 1;\n}\n\n.ag-color-panel {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n}\n\n.ag-spectrum-color {\n  flex: 1 1 auto;\n  position: relative;\n  overflow: visible;\n  cursor: default;\n}\n\n.ag-spectrum-fill {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.ag-spectrum-val {\n  cursor: pointer;\n}\n\n.ag-spectrum-dragger {\n  position: absolute;\n  pointer-events: none;\n  cursor: pointer;\n}\n\n.ag-spectrum-hue,\n.ag-spectrum-alpha {\n  cursor: default;\n}\n\n.ag-spectrum-hue-background {\n  background: linear-gradient(to left, #ff0000 3%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n  width: 100%;\n  height: 100%;\n}\n\n.ag-spectrum-alpha {\n  --ag-spectrum-alpha-background-checked: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4"><rect x="0" y="0" width="4" height="4" fill="%23fff"/><path d="M0 0H2V4H4V2H0Z" fill="%23b2b2b2"/></svg>\');\n}\n\n.ag-spectrum-alpha-background {\n  background: linear-gradient(to right, var(--ag-internal-spectrum-alpha-color-from), var(--ag-internal-spectrum-alpha-color-to)), var(--ag-spectrum-alpha-background-checked) top left/4px 4px;\n  width: 100%;\n  height: 100%;\n}\n\n.ag-spectrum-tool {\n  cursor: pointer;\n  position: relative;\n}\n\n.ag-spectrum-slider {\n  position: absolute;\n  pointer-events: none;\n}\n\n.ag-spectrum-alpha .ag-spectrum-slider {\n  background: linear-gradient(to bottom, var(--ag-internal-spectrum-alpha-color), var(--ag-internal-spectrum-alpha-color)) white;\n}\n\n.ag-recent-colors {\n  display: flex;\n}\n\n.ag-recent-color {\n  cursor: pointer;\n}\n\n.ag-pill-select {\n  display: flex;\n  flex-direction: column;\n}\n.ag-pill-select .ag-column-drop {\n  flex: unset;\n}\n\n.ag-ltr {\n  direction: ltr;\n}\n.ag-ltr .ag-body,\n.ag-ltr .ag-floating-top,\n.ag-ltr .ag-floating-bottom,\n.ag-ltr .ag-header,\n.ag-ltr .ag-sticky-top,\n.ag-ltr .ag-sticky-bottom,\n.ag-ltr .ag-body-viewport,\n.ag-ltr .ag-body-horizontal-scroll {\n  flex-direction: row;\n}\n\n.ag-rtl {\n  direction: rtl;\n}\n.ag-rtl .ag-body,\n.ag-rtl .ag-floating-top,\n.ag-rtl .ag-floating-bottom,\n.ag-rtl .ag-header,\n.ag-rtl .ag-sticky-top,\n.ag-rtl .ag-sticky-bottom,\n.ag-rtl .ag-body-viewport,\n.ag-rtl .ag-body-horizontal-scroll {\n  flex-direction: row-reverse;\n}\n.ag-rtl .ag-icon-contracted,\n.ag-rtl .ag-icon-expanded,\n.ag-rtl .ag-icon-tree-closed {\n  display: block;\n  transform: rotate(180deg);\n}\n\n.ag-body .ag-body-viewport {\n  -webkit-overflow-scrolling: touch;\n}\n\n.ag-measurement-container {\n  width: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.ag-measurement-container div {\n  position: absolute;\n}\n\n.ag-layout-print.ag-body {\n  display: block;\n  height: unset;\n}\n.ag-layout-print.ag-root-wrapper {\n  display: inline-block;\n}\n.ag-layout-print .ag-body-vertical-scroll {\n  display: none;\n}\n.ag-layout-print .ag-body-horizontal-scroll {\n  display: none;\n}\n.ag-layout-print.ag-force-vertical-scroll {\n  overflow-y: visible !important;\n}\n\n@media print {\n  .ag-root-wrapper.ag-layout-print {\n    display: table;\n  }\n  .ag-root-wrapper.ag-layout-print .ag-root-wrapper-body,\n  .ag-root-wrapper.ag-layout-print .ag-root,\n  .ag-root-wrapper.ag-layout-print .ag-body-viewport,\n  .ag-root-wrapper.ag-layout-print .ag-center-cols-container,\n  .ag-root-wrapper.ag-layout-print .ag-center-cols-viewport,\n  .ag-root-wrapper.ag-layout-print .ag-body-horizontal-scroll-viewport,\n  .ag-root-wrapper.ag-layout-print .ag-virtual-list-viewport {\n    height: auto !important;\n    overflow: hidden !important;\n    display: block !important;\n  }\n  .ag-root-wrapper.ag-layout-print .ag-row,\n  .ag-root-wrapper.ag-layout-print .ag-cell {\n    break-inside: avoid;\n  }\n}\n[class^=ag-],\n[class^=ag-]:focus,\n[class^=ag-]:after,\n[class^=ag-]:before {\n  box-sizing: border-box;\n  outline: none;\n}\n\n[class^=ag-]::-ms-clear {\n  display: none;\n}\n\n.ag-checkbox .ag-input-wrapper,\n.ag-radio-button .ag-input-wrapper {\n  overflow: visible;\n}\n\n.ag-range-field .ag-input-wrapper {\n  height: 100%;\n}\n\n.ag-toggle-button {\n  flex: none;\n  width: unset;\n  min-width: unset;\n}\n\n.ag-button {\n  border-radius: 0px;\n  color: var(--ag-foreground-color);\n}\n\n.ag-button:hover {\n  background-color: transparent;\n}\n\n.ag-ltr .ag-label-align-right .ag-label {\n  margin-left: var(--ag-grid-size);\n}\n.ag-rtl .ag-label-align-right .ag-label {\n  margin-right: var(--ag-grid-size);\n}\n\ninput[class^=ag-] {\n  margin: 0;\n  background-color: var(--ag-background-color);\n}\n\ntextarea[class^=ag-],\nselect[class^=ag-] {\n  background-color: var(--ag-background-color);\n}\n\ninput[class^=ag-]:not([type]),\ninput[class^=ag-][type=text],\ninput[class^=ag-][type=number],\ninput[class^=ag-][type=tel],\ninput[class^=ag-][type=date],\ninput[class^=ag-][type=datetime-local],\ntextarea[class^=ag-] {\n  font-size: inherit;\n  line-height: inherit;\n  color: inherit;\n  font-family: inherit;\n  border: var(--ag-borders-input) var(--ag-input-border-color);\n}\ninput[class^=ag-]:not([type]):disabled,\ninput[class^=ag-][type=text]:disabled,\ninput[class^=ag-][type=number]:disabled,\ninput[class^=ag-][type=tel]:disabled,\ninput[class^=ag-][type=date]:disabled,\ninput[class^=ag-][type=datetime-local]:disabled,\ntextarea[class^=ag-]:disabled {\n  color: var(--ag-disabled-foreground-color);\n  background-color: var(--ag-input-disabled-background-color);\n  border-color: var(--ag-input-disabled-border-color);\n}\ninput[class^=ag-]:not([type]):focus,\ninput[class^=ag-][type=text]:focus,\ninput[class^=ag-][type=number]:focus,\ninput[class^=ag-][type=tel]:focus,\ninput[class^=ag-][type=date]:focus,\ninput[class^=ag-][type=datetime-local]:focus,\ntextarea[class^=ag-]:focus {\n  outline: none;\n  box-shadow: var(--ag-input-focus-box-shadow);\n  border-color: var(--ag-input-focus-border-color);\n}\ninput[class^=ag-]:not([type]):invalid,\ninput[class^=ag-][type=text]:invalid,\ninput[class^=ag-][type=number]:invalid,\ninput[class^=ag-][type=tel]:invalid,\ninput[class^=ag-][type=date]:invalid,\ninput[class^=ag-][type=datetime-local]:invalid,\ntextarea[class^=ag-]:invalid {\n  border: var(--ag-borders-input-invalid) var(--ag-input-border-color-invalid);\n}\n\ninput[class^=ag-][type=number]:not(.ag-number-field-input-stepper) {\n  -moz-appearance: textfield;\n}\ninput[class^=ag-][type=number]:not(.ag-number-field-input-stepper)::-webkit-outer-spin-button, input[class^=ag-][type=number]:not(.ag-number-field-input-stepper)::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[class^=ag-][type=range] {\n  padding: 0;\n}\n\ninput[class^=ag-][type=button]:focus,\nbutton[class^=ag-]:focus {\n  box-shadow: var(--ag-input-focus-box-shadow);\n}\n\n.ag-drag-handle {\n  color: var(--ag-secondary-foreground-color);\n}\n\n.ag-list-item,\n.ag-virtual-list-item {\n  height: var(--ag-list-item-height);\n}\n\n.ag-virtual-list-item:focus-visible {\n  outline: none;\n}\n.ag-virtual-list-item:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 4px;\n  left: 4px;\n  display: block;\n  width: calc(100% - 8px);\n  height: calc(100% - 8px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-select-list {\n  background-color: var(--ag-background-color);\n  overflow-y: auto;\n  overflow-x: hidden;\n  border-radius: var(--ag-border-radius);\n  border: var(--ag-borders) var(--ag-border-color);\n}\n\n.ag-list-item {\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.ag-list-item.ag-active-item {\n  background-color: var(--ag-row-hover-color);\n}\n\n.ag-select-list-item {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: default;\n}\n.ag-ltr .ag-select-list-item {\n  padding-left: calc(var(--ag-cell-horizontal-padding) / 2);\n}\n.ag-rtl .ag-select-list-item {\n  padding-right: calc(var(--ag-cell-horizontal-padding) / 2);\n}\n.ag-select-list-item span {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.ag-row-drag,\n.ag-selection-checkbox,\n.ag-group-expanded,\n.ag-group-contracted {\n  color: var(--ag-secondary-foreground-color);\n}\n.ag-ltr .ag-row-drag,\n.ag-ltr .ag-selection-checkbox,\n.ag-ltr .ag-group-expanded,\n.ag-ltr .ag-group-contracted {\n  margin-right: var(--ag-cell-widget-spacing);\n}\n.ag-rtl .ag-row-drag,\n.ag-rtl .ag-selection-checkbox,\n.ag-rtl .ag-group-expanded,\n.ag-rtl .ag-group-contracted {\n  margin-left: var(--ag-cell-widget-spacing);\n}\n\n.ag-cell-wrapper > *:not(.ag-cell-value):not(.ag-group-value) {\n  --ag-internal-calculated-line-height: var(\n      --ag-line-height,\n      calc(var(--ag-row-height) - var(--ag-row-border-width))\n  );\n  --ag-internal-padded-row-height: calc(var(--ag-row-height) - var(--ag-row-border-width));\n  height: min(var(--ag-internal-calculated-line-height), var(--ag-internal-padded-row-height));\n  display: flex;\n  align-items: center;\n  flex: none;\n}\n\n.ag-group-expanded,\n.ag-group-contracted {\n  cursor: pointer;\n}\n\n.ag-group-title-bar-icon {\n  cursor: pointer;\n  flex: none;\n  color: var(--ag-secondary-foreground-color);\n}\n\n.ag-ltr .ag-group-child-count {\n  margin-left: 2px;\n}\n.ag-rtl .ag-group-child-count {\n  margin-right: 2px;\n}\n\n.ag-group-title-bar {\n  background-color: var(--ag-subheader-background-color);\n  padding: var(--ag-grid-size);\n}\n\n.ag-group-toolbar {\n  padding: var(--ag-grid-size);\n  background-color: var(--ag-subheader-toolbar-background-color);\n}\n\n.ag-disabled-group-title-bar,\n.ag-disabled-group-container {\n  opacity: 0.5;\n}\n\n.group-item {\n  margin: calc(var(--ag-grid-size) * 0.5) 0;\n}\n\n.ag-label {\n  white-space: nowrap;\n}\n.ag-ltr .ag-label {\n  margin-right: var(--ag-grid-size);\n}\n.ag-rtl .ag-label {\n  margin-left: var(--ag-grid-size);\n}\n\n.ag-label-align-top .ag-label {\n  margin-bottom: calc(var(--ag-grid-size) * 0.5);\n}\n\n.ag-angle-select[disabled] {\n  color: var(--ag-disabled-foreground-color);\n  pointer-events: none;\n}\n.ag-angle-select[disabled] .ag-angle-select-field {\n  opacity: 0.4;\n}\n\n.ag-ltr .ag-slider-field,\n.ag-ltr .ag-angle-select-field {\n  margin-right: calc(var(--ag-grid-size) * 2);\n}\n.ag-rtl .ag-slider-field,\n.ag-rtl .ag-angle-select-field {\n  margin-left: calc(var(--ag-grid-size) * 2);\n}\n\n.ag-angle-select-parent-circle {\n  width: 24px;\n  height: 24px;\n  border-radius: 12px;\n  border: solid 1px;\n  border-color: var(--ag-border-color);\n  background-color: var(--ag-background-color);\n}\n\n.ag-angle-select-child-circle {\n  top: 4px;\n  left: 12px;\n  width: 6px;\n  height: 6px;\n  margin-left: -3px;\n  margin-top: -4px;\n  border-radius: 3px;\n  background-color: var(--ag-secondary-foreground-color);\n}\n\n.ag-picker-field-wrapper {\n  border: var(--ag-borders);\n  border-color: var(--ag-border-color);\n  border-radius: 5px;\n  background-color: var(--ag-background-color);\n}\n.ag-picker-field-wrapper:disabled {\n  color: var(--ag-disabled-foreground-color);\n  background-color: var(--ag-input-disabled-background-color);\n  border-color: var(--ag-input-disabled-border-color);\n}\n.ag-picker-field-wrapper.ag-picker-has-focus, .ag-picker-field-wrapper:focus-within {\n  outline: none;\n  box-shadow: var(--ag-input-focus-box-shadow);\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-picker-field-button {\n  background-color: var(--ag-background-color);\n  color: var(--ag-secondary-foreground-color);\n}\n\n.ag-dialog.ag-color-dialog {\n  border-radius: 5px;\n}\n\n.ag-color-picker .ag-picker-field-wrapper {\n  padding-left: var(--ag-grid-size);\n  padding-right: var(--ag-grid-size);\n}\n.ag-color-picker .ag-picker-field-display {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  min-height: var(--ag-list-item-height);\n}\n\n.ag-ltr .ag-color-picker-color,\n.ag-ltr .ag-color-picker-value {\n  margin-right: var(--ag-grid-size);\n}\n.ag-rtl .ag-color-picker-color,\n.ag-rtl .ag-color-picker-value {\n  margin-left: var(--ag-grid-size);\n}\n\n.ag-color-panel {\n  padding: var(--ag-grid-size);\n}\n\n.ag-spectrum-color {\n  background-color: rgb(255, 0, 0);\n  border-radius: 2px;\n}\n\n.ag-spectrum-tools {\n  padding: 10px;\n}\n\n.ag-spectrum-sat {\n  background-image: linear-gradient(to right, white, rgba(204, 154, 129, 0));\n}\n\n.ag-spectrum-val {\n  background-image: linear-gradient(to top, black, rgba(204, 154, 129, 0));\n}\n\n.ag-spectrum-dragger {\n  border-radius: 12px;\n  height: 12px;\n  width: 12px;\n  border: 2px solid white;\n  background: black;\n  box-shadow: 0 0 2px 0px rgba(0, 0, 0, 0.24);\n}\n\n.ag-spectrum-hue-background {\n  border-radius: 2px;\n}\n\n.ag-spectrum-alpha-background {\n  border-radius: 2px;\n}\n\n.ag-spectrum-tool {\n  margin-bottom: 10px;\n  height: 11px;\n  border-radius: 2px;\n}\n\n.ag-spectrum-slider {\n  margin-top: -12px;\n  width: 13px;\n  height: 13px;\n  border-radius: 13px;\n  border: 2px solid white;\n  box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.37);\n}\n\n.ag-recent-colors {\n  margin-top: 10px;\n}\n\n.ag-recent-color {\n  margin: 0 3px;\n}\n.ag-recent-color:first-child {\n  margin-left: 0;\n}\n.ag-recent-color:last-child {\n  margin-right: 0;\n}\n\n.ag-spectrum-color:focus-visible:not(:disabled):not([readonly]),\n.ag-spectrum-slider:focus-visible:not(:disabled):not([readonly]),\n.ag-recent-color:focus-visible:not(:disabled):not([readonly]) {\n  box-shadow: var(--ag-input-focus-box-shadow);\n}\n\n.ag-ltr .ag-color-input input[class^=ag-][type=text].ag-input-field-input {\n  padding-left: calc(var(--ag-icon-size) + var(--ag-grid-size) * 2);\n}\n.ag-rtl .ag-color-input input[class^=ag-][type=text].ag-input-field-input {\n  padding-right: calc(var(--ag-icon-size) + var(--ag-grid-size) * 2);\n}\n.ag-color-input .ag-color-input-color {\n  position: absolute;\n}\n.ag-ltr .ag-color-input .ag-color-input-color {\n  margin-left: var(--ag-grid-size);\n}\n.ag-rtl .ag-color-input .ag-color-input-color {\n  margin-right: var(--ag-grid-size);\n}\n\n.ag-color-picker-color,\n.ag-color-input-color {\n  width: var(--ag-icon-size);\n  height: var(--ag-icon-size);\n  border: var(--ag-borders-secondary) var(--ag-secondary-border-color);\n  border-radius: 2px;\n}\n\n.ag-dnd-ghost {\n  border: var(--ag-borders) var(--ag-border-color);\n  background: var(--ag-background-color);\n  border-radius: var(--ag-card-radius);\n  box-shadow: var(--ag-card-shadow);\n  padding: var(--ag-grid-size);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  border: var(--ag-borders-secondary) var(--ag-secondary-border-color);\n  color: var(--ag-secondary-foreground-color);\n  height: var(--ag-header-height) !important;\n  line-height: var(--ag-header-height);\n  margin: 0;\n  padding: 0 calc(var(--ag-grid-size) * 2);\n  transform: translateY(calc(var(--ag-grid-size) * 2));\n}\n\n.ag-dnd-ghost-icon {\n  margin-right: var(--ag-grid-size);\n  color: var(--ag-foreground-color);\n}\n\n.ag-popup-child:not(.ag-tooltip-custom) {\n  box-shadow: var(--ag-popup-shadow);\n}\n\n.ag-select .ag-picker-field-wrapper {\n  min-height: var(--ag-list-item-height);\n  cursor: default;\n}\n.ag-ltr .ag-select .ag-picker-field-wrapper {\n  padding-left: calc(var(--ag-cell-horizontal-padding) / 2);\n}\n.ag-rtl .ag-select .ag-picker-field-wrapper {\n  padding-right: calc(var(--ag-cell-horizontal-padding) / 2);\n}\n.ag-ltr .ag-select .ag-picker-field-wrapper {\n  padding-right: var(--ag-grid-size);\n}\n.ag-rtl .ag-select .ag-picker-field-wrapper {\n  padding-left: var(--ag-grid-size);\n}\n.ag-select.ag-disabled .ag-picker-field-wrapper:focus {\n  box-shadow: none;\n}\n.ag-select:not(.ag-cell-editor, .ag-label-align-top) {\n  min-height: var(--ag-list-item-height);\n}\n.ag-select .ag-picker-field-display {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.ag-select .ag-picker-field-icon {\n  display: flex;\n  align-items: center;\n}\n.ag-select.ag-disabled {\n  opacity: 0.5;\n}\n\n.ag-rich-select-value,\n.ag-rich-select-list {\n  background-color: var(--ag-background-color);\n}\n\n.ag-rich-select-list {\n  width: 100%;\n  height: auto;\n  border-radius: var(--ag-border-radius);\n  border: var(--ag-borders) var(--ag-border-color);\n}\n.ag-rich-select-list .ag-loading-text {\n  padding: var(--ag-widget-vertical-spacing) var(--ag-widget-horizontal-spacing);\n}\n\n.ag-rich-select-value {\n  border-bottom: var(--ag-borders-secondary) var(--ag-secondary-border-color);\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.ag-ltr .ag-rich-select-value {\n  padding-left: calc(var(--ag-cell-horizontal-padding) / 2);\n}\n.ag-rtl .ag-rich-select-value {\n  padding-right: calc(var(--ag-cell-horizontal-padding) / 2);\n}\n.ag-ltr .ag-rich-select-value {\n  padding-right: var(--ag-grid-size);\n}\n.ag-rtl .ag-rich-select-value {\n  padding-left: var(--ag-grid-size);\n}\n\n.ag-ltr .ag-rich-select-field-input {\n  left: calc(var(--ag-cell-horizontal-padding));\n}\n.ag-rtl .ag-rich-select-field-input {\n  right: calc(var(--ag-cell-horizontal-padding));\n}\n\n.ag-popup-editor .ag-rich-select-value {\n  height: var(--ag-row-height);\n  min-width: 200px;\n}\n\n.ag-rich-select-virtual-list-item {\n  cursor: default;\n  height: var(--ag-list-item-height);\n}\n.ag-rich-select-virtual-list-item:focus-visible::after {\n  content: none;\n}\n\n.ag-ltr .ag-rich-select-row {\n  padding-left: calc(var(--ag-cell-horizontal-padding) / 2);\n}\n.ag-rtl .ag-rich-select-row {\n  padding-right: calc(var(--ag-cell-horizontal-padding) / 2);\n}\n\n.ag-rich-select-row-selected {\n  background-color: var(--ag-selected-row-background-color);\n}\n\n.ag-rich-select-row:hover,\n.ag-rich-select-row-highlighted {\n  background-image: linear-gradient(var(--ag-row-hover-color), var(--ag-row-hover-color));\n}\n\n.ag-rich-select-row-text-highlight {\n  font-weight: bold;\n}\n\n.ag-autocomplete {\n  width: 100%;\n}\n\n.ag-autocomplete-list {\n  width: 100%;\n  min-width: 200px;\n  height: calc(var(--ag-row-height) * 6.5);\n}\n\n.ag-autocomplete-virtual-list-item {\n  cursor: default;\n  height: var(--ag-list-item-height);\n}\n.ag-autocomplete-virtual-list-item:focus-visible::after {\n  content: none;\n}\n.ag-autocomplete-virtual-list-item:hover {\n  background-color: var(--ag-row-hover-color);\n}\n\n.ag-autocomplete-row-label {\n  margin: 0px var(--ag-widget-container-horizontal-padding);\n}\n\n.ag-autocomplete-row-selected {\n  background-color: var(--ag-selected-row-background-color);\n}\n\n.ag-pill {\n  border: 1px solid var(--ag-chip-border-color);\n  border-radius: var(--ag-border-radius);\n  background-color: var(--ag-chip-background-color);\n}\n\n.ag-ltr .ag-pill .ag-pill-button {\n  margin-left: var(--ag-grid-size);\n}\n.ag-rtl .ag-pill .ag-pill-button {\n  margin-right: var(--ag-grid-size);\n}\n\n.ag-pill:focus-visible {\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-pill .ag-pill-button:hover {\n  color: var(--ag-active-color);\n  cursor: pointer;\n}\n\n.ag-dragging-range-handle .ag-dialog,\n.ag-dragging-fill-handle .ag-dialog {\n  opacity: 0.7;\n  pointer-events: none;\n}\n\n.ag-dialog {\n  border-radius: var(--ag-border-radius);\n  border: var(--ag-borders) var(--ag-border-color);\n  box-shadow: var(--ag-popup-shadow);\n}\n\n.ag-panel {\n  background-color: var(--ag-panel-background-color);\n  border-color: var(--ag-panel-border-color);\n}\n\n.ag-panel-title-bar {\n  color: var(--ag-header-foreground-color);\n  height: var(--ag-header-height);\n  padding: var(--ag-grid-size) var(--ag-cell-horizontal-padding);\n  border-bottom: var(--ag-borders) var(--ag-border-color);\n}\n\n.ag-ltr .ag-panel-title-bar-button {\n  margin-left: var(--ag-grid-size);\n}\n.ag-rtl .ag-panel-title-bar-button {\n  margin-right: var(--ag-grid-size);\n}\n\n.ag-tooltip {\n  background-color: var(--ag-tooltip-background-color);\n  color: var(--ag-foreground-color);\n  padding: var(--ag-grid-size);\n  border: var(--ag-borders) var(--ag-border-color);\n  border-radius: var(--ag-card-radius);\n  white-space: normal;\n}\n\n.ag-tooltip.ag-tooltip-animate,\n.ag-tooltip-custom.ag-tooltip-animate {\n  transition: opacity 1s;\n}\n.ag-tooltip.ag-tooltip-animate.ag-tooltip-hiding,\n.ag-tooltip-custom.ag-tooltip-animate.ag-tooltip-hiding {\n  opacity: 0;\n}\n\n.ag-ltr .ag-column-select-column,\n.ag-ltr .ag-column-select-column-group {\n  padding-left: calc(var(--ag-indentation-level) * var(--ag-column-select-indent-size));\n}\n.ag-rtl .ag-column-select-column,\n.ag-rtl .ag-column-select-column-group {\n  padding-right: calc(var(--ag-indentation-level) * var(--ag-column-select-indent-size));\n}\n\n.ag-column-select-header-icon {\n  cursor: pointer;\n}\n\n.ag-column-select-header-icon:focus-visible {\n  outline: none;\n}\n.ag-column-select-header-icon:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 0px;\n  left: 0px;\n  display: block;\n  width: calc(100% - 0px);\n  height: calc(100% - 0px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-ltr .ag-column-group-icons:not(:last-child),\n.ag-ltr .ag-column-select-header-icon:not(:last-child),\n.ag-ltr .ag-column-select-header-checkbox:not(:last-child),\n.ag-ltr .ag-column-select-header-filter-wrapper:not(:last-child),\n.ag-ltr .ag-column-select-checkbox:not(:last-child),\n.ag-ltr .ag-column-select-column-drag-handle:not(:last-child),\n.ag-ltr .ag-column-select-column-group-drag-handle:not(:last-child),\n.ag-ltr .ag-column-select-column-label:not(:last-child) {\n  margin-right: var(--ag-widget-horizontal-spacing);\n}\n.ag-rtl .ag-column-group-icons:not(:last-child),\n.ag-rtl .ag-column-select-header-icon:not(:last-child),\n.ag-rtl .ag-column-select-header-checkbox:not(:last-child),\n.ag-rtl .ag-column-select-header-filter-wrapper:not(:last-child),\n.ag-rtl .ag-column-select-checkbox:not(:last-child),\n.ag-rtl .ag-column-select-column-drag-handle:not(:last-child),\n.ag-rtl .ag-column-select-column-group-drag-handle:not(:last-child),\n.ag-rtl .ag-column-select-column-label:not(:last-child) {\n  margin-left: var(--ag-widget-horizontal-spacing);\n}\n\n.ag-column-select-virtual-list-item:focus-visible {\n  outline: none;\n}\n.ag-column-select-virtual-list-item:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 1px;\n  left: 1px;\n  display: block;\n  width: calc(100% - 2px);\n  height: calc(100% - 2px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-column-select-column-group:not(:last-child),\n.ag-column-select-column:not(:last-child) {\n  margin-bottom: var(--ag-widget-vertical-spacing);\n}\n\n.ag-column-select-column-readonly,\n.ag-column-select-column-group-readonly {\n  color: var(--ag-disabled-foreground-color);\n  pointer-events: none;\n}\n\n.ag-ltr .ag-column-select-add-group-indent {\n  margin-left: calc(var(--ag-icon-size) + var(--ag-grid-size) * 2);\n}\n.ag-rtl .ag-column-select-add-group-indent {\n  margin-right: calc(var(--ag-icon-size) + var(--ag-grid-size) * 2);\n}\n\n.ag-column-select-virtual-list-viewport {\n  padding: calc(var(--ag-widget-container-vertical-padding) * 0.5) 0px;\n}\n\n.ag-column-select-virtual-list-item {\n  padding: 0 var(--ag-widget-container-horizontal-padding);\n}\n\n.ag-checkbox-edit {\n  padding-left: var(--ag-cell-horizontal-padding);\n  padding-right: var(--ag-cell-horizontal-padding);\n}\n\n.ag-pill-select .ag-column-drop {\n  border-bottom: 0;\n  min-height: unset;\n}\n.ag-pill-select .ag-column-drop-list {\n  padding: 0;\n}\n.ag-pill-select .ag-select {\n  padding-top: var(--ag-grid-size);\n}\n.ag-pill-select .ag-picker-field-wrapper {\n  background-color: transparent;\n  border: 0;\n}\n.ag-pill-select .ag-picker-field-display {\n  cursor: pointer;\n}\n\n.ag-rtl {\n  text-align: right;\n}\n\n.ag-root-wrapper {\n  border-radius: var(--ag-wrapper-border-radius);\n  border: var(--ag-borders) var(--ag-border-color);\n}\n\n.ag-row > .ag-cell-wrapper.ag-row-group {\n  padding-left: calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size) * var(--ag-indentation-level));\n}\n\n.ag-cell-wrapper.ag-row-group,\n.ag-cell-wrapper.ag-row-group-leaf-indent,\n.ag-cell-wrapper.ag-pivot-leaf-group {\n  padding-left: calc(var(--ag-indentation-level) * var(--ag-row-group-indent-size));\n}\n\n.ag-pivot-leaf-group {\n  margin-left: min(var(--ag-row-group-indent-size), var(--ag-row-group-indent-size) * var(--ag-indentation-level));\n}\n\n.ag-ltr .ag-row-group-leaf-indent {\n  margin-left: var(--ag-row-group-indent-size);\n}\n.ag-rtl .ag-row-group-leaf-indent {\n  margin-right: var(--ag-row-group-indent-size);\n}\n\n.ag-value-change-delta {\n  padding-right: 2px;\n}\n\n.ag-value-change-delta-up {\n  color: var(--ag-value-change-delta-up-color);\n}\n\n.ag-value-change-delta-down {\n  color: var(--ag-value-change-delta-down-color);\n}\n\n.ag-value-change-value {\n  background-color: transparent;\n  border-radius: 1px;\n  padding-left: 1px;\n  padding-right: 1px;\n  transition: background-color 1s;\n}\n\n.ag-value-change-value-highlight {\n  background-color: var(--ag-value-change-value-highlight-background-color);\n  transition: background-color 0.1s;\n}\n\n.ag-cell-data-changed {\n  background-color: var(--ag-value-change-value-highlight-background-color) !important;\n}\n\n.ag-cell-data-changed-animation {\n  background-color: transparent;\n}\n\n.ag-cell-highlight {\n  background-color: var(--ag-range-selection-highlight-color) !important;\n}\n\n.ag-row {\n  height: var(--ag-row-height);\n  background-color: var(--ag-background-color);\n  color: var(--ag-data-color);\n  border-bottom: var(--ag-row-border-style) var(--ag-row-border-color) var(--ag-row-border-width);\n}\n\n.ag-sticky-bottom::after {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 1px;\n  border-top: var(--ag-row-border-style) var(--ag-row-border-color) var(--ag-row-border-width);\n}\n\n.ag-row-highlight-above::after,\n.ag-row-highlight-below::after {\n  content: "";\n  position: absolute;\n  width: calc(100% - 1px);\n  height: 1px;\n  background-color: var(--ag-range-selection-border-color);\n  left: 1px;\n}\n\n.ag-row-highlight-above::after {\n  top: -1px;\n}\n\n.ag-row-highlight-above.ag-row-first::after {\n  top: 0;\n}\n\n.ag-row-highlight-below::after {\n  bottom: 0px;\n}\n\n.ag-row-odd {\n  background-color: var(--ag-odd-row-background-color);\n}\n\n.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible) .ag-horizontal-left-spacer:not(.ag-scroller-corner) {\n  border-right: var(--ag-borders-critical) var(--ag-border-color);\n}\n.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible) .ag-horizontal-right-spacer:not(.ag-scroller-corner) {\n  border-left: var(--ag-borders-critical) var(--ag-border-color);\n}\n\n.ag-row-selected::before {\n  content: "";\n  background-color: var(--ag-selected-row-background-color);\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.ag-row-hover:not(.ag-full-width-row)::before,\n.ag-row-hover.ag-full-width-row.ag-row-group::before {\n  content: "";\n  background-color: var(--ag-row-hover-color);\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n}\n\n.ag-row-hover.ag-full-width-row.ag-row-group > * {\n  position: relative;\n}\n\n.ag-row-hover.ag-row-selected::before {\n  background-color: var(--ag-row-hover-color);\n  background-image: linear-gradient(var(--ag-selected-row-background-color), var(--ag-selected-row-background-color));\n}\n\n.ag-column-hover {\n  background-color: var(--ag-column-hover-color);\n}\n\n.ag-ltr .ag-right-aligned-cell {\n  text-align: right;\n}\n.ag-rtl .ag-right-aligned-cell {\n  text-align: left;\n}\n\n.ag-ltr .ag-right-aligned-cell .ag-cell-value,\n.ag-ltr .ag-right-aligned-cell .ag-group-value {\n  margin-left: auto;\n}\n.ag-rtl .ag-right-aligned-cell .ag-cell-value,\n.ag-rtl .ag-right-aligned-cell .ag-group-value {\n  margin-right: auto;\n}\n\n.ag-ltr .ag-right-aligned-cell .ag-skeleton-effect {\n  margin-left: auto;\n}\n.ag-rtl .ag-right-aligned-cell .ag-skeleton-effect {\n  margin-right: auto;\n}\n\n.ag-cell,\n.ag-full-width-row .ag-cell-wrapper.ag-row-group {\n  --ag-internal-calculated-line-height: var(\n      --ag-line-height,\n      calc(var(--ag-row-height) - var(--ag-row-border-width))\n  );\n  --ag-internal-padded-row-height: calc(var(--ag-row-height) - var(--ag-row-border-width));\n  border: 1px solid transparent;\n  line-height: min(var(--ag-internal-calculated-line-height), var(--ag-internal-padded-row-height));\n  padding-left: calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size) * var(--ag-indentation-level));\n  padding-right: calc(var(--ag-cell-horizontal-padding) - 1px);\n  -webkit-font-smoothing: subpixel-antialiased;\n}\n\n.ag-row > .ag-cell-wrapper {\n  padding-left: calc(var(--ag-cell-horizontal-padding) - 1px);\n  padding-right: calc(var(--ag-cell-horizontal-padding) - 1px);\n}\n\n.ag-row-dragging {\n  cursor: move;\n  opacity: 0.5;\n}\n\n.ag-cell-inline-editing {\n  border: 1px solid var(--ag-border-color);\n  border-radius: var(--ag-card-radius);\n  box-shadow: var(--ag-card-shadow);\n  padding: 0;\n  background-color: var(--ag-control-panel-background-color);\n}\n\n.ag-popup-editor .ag-large-text,\n.ag-autocomplete-list-popup {\n  border: var(--ag-borders) var(--ag-border-color);\n  background: var(--ag-background-color);\n  border-radius: var(--ag-card-radius);\n  box-shadow: var(--ag-card-shadow);\n  padding: var(--ag-grid-size);\n  background-color: var(--ag-control-panel-background-color);\n  padding: 0;\n}\n\n.ag-large-text-input {\n  height: auto;\n  padding: var(--ag-cell-horizontal-padding);\n}\n\n.ag-rtl .ag-large-text-input textarea {\n  resize: none;\n}\n\n.ag-details-row {\n  padding: calc(var(--ag-grid-size) * 5);\n  background-color: var(--ag-background-color);\n}\n\n.ag-layout-auto-height .ag-center-cols-viewport,\n.ag-layout-auto-height .ag-center-cols-container,\n.ag-layout-print .ag-center-cols-viewport,\n.ag-layout-print .ag-center-cols-container {\n  min-height: 50px;\n}\n\n.ag-overlay-loading-wrapper {\n  background-color: var(--ag-modal-overlay-background-color);\n}\n\n.ag-overlay-loading-center {\n  border: var(--ag-borders) var(--ag-border-color);\n  background: var(--ag-background-color);\n  border-radius: var(--ag-card-radius);\n  box-shadow: var(--ag-card-shadow);\n  padding: var(--ag-grid-size);\n}\n\n.ag-overlay-no-rows-wrapper.ag-layout-auto-height {\n  padding-top: 30px;\n}\n\n.ag-skeleton-container {\n  width: 100%;\n  height: 100%;\n  align-content: center;\n}\n\n.ag-skeleton-effect {\n  background-color: var(--ag-row-loading-skeleton-effect-color);\n  width: 100%;\n  height: 1em;\n  border-radius: 0.25rem;\n  animation: ag-skeleton-loading 1.5s ease-in-out 0.5s infinite;\n}\n\n@keyframes ag-skeleton-loading {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.4;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n.ag-loading {\n  display: flex;\n  height: 100%;\n  align-items: center;\n}\n.ag-ltr .ag-loading {\n  padding-left: var(--ag-cell-horizontal-padding);\n}\n.ag-rtl .ag-loading {\n  padding-right: var(--ag-cell-horizontal-padding);\n}\n\n.ag-ltr .ag-loading-icon {\n  padding-right: var(--ag-cell-widget-spacing);\n}\n.ag-rtl .ag-loading-icon {\n  padding-left: var(--ag-cell-widget-spacing);\n}\n\n.ag-icon-loading {\n  animation-name: spin;\n  animation-duration: 1000ms;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n.ag-floating-top {\n  border-bottom: var(--ag-borders-critical) var(--ag-border-color);\n}\n\n.ag-floating-bottom {\n  border-top: var(--ag-borders-critical) var(--ag-border-color);\n}\n\n.ag-ltr .ag-cell {\n  border-right: var(--ag-cell-horizontal-border);\n}\n.ag-rtl .ag-cell {\n  border-left: var(--ag-cell-horizontal-border);\n}\n.ag-ltr .ag-cell {\n  border-right-width: 1px;\n}\n.ag-rtl .ag-cell {\n  border-left-width: 1px;\n}\n\n.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left):not(.ag-cell-range-single-cell) {\n  border-left: var(--ag-borders-critical) var(--ag-border-color);\n}\n\n.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right):not(.ag-cell-range-single-cell) {\n  border-right: var(--ag-borders-critical) var(--ag-border-color);\n}\n\n.ag-cell-range-selected:not(.ag-cell-focus),\n.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-single-cell:not(.ag-cell-inline-editing) {\n  background-color: var(--ag-range-selection-background-color);\n}\n.ag-cell-range-selected:not(.ag-cell-focus).ag-cell-range-chart,\n.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-single-cell:not(.ag-cell-inline-editing).ag-cell-range-chart {\n  background-color: var(--ag-range-selection-chart-background-color) !important;\n}\n.ag-cell-range-selected:not(.ag-cell-focus).ag-cell-range-chart.ag-cell-range-chart-category,\n.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-single-cell:not(.ag-cell-inline-editing).ag-cell-range-chart.ag-cell-range-chart-category {\n  background-color: var(--ag-range-selection-chart-category-background-color) !important;\n}\n\n.ag-cell-range-selected-1:not(.ag-cell-focus),\n.ag-root:not(.ag-context-menu-open) .ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-1:not(.ag-cell-inline-editing) {\n  background-color: var(--ag-range-selection-background-color);\n}\n\n.ag-cell-range-selected-2:not(.ag-cell-focus),\n.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-2 {\n  background-color: var(--ag-range-selection-background-color-2);\n}\n\n.ag-cell-range-selected-3:not(.ag-cell-focus),\n.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-3 {\n  background-color: var(--ag-range-selection-background-color-3);\n}\n\n.ag-cell-range-selected-4:not(.ag-cell-focus),\n.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-4 {\n  background-color: var(--ag-range-selection-background-color-4);\n}\n\n.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell).ag-cell-range-top {\n  border-top-color: var(--ag-range-selection-border-color);\n  border-top-style: var(--ag-range-selection-border-style);\n}\n.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell).ag-cell-range-right {\n  border-right-color: var(--ag-range-selection-border-color);\n  border-right-style: var(--ag-range-selection-border-style);\n}\n.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell).ag-cell-range-bottom {\n  border-bottom-color: var(--ag-range-selection-border-color);\n  border-bottom-style: var(--ag-range-selection-border-style);\n}\n.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell).ag-cell-range-left {\n  border-left-color: var(--ag-range-selection-border-color);\n  border-left-style: var(--ag-range-selection-border-style);\n}\n\n.ag-ltr .ag-cell-focus:not(.ag-cell-range-selected):focus-within,\n.ag-ltr .ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),\n.ag-ltr .ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group,\n.ag-ltr .ag-cell-range-single-cell,\n.ag-ltr .ag-cell-range-single-cell.ag-cell-range-handle,\n.ag-rtl .ag-cell-focus:not(.ag-cell-range-selected):focus-within,\n.ag-rtl .ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),\n.ag-rtl .ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group,\n.ag-rtl .ag-cell-range-single-cell,\n.ag-rtl .ag-cell-range-single-cell.ag-cell-range-handle {\n  border: 1px solid;\n  border-color: var(--ag-range-selection-border-color);\n  border-style: var(--ag-range-selection-border-style);\n  outline: initial;\n}\n\n.ag-cell.ag-selection-fill-top,\n.ag-cell.ag-selection-fill-top.ag-cell-range-selected {\n  border-top: 1px dashed;\n  border-top-color: var(--ag-range-selection-border-color);\n}\n\n.ag-ltr .ag-cell.ag-selection-fill-right,\n.ag-ltr .ag-cell.ag-selection-fill-right.ag-cell-range-selected {\n  border-right: 1px dashed var(--ag-range-selection-border-color) !important;\n}\n.ag-rtl .ag-cell.ag-selection-fill-right,\n.ag-rtl .ag-cell.ag-selection-fill-right.ag-cell-range-selected {\n  border-left: 1px dashed var(--ag-range-selection-border-color) !important;\n}\n\n.ag-cell.ag-selection-fill-bottom,\n.ag-cell.ag-selection-fill-bottom.ag-cell-range-selected {\n  border-bottom: 1px dashed;\n  border-bottom-color: var(--ag-range-selection-border-color);\n}\n\n.ag-ltr .ag-cell.ag-selection-fill-left,\n.ag-ltr .ag-cell.ag-selection-fill-left.ag-cell-range-selected {\n  border-left: 1px dashed var(--ag-range-selection-border-color) !important;\n}\n.ag-rtl .ag-cell.ag-selection-fill-left,\n.ag-rtl .ag-cell.ag-selection-fill-left.ag-cell-range-selected {\n  border-right: 1px dashed var(--ag-range-selection-border-color) !important;\n}\n\n.ag-fill-handle,\n.ag-range-handle {\n  position: absolute;\n  width: 6px;\n  height: 6px;\n  bottom: -1px;\n  background-color: var(--ag-range-selection-border-color);\n}\n.ag-ltr .ag-fill-handle,\n.ag-ltr .ag-range-handle {\n  right: -1px;\n}\n.ag-rtl .ag-fill-handle,\n.ag-rtl .ag-range-handle {\n  left: -1px;\n}\n\n.ag-fill-handle {\n  cursor: cell;\n}\n\n.ag-range-handle {\n  cursor: nwse-resize;\n}\n\n.ag-cell-inline-editing {\n  border-color: var(--ag-input-focus-border-color) !important;\n}\n\n.ag-menu {\n  border: var(--ag-borders) var(--ag-border-color);\n  background: var(--ag-background-color);\n  border-radius: var(--ag-card-radius);\n  box-shadow: var(--ag-card-shadow);\n  padding: var(--ag-grid-size);\n  background-color: var(--ag-menu-background-color);\n  border-color: var(--ag-menu-border-color);\n  padding: 0;\n}\n\n.ag-menu.ag-tabs {\n  min-width: var(--ag-tab-min-width);\n}\n\n.ag-menu-list {\n  cursor: default;\n  padding: var(--ag-grid-size) 0;\n}\n\n.ag-menu-separator {\n  height: calc(var(--ag-grid-size) * 2 + 1px);\n}\n\n.ag-menu-separator-part::after {\n  content: "";\n  display: block;\n  border-top: var(--ag-borders-critical) var(--ag-border-color);\n}\n\n.ag-menu-option-active,\n.ag-compact-menu-option-active {\n  background-color: var(--ag-row-hover-color);\n}\n\n.ag-menu-option-part,\n.ag-compact-menu-option-part {\n  line-height: var(--ag-icon-size);\n  padding: calc(var(--ag-grid-size) + 2px) 0;\n}\n\n.ag-menu-option-disabled,\n.ag-compact-menu-option-disabled {\n  opacity: 0.5;\n}\n\n.ag-menu-option-icon,\n.ag-compact-menu-option-icon {\n  width: var(--ag-icon-size);\n}\n.ag-ltr .ag-menu-option-icon,\n.ag-ltr .ag-compact-menu-option-icon {\n  padding-left: calc(var(--ag-grid-size) * 2);\n}\n.ag-rtl .ag-menu-option-icon,\n.ag-rtl .ag-compact-menu-option-icon {\n  padding-right: calc(var(--ag-grid-size) * 2);\n}\n\n.ag-menu-option-text,\n.ag-compact-menu-option-text {\n  padding-left: calc(var(--ag-grid-size) * 2);\n  padding-right: calc(var(--ag-grid-size) * 2);\n}\n\n.ag-ltr .ag-menu-option-shortcut,\n.ag-ltr .ag-compact-menu-option-shortcut {\n  padding-right: var(--ag-grid-size);\n}\n.ag-rtl .ag-menu-option-shortcut,\n.ag-rtl .ag-compact-menu-option-shortcut {\n  padding-left: var(--ag-grid-size);\n}\n\n.ag-ltr .ag-menu-option-popup-pointer,\n.ag-ltr .ag-compact-menu-option-popup-pointer {\n  padding-right: var(--ag-grid-size);\n}\n.ag-rtl .ag-menu-option-popup-pointer,\n.ag-rtl .ag-compact-menu-option-popup-pointer {\n  padding-left: var(--ag-grid-size);\n}\n\n.ag-tabs-header {\n  display: flex;\n}\n\n.ag-tabs-header-wrapper {\n  display: flex;\n}\n.ag-tabs-header-wrapper .ag-tabs-header {\n  flex: 1;\n}\n\n.ag-tabs-close-button-wrapper {\n  border: 0;\n  border-right: var(--ag-borders) var(--ag-border-color);\n  padding: var(--ag-grid-size);\n}\n\n.ag-tabs-close-button {\n  border: 0;\n  background-color: unset;\n  cursor: pointer;\n  padding: 0;\n}\n\n.ag-tab {\n  border-bottom: var(--ag-selected-tab-underline-width) solid transparent;\n  transition: border-bottom var(--ag-selected-tab-underline-transition-speed);\n  display: flex;\n  flex: none;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n}\n\n.ag-tab:focus-visible {\n  outline: none;\n}\n.ag-tab:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 4px;\n  left: 4px;\n  display: block;\n  width: calc(100% - 8px);\n  height: calc(100% - 8px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-tab-selected {\n  border-bottom-color: var(--ag-selected-tab-underline-color);\n}\n\n.ag-menu-header {\n  color: var(--ag-secondary-foreground-color);\n}\n\n.ag-filter-separator {\n  border-top: var(--ag-borders-critical) var(--ag-border-color);\n}\n\n.ag-filter-select .ag-picker-field-wrapper {\n  width: 0;\n}\n\n.ag-filter-condition-operator {\n  height: 17px;\n}\n\n.ag-ltr .ag-filter-condition-operator-or {\n  margin-left: calc(var(--ag-grid-size) * 2);\n}\n.ag-rtl .ag-filter-condition-operator-or {\n  margin-right: calc(var(--ag-grid-size) * 2);\n}\n\n.ag-set-filter-select-all {\n  padding-top: var(--ag-widget-container-vertical-padding);\n}\n\n.ag-set-filter-list,\n.ag-filter-no-matches {\n  height: calc(var(--ag-list-item-height) * 6);\n}\n\n.ag-set-filter-tree-list {\n  height: calc(var(--ag-list-item-height) * 10);\n}\n\n.ag-set-filter-filter {\n  margin-top: var(--ag-widget-container-vertical-padding);\n  margin-left: var(--ag-widget-container-horizontal-padding);\n  margin-right: var(--ag-widget-container-horizontal-padding);\n}\n\n.ag-filter-to {\n  margin-top: var(--ag-widget-vertical-spacing);\n}\n\n.ag-mini-filter {\n  margin: var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);\n}\n\n.ag-set-filter {\n  --ag-indentation-level: 0;\n}\n\n.ag-ltr .ag-set-filter-item {\n  padding-left: calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level) * var(--ag-set-filter-indent-size));\n}\n.ag-rtl .ag-set-filter-item {\n  padding-right: calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level) * var(--ag-set-filter-indent-size));\n}\n\n.ag-ltr .ag-set-filter-add-group-indent {\n  margin-left: calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding));\n}\n.ag-rtl .ag-set-filter-add-group-indent {\n  margin-right: calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding));\n}\n\n.ag-ltr .ag-set-filter-group-icons {\n  margin-right: var(--ag-widget-container-horizontal-padding);\n}\n.ag-rtl .ag-set-filter-group-icons {\n  margin-left: var(--ag-widget-container-horizontal-padding);\n}\n\n.ag-filter-menu .ag-set-filter-list {\n  min-width: 200px;\n}\n\n.ag-filter-virtual-list-item:focus-visible {\n  outline: none;\n}\n.ag-filter-virtual-list-item:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 1px;\n  left: 1px;\n  display: block;\n  width: calc(100% - 2px);\n  height: calc(100% - 2px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-filter-apply-panel {\n  padding: var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);\n  border-top: var(--ag-borders-secondary) var(--ag-secondary-border-color);\n}\n\n.ag-filter-apply-panel-button {\n  line-height: 1.5;\n}\n.ag-ltr .ag-filter-apply-panel-button {\n  margin-left: calc(var(--ag-grid-size) * 2);\n}\n.ag-rtl .ag-filter-apply-panel-button {\n  margin-right: calc(var(--ag-grid-size) * 2);\n}\n\n.ag-simple-filter-body-wrapper {\n  padding: var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);\n  padding-bottom: calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));\n  overflow-y: auto;\n  min-height: calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));\n}\n.ag-simple-filter-body-wrapper > * {\n  margin-bottom: var(--ag-widget-vertical-spacing);\n}\n.ag-simple-filter-body-wrapper .ag-resizer-wrapper {\n  margin: 0;\n}\n\n.ag-menu:not(.ag-tabs) .ag-filter .ag-filter-body-wrapper,\n.ag-menu:not(.ag-tabs) .ag-filter > *:not(.ag-filter-wrapper) {\n  min-width: calc(var(--ag-menu-min-width) - 2px);\n}\n\n.ag-filter-no-matches {\n  padding: var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);\n}\n\n.ag-multi-filter-menu-item {\n  margin: var(--ag-grid-size) 0;\n}\n\n.ag-multi-filter-group-title-bar {\n  padding: calc(var(--ag-grid-size) * 2) var(--ag-grid-size);\n  background-color: transparent;\n}\n\n.ag-group-filter-field-select-wrapper {\n  padding: var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);\n  padding-bottom: calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));\n}\n.ag-group-filter-field-select-wrapper > * {\n  margin-bottom: var(--ag-widget-vertical-spacing);\n}\n\n.ag-multi-filter-group-title-bar:focus-visible {\n  outline: none;\n}\n.ag-multi-filter-group-title-bar:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 4px;\n  left: 4px;\n  display: block;\n  width: calc(100% - 8px);\n  height: calc(100% - 8px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-side-bar {\n  position: relative;\n}\n\n.ag-tool-panel-wrapper {\n  width: var(--ag-side-bar-panel-width);\n  background-color: var(--ag-control-panel-background-color);\n}\n\n.ag-side-buttons {\n  padding-top: calc(var(--ag-grid-size) * 4);\n  width: calc(var(--ag-icon-size) + 4px);\n  position: relative;\n  overflow: hidden;\n}\n\nbutton.ag-side-button-button {\n  color: inherit;\n  font-family: inherit;\n  font-size: inherit;\n  font-weight: inherit;\n  line-height: inherit;\n  background: transparent;\n  padding: calc(var(--ag-grid-size) * 2) 0 calc(var(--ag-grid-size) * 2) 0;\n  width: 100%;\n  margin: 0;\n  min-height: calc(var(--ag-grid-size) * 18);\n  background-position-y: center;\n  background-position-x: center;\n  background-repeat: no-repeat;\n  border: none;\n  border-top: var(--ag-borders-side-button) var(--ag-border-color);\n  border-bottom: var(--ag-borders-side-button) var(--ag-border-color);\n}\nbutton.ag-side-button-button:focus {\n  box-shadow: none;\n}\n\n.ag-side-button-button:focus-visible {\n  outline: none;\n}\n.ag-side-button-button:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 4px;\n  left: 4px;\n  display: block;\n  width: calc(100% - 8px);\n  height: calc(100% - 8px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-selected button.ag-side-button-button {\n  background-color: var(--ag-side-button-selected-background-color);\n}\n\n.ag-side-button-icon-wrapper {\n  margin-bottom: 3px;\n}\n\n.ag-ltr .ag-side-bar-left,\n.ag-rtl .ag-side-bar-right {\n  border-right: var(--ag-borders) var(--ag-border-color);\n}\n.ag-ltr .ag-side-bar-left .ag-tool-panel-wrapper,\n.ag-rtl .ag-side-bar-right .ag-tool-panel-wrapper {\n  border-left: var(--ag-borders) var(--ag-border-color);\n}\n.ag-ltr .ag-side-bar-left .ag-side-button-button,\n.ag-rtl .ag-side-bar-right .ag-side-button-button {\n  border-right: var(--ag-selected-tab-underline-width) solid transparent;\n  transition: border-right var(--ag-selected-tab-underline-transition-speed);\n}\n.ag-ltr .ag-side-bar-left .ag-selected .ag-side-button-button,\n.ag-rtl .ag-side-bar-right .ag-selected .ag-side-button-button {\n  border-right-color: var(--ag-selected-tab-underline-color);\n}\n\n.ag-rtl .ag-side-bar-left,\n.ag-ltr .ag-side-bar-right {\n  border-left: var(--ag-borders) var(--ag-border-color);\n}\n.ag-rtl .ag-side-bar-left .ag-tool-panel-wrapper,\n.ag-ltr .ag-side-bar-right .ag-tool-panel-wrapper {\n  border-right: var(--ag-borders) var(--ag-border-color);\n}\n.ag-rtl .ag-side-bar-left .ag-side-button-button,\n.ag-ltr .ag-side-bar-right .ag-side-button-button {\n  border-left: var(--ag-selected-tab-underline-width) solid transparent;\n  transition: border-left var(--ag-selected-tab-underline-transition-speed);\n}\n.ag-rtl .ag-side-bar-left .ag-selected .ag-side-button-button,\n.ag-ltr .ag-side-bar-right .ag-selected .ag-side-button-button {\n  border-left-color: var(--ag-selected-tab-underline-color);\n}\n\n.ag-filter-toolpanel-header {\n  height: calc(var(--ag-grid-size) * 6);\n}\n\n.ag-filter-toolpanel-header,\n.ag-filter-toolpanel-search {\n  padding: 0 var(--ag-grid-size);\n}\n\n.ag-filter-toolpanel-header:focus-visible {\n  outline: none;\n}\n.ag-filter-toolpanel-header:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 4px;\n  left: 4px;\n  display: block;\n  width: calc(100% - 8px);\n  height: calc(100% - 8px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-filter-toolpanel-group:not(.ag-has-filter) > .ag-group-title-bar .ag-filter-toolpanel-group-instance-header-icon {\n  display: none;\n}\n\n.ag-filter-toolpanel-group-level-0-header {\n  height: calc(var(--ag-grid-size) * 8);\n}\n\n.ag-filter-toolpanel-group-item {\n  margin-top: calc(var(--ag-grid-size) * 0.5);\n  margin-bottom: calc(var(--ag-grid-size) * 0.5);\n}\n\n.ag-filter-toolpanel-search {\n  height: var(--ag-header-height);\n}\n\n.ag-filter-toolpanel-search-input {\n  flex-grow: 1;\n  height: calc(var(--ag-grid-size) * 4);\n}\n.ag-ltr .ag-filter-toolpanel-search-input {\n  margin-right: var(--ag-grid-size);\n}\n.ag-rtl .ag-filter-toolpanel-search-input {\n  margin-left: var(--ag-grid-size);\n}\n\n.ag-filter-toolpanel-group-level-0 {\n  border-top: var(--ag-borders-secondary) var(--ag-secondary-border-color);\n}\n\n.ag-ltr .ag-filter-toolpanel-expand,\n.ag-ltr .ag-filter-toolpanel-group-title-bar-icon {\n  margin-right: var(--ag-grid-size);\n}\n.ag-rtl .ag-filter-toolpanel-expand,\n.ag-rtl .ag-filter-toolpanel-group-title-bar-icon {\n  margin-left: var(--ag-grid-size);\n}\n\n.ag-filter-toolpanel-group-title-bar {\n  background-color: transparent;\n}\n\n.ag-ltr .ag-filter-toolpanel-header {\n  padding-left: calc(var(--ag-filter-tool-panel-group-indent) * var(--ag-indentation-level, 0) + var(--ag-grid-size));\n}\n.ag-rtl .ag-filter-toolpanel-header {\n  padding-right: calc(var(--ag-filter-tool-panel-group-indent) * var(--ag-indentation-level, 0) + var(--ag-grid-size));\n}\n\n.ag-filter-toolpanel-instance-filter {\n  border-bottom: var(--ag-borders) var(--ag-border-color);\n  border-top: var(--ag-borders) var(--ag-border-color);\n  margin-top: var(--ag-grid-size);\n}\n\n.ag-ltr .ag-filter-toolpanel-group-instance-header-icon,\n.ag-ltr .ag-filter-toolpanel-instance-header-icon {\n  margin-left: var(--ag-grid-size);\n}\n.ag-rtl .ag-filter-toolpanel-group-instance-header-icon,\n.ag-rtl .ag-filter-toolpanel-instance-header-icon {\n  margin-right: var(--ag-grid-size);\n}\n\n.ag-set-filter-group-icons {\n  color: var(--ag-secondary-foreground-color);\n}\n\n.ag-pivot-mode-panel {\n  min-height: var(--ag-header-height);\n  height: var(--ag-header-height);\n  display: flex;\n}\n\n.ag-pivot-mode-select {\n  display: flex;\n  align-items: center;\n}\n.ag-ltr .ag-pivot-mode-select {\n  margin-left: var(--ag-widget-container-horizontal-padding);\n}\n.ag-rtl .ag-pivot-mode-select {\n  margin-right: var(--ag-widget-container-horizontal-padding);\n}\n\n.ag-column-select-header:focus-visible {\n  outline: none;\n}\n.ag-column-select-header:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 4px;\n  left: 4px;\n  display: block;\n  width: calc(100% - 8px);\n  height: calc(100% - 8px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-column-select-header {\n  height: var(--ag-header-height);\n  align-items: center;\n  padding: 0 var(--ag-widget-container-horizontal-padding);\n  border-bottom: var(--ag-borders-secondary) var(--ag-secondary-border-color);\n}\n\n.ag-column-panel-column-select {\n  border-bottom: var(--ag-borders-secondary) var(--ag-secondary-border-color);\n  border-top: var(--ag-borders-secondary) var(--ag-secondary-border-color);\n}\n\n.ag-column-group-icons,\n.ag-column-select-header-icon {\n  color: var(--ag-secondary-foreground-color);\n}\n\n.ag-column-select-list .ag-list-item-hovered::after {\n  content: "";\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 1px;\n  background-color: var(--ag-range-selection-border-color);\n}\n.ag-column-select-list .ag-item-highlight-top::after {\n  top: 0;\n}\n.ag-column-select-list .ag-item-highlight-bottom::after {\n  bottom: 0;\n}\n\n.ag-header,\n.ag-advanced-filter-header {\n  background-color: var(--ag-header-background-color);\n  border-bottom: var(--ag-borders-critical) var(--ag-border-color);\n}\n\n.ag-header-row {\n  color: var(--ag-header-foreground-color);\n  height: var(--ag-header-height);\n}\n\n.ag-pinned-right-header {\n  border-left: var(--ag-borders-critical) var(--ag-border-color);\n}\n\n.ag-pinned-left-header {\n  border-right: var(--ag-borders-critical) var(--ag-border-color);\n}\n\n.ag-ltr .ag-header-cell:not(.ag-right-aligned-header) .ag-header-label-icon,\n.ag-ltr .ag-header-cell:not(.ag-right-aligned-header) .ag-header-menu-icon {\n  margin-left: var(--ag-grid-size);\n}\n.ag-rtl .ag-header-cell:not(.ag-right-aligned-header) .ag-header-label-icon,\n.ag-rtl .ag-header-cell:not(.ag-right-aligned-header) .ag-header-menu-icon {\n  margin-right: var(--ag-grid-size);\n}\n\n.ag-ltr .ag-header-cell.ag-right-aligned-header .ag-header-label-icon,\n.ag-ltr .ag-header-cell.ag-right-aligned-header .ag-header-menu-icon {\n  margin-right: var(--ag-grid-size);\n}\n.ag-rtl .ag-header-cell.ag-right-aligned-header .ag-header-label-icon,\n.ag-rtl .ag-header-cell.ag-right-aligned-header .ag-header-menu-icon {\n  margin-left: var(--ag-grid-size);\n}\n\n.ag-header-cell,\n.ag-header-group-cell {\n  padding-left: var(--ag-cell-horizontal-padding);\n  padding-right: var(--ag-cell-horizontal-padding);\n}\n.ag-header-cell.ag-header-cell-moving,\n.ag-header-group-cell.ag-header-cell-moving {\n  background-color: var(--ag-header-cell-moving-background-color);\n}\n\n.ag-ltr .ag-header-group-cell-label.ag-sticky-label {\n  left: var(--ag-cell-horizontal-padding);\n}\n.ag-rtl .ag-header-group-cell-label.ag-sticky-label {\n  right: var(--ag-cell-horizontal-padding);\n}\n\n.ag-header-cell:focus-visible {\n  outline: none;\n}\n.ag-header-cell:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 4px;\n  left: 4px;\n  display: block;\n  width: calc(100% - 8px);\n  height: calc(100% - 8px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-header-group-cell:focus-visible {\n  outline: none;\n}\n.ag-header-group-cell:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 4px;\n  left: 4px;\n  display: block;\n  width: calc(100% - 8px);\n  height: calc(100% - 8px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-advanced-filter-header-cell:focus-visible {\n  outline: none;\n}\n.ag-advanced-filter-header-cell:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 4px;\n  left: 4px;\n  display: block;\n  width: calc(100% - 8px);\n  height: calc(100% - 8px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-header-icon {\n  color: var(--ag-secondary-foreground-color);\n}\n\n.ag-header-expand-icon {\n  cursor: pointer;\n}\n.ag-ltr .ag-header-expand-icon {\n  margin-left: 4px;\n}\n.ag-rtl .ag-header-expand-icon {\n  margin-right: 4px;\n}\n\n.ag-header-row:not(:first-child) .ag-header-cell:not(.ag-header-span-height.ag-header-span-total),\n.ag-header-row:not(:first-child) .ag-header-group-cell.ag-header-group-cell-with-group {\n  border-top: var(--ag-borders-critical) var(--ag-border-color);\n}\n\n.ag-header-group-cell:not(.ag-column-resizing) + .ag-header-group-cell:not(.ag-column-hover):not(.ag-header-cell-moving):hover, .ag-header-group-cell:not(.ag-column-resizing) + .ag-header-group-cell:not(.ag-column-hover).ag-column-resizing,\n.ag-header-cell:not(.ag-column-resizing) + .ag-header-cell:not(.ag-column-hover):not(.ag-header-cell-moving):hover,\n.ag-header-cell:not(.ag-column-resizing) + .ag-header-cell:not(.ag-column-hover).ag-column-resizing,\n.ag-header-group-cell:first-of-type:not(.ag-header-cell-moving):hover,\n.ag-header-group-cell:first-of-type.ag-column-resizing,\n.ag-header-cell:not(.ag-column-hover):first-of-type:not(.ag-header-cell-moving):hover,\n.ag-header-cell:not(.ag-column-hover):first-of-type.ag-column-resizing {\n  background-color: var(--ag-header-cell-hover-background-color);\n}\n\n.ag-header-cell::before,\n.ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group)::before {\n  content: "";\n  position: absolute;\n  z-index: 1;\n  display: var(--ag-header-column-separator-display);\n  width: var(--ag-header-column-separator-width);\n  height: var(--ag-header-column-separator-height);\n  top: calc(50% - var(--ag-header-column-separator-height) * 0.5);\n  background-color: var(--ag-header-column-separator-color);\n}\n.ag-ltr .ag-header-cell::before,\n.ag-ltr .ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group)::before {\n  right: 0;\n}\n.ag-rtl .ag-header-cell::before,\n.ag-rtl .ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group)::before {\n  left: 0;\n}\n\n.ag-header-cell-resize {\n  display: flex;\n  align-items: center;\n}\n\n.ag-header-cell-resize::after {\n  content: "";\n  position: absolute;\n  z-index: 1;\n  display: var(--ag-header-column-resize-handle-display);\n  width: var(--ag-header-column-resize-handle-width);\n  height: var(--ag-header-column-resize-handle-height);\n  top: calc(50% - var(--ag-header-column-resize-handle-height) * 0.5);\n  background-color: var(--ag-header-column-resize-handle-color);\n}\n.ag-header-cell.ag-header-span-height .ag-header-cell-resize::after {\n  height: calc(100% - var(--ag-grid-size) * 4);\n  top: calc(var(--ag-grid-size) * 2);\n}\n\n.ag-ltr .ag-header-viewport .ag-header-cell-resize::after {\n  left: calc(50% - var(--ag-header-column-resize-handle-width));\n}\n.ag-rtl .ag-header-viewport .ag-header-cell-resize::after {\n  right: calc(50% - var(--ag-header-column-resize-handle-width));\n}\n\n.ag-pinned-left-header .ag-header-cell-resize::after {\n  left: calc(50% - var(--ag-header-column-resize-handle-width));\n}\n\n.ag-pinned-right-header .ag-header-cell-resize::after {\n  left: 50%;\n}\n\n.ag-ltr .ag-header-select-all {\n  margin-right: var(--ag-cell-horizontal-padding);\n}\n.ag-rtl .ag-header-select-all {\n  margin-left: var(--ag-cell-horizontal-padding);\n}\n\n.ag-ltr .ag-floating-filter-button {\n  margin-left: var(--ag-cell-widget-spacing);\n}\n.ag-rtl .ag-floating-filter-button {\n  margin-right: var(--ag-cell-widget-spacing);\n}\n\n.ag-floating-filter-button-button {\n  color: inherit;\n  font-family: inherit;\n  font-size: inherit;\n  font-weight: inherit;\n  line-height: inherit;\n  appearance: none;\n  background: transparent;\n  border: none;\n  height: var(--ag-icon-size);\n  padding: 0;\n  width: var(--ag-icon-size);\n}\n\n.ag-filter-loading {\n  background-color: var(--ag-control-panel-background-color);\n  height: 100%;\n  padding: var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);\n  position: absolute;\n  width: 100%;\n  z-index: 1;\n}\n\n.ag-paging-panel {\n  border-top: 1px solid;\n  border-top-color: var(--ag-border-color);\n  color: var(--ag-secondary-foreground-color);\n  height: var(--ag-header-height);\n}\n.ag-paging-panel > * {\n  margin: 0 var(--ag-cell-horizontal-padding);\n}\n.ag-paging-panel > .ag-paging-page-size .ag-wrapper {\n  min-width: calc(var(--ag-grid-size) * 10);\n}\n\n.ag-paging-button {\n  cursor: pointer;\n}\n\n.ag-paging-button.ag-disabled {\n  cursor: default;\n  color: var(--ag-disabled-foreground-color);\n}\n\n.ag-paging-button:focus-visible {\n  outline: none;\n}\n.ag-paging-button:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 0px;\n  left: 0px;\n  display: block;\n  width: calc(100% - 0px);\n  height: calc(100% - 0px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-paging-button,\n.ag-paging-description {\n  margin: 0 var(--ag-grid-size);\n}\n\n.ag-status-bar {\n  border-top: var(--ag-borders) var(--ag-border-color);\n  color: var(--ag-disabled-foreground-color);\n  padding-right: calc(var(--ag-grid-size) * 4);\n  padding-left: calc(var(--ag-grid-size) * 4);\n  line-height: 1.5;\n}\n\n.ag-status-name-value-value {\n  color: var(--ag-foreground-color);\n}\n\n.ag-status-bar-center {\n  text-align: center;\n}\n\n.ag-status-name-value {\n  margin-left: var(--ag-grid-size);\n  margin-right: var(--ag-grid-size);\n  padding-top: calc(var(--ag-grid-size) * 2);\n  padding-bottom: calc(var(--ag-grid-size) * 2);\n}\n\n.ag-column-drop-cell {\n  background: var(--ag-chip-background-color);\n  border-radius: calc(var(--ag-grid-size) * 4);\n  height: calc(var(--ag-grid-size) * 4);\n  padding: 0 calc(var(--ag-grid-size) * 0.5);\n  border: 1px solid var(--ag-chip-border-color);\n}\n\n.ag-column-drop-cell:focus-visible {\n  outline: none;\n}\n.ag-column-drop-cell:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 2px;\n  left: 2px;\n  display: block;\n  width: calc(100% - 4px);\n  height: calc(100% - 4px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-column-drop-cell-text {\n  margin: 0 var(--ag-grid-size);\n}\n\n.ag-column-drop-cell-button {\n  min-width: calc(var(--ag-grid-size) * 4);\n  margin: 0 calc(var(--ag-grid-size) * 0.5);\n  color: var(--ag-secondary-foreground-color);\n}\n\n.ag-column-drop-cell-drag-handle {\n  margin-left: calc(var(--ag-grid-size) * 2);\n}\n\n.ag-column-drop-cell-ghost {\n  opacity: 0.5;\n}\n\n.ag-column-drop-horizontal {\n  background-color: var(--ag-header-background-color);\n  color: var(--ag-secondary-foreground-color);\n  height: var(--ag-header-height);\n  border-bottom: var(--ag-borders) var(--ag-border-color);\n}\n.ag-ltr .ag-column-drop-horizontal {\n  padding-left: var(--ag-cell-horizontal-padding);\n}\n.ag-rtl .ag-column-drop-horizontal {\n  padding-right: var(--ag-cell-horizontal-padding);\n}\n\n.ag-ltr .ag-column-drop-horizontal-half-width:not(:last-child) {\n  border-right: var(--ag-borders) var(--ag-border-color);\n}\n.ag-rtl .ag-column-drop-horizontal-half-width:not(:last-child) {\n  border-left: var(--ag-borders) var(--ag-border-color);\n}\n\n.ag-column-drop-horizontal-cell-separator {\n  margin: 0 var(--ag-grid-size);\n  color: var(--ag-secondary-foreground-color);\n}\n\n.ag-column-drop-horizontal-empty-message {\n  color: var(--ag-disabled-foreground-color);\n}\n\n.ag-ltr .ag-column-drop-horizontal-icon {\n  margin-right: var(--ag-cell-horizontal-padding);\n}\n.ag-rtl .ag-column-drop-horizontal-icon {\n  margin-left: var(--ag-cell-horizontal-padding);\n}\n\n.ag-column-drop-vertical-list {\n  padding-bottom: var(--ag-grid-size);\n  padding-right: var(--ag-grid-size);\n  padding-left: var(--ag-grid-size);\n}\n\n.ag-column-drop-vertical-cell {\n  margin-top: var(--ag-grid-size);\n}\n\n.ag-column-drop-vertical {\n  min-height: 50px;\n  border-bottom: var(--ag-borders-secondary) var(--ag-secondary-border-color);\n}\n.ag-column-drop-vertical.ag-last-column-drop {\n  border-bottom: none;\n}\n\n.ag-column-drop-vertical-icon {\n  margin-left: var(--ag-grid-size);\n  margin-right: var(--ag-grid-size);\n}\n\n.ag-column-drop-vertical-empty-message {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  overflow: hidden;\n  color: var(--ag-disabled-foreground-color);\n  margin-top: var(--ag-grid-size);\n}\n\n.ag-select-agg-func-popup {\n  border: var(--ag-borders) var(--ag-border-color);\n  background: var(--ag-background-color);\n  border-radius: var(--ag-card-radius);\n  box-shadow: var(--ag-card-shadow);\n  padding: var(--ag-grid-size);\n  background: var(--ag-background-color);\n  height: calc(var(--ag-grid-size) * 5 * 3.5);\n  padding: 0;\n}\n\n.ag-select-agg-func-virtual-list-item {\n  cursor: default;\n}\n.ag-ltr .ag-select-agg-func-virtual-list-item {\n  padding-left: calc(var(--ag-grid-size) * 2);\n}\n.ag-rtl .ag-select-agg-func-virtual-list-item {\n  padding-right: calc(var(--ag-grid-size) * 2);\n}\n.ag-select-agg-func-virtual-list-item:hover {\n  background-color: var(--ag-selected-row-background-color);\n}\n\n.ag-select-agg-func-virtual-list-item:focus-visible {\n  outline: none;\n}\n.ag-select-agg-func-virtual-list-item:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 1px;\n  left: 1px;\n  display: block;\n  width: calc(100% - 2px);\n  height: calc(100% - 2px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-sort-indicator-container {\n  display: flex;\n}\n\n.ag-ltr .ag-sort-indicator-icon {\n  padding-left: var(--ag-grid-size);\n}\n.ag-rtl .ag-sort-indicator-icon {\n  padding-right: var(--ag-grid-size);\n}\n\n.ag-chart {\n  position: relative;\n  display: flex;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n}\n\n.ag-chart-components-wrapper {\n  position: relative;\n  display: flex;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.ag-chart-canvas-wrapper {\n  position: relative;\n  flex: 1 1 auto;\n  overflow: hidden;\n}\n\n.ag-chart-menu {\n  position: absolute;\n  top: 16px;\n  display: flex;\n  flex-direction: column;\n}\n.ag-ltr .ag-chart-menu {\n  right: 20px;\n}\n.ag-rtl .ag-chart-menu {\n  left: 20px;\n}\n\n.ag-chart-docked-container {\n  position: relative;\n  min-width: var(--ag-chart-menu-panel-width);\n}\n\n.ag-chart-menu-hidden ~ .ag-chart-docked-container {\n  display: none;\n}\n\n.ag-chart-tabbed-menu {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.ag-chart-tabbed-menu-header {\n  flex: none;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  cursor: default;\n}\n\n.ag-chart-tabbed-menu-body {\n  display: flex;\n  flex: 1 1 auto;\n  align-items: stretch;\n  overflow: hidden;\n}\n\n.ag-chart-tab {\n  width: 100%;\n  overflow: hidden;\n  overflow-y: auto;\n}\n\n.ag-chart-settings {\n  overflow-x: hidden;\n}\n\n.ag-chart-settings-wrapper {\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  overflow: hidden;\n}\n\n.ag-chart-settings-nav-bar {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 30px;\n  padding: 0 10px;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.ag-chart-settings-card-selector {\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  flex: 1 1 auto;\n  height: 100%;\n  padding: 0 10px;\n}\n\n.ag-chart-settings-card-item {\n  cursor: pointer;\n  width: 10px;\n  height: 10px;\n  background-color: #000;\n  position: relative;\n}\n.ag-chart-settings-card-item.ag-not-selected {\n  opacity: 0.2;\n}\n.ag-chart-settings-card-item::before {\n  content: " ";\n  display: block;\n  position: absolute;\n  background-color: transparent;\n  left: 50%;\n  top: 50%;\n  margin-left: -10px;\n  margin-top: -10px;\n  width: 20px;\n  height: 20px;\n}\n\n.ag-chart-settings-prev,\n.ag-chart-settings-next {\n  position: relative;\n  flex: none;\n}\n.ag-chart-settings-prev:focus-within,\n.ag-chart-settings-next:focus-within {\n  box-shadow: var(--ag-input-focus-box-shadow);\n  border-radius: 1px;\n}\n\n.ag-chart-settings-prev-button,\n.ag-chart-settings-next-button {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n  opacity: 0;\n}\n\n.ag-chart-settings-mini-charts-container {\n  position: relative;\n  flex: 1 1 auto;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.ag-chart-settings-mini-wrapper {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  min-height: 100%;\n  overflow: hidden;\n}\n.ag-chart-settings-mini-wrapper.ag-animating {\n  transition: left 0.3s;\n  transition-timing-function: ease-in-out;\n}\n\n.ag-chart-mini-thumbnail {\n  cursor: pointer;\n}\n\n.ag-chart-mini-thumbnail-canvas {\n  display: block;\n}\n\n.ag-chart-data-wrapper,\n.ag-chart-format-wrapper,\n.ag-chart-advanced-settings-wrapper {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  padding-bottom: 16px;\n}\n\n.ag-chart-data-wrapper,\n.ag-chart-advanced-settings-wrapper {\n  height: 100%;\n  overflow-y: auto;\n}\n\n.ag-chart-advanced-settings {\n  background-color: var(--ag-control-panel-background-color);\n}\n\n.ag-chart-advanced-settings-wrapper,\n.ag-chart-advanced-settings {\n  width: 100%;\n}\n\n.ag-chart-advanced-settings-wrapper {\n  padding-bottom: 0;\n}\n\n.ag-chart-data-section,\n.ag-chart-format-section,\n.ag-chart-advanced-settings-section {\n  display: flex;\n  margin: 0;\n}\n\n.ag-chart-advanced-settings-section {\n  padding-top: var(--ag-grid-size);\n  padding-bottom: var(--ag-grid-size);\n}\n.ag-chart-advanced-settings-section:not(:last-child) {\n  border-bottom: 1px solid var(--ag-secondary-border-color);\n}\n\n.ag-chart-empty-text {\n  display: flex;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--ag-background-color);\n}\n\n.ag-chart .ag-chart-menu {\n  display: none;\n}\n\n.ag-chart-menu-hidden:hover .ag-chart-menu {\n  display: block;\n}\n\n.ag-chart .ag-chart-menu-wrapper .ag-chart-menu {\n  display: flex;\n  flex-direction: row;\n  top: 8px;\n  gap: 20px;\n  width: auto;\n}\n.ag-ltr .ag-chart .ag-chart-menu-wrapper .ag-chart-menu {\n  right: calc(var(--ag-cell-horizontal-padding) + var(--ag-grid-size) - 4px);\n  justify-content: right;\n}\n.ag-rtl .ag-chart .ag-chart-menu-wrapper .ag-chart-menu {\n  left: calc(var(--ag-cell-horizontal-padding) + var(--ag-grid-size) - 4px);\n  justify-content: left;\n}\n\n.ag-charts-font-size-color {\n  display: flex;\n  align-self: stretch;\n  justify-content: space-between;\n}\n\n.ag-charts-data-group-item {\n  position: relative;\n}\n\n.ag-charts-data-group-item:not(:last-child) {\n  margin-bottom: var(--ag-grid-size);\n}\n\n.ag-chart-menu {\n  border-radius: var(--ag-card-radius);\n  background: var(--ag-background-color);\n}\n\n.ag-chart-menu-icon {\n  opacity: 0.5;\n  margin: 2px 0;\n  cursor: pointer;\n  border-radius: var(--ag-card-radius);\n  color: var(--ag-secondary-foreground-color);\n}\n.ag-chart-menu-icon:hover {\n  opacity: 1;\n}\n\n.ag-chart-menu-toolbar-button {\n  border: 0;\n  background-color: unset;\n  padding: 0 2px;\n  border-radius: 1px;\n}\n\n.ag-chart-mini-thumbnail {\n  border: 1px solid var(--ag-secondary-border-color);\n  border-radius: 5px;\n}\n.ag-chart-mini-thumbnail.ag-selected {\n  border-color: var(--ag-minichart-selected-chart-color);\n  border-width: 2px;\n}\n.ag-chart-mini-thumbnail:focus-visible {\n  outline: none;\n  border-color: var(--ag-minichart-selected-chart-color);\n  box-shadow: var(--ag-input-focus-box-shadow);\n}\n\n.ag-chart-settings-card-item {\n  background: var(--ag-foreground-color);\n  width: 8px;\n  height: 8px;\n  border-radius: 4px;\n}\n.ag-chart-settings-card-item.ag-selected {\n  background-color: var(--ag-minichart-selected-page-color);\n}\n\n.ag-chart-data-column-drag-handle {\n  margin-left: var(--ag-grid-size);\n}\n\n.ag-charts-settings-group-title-bar,\n.ag-charts-data-group-title-bar,\n.ag-charts-format-top-level-group-title-bar {\n  border-top: var(--ag-borders-secondary) var(--ag-secondary-border-color);\n  position: relative;\n}\n\n.ag-charts-advanced-settings-top-level-group-title-bar {\n  position: relative;\n  background-color: unset;\n}\n\n.ag-charts-data-group-title-bar:focus-visible {\n  outline: none;\n}\n.ag-charts-data-group-title-bar:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 4px;\n  left: 4px;\n  display: block;\n  width: calc(100% - 8px);\n  height: calc(100% - 8px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-charts-format-top-level-group-title-bar:focus-visible {\n  outline: none;\n}\n.ag-charts-format-top-level-group-title-bar:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: 4px;\n  left: 4px;\n  display: block;\n  width: calc(100% - 8px);\n  height: calc(100% - 8px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-charts-data-group-title-bar .ag-charts-data-group-title,\n.ag-charts-format-top-level-group-title-bar .ag-charts-format-top-level-group-title {\n  cursor: pointer;\n}\n\n.ag-charts-data-group-container {\n  padding: calc(var(--ag-widget-container-vertical-padding) * 0.5) var(--ag-widget-container-horizontal-padding);\n}\n.ag-charts-data-group-container .ag-charts-data-group-item:not(.ag-charts-format-sub-level-group):not(.ag-pill-select):not(.ag-select) {\n  height: var(--ag-list-item-height);\n}\n.ag-charts-data-group-container .ag-charts-data-group-item.ag-picker-field {\n  margin-top: var(--ag-grid-size);\n}\n.ag-charts-data-group-container .ag-list-item-hovered::after {\n  content: "";\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 1px;\n  background-color: var(--ag-range-selection-border-color);\n}\n.ag-charts-data-group-container .ag-item-highlight-top::after {\n  top: 0;\n}\n.ag-charts-data-group-container .ag-item-highlight-bottom::after {\n  bottom: 0;\n}\n\n.ag-charts-format-top-level-group-container,\n.ag-charts-advanced-settings-top-level-group-container {\n  padding: var(--ag-grid-size);\n}\n.ag-ltr .ag-charts-format-top-level-group-container,\n.ag-ltr .ag-charts-advanced-settings-top-level-group-container {\n  margin-left: calc(var(--ag-grid-size) * 2);\n}\n.ag-rtl .ag-charts-format-top-level-group-container,\n.ag-rtl .ag-charts-advanced-settings-top-level-group-container {\n  margin-right: calc(var(--ag-grid-size) * 2);\n}\n\n.ag-charts-format-top-level-group-item,\n.ag-charts-advanced-settings-top-level-group-item {\n  margin: var(--ag-grid-size) 0;\n}\n\n.ag-charts-format-sub-level-group-container {\n  padding: var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);\n  padding-bottom: calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));\n}\n.ag-charts-format-sub-level-group-container > * {\n  margin-bottom: var(--ag-widget-vertical-spacing);\n}\n\n.ag-charts-format-sub-level-no-header-group-container > * {\n  margin-bottom: var(--ag-widget-vertical-spacing);\n}\n\n.ag-charts-format-sub-level-group-container .ag-charts-format-sub-level-group-item.ag-font-panel-no-header {\n  margin: 0;\n}\n\n.ag-charts-settings-group-container {\n  padding: var(--ag-grid-size);\n  row-gap: 8px;\n  display: grid;\n  grid-template-columns: 60px 1fr 60px 1fr 60px;\n}\n.ag-charts-settings-group-container .ag-chart-mini-thumbnail:nth-child(3n+1) {\n  grid-column: 1;\n}\n.ag-charts-settings-group-container .ag-chart-mini-thumbnail:nth-child(3n+2) {\n  grid-column: 3;\n}\n.ag-charts-settings-group-container .ag-chart-mini-thumbnail:nth-child(3n+3) {\n  grid-column: 5;\n}\n\n.ag-chart-menu-panel {\n  background-color: var(--ag-control-panel-background-color);\n}\n.ag-ltr .ag-chart-menu-panel {\n  border-left: solid 1px var(--ag-border-color);\n}\n.ag-rtl .ag-chart-menu-panel {\n  border-right: solid 1px var(--ag-border-color);\n}\n\n.ag-charts-theme-default {\n  --ag-charts-align: none !important;\n  --ag-charts-justify: none !important;\n}\n\n.ag-date-time-list-page-title-bar {\n  display: flex;\n}\n\n.ag-date-time-list-page-title {\n  flex-grow: 1;\n  text-align: center;\n}\n\n.ag-date-time-list-page-column-labels-row,\n.ag-date-time-list-page-entries-row {\n  display: flex;\n}\n\n.ag-date-time-list-page-column-label,\n.ag-date-time-list-page-entry {\n  flex-basis: 0;\n  flex-grow: 1;\n}\n\n.ag-date-time-list-page-entry {\n  cursor: pointer;\n  text-align: center;\n}\n\n.ag-date-time-list-page-column-label {\n  text-align: center;\n}\n\n.ag-advanced-filter-header {\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding-left: var(--ag-cell-horizontal-padding);\n  padding-right: var(--ag-cell-horizontal-padding);\n}\n\n.ag-advanced-filter {\n  display: flex;\n  align-items: center;\n  width: 100%;\n}\n\n.ag-advanced-filter-apply-button,\n.ag-advanced-filter-builder-button {\n  line-height: normal;\n  white-space: nowrap;\n}\n.ag-ltr .ag-advanced-filter-apply-button,\n.ag-ltr .ag-advanced-filter-builder-button {\n  margin-left: calc(var(--ag-grid-size) * 2);\n}\n.ag-rtl .ag-advanced-filter-apply-button,\n.ag-rtl .ag-advanced-filter-builder-button {\n  margin-right: calc(var(--ag-grid-size) * 2);\n}\n\n.ag-advanced-filter-builder-button {\n  display: flex;\n  align-items: center;\n  border: 0;\n  background-color: unset;\n  color: var(--ag-foreground-color);\n  font-size: var(--ag-font-size);\n  font-weight: 600;\n}\n.ag-advanced-filter-builder-button:hover:not(:disabled) {\n  background-color: var(--ag-row-hover-color);\n}\n.ag-advanced-filter-builder-button:not(:disabled) {\n  cursor: pointer;\n}\n\n.ag-advanced-filter-builder-button-label {\n  margin-left: var(--ag-grid-size);\n}\n\n.ag-advanced-filter-builder {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  width: 100%;\n  background-color: var(--ag-control-panel-background-color);\n  display: flex;\n  flex-direction: column;\n}\n\n.ag-advanced-filter-builder-list {\n  flex: 1;\n  overflow: auto;\n}\n.ag-advanced-filter-builder-list .ag-list-item-hovered::after {\n  content: "";\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 1px;\n  background-color: var(--ag-range-selection-border-color);\n}\n.ag-advanced-filter-builder-list .ag-item-highlight-top::after {\n  top: 0;\n}\n.ag-advanced-filter-builder-list .ag-item-highlight-bottom::after {\n  bottom: 0;\n}\n\n.ag-advanced-filter-builder-button-panel {\n  display: flex;\n  justify-content: flex-end;\n  padding: var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);\n  border-top: var(--ag-borders-secondary) var(--ag-secondary-border-color);\n}\n\n.ag-advanced-filter-builder .ag-advanced-filter-builder-button-panel .ag-advanced-filter-builder-apply-button,\n.ag-advanced-filter-builder .ag-advanced-filter-builder-button-panel .ag-advanced-filter-builder-cancel-button {\n  margin-left: calc(var(--ag-grid-size) * 2);\n}\n\n.ag-advanced-filter-builder-item-wrapper {\n  display: flex;\n  flex: 1 1 auto;\n  align-items: center;\n  justify-content: space-between;\n  overflow: hidden;\n  padding-left: calc(var(--ag-icon-size) / 2);\n  padding-right: var(--ag-icon-size);\n}\n\n.ag-virtual-list-viewport .ag-advanced-filter-builder-item-wrapper .ag-tab-guard {\n  position: absolute;\n}\n\n.ag-advanced-filter-builder-item-tree-lines > * {\n  width: var(--ag-advanced-filter-builder-indent-size);\n}\n\n.ag-advanced-filter-builder-item-tree-lines .ag-advanced-filter-builder-item-tree-line-root {\n  width: var(--ag-icon-size);\n}\n.ag-advanced-filter-builder-item-tree-lines .ag-advanced-filter-builder-item-tree-line-root::before {\n  top: 50%;\n  height: 50%;\n}\n\n.ag-advanced-filter-builder-item-tree-line-horizontal,\n.ag-advanced-filter-builder-item-tree-line-vertical,\n.ag-advanced-filter-builder-item-tree-line-vertical-top,\n.ag-advanced-filter-builder-item-tree-line-vertical-bottom {\n  position: relative;\n  height: 100%;\n  display: flex;\n  align-items: center;\n}\n.ag-advanced-filter-builder-item-tree-line-horizontal::before, .ag-advanced-filter-builder-item-tree-line-horizontal::after,\n.ag-advanced-filter-builder-item-tree-line-vertical::before,\n.ag-advanced-filter-builder-item-tree-line-vertical::after,\n.ag-advanced-filter-builder-item-tree-line-vertical-top::before,\n.ag-advanced-filter-builder-item-tree-line-vertical-top::after,\n.ag-advanced-filter-builder-item-tree-line-vertical-bottom::before,\n.ag-advanced-filter-builder-item-tree-line-vertical-bottom::after {\n  content: "";\n  position: absolute;\n  height: 100%;\n}\n\n.ag-advanced-filter-builder-item-tree-line-horizontal::after {\n  height: 50%;\n  width: calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size));\n  top: 0;\n  left: calc(var(--ag-icon-size) / 2);\n  border-bottom: 1px solid;\n  border-color: var(--ag-border-color);\n}\n\n.ag-advanced-filter-builder-item-tree-line-vertical::before {\n  width: calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size) / 2);\n  top: 0;\n  left: calc(var(--ag-icon-size) / 2);\n  border-left: 1px solid;\n  border-color: var(--ag-border-color);\n}\n\n.ag-advanced-filter-builder-item-tree-line-vertical-top::before {\n  height: 50%;\n  width: calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size) / 2);\n  top: 0;\n  left: calc(var(--ag-icon-size) / 2);\n  border-left: 1px solid;\n  border-color: var(--ag-border-color);\n}\n\n.ag-advanced-filter-builder-item-tree-line-vertical-bottom::before {\n  height: calc((100% - 1.5 * var(--ag-icon-size)) / 2);\n  width: calc(var(--ag-icon-size) / 2);\n  top: calc((100% + 1.5 * var(--ag-icon-size)) / 2);\n  left: calc(var(--ag-icon-size) / 2);\n  border-left: 1px solid;\n  border-color: var(--ag-border-color);\n}\n\n.ag-advanced-filter-builder-item-condition {\n  padding-top: var(--ag-grid-size);\n  padding-bottom: var(--ag-grid-size);\n}\n\n.ag-advanced-filter-builder-item,\n.ag-advanced-filter-builder-item-condition,\n.ag-advanced-filter-builder-pill-wrapper,\n.ag-advanced-filter-builder-pill,\n.ag-advanced-filter-builder-item-buttons,\n.ag-advanced-filter-builder-item-tree-lines {\n  display: flex;\n  align-items: center;\n  height: 100%;\n}\n\n.ag-advanced-filter-builder-pill-wrapper {\n  margin: 0px var(--ag-grid-size);\n}\n\n.ag-advanced-filter-builder-pill {\n  position: relative;\n  border-radius: var(--ag-border-radius);\n  padding: var(--ag-grid-size) calc(var(--ag-grid-size) * 2);\n  min-height: calc(100% - var(--ag-grid-size) * 3);\n  min-width: calc(var(--ag-grid-size) * 2);\n}\n.ag-advanced-filter-builder-pill .ag-picker-field-display {\n  margin-right: var(--ag-grid-size);\n}\n.ag-advanced-filter-builder-pill .ag-advanced-filter-builder-value-number {\n  font-family: monospace;\n  font-weight: 700;\n}\n.ag-advanced-filter-builder-pill .ag-advanced-filter-builder-value-empty {\n  color: var(--ag-disabled-foreground-color);\n}\n\n.ag-advanced-filter-builder-pill:focus-visible {\n  outline: none;\n}\n.ag-advanced-filter-builder-pill:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: -4px;\n  left: -4px;\n  display: block;\n  width: calc(100% - -8px);\n  height: calc(100% - -8px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-advanced-filter-builder-item-button:focus-visible {\n  outline: none;\n}\n.ag-advanced-filter-builder-item-button:focus-visible::after {\n  content: "";\n  position: absolute;\n  background-color: transparent;\n  pointer-events: none;\n  top: -4px;\n  left: -4px;\n  display: block;\n  width: calc(100% - -8px);\n  height: calc(100% - -8px);\n  border: 1px solid;\n  border-color: var(--ag-input-focus-border-color);\n}\n\n.ag-advanced-filter-builder-pill-display {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-weight: 500;\n}\n\n.ag-advanced-filter-builder-join-pill {\n  color: var(--ag-foreground-color);\n  background-color: var(--ag-advanced-filter-join-pill-color);\n  cursor: pointer;\n}\n\n.ag-advanced-filter-builder-column-pill {\n  color: var(--ag-foreground-color);\n  background-color: var(--ag-advanced-filter-column-pill-color);\n  cursor: pointer;\n}\n\n.ag-advanced-filter-builder-option-pill {\n  color: var(--ag-foreground-color);\n  background-color: var(--ag-advanced-filter-option-pill-color);\n  cursor: pointer;\n}\n\n.ag-advanced-filter-builder-value-pill {\n  color: var(--ag-foreground-color);\n  background-color: var(--ag-advanced-filter-value-pill-color);\n  cursor: text;\n  max-width: 140px;\n}\n.ag-advanced-filter-builder-value-pill .ag-advanced-filter-builder-pill-display {\n  display: block;\n}\n\n.ag-advanced-filter-builder-item-buttons > * {\n  margin: 0 calc(var(--ag-grid-size) * 0.5);\n}\n\n.ag-advanced-filter-builder-item-button {\n  position: relative;\n  cursor: pointer;\n  color: var(--ag-secondary-foreground-color);\n  opacity: 50%;\n}\n\n.ag-advanced-filter-builder-item-button-disabled {\n  color: var(--ag-disabled-foreground-color);\n  cursor: default;\n}\n\n.ag-advanced-filter-builder-virtual-list-container {\n  top: var(--ag-grid-size);\n}\n\n.ag-advanced-filter-builder-virtual-list-item {\n  display: flex;\n  cursor: default;\n  height: var(--ag-list-item-height);\n}\n.ag-advanced-filter-builder-virtual-list-item:hover {\n  background-color: var(--ag-row-hover-color);\n}\n.ag-advanced-filter-builder-virtual-list-item:hover .ag-advanced-filter-builder-item-button {\n  opacity: 100%;\n}\n\n.ag-advanced-filter-builder-virtual-list-item-highlight .ag-advanced-filter-builder-item-button:focus-visible,\n.ag-advanced-filter-builder-validation .ag-advanced-filter-builder-invalid {\n  opacity: 100%;\n}\n\n.ag-advanced-filter-builder-invalid {\n  margin: 0 var(--ag-grid-size);\n  color: var(--ag-invalid-color);\n  cursor: default;\n}\n\n.ag-input-field-input {\n  width: 100%;\n  min-width: 0;\n}\n\n.ag-checkbox-input-wrapper {\n  font-family: var(--ag-icon-font-family);\n  font-weight: var(--ag-icon-font-weight);\n  color: var(--ag-icon-font-color);\n  font-size: var(--ag-icon-size);\n  line-height: var(--ag-icon-size);\n  font-style: normal;\n  font-variant: normal;\n  text-transform: none;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  width: var(--ag-icon-size);\n  height: var(--ag-icon-size);\n  background-color: var(--ag-checkbox-background-color);\n  border-radius: var(--ag-checkbox-border-radius);\n  display: inline-block;\n  vertical-align: middle;\n  flex: none;\n}\n.ag-checkbox-input-wrapper input,\n.ag-checkbox-input-wrapper input {\n  -webkit-appearance: none;\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n}\n.ag-checkbox-input-wrapper:focus-within, .ag-checkbox-input-wrapper:active {\n  outline: none;\n  box-shadow: var(--ag-input-focus-box-shadow);\n}\n.ag-checkbox-input-wrapper.ag-disabled {\n  opacity: 0.5;\n}\n.ag-checkbox-input-wrapper::after {\n  content: var(--ag-icon-font-code-checkbox-unchecked, "\\f108");\n  font-family: inherit;\n  color: var(--ag-checkbox-unchecked-color);\n  display: var(--ag-icon-font-display-checkbox-unchecked, var(--ag-icon-font-display));\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n}\n.ag-checkbox-input-wrapper.ag-checked::after {\n  content: var(--ag-icon-font-code-checkbox-checked, "\\f106");\n  color: var(--ag-checkbox-checked-color);\n  display: var(--ag-icon-font-display-checkbox-checked, var(--ag-icon-font-display));\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n}\n.ag-checkbox-input-wrapper.ag-indeterminate::after {\n  content: var(--ag-icon-font-code-checkbox-indeterminate, "\\f107");\n  color: var(--ag-checkbox-indeterminate-color);\n  display: var(--ag-icon-font-display-checkbox-indeterminate, var(--ag-icon-font-display));\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n}\n.ag-checkbox-input-wrapper::before {\n  content: "";\n  background: transparent center/contain no-repeat;\n  position: absolute;\n  inset: 0;\n  background-image: var(--ag-icon-image-checkbox-unchecked, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-checkbox-unchecked, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-checkbox-unchecked, var(--ag-icon-image-opacity, 0.9));\n}\n.ag-checkbox-input-wrapper.ag-checked::before {\n  background-image: var(--ag-icon-image-checkbox-checked, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-checkbox-checked, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-checkbox-checked, var(--ag-icon-image-opacity, 0.9));\n}\n.ag-checkbox-input-wrapper.ag-indeterminate::before {\n  background-image: var(--ag-icon-image-checkbox-indeterminate, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-checkbox-indeterminate, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-checkbox-indeterminate, var(--ag-icon-image-opacity, 0.9));\n}\n\n.ag-toggle-button-input-wrapper {\n  box-sizing: border-box;\n  width: var(--ag-toggle-button-width);\n  min-width: var(--ag-toggle-button-width);\n  max-width: var(--ag-toggle-button-width);\n  height: var(--ag-toggle-button-height);\n  background-color: var(--ag-toggle-button-off-background-color);\n  border-radius: calc(var(--ag-toggle-button-height) * 0.5);\n  position: relative;\n  flex: none;\n  border: var(--ag-toggle-button-border-width) solid;\n  border-color: var(--ag-toggle-button-off-border-color);\n}\n.ag-toggle-button-input-wrapper input {\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n}\n.ag-toggle-button-input-wrapper:focus-within {\n  outline: none;\n  box-shadow: var(--ag-input-focus-box-shadow);\n}\n.ag-toggle-button-input-wrapper.ag-disabled {\n  opacity: 0.5;\n}\n.ag-toggle-button-input-wrapper.ag-checked {\n  background-color: var(--ag-toggle-button-on-background-color);\n  border-color: var(--ag-toggle-button-on-border-color);\n}\n.ag-toggle-button-input-wrapper::before {\n  content: " ";\n  position: absolute;\n  top: calc(0px - var(--ag-toggle-button-border-width));\n  left: calc(0px - var(--ag-toggle-button-border-width));\n  display: block;\n  box-sizing: border-box;\n  height: var(--ag-toggle-button-height);\n  width: var(--ag-toggle-button-height);\n  background-color: var(--ag-toggle-button-switch-background-color);\n  border-radius: 100%;\n  transition: left 100ms;\n  border: var(--ag-toggle-button-border-width) solid;\n  border-color: var(--ag-toggle-button-switch-border-color);\n}\n.ag-toggle-button-input-wrapper.ag-checked::before {\n  left: calc(100% - var(--ag-toggle-button-height) + var(--ag-toggle-button-border-width));\n  border-color: var(--ag-toggle-button-on-border-color);\n}\n\n.ag-radio-button-input-wrapper {\n  font-family: var(--ag-icon-font-family);\n  font-weight: var(--ag-icon-font-weight);\n  color: var(--ag-icon-font-color);\n  font-size: var(--ag-icon-size);\n  line-height: var(--ag-icon-size);\n  font-style: normal;\n  font-variant: normal;\n  text-transform: none;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  width: var(--ag-icon-size);\n  height: var(--ag-icon-size);\n  background-color: var(--ag-checkbox-background-color);\n  border-radius: var(--ag-checkbox-border-radius);\n  display: inline-block;\n  vertical-align: middle;\n  flex: none;\n  border-radius: var(--ag-icon-size);\n}\n.ag-radio-button-input-wrapper input,\n.ag-radio-button-input-wrapper input {\n  -webkit-appearance: none;\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n}\n.ag-radio-button-input-wrapper:focus-within, .ag-radio-button-input-wrapper:active {\n  outline: none;\n  box-shadow: var(--ag-input-focus-box-shadow);\n}\n.ag-radio-button-input-wrapper.ag-disabled {\n  opacity: 0.5;\n}\n.ag-radio-button-input-wrapper::after {\n  content: var(--ag-icon-font-code-radio-button-off, "\\f127");\n  color: var(--ag-checkbox-unchecked-color);\n  display: var(--ag-icon-font-display-radio-button-off, var(--ag-icon-font-display));\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n}\n.ag-radio-button-input-wrapper.ag-checked::after {\n  content: var(--ag-icon-font-code-radio-button-on, "\\f128");\n  color: var(--ag-checkbox-checked-color);\n  display: var(--ag-icon-font-display-radio-button-on, var(--ag-icon-font-display));\n  position: absolute;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n}\n.ag-radio-button-input-wrapper::before {\n  content: "";\n  background: transparent center/contain no-repeat;\n  position: absolute;\n  inset: 0;\n  background-image: var(--ag-icon-image-radio-button-off, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-radio-button-off, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-radio-button-off, var(--ag-icon-image-opacity, 0.9));\n}\n.ag-radio-button-input-wrapper.ag-checked::before {\n  background-image: var(--ag-icon-image-radio-button-on, var(--ag-icon-image));\n  display: var(--ag-icon-image-display-radio-button-on, var(--ag-icon-image-display));\n  opacity: var(--ag-icon-image-opacity-radio-button-on, var(--ag-icon-image-opacity, 0.9));\n}\n\ninput[class^=ag-][type=range] {\n  -webkit-appearance: none;\n  width: 100%;\n  height: 100%;\n  background: none;\n  overflow: visible;\n}\ninput[class^=ag-][type=range]::-webkit-slider-runnable-track {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 3px;\n  background-color: var(--ag-border-color);\n  border-radius: var(--ag-border-radius);\n  border-radius: var(--ag-checkbox-border-radius);\n}\ninput[class^=ag-][type=range]::-moz-range-track {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 3px;\n  background-color: var(--ag-border-color);\n  border-radius: var(--ag-border-radius);\n  border-radius: var(--ag-checkbox-border-radius);\n}\ninput[class^=ag-][type=range]::-ms-track {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 3px;\n  background-color: var(--ag-border-color);\n  border-radius: var(--ag-border-radius);\n  border-radius: var(--ag-checkbox-border-radius);\n  color: transparent;\n  width: calc(100% - 2px);\n}\ninput[class^=ag-][type=range]::-webkit-slider-thumb {\n  margin: 0;\n  padding: 0;\n  -webkit-appearance: none;\n  width: var(--ag-icon-size);\n  height: var(--ag-icon-size);\n  background-color: var(--ag-background-color);\n  border: 1px solid;\n  border-color: var(--ag-checkbox-unchecked-color);\n  border-radius: var(--ag-icon-size);\n  transform: translateY(calc(var(--ag-icon-size) * -0.5 + 1.5px));\n}\ninput[class^=ag-][type=range]::-ms-thumb {\n  margin: 0;\n  padding: 0;\n  -webkit-appearance: none;\n  width: var(--ag-icon-size);\n  height: var(--ag-icon-size);\n  background-color: var(--ag-background-color);\n  border: 1px solid;\n  border-color: var(--ag-checkbox-unchecked-color);\n  border-radius: var(--ag-icon-size);\n}\ninput[class^=ag-][type=range]::-moz-ag-range-thumb {\n  margin: 0;\n  padding: 0;\n  -webkit-appearance: none;\n  width: var(--ag-icon-size);\n  height: var(--ag-icon-size);\n  background-color: var(--ag-background-color);\n  border: 1px solid;\n  border-color: var(--ag-checkbox-unchecked-color);\n  border-radius: var(--ag-icon-size);\n}\ninput[class^=ag-][type=range]:focus {\n  outline: none;\n}\ninput[class^=ag-][type=range]:focus::-webkit-slider-thumb {\n  box-shadow: var(--ag-input-focus-box-shadow);\n  border-color: var(--ag-checkbox-checked-color);\n}\ninput[class^=ag-][type=range]:focus::-ms-thumb {\n  box-shadow: var(--ag-input-focus-box-shadow);\n  border-color: var(--ag-checkbox-checked-color);\n}\ninput[class^=ag-][type=range]:focus::-moz-ag-range-thumb {\n  box-shadow: var(--ag-input-focus-box-shadow);\n  border-color: var(--ag-checkbox-checked-color);\n}\ninput[class^=ag-][type=range]:active::-webkit-slider-runnable-track {\n  background-color: var(--ag-input-focus-border-color);\n}\ninput[class^=ag-][type=range]:active::-moz-ag-range-track {\n  background-color: var(--ag-input-focus-border-color);\n}\ninput[class^=ag-][type=range]:active::-ms-track {\n  background-color: var(--ag-input-focus-border-color);\n}\ninput[class^=ag-][type=range]:disabled {\n  opacity: 0.5;\n}\n',""]),module.exports=exports},"./node_modules/@storybook/addon-postcss/node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/ag-grid-community/styles/ag-theme-quartz.css":(module,exports,__webpack_require__)=>{(exports=__webpack_require__("./node_modules/@storybook/addon-postcss/node_modules/css-loader/dist/runtime/api.js")(!1)).push([module.id,'@font-face {\n  font-family: "agGridQuartz";\n  src: url(data:font/woff2;charset=utf-8;base64,d09GMgABAAAAABmsAAsAAAAANbQAABlcAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHIlWBmAAi34KxFS3OAE2AiQDgkALgSIABCAFhEYHhUIbrS1lhhRsHMDmjYY+2f9fJnBjSJQDf3Gmak2UmCoRplwn+JpsYTlytdwFD68gMxAuB6741XeLNiaMyYN/Iiaja7H1EUOGUhLUj/323jcjUYJlMU80EU94ogRKZmiBUH/jr7U+X0/3AC4BDOAS/7sQgIpQqZPxwEKiCutUygMLnSGasyZsKRo2YYIFiy8EPEDFongwrRhWQbxiSLopNaEOFUqTmm5qTrZHFe66WzFSMeAFzgogYN7fKmG3GmaqyKkJcuZTdX6S1pPWgQysvt4IsiLS+voh/7c/Nf9aap09LHbKmLfn5uSXXQaBSUDiCeFyEfB/OrPWEGLnEOaAq4q6TjMaaT1/vryWIS+yorfn9ZGikFbLXqKkOkCurrTXB3ZYQawu1RUll1g0V7TXpT5oqytTnm411z0+bukoMcg+f00X2lun4IUXCmKEACE+kpAE6lenRyKAsj4HNb6eX6ecPHBzJomInhng2DlOntjfxL1nkYIlgTuw7NOgKLrdy34IBb2MPkp1rOGX8duZ37On0REwTl4XItLicDqDRmWy2BwUhj67sc3lwbZnluMFxdG5tfcOYgid5cCtVtNehZ9qy6N8Y2XPZC7cDds5fr5VvsKT56ihWTQLJkKQ1WcJ4R0ZNjxzKu/t8IM4awcqx5ZhK4C2NmOYC8PMrLy/b+tuPdg6Y2FYi6DJoNulpfrW0iUyBGfmbB7flj4+b9u2A4Ojg7DMLMlc2lQot5k2VPOScbe2iDCsmfKIjHtnYCiqLNc97FUtol0JuSGUyx9tDMmTW27PdDTn33bOcGZq42bBvYMpTkJpSldN46kjVKfZwUqStp51wye+1u2lz/6LoCKwohYzJtX7X7GtyXp2TpAxum+e5Xx6wxbDzzBCoceT2HSt1W0cSA0adCIBQZNONWvQ2xKwrLX2dhwegjEDrnpBo/+CSmeSzfUGHo9E2G/2kWLS3okPNsBahCCpbijNlRuo69CkwPZcRJkgz/aYlslJl5Rs0p+2PbM9V5JNk8y39txZBke1ZlHnXhhyeLrFuZgzETWMvfnYprE1sMD2ZLmzI2vss+MGOI65YGuHKIcGvaYpz0Y8neFkb4yDKAZceNtQ5ixPBmuPECo9TwnmxxqwwyKyG3O1yyiz1MuuRRSq95CmAoIzc1s7w9uTM5LejRtokJ6oz4Gv5IePP2FBASR0BqK9WN6b2PG1oKaO/AnYyM592zB8fiuQAzJAh2/MpdbiUrQA3nsdMCHv9BC/Aqo4FKLjCc97s6n/+y86PeApLzZRSo+sIMXBtKopUIW9MrMAebbMG1iW5qRjTJwMsUcY19rRBULBCBoz210OTyCSyBQ+fgFBIWr9UTFxCZwFmJKWkZUjyisoKikLqqiqqWtoamnr6OrpGxjyGxmbmILIQ3QnT2nUNTGb7j1rCwuWozODdrf/+4fN/WlofVwCrwowGQ9WVctXZArYJF3AFpkAtskIsEOmgV3SC+yRRWCfdAMHZAw4JP3AMRkHTsgocEpmgDMyCJyTAeCCzAFXpAe4JsPADekDbskscEcWgHsyBDyQSeCRzANP1y6BJgIJUgBADAAkAEAaAMgAAFkAIAcA5AGAAgBQBABKAEAZAKgAAH0AQD8AMAAADAIAQwDAMAAwAgCMAgBjAMA4ADABAEwCAFMAwDQAMAMAzAIAcwDAPFS5sQBwiUUAYAkAWAYAVgCAVaiyYg2gCOsAwAYAsAkAbAEA2wDADgCwCwDsAQD7AMABAHAIABwBAMcAwAlUteEUgA1VAKAGANQhoITlzRa+gU9Q/qf2I3Li106LExgVpVnKQxjkqZk/ObMidiGpueT8tqQ2PGZHiVYjBBKD4ckloivb1pN5uXp2kE1l4ymJSctRdtYwWPKH0wEsDNwsX+Kl5KFbL1yOteU6L8pqSyE+NCvSSZVQMl+QJUlW5JWZil+coEQqEKEj0QVJNaqyP9zNF/ORTFrCwSAOBeVwPJlMRxIZgVz+iGI8gvM6LXJp4jHgR9hn2dRlE/KX0iwKLg8JpHDBKZOuXrEc3cK8bFR4RNpbktpLK/3TUFBQzHwxKHPEPemSPVYh52btL5tI2tUqu0rTu4ys7eWL8y9Eomq1uFDYnSrdfQfjF733Za2SVpL1SMCWKrm88qJqYfczJVegXwuoOvGYrLjFJ1Fw+2ResiOlvW4hH7sMWNWJZPWWbf+E84zw80iIImUxujRJtJnWM+JYtWLw+IU8A4YNd5ccTnjnCqK1wtoj9om+aLEsCpZyVDD5k9kt9HqSllAqEDPwm55gmtD4VPQz+F60fNGZSQOJEi59194/82c03/ySrw4PGT+Kf8ULrK+kh8lR+pMueTU3jJYrXifpXpkhEB70Qh2mYbYHVeKKvfd3OTFyFLH4tiOzmFZzehnv6crh4CgZH0ZrnBVdKZNR2UxJsG0Fh9CDbu55MjrIEDgwAp7DY0P0HXS9YrgMjuUYmUU+UFIlaRKwt0pBieFxOiULAVVdq82vlDTVQjoKdEYluGHl0NiWVMvIwKySisFRjgRl78c+q12XyYB8PnsTjwyc0EKRFooqyR0aAzr9tPl7D2S07t8zqipKmfvm/Q3EB7qlxuItPMEwcFLUA3jE3gDsJ0+nlaxgc9z1O5AvX5RbUqibURkH9bC+myOLzen2dGgYoiU6Po9zfPlsON32RAk9k1JiKrCGzy3JrbBmWCyipmnbZrbFIoeVKr1aHaqXiiQvmDakMWnR5wDLZZ5VL4SMhp6tKRqVWEo5IpiQIUHJnceWJaozXBElto57YC/pR30ySpIoKq5SMrTVq+Dv1UZhXBhPxckNou2a2hGnLrOJu5YgyillKpS6xmIaHLTzPxEpQ8scv5Dj5UdAe8IVLVQU2uROV7SZbsL5qcc812Wl3b2gkcMFcYUqaBtg+BLSe7CHYtpZN1cQ36lF+ojOEiWKewqjd9rTwn1GS/+Gq187dGDqRAzwopxfGSwtyma5Wz5ErfagXSKzJ+xC42QvbVVpld/Gh6Gcnb5zW+3m4P5KghzLIJKczT7ojhCwWB27MHQguUKJ8KkJXSx+ZqGrVXv7z45rSaP1To/u7p1td7bXz/j9wpAacwmWw4PZNzEvW9vafRf1k17Yg/s0HIYwikiSIPKmHd/bP7esu7V2WvW5AUbAZQ7mwNQCp769c3rF7t7To0pEtOQmCrjnix50Ndz0lZN4OprysAs9Tk9XLQKv067qMWg+a+M2pwavN81EaFZ2THFMgZu+dTHrLiO5Dc+Rzt5a7Ve90qv4AAiPXb7RhljaAvecls4kD2deTuBtn6iLh69pzFTZo7IBFGkTBh+qN2vaAySq1TVIvU/+729GTX1dAGB/tpIjUc6BoZbu+QB39DTAxt7OXFaTCXCvplGSenqq0rqHp3SnOrXkKF/zDIVyt6VLxrsazWmTn9XIq32Y//YDz4I3PEkMO5RkRhLeHdRvaZJO8+Ls0aU+aFDjYABF0V6evXhjRuEqYs9nwXOG39QWgx3haO2P55NcfSsWgQmPTk6WYhIr3fjeCKcPUG93jfzRXaMFOJBWEi0hIIPMvIMOqnVBdA3ijDasjkdmAV84g5S6++tZuTQ/CU9SlrGXy1haGczkpmHeHqjryd7OCh/IgOUumfNa1aoK2l2zlSv4E3VOSzn4aNoXDYxsYmBbs62DU7l8rtPm8NZ2d2LZtrE4GQasevPrbd0Hxvu7jqh2DX0ZAclTrv0+MFGgHNpq9ZFSIWlPPisaHp9M4OObNZqbEn63TJkdpoPIYnpi6uFjWS1n4fTIC2XyZGxMPpJVhmYQpUC0PbgekWJXMM/xkKnYgrfEOa5Tiapmfn2g4tKlNCotLo+ve2FXT2sIcbzBQTPL6qX+o+13e9vMUPnolMocb1ZJaUIhLevTVkmjxDNSatY9nLKgmBeUUlGnvqJTzs37GZfKHJs+b5osE9hHhauZ+7fIe9WYVcE1kSnO3rW+hihvY+yw4GYVHTVazHt2VoAc0tsYBw9wRLr/e4gaaKFdqneOTgyAQgP/9jbChrdsC2qcZyqymh8T7uprQs265WP36WtMusxf6esqKIeOl75ulFE1V7Hmb17GouDmAGiGvjr7Or5XwmokqVIiTLnkcL50USoDJ8kjNIUnSneznkjq4gc24hY5Es1nV317AVSHXqz53SJ4+MKcHs0y/HiB7u0kkpo/nzkICc4KaJKYYFrJTccW35Y67SVpkJAQnOUcAg4y55/zWPhh3IfxC7iAn36OltCLF5PWOySUmQFGSGuDhFq8OKOBXqdj5xS1XgLgJ7ym+WDgmSrjl3QBhrk1O4fdXDu/EZVyWEJeQj12FvBmBdMY7e5OWh+WU/fvXUcIzMC5/sgFlXo4COu/3FT3np7e3hcSg+Syiz09rcX8LB3eG5n1Oh5bKsZ7ewBPVQ4NnB0cA7YxmUMp2VZVsg1lJ55CE2aEwwX1hgFz08ctyjGafIILMtarAhdNLC5JRJFwpM6eLCpCE0PDQ1FtSVESumIyuMgG7nbHeIgtZ9Qeq4q66oWaqi3LZzbxqe8ys5ExWuzIcD2SwrimqOzaBoSqcPamHetb+za02VbU8IfS11TFHg093NzF81e8Xd+//vGK+c3ZgZm3UpMv21VTX6JYlZraGeIe0pqeRjzmPCYsWlOhO1NTVz32BKjwHIUZMHN5OUXhLCVLQWFVxmDEIKOwgMboxMT1Nys6uok2pxiszXSmvX2E69QLN24YvAysJbzNgs08r7UlbiBhw0+N9HTMaakGNMSz3XLWZrQ7nH/bsvPteQc000cDbFWz2QPcGNG+AGHcULpPFCM8JQ3JnTRf9FqN1u/aPXX31no0ExUNbaUVyQ0GRNt2VTqVA2EWSkvooSH4qKvt1mRv5KMlwO4mxiLaVvWgETNBRLovtC10nxRpe839IrWaBMz+2KHO52ROG8IqfJZwo4dwg5C7YT23nRvOY58ARD7+i6oZMdrV1c2VxEwYldzIlcYIjKSvYMgOBaIe9xUV1JStUJ9kYEVYGFaIRa3OkRr8dLfnu9p6PeOprZ+c9QejrO05OuHs3h+fXU4Wb5IITuugs5v3nwfgCPs11zQx/qlF3fYT5v1y98pNr3Vil2g8ljrtPuHk4TE0LnSF/EHlMo7Dnmur1Q1fHNmZkHmq4expl+G7OJBj8ZAsainGXfYyI6L8tG9Z14RMu3zV7+9cD9xxPjZ2nZTwN7lLgdtKaweti721e8QTt7JOp84yt7B7Mlv7vc6ad3Cn8/lmBamgFVSXNmpCzmxREVeTaj9nT0NjQCCl1oOhf/5UM9KF8crwVGayu8kt2TE1XBkvTLdSNUS7U5MPkoICk43n+KTCrKAU9Nq6Owo9PfQ2HODLgqABIzhvHz+hphskpFBAY2sTLxqUb06N/slj4s7k47s59fFzVs+Pd0vuZuM/2sflTsq9eUT1zLY71JGdmDQvo37n/Fi4x5ZjG+2uKchaENn51K5byXQG/kIjYYbRsbWomK2r1WvMOYKuAl9VDCifEZ7oJ1ePk/slle5rr2zwlt99mN4T/fBDPnMg7ofWL9etUtAXvUTw2P13cuSLC530qpbL0y+6kla5HnmuSqVrnkcuj5reED5cMC1rWBlUslAQ11DZ3l667Iy0W65O9JsRXh4SAlTLxLOHa5Kzhy7f944EuVrsddwAc1z5hhQiWiOESrON0aQehYG5lkb/hIKtcle163Ip3smtBQn+jUokJ0zRa39bGagKTvBI92qDAmWUXfO2fa8iLAeZ6M2j5XE3bVdIUlBQ0lQpbp66f8Ldcg6bUDbaC2j/hgT8zrOX1d8h0fHBRy4INRaM5zh70YGAMbQDZH9zmXLQ3vofG+r9hbTenkKRXNR/pOP7/QDwW8ejFTqyYoi3n2ssjVLPQTYZLxcVaxsB6U0ZhdGCadyBiEke7U1UM8J2NAOdJsCLsxV6BzwtncLI9LSy0DRolBihaMQKpPpZmaDPQem0sU9DTu4D9AOOsGq4ZoaKkh/2IA/D60ykLhCqPEnJ4RQqIKA/jh/Xb6rbuy0m+yxmSGAENIOeWu6IaNUYVfSgZ6xr6R4bnCacpORnTNGaiYp0UXDOtEvduYNZsjGyrEFuLF0VOLFB6aKJCn7m5IvekhMGhXbM2Mm3yiTOXhIQCpsnIdmxmTsIs/BQeyvW9JEYXVNjtjakmF2iMcl9D6gMJXoOu/iBsIqRsAzd5O8pyjGeZshlqXw1NZTEYL0tkdh73QSsjLmyXupAHQ6kiKFvHX1/v5W29v/CeRtuPwwJOIxMHxsBjpKMpYj/6qdbUYPu7wfz/4Ym3jGNiRwzP8KtfuIEn4N79lMDjDu9i8bovj5cal4Rq7K/3mIxY6HsgdAT1vitdCvrLRa938QbBvz01eJnf/utzuSxrHqckhit6b1ava7Z2cxoJivQnid2/tgxgM6KBG7uCsWY0fLcKcnB2qAgbXAyIcVpbdDeNPFZkZ1dN7ZgzMyZYwrGfT/KUUbZDvg27rz1GygY+9pgXEEdcEXuCxx5XNGpgJGrPOCUaNBjQDWJa2APoWp0kHVHYiqzuCGaOslncV1miBr9yPRrJyCdO0k94KEOzsRFNjtfTHxx4imHgOKsLHKEIYU62EFhdJ1YXFfLLirGszLF0AScbjY6D3C1opNShsZzM2+bQ1tTnBgtFcdxDJwYSHDW11eKxoub2hy2zfjqGYMm1HqiGh81KoUmeEdcCuJFTe323M9c+/bNcSJQKr4DjRx/ltpHw2pDSsruFvm7OQRwhIkjpIgZWnzlZqL3RKKxsxQjPC3toBSO1kH+fY4RdnUpP9+1K5Fd6st23dG1zJ3dwUk38u6YoQECb1nfPJurhfLshJmwaVTOKLRwRkfKhJnxTbAqpyqf2ZoyRu43vsEhKftPDtgUP3N8yvGCWY4DYcpM5ubcQj0nfX6MOFDIzJ2ybWNhtnPr9NYUFp47tREmL41JjFnqXXXoUJW3LqxxeRqjkYzzuN9CG0bK0vxnaur1m/rrlfpZtd/wVRxw+ktrUQ6/diXuAeizaamvz8yDz2IBPioDEVbP4cMWda+EHBp2BfPwMK7lsGpr8Z82PZCAgq/kVISxkMBMELzf4aRlD+BXNQLn4u8ixe3YXHxoCF+/HbjCEXg6xb7BBu8T7xoQJUNJCfngvgXMkVD9OjtpjASZvVPdMP9L56yHszB2INLmHdC74RbNWQxZOOjNKV2Tm+xvv7qdOsrL9LXN/Jzi1ppfD2liOvnTaWGwLBjrAQdtOkOPvIjRb1wf9WlMJ/YiljuYLRstA3yhIGQzf3OIo+MzfMZsNWUkzbDqdTUCCJzCyqvm5EVky2TZEXlPI/Kdzpbt3NP8z0h+LE9BHW3zTHGuKKu5OUuUK74txcq8tyhLnHs7x3wXpJbs/FLXky0t1Uu6RSK1xgimIHN4DmlEbzaSPzPvBTVrZ86HLrL/nGkIxhBTxhsDtgxghUlxKmw3qycIWPvHY4VabOHNFFl4Zma4TDE7+evIjvZto2Pkt9lJCllmWHjmOpWEJfAi6K/ZSfIMWXhzUr6zfy/xogWw7N9o0T9K2BuZlyRvUcV5ociEODMRhFSg5S/hkaGXWWZAWi6h2hDvxH3EUGsukgjA/39lSpGvs0Q5cuMZY5DJeXlqP4x7vAxKhGU7kKA89aso4W31KtGCKA2nMBGDzE2YrH488wlyNsCFPPT0/dR/kR0i86KEDnlgKGG0JPe0IJ/0JoxR4TLEaucrqA2IU6Dn5XCFaE2UJGKsZDbPaj+MS7ycECQGG1mSPJWG5A5q/1abjvlv19sf09Dx/7F1KP4YlGf37sryhNIZtzj5iqi/8FKgLm0zwj9BtL8BWcG/jtVfP5ZBoP0ZLnQTUA4eBv4R47T4hnInSMwuCZvibyKzN0KIZmfmSI6oRfIkU1LWMt92RcgzMJTlAYl7a0YoincEzpv5gSCY+SWhRf0sGMz8lwhuDfK7iapx5wXg9xLsVwXRwzf6GkHOhwXf5T9KCUzNW7efdWB7JBRQtE2/NGX076quccKp+WSKvYqRmyz8g0a7QTV/vPQeDUN2htMKeHsisL5UEPjVwTdc2FW8GBPDmPKs//BNFPzYGGm86bwyRveSmG8MFLJWb9lYxbiw3mlsOc2qXLCk8cmVMYoYCp7LnO/+QCa0O0MJN/vwEm/Ksdodw4XbsmRUo0b/B+RdUQgjgmjEIBZxiEcCEpGEZKQgH/IHgqFwJBqLJ5KpdCabyxeKpXKlWqs3mq12p9vrD4aj8WSqarphWrbjerP5Yrlab7a7/eF4Ol+uLPxaieC9oAcNTMcgwlPZQjHHBshgPDLDInnbQTS/Pc/trgXt89kOAllUlBQIFO+z8pWYel4ajixtDidz5eQk1kTl3DCpgFG0O8N5OTLCpWxNGbem6s5iMUc41508bTMD96r2DBdsS4QybPfFYxdijSGOXJCiOy8hH3nhmndXk1p+dHocAzUc9iQy2ED+NMEcUjjgLiHVU0F5qg4x4QWxthAjTzCP8t1p3CJNR7c7st7Kvd8Pt31VZWrZuZuzRnQkwQ+6KzDieUkc1raWJzqwVuAF1Fvw9JuKKPRRVLhQQWxN5AJ5Hw6nUZ6dt+eMdFpJErEp5eZYy1Gh0nDaDdpqWqWFqh08M4UG+hLrkNNpacbD3/15a6d1vhy7BwA=);\n  font-weight: normal;\n  font-style: normal;\n}\n.ag-theme-quartz,\n.ag-theme-quartz-dark,\n.ag-theme-quartz-auto-dark {\n  --ag-active-color: #2196f3;\n  --ag-background-color: #fff;\n  --ag-foreground-color: #181d1f;\n  --ag-border-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 15%);\n  --ag-secondary-border-color: var(--ag-border-color);\n  --ag-header-background-color: color-mix(in srgb, var(--ag-background-color), var(--ag-foreground-color) 2%);\n  --ag-tooltip-background-color: var(--ag-header-background-color);\n  --ag-control-panel-background-color: var(--ag-header-background-color);\n  --ag-subheader-background-color: transparent;\n  --ag-invalid-color: #e02525;\n  --ag-checkbox-unchecked-color: color-mix(in srgb, var(--ag-background-color), var(--ag-foreground-color) 30%);\n  --ag-advanced-filter-join-pill-color: #f08e8d;\n  --ag-advanced-filter-column-pill-color: #a6e194;\n  --ag-advanced-filter-option-pill-color: #f3c08b;\n  --ag-advanced-filter-value-pill-color: #85c0e4;\n  --ag-header-column-resize-handle-color: var(--ag-secondary-border-color);\n  --ag-icon-font-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 90%);\n  --ag-panel-background-color: color-mix(in srgb, var(--ag-background-color), var(--ag-foreground-color) 3%);\n  --ag-panel-border-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 20%);\n  --ag-menu-background-color: color-mix(in srgb, var(--ag-background-color), var(--ag-foreground-color) 3%);\n  --ag-menu-border-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 20%);\n  --ag-selected-row-background-color: color-mix(in srgb, transparent, var(--ag-active-color) 8%);\n  --ag-row-hover-color: color-mix(in srgb, transparent, var(--ag-active-color) 12%);\n  --ag-column-hover-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 5%);\n  --ag-input-focus-border-color: var(--ag-active-color);\n  --ag-input-focus-box-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-input-focus-border-color) 47%);\n  --ag-range-selection-background-color: color-mix(in srgb, transparent, var(--ag-active-color) 20%);\n  --ag-range-selection-background-color-2: color-mix(in srgb, transparent, var(--ag-active-color) 36%);\n  --ag-range-selection-background-color-3: color-mix(in srgb, transparent, var(--ag-active-color) 49%);\n  --ag-range-selection-background-color-4: color-mix(in srgb, transparent, var(--ag-active-color) 59%);\n  --ag-checkbox-background-color: var(--ag-background-color);\n  --ag-checkbox-checked-color: var(--ag-active-color);\n  --ag-range-selection-border-color: var(--ag-active-color);\n  --ag-secondary-foreground-color: var(--ag-foreground-color);\n  --ag-input-border-color: var(--ag-border-color);\n  --ag-input-border-color-invalid: var(--ag-invalid-color);\n  --ag-disabled-foreground-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 50%);\n  --ag-chip-background-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 7%);\n  --ag-chip-border-color: color-mix(in srgb, var(--ag-header-background-color), var(--ag-foreground-color) 13%);\n  --ag-input-disabled-border-color: var(--ag-border-color);\n  --ag-input-disabled-background-color: color-mix(in srgb, var(--ag-background-color), var(--ag-foreground-color) 6%);\n  --ag-modal-overlay-background-color: color-mix(in srgb, transparent, var(--ag-background-color) 66%);\n  --ag-chart-menu-label-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 80%);\n  --ag-chart-menu-pill-select-button-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 70%);\n  --ag-borders: solid 1px;\n  --ag-border-radius: 4px;\n  --ag-wrapper-border-radius: 8px;\n  --ag-borders-side-button: none;\n  --ag-side-button-selected-background-color: transparent;\n  --ag-header-column-resize-handle-display: block;\n  --ag-header-column-resize-handle-width: 2px;\n  --ag-header-column-resize-handle-height: 30%;\n  --ag-grid-size: 8px;\n  --ag-icon-size: 16px;\n  --ag-header-height: calc(var(--ag-font-size) + var(--ag-grid-size) * 4.25);\n  --ag-row-height: calc(var(--ag-font-size) + var(--ag-grid-size) * 3.5);\n  --ag-list-item-height: calc(\n      var(--ag-icon-size) + var(--ag-widget-vertical-spacing)\n  );\n  --ag-column-select-indent-size: var(--ag-icon-size);\n  --ag-set-filter-indent-size: var(--ag-icon-size);\n  --ag-filter-tool-panel-group-indent: var(--ag-grid-size);\n  --ag-advanced-filter-builder-indent-size: calc(var(--ag-icon-size) + var(--ag-grid-size) * 2);\n  --ag-cell-horizontal-padding: calc(var(--ag-grid-size) * 2);\n  --ag-cell-widget-spacing: calc(var(--ag-grid-size) * 1.5);\n  --ag-widget-container-vertical-padding: calc(var(--ag-grid-size) * 1.5);\n  --ag-widget-container-horizontal-padding: calc(var(--ag-grid-size) * 1.5);\n  --ag-widget-horizontal-spacing: calc(var(--ag-grid-size) * 1.5);\n  --ag-widget-vertical-spacing: calc(var(--ag-grid-size) * 1);\n  --ag-toggle-button-height: 18px;\n  --ag-toggle-button-width: 28px;\n  --ag-toggle-button-border-width: 2px;\n  --ag-font-family: "IBM Plex Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu,\n      Cantarell, "Helvetica Neue", sans-serif;\n  --ag-font-size: 14px;\n  --ag-icon-font-family: agGridQuartz;\n  --ag-tab-min-width: 290px;\n  --ag-chart-menu-panel-width: 260px;\n  --ag-card-shadow: 0 1px 4px 1px rgba(186, 191, 199, 0.4);\n  --ag-popup-shadow: 0 0 16px 0 rgba(0, 0, 0, 0.15);\n  --ag-side-bar-panel-width: 250px;\n}\n\n.ag-theme-quartz-dark {\n  --ag-background-color: color-mix(in srgb, #fff, #182230 97%);\n  --ag-foreground-color: #fff;\n  --ag-border-color: rgba(255, 255, 255, 0.16);\n  --ag-secondary-border-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 10%);\n  --ag-header-background-color: color-mix(in srgb, #fff, #182230 93%);\n  --ag-tooltip-background-color: color-mix(in srgb, #fff, #182230 96%);\n  --ag-control-panel-background-color: color-mix(in srgb, #fff, #182230 93%);\n  --ag-input-disabled-background-color: #68686e12;\n  --ag-card-shadow: 0 1px 20px 1px black;\n  --ag-input-border-color: var(--ag-border-color);\n  --ag-input-disabled-border-color: rgba(255, 255, 255, 0.07);\n  --ag-checkbox-unchecked-color: color-mix(in srgb, var(--ag-background-color), var(--ag-foreground-color) 40%);\n  --ag-row-hover-color: color-mix(in srgb, transparent, var(--ag-active-color) 20%);\n  --ag-selected-row-background-color: var(--ag-row-hover-color);\n  --ag-panel-background-color: color-mix(in srgb, var(--ag-background-color), var(--ag-foreground-color) 10%);\n  --ag-panel-border-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 10%);\n  --ag-menu-background-color: color-mix(in srgb, var(--ag-background-color), var(--ag-foreground-color) 10%);\n  --ag-menu-border-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 10%);\n  --ag-advanced-filter-join-pill-color: #7a3a37;\n  --ag-advanced-filter-column-pill-color: #355f2d;\n  --ag-advanced-filter-option-pill-color: #5a3168;\n  --ag-advanced-filter-value-pill-color: #374c86;\n  --ag-popup-shadow: 0 0px 20px rgba(0, 0, 0, 0.3);\n  --ag-row-loading-skeleton-effect-color: rgba(202, 203, 204, 0.4);\n  color-scheme: dark;\n}\n\n@media (prefers-color-scheme: dark) {\n  .ag-theme-quartz-auto-dark {\n    --ag-background-color: color-mix(in srgb, #fff, #182230 97%);\n    --ag-foreground-color: #fff;\n    --ag-border-color: rgba(255, 255, 255, 0.16);\n    --ag-secondary-border-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 10%);\n    --ag-header-background-color: color-mix(in srgb, #fff, #182230 93%);\n    --ag-tooltip-background-color: color-mix(in srgb, #fff, #182230 96%);\n    --ag-control-panel-background-color: color-mix(in srgb, #fff, #182230 93%);\n    --ag-input-disabled-background-color: #68686e12;\n    --ag-card-shadow: 0 1px 20px 1px black;\n    --ag-input-border-color: var(--ag-border-color);\n    --ag-input-disabled-border-color: rgba(255, 255, 255, 0.07);\n    --ag-checkbox-unchecked-color: color-mix(in srgb, var(--ag-background-color), var(--ag-foreground-color) 40%);\n    --ag-row-hover-color: color-mix(in srgb, transparent, var(--ag-active-color) 20%);\n    --ag-selected-row-background-color: var(--ag-row-hover-color);\n    --ag-panel-background-color: color-mix(in srgb, var(--ag-background-color), var(--ag-foreground-color) 10%);\n    --ag-panel-border-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 10%);\n    --ag-menu-background-color: color-mix(in srgb, var(--ag-background-color), var(--ag-foreground-color) 10%);\n    --ag-menu-border-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 10%);\n    --ag-advanced-filter-join-pill-color: #7a3a37;\n    --ag-advanced-filter-column-pill-color: #355f2d;\n    --ag-advanced-filter-option-pill-color: #5a3168;\n    --ag-advanced-filter-value-pill-color: #374c86;\n    --ag-popup-shadow: 0 0px 20px rgba(0, 0, 0, 0.3);\n    --ag-row-loading-skeleton-effect-color: rgba(202, 203, 204, 0.4);\n    color-scheme: dark;\n  }\n}\n.ag-theme-quartz .ag-filter-toolpanel-header,\n.ag-theme-quartz .ag-filter-toolpanel-search,\n.ag-theme-quartz .ag-status-bar,\n.ag-theme-quartz .ag-header-row,\n.ag-theme-quartz .ag-panel-title-bar-title,\n.ag-theme-quartz .ag-multi-filter-group-title-bar,\n.ag-theme-quartz-dark .ag-filter-toolpanel-header,\n.ag-theme-quartz-dark .ag-filter-toolpanel-search,\n.ag-theme-quartz-dark .ag-status-bar,\n.ag-theme-quartz-dark .ag-header-row,\n.ag-theme-quartz-dark .ag-panel-title-bar-title,\n.ag-theme-quartz-dark .ag-multi-filter-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-filter-toolpanel-header,\n.ag-theme-quartz-auto-dark .ag-filter-toolpanel-search,\n.ag-theme-quartz-auto-dark .ag-status-bar,\n.ag-theme-quartz-auto-dark .ag-header-row,\n.ag-theme-quartz-auto-dark .ag-panel-title-bar-title,\n.ag-theme-quartz-auto-dark .ag-multi-filter-group-title-bar {\n  font-weight: 500;\n  color: var(--ag-header-foreground-color);\n}\n.ag-theme-quartz input[class^=ag-]:not([type]),\n.ag-theme-quartz input[class^=ag-][type=text],\n.ag-theme-quartz input[class^=ag-][type=number],\n.ag-theme-quartz input[class^=ag-][type=tel],\n.ag-theme-quartz input[class^=ag-][type=date],\n.ag-theme-quartz input[class^=ag-][type=datetime-local],\n.ag-theme-quartz textarea[class^=ag-],\n.ag-theme-quartz-dark input[class^=ag-]:not([type]),\n.ag-theme-quartz-dark input[class^=ag-][type=text],\n.ag-theme-quartz-dark input[class^=ag-][type=number],\n.ag-theme-quartz-dark input[class^=ag-][type=tel],\n.ag-theme-quartz-dark input[class^=ag-][type=date],\n.ag-theme-quartz-dark input[class^=ag-][type=datetime-local],\n.ag-theme-quartz-dark textarea[class^=ag-],\n.ag-theme-quartz-auto-dark input[class^=ag-]:not([type]),\n.ag-theme-quartz-auto-dark input[class^=ag-][type=text],\n.ag-theme-quartz-auto-dark input[class^=ag-][type=number],\n.ag-theme-quartz-auto-dark input[class^=ag-][type=tel],\n.ag-theme-quartz-auto-dark input[class^=ag-][type=date],\n.ag-theme-quartz-auto-dark input[class^=ag-][type=datetime-local],\n.ag-theme-quartz-auto-dark textarea[class^=ag-] {\n  min-height: calc(var(--ag-grid-size) * 4);\n  border-radius: var(--ag-border-radius);\n}\n.ag-theme-quartz .ag-ltr input[class^=ag-]:not([type]), .ag-theme-quartz .ag-ltr input[class^=ag-][type=text], .ag-theme-quartz .ag-ltr input[class^=ag-][type=number], .ag-theme-quartz .ag-ltr input[class^=ag-][type=tel], .ag-theme-quartz .ag-ltr input[class^=ag-][type=date], .ag-theme-quartz .ag-ltr input[class^=ag-][type=datetime-local], .ag-theme-quartz .ag-ltr textarea[class^=ag-], .ag-theme-quartz-dark .ag-ltr input[class^=ag-]:not([type]), .ag-theme-quartz-dark .ag-ltr input[class^=ag-][type=text], .ag-theme-quartz-dark .ag-ltr input[class^=ag-][type=number], .ag-theme-quartz-dark .ag-ltr input[class^=ag-][type=tel], .ag-theme-quartz-dark .ag-ltr input[class^=ag-][type=date], .ag-theme-quartz-dark .ag-ltr input[class^=ag-][type=datetime-local], .ag-theme-quartz-dark .ag-ltr textarea[class^=ag-], .ag-theme-quartz-auto-dark .ag-ltr input[class^=ag-]:not([type]), .ag-theme-quartz-auto-dark .ag-ltr input[class^=ag-][type=text], .ag-theme-quartz-auto-dark .ag-ltr input[class^=ag-][type=number], .ag-theme-quartz-auto-dark .ag-ltr input[class^=ag-][type=tel], .ag-theme-quartz-auto-dark .ag-ltr input[class^=ag-][type=date], .ag-theme-quartz-auto-dark .ag-ltr input[class^=ag-][type=datetime-local], .ag-theme-quartz-auto-dark .ag-ltr textarea[class^=ag-] {\n  padding-left: var(--ag-grid-size);\n}\n\n.ag-theme-quartz .ag-rtl input[class^=ag-]:not([type]), .ag-theme-quartz .ag-rtl input[class^=ag-][type=text], .ag-theme-quartz .ag-rtl input[class^=ag-][type=number], .ag-theme-quartz .ag-rtl input[class^=ag-][type=tel], .ag-theme-quartz .ag-rtl input[class^=ag-][type=date], .ag-theme-quartz .ag-rtl input[class^=ag-][type=datetime-local], .ag-theme-quartz .ag-rtl textarea[class^=ag-], .ag-theme-quartz-dark .ag-rtl input[class^=ag-]:not([type]), .ag-theme-quartz-dark .ag-rtl input[class^=ag-][type=text], .ag-theme-quartz-dark .ag-rtl input[class^=ag-][type=number], .ag-theme-quartz-dark .ag-rtl input[class^=ag-][type=tel], .ag-theme-quartz-dark .ag-rtl input[class^=ag-][type=date], .ag-theme-quartz-dark .ag-rtl input[class^=ag-][type=datetime-local], .ag-theme-quartz-dark .ag-rtl textarea[class^=ag-], .ag-theme-quartz-auto-dark .ag-rtl input[class^=ag-]:not([type]), .ag-theme-quartz-auto-dark .ag-rtl input[class^=ag-][type=text], .ag-theme-quartz-auto-dark .ag-rtl input[class^=ag-][type=number], .ag-theme-quartz-auto-dark .ag-rtl input[class^=ag-][type=tel], .ag-theme-quartz-auto-dark .ag-rtl input[class^=ag-][type=date], .ag-theme-quartz-auto-dark .ag-rtl input[class^=ag-][type=datetime-local], .ag-theme-quartz-auto-dark .ag-rtl textarea[class^=ag-] {\n  padding-right: var(--ag-grid-size);\n}\n\n.ag-theme-quartz .ag-picker-field-wrapper,\n.ag-theme-quartz-dark .ag-picker-field-wrapper,\n.ag-theme-quartz-auto-dark .ag-picker-field-wrapper {\n  min-height: calc(var(--ag-grid-size) * 4);\n}\n.ag-theme-quartz .ag-tab,\n.ag-theme-quartz-dark .ag-tab,\n.ag-theme-quartz-auto-dark .ag-tab {\n  padding: var(--ag-grid-size);\n  border-left: var(--ag-borders) transparent;\n  border-right: var(--ag-borders) transparent;\n  flex: 1 1 auto;\n}\n.ag-theme-quartz .ag-tab-selected,\n.ag-theme-quartz-dark .ag-tab-selected,\n.ag-theme-quartz-auto-dark .ag-tab-selected {\n  background-color: var(--ag-background-color);\n}\n.ag-theme-quartz .ag-ltr .ag-tab-selected:not(:first-of-type), .ag-theme-quartz-dark .ag-ltr .ag-tab-selected:not(:first-of-type), .ag-theme-quartz-auto-dark .ag-ltr .ag-tab-selected:not(:first-of-type) {\n  border-left-color: var(--ag-border-color);\n}\n\n.ag-theme-quartz .ag-rtl .ag-tab-selected:not(:first-of-type), .ag-theme-quartz-dark .ag-rtl .ag-tab-selected:not(:first-of-type), .ag-theme-quartz-auto-dark .ag-rtl .ag-tab-selected:not(:first-of-type) {\n  border-right-color: var(--ag-border-color);\n}\n\n.ag-theme-quartz .ag-ltr .ag-tab-selected:not(:last-of-type), .ag-theme-quartz-dark .ag-ltr .ag-tab-selected:not(:last-of-type), .ag-theme-quartz-auto-dark .ag-ltr .ag-tab-selected:not(:last-of-type) {\n  border-right-color: var(--ag-border-color);\n}\n\n.ag-theme-quartz .ag-rtl .ag-tab-selected:not(:last-of-type), .ag-theme-quartz-dark .ag-rtl .ag-tab-selected:not(:last-of-type), .ag-theme-quartz-auto-dark .ag-rtl .ag-tab-selected:not(:last-of-type) {\n  border-left-color: var(--ag-border-color);\n}\n\n.ag-theme-quartz .ag-tab:not(.ag-tab-selected),\n.ag-theme-quartz-dark .ag-tab:not(.ag-tab-selected),\n.ag-theme-quartz-auto-dark .ag-tab:not(.ag-tab-selected) {\n  opacity: 0.7;\n}\n.ag-theme-quartz .ag-tab:not(.ag-tab-selected):hover,\n.ag-theme-quartz-dark .ag-tab:not(.ag-tab-selected):hover,\n.ag-theme-quartz-auto-dark .ag-tab:not(.ag-tab-selected):hover {\n  opacity: 1;\n}\n.ag-theme-quartz .ag-menu,\n.ag-theme-quartz-dark .ag-menu,\n.ag-theme-quartz-auto-dark .ag-menu {\n  color: color-mix(in srgb, transparent, var(--ag-foreground-color) 95%);\n}\n.ag-theme-quartz .ag-panel-content-wrapper .ag-column-select,\n.ag-theme-quartz-dark .ag-panel-content-wrapper .ag-column-select,\n.ag-theme-quartz-auto-dark .ag-panel-content-wrapper .ag-column-select {\n  background-color: var(--ag-control-panel-background-color);\n  color: color-mix(in srgb, transparent, var(--ag-foreground-color) 95%);\n}\n.ag-theme-quartz .ag-menu-option .ag-icon,\n.ag-theme-quartz-dark .ag-menu-option .ag-icon,\n.ag-theme-quartz-auto-dark .ag-menu-option .ag-icon {\n  opacity: 65%;\n}\n.ag-theme-quartz .ag-menu-header,\n.ag-theme-quartz-dark .ag-menu-header,\n.ag-theme-quartz-auto-dark .ag-menu-header {\n  background-color: var(--ag-control-panel-background-color);\n}\n.ag-theme-quartz .ag-menu-option,\n.ag-theme-quartz-dark .ag-menu-option,\n.ag-theme-quartz-auto-dark .ag-menu-option {\n  font-weight: 500;\n  cursor: pointer;\n}\n.ag-theme-quartz .ag-ltr .ag-menu-option-popup-pointer .ag-icon, .ag-theme-quartz-dark .ag-ltr .ag-menu-option-popup-pointer .ag-icon, .ag-theme-quartz-auto-dark .ag-ltr .ag-menu-option-popup-pointer .ag-icon {\n  text-align: right;\n}\n\n.ag-theme-quartz .ag-rtl .ag-menu-option-popup-pointer .ag-icon, .ag-theme-quartz-dark .ag-rtl .ag-menu-option-popup-pointer .ag-icon, .ag-theme-quartz-auto-dark .ag-rtl .ag-menu-option-popup-pointer .ag-icon {\n  text-align: left;\n}\n\n.ag-theme-quartz .ag-tabs-header,\n.ag-theme-quartz-dark .ag-tabs-header,\n.ag-theme-quartz-auto-dark .ag-tabs-header {\n  border-bottom: var(--ag-borders) var(--ag-border-color);\n  display: flex;\n  background-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 5%);\n}\n.ag-theme-quartz .ag-side-bar,\n.ag-theme-quartz-dark .ag-side-bar,\n.ag-theme-quartz-auto-dark .ag-side-bar {\n  background-color: var(--ag-control-panel-background-color);\n  min-width: calc(var(--ag-icon-size) + var(--ag-grid-size) * 2);\n}\n.ag-theme-quartz .ag-side-buttons,\n.ag-theme-quartz-dark .ag-side-buttons,\n.ag-theme-quartz-auto-dark .ag-side-buttons {\n  padding: 0;\n  align-self: stretch;\n  width: calc(var(--ag-icon-size) + var(--ag-grid-size) * 2);\n  background: var(--ag-control-panel-background-color);\n}\n.ag-theme-quartz .ag-side-button,\n.ag-theme-quartz-dark .ag-side-button,\n.ag-theme-quartz-auto-dark .ag-side-button {\n  border-top: var(--ag-borders) transparent;\n  border-bottom: var(--ag-borders) transparent;\n}\n@media (max-resolution: 1.5x) {\n  .ag-theme-quartz .ag-side-button-label,\n  .ag-theme-quartz-dark .ag-side-button-label,\n  .ag-theme-quartz-auto-dark .ag-side-button-label {\n    font-family: "Segoe UI", var(--ag-font-family);\n    transform: rotate(0.05deg);\n  }\n}\n.ag-theme-quartz .ag-side-button.ag-selected,\n.ag-theme-quartz-dark .ag-side-button.ag-selected,\n.ag-theme-quartz-auto-dark .ag-side-button.ag-selected {\n  border-bottom-color: var(--ag-border-color);\n  background-color: var(--ag-background-color);\n}\n.ag-theme-quartz .ag-side-button.ag-selected:not(:first-of-type),\n.ag-theme-quartz-dark .ag-side-button.ag-selected:not(:first-of-type),\n.ag-theme-quartz-auto-dark .ag-side-button.ag-selected:not(:first-of-type) {\n  border-top-color: var(--ag-border-color);\n}\n.ag-theme-quartz .ag-column-panel-column-select,\n.ag-theme-quartz-dark .ag-column-panel-column-select,\n.ag-theme-quartz-auto-dark .ag-column-panel-column-select {\n  border-top: none;\n  border-bottom: 1px solid var(--ag-secondary-border-color);\n}\n.ag-theme-quartz .ag-filter-toolpanel-search,\n.ag-theme-quartz-dark .ag-filter-toolpanel-search,\n.ag-theme-quartz-auto-dark .ag-filter-toolpanel-search {\n  height: initial;\n  margin-top: var(--ag-widget-container-vertical-padding);\n}\n.ag-theme-quartz .ag-filter-toolpanel-search-input,\n.ag-theme-quartz-dark .ag-filter-toolpanel-search-input,\n.ag-theme-quartz-auto-dark .ag-filter-toolpanel-search-input {\n  margin: 0;\n}\n.ag-theme-quartz .ag-filter-apply-panel,\n.ag-theme-quartz-dark .ag-filter-apply-panel,\n.ag-theme-quartz-auto-dark .ag-filter-apply-panel {\n  border: none;\n  padding-top: var(--ag-widget-vertical-spacing);\n}\n.ag-theme-quartz .ag-chart-tabbed-menu-body,\n.ag-theme-quartz-dark .ag-chart-tabbed-menu-body,\n.ag-theme-quartz-auto-dark .ag-chart-tabbed-menu-body {\n  position: relative;\n}\n.ag-theme-quartz .ag-chart-tabbed-menu-body::after,\n.ag-theme-quartz-dark .ag-chart-tabbed-menu-body::after,\n.ag-theme-quartz-auto-dark .ag-chart-tabbed-menu-body::after {\n  content: "";\n  position: absolute;\n  display: block;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 16px;\n  background: linear-gradient(var(--ag-control-panel-background-color), transparent);\n}\n.ag-theme-quartz .ag-charts-settings-group-title-bar,\n.ag-theme-quartz .ag-charts-data-group-title-bar,\n.ag-theme-quartz .ag-charts-format-top-level-group-title-bar,\n.ag-theme-quartz .ag-charts-advanced-settings-top-level-group-title-bar,\n.ag-theme-quartz .ag-charts-settings-group-container,\n.ag-theme-quartz-dark .ag-charts-settings-group-title-bar,\n.ag-theme-quartz-dark .ag-charts-data-group-title-bar,\n.ag-theme-quartz-dark .ag-charts-format-top-level-group-title-bar,\n.ag-theme-quartz-dark .ag-charts-advanced-settings-top-level-group-title-bar,\n.ag-theme-quartz-dark .ag-charts-settings-group-container,\n.ag-theme-quartz-auto-dark .ag-charts-settings-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-charts-data-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-charts-format-top-level-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-charts-advanced-settings-top-level-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-charts-settings-group-container {\n  border-top: none;\n  font-weight: 500;\n}\n.ag-theme-quartz .ag-chart-mini-thumbnail,\n.ag-theme-quartz-dark .ag-chart-mini-thumbnail,\n.ag-theme-quartz-auto-dark .ag-chart-mini-thumbnail {\n  background-color: var(--ag-background-color);\n  margin-top: 0;\n  margin-bottom: 0;\n}\n.ag-theme-quartz .ag-chart-settings-nav-bar,\n.ag-theme-quartz-dark .ag-chart-settings-nav-bar,\n.ag-theme-quartz-auto-dark .ag-chart-settings-nav-bar {\n  border-top: var(--ag-borders-secondary) var(--ag-secondary-border-color);\n}\n.ag-theme-quartz .ag-charts-format-sub-level-group-title-bar,\n.ag-theme-quartz-dark .ag-charts-format-sub-level-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-charts-format-sub-level-group-title-bar {\n  background: none;\n  font-weight: 500;\n}\n.ag-theme-quartz .ag-chart-data-section .ag-label:not(.ag-group-title-bar),\n.ag-theme-quartz .ag-chart-format-section .ag-label:not(.ag-group-title-bar),\n.ag-theme-quartz-dark .ag-chart-data-section .ag-label:not(.ag-group-title-bar),\n.ag-theme-quartz-dark .ag-chart-format-section .ag-label:not(.ag-group-title-bar),\n.ag-theme-quartz-auto-dark .ag-chart-data-section .ag-label:not(.ag-group-title-bar),\n.ag-theme-quartz-auto-dark .ag-chart-format-section .ag-label:not(.ag-group-title-bar) {\n  color: var(--ag-chart-menu-label-color);\n}\n.ag-theme-quartz .ag-chart-data-section .ag-label-align-top .ag-label,\n.ag-theme-quartz .ag-chart-format-section .ag-label-align-top .ag-label,\n.ag-theme-quartz-dark .ag-chart-data-section .ag-label-align-top .ag-label,\n.ag-theme-quartz-dark .ag-chart-format-section .ag-label-align-top .ag-label,\n.ag-theme-quartz-auto-dark .ag-chart-data-section .ag-label-align-top .ag-label,\n.ag-theme-quartz-auto-dark .ag-chart-format-section .ag-label-align-top .ag-label {\n  margin-top: calc(var(--ag-widget-vertical-spacing) * 0.5);\n  margin-bottom: var(--ag-widget-vertical-spacing);\n}\n.ag-theme-quartz .ag-chart-data-section .ag-slider.ag-label-align-top .ag-label,\n.ag-theme-quartz .ag-chart-format-section .ag-slider.ag-label-align-top .ag-label,\n.ag-theme-quartz-dark .ag-chart-data-section .ag-slider.ag-label-align-top .ag-label,\n.ag-theme-quartz-dark .ag-chart-format-section .ag-slider.ag-label-align-top .ag-label,\n.ag-theme-quartz-auto-dark .ag-chart-data-section .ag-slider.ag-label-align-top .ag-label,\n.ag-theme-quartz-auto-dark .ag-chart-format-section .ag-slider.ag-label-align-top .ag-label {\n  margin-bottom: 0;\n}\n.ag-theme-quartz .ag-chart-data-section label,\n.ag-theme-quartz .ag-chart-format-section label,\n.ag-theme-quartz-dark .ag-chart-data-section label,\n.ag-theme-quartz-dark .ag-chart-format-section label,\n.ag-theme-quartz-auto-dark .ag-chart-data-section label,\n.ag-theme-quartz-auto-dark .ag-chart-format-section label {\n  display: inline-block;\n}\n.ag-theme-quartz .ag-chart-format-wrapper,\n.ag-theme-quartz .ag-chart-data-wrapper,\n.ag-theme-quartz .ag-charts-format-top-level-group,\n.ag-theme-quartz .ag-charts-format-top-level-group-title-bar,\n.ag-theme-quartz .ag-charts-format-top-level-group .ag-charts-format-top-level-group-container,\n.ag-theme-quartz .ag-charts-format-top-level-group-item,\n.ag-theme-quartz .ag-charts-format-sub-level-group,\n.ag-theme-quartz .ag-charts-format-sub-level-group-title-bar,\n.ag-theme-quartz .ag-charts-format-sub-level-group-container,\n.ag-theme-quartz .ag-charts-format-sub-level-group-item:last-child,\n.ag-theme-quartz .ag-charts-format-sub-level-group-container > *,\n.ag-theme-quartz .ag-charts-data-group-title-bar,\n.ag-theme-quartz .ag-charts-data-group-container,\n.ag-theme-quartz .ag-charts-settings-group-title-bar,\n.ag-theme-quartz .ag-charts-settings-group-container,\n.ag-theme-quartz-dark .ag-chart-format-wrapper,\n.ag-theme-quartz-dark .ag-chart-data-wrapper,\n.ag-theme-quartz-dark .ag-charts-format-top-level-group,\n.ag-theme-quartz-dark .ag-charts-format-top-level-group-title-bar,\n.ag-theme-quartz-dark .ag-charts-format-top-level-group .ag-charts-format-top-level-group-container,\n.ag-theme-quartz-dark .ag-charts-format-top-level-group-item,\n.ag-theme-quartz-dark .ag-charts-format-sub-level-group,\n.ag-theme-quartz-dark .ag-charts-format-sub-level-group-title-bar,\n.ag-theme-quartz-dark .ag-charts-format-sub-level-group-container,\n.ag-theme-quartz-dark .ag-charts-format-sub-level-group-item:last-child,\n.ag-theme-quartz-dark .ag-charts-format-sub-level-group-container > *,\n.ag-theme-quartz-dark .ag-charts-data-group-title-bar,\n.ag-theme-quartz-dark .ag-charts-data-group-container,\n.ag-theme-quartz-dark .ag-charts-settings-group-title-bar,\n.ag-theme-quartz-dark .ag-charts-settings-group-container,\n.ag-theme-quartz-auto-dark .ag-chart-format-wrapper,\n.ag-theme-quartz-auto-dark .ag-chart-data-wrapper,\n.ag-theme-quartz-auto-dark .ag-charts-format-top-level-group,\n.ag-theme-quartz-auto-dark .ag-charts-format-top-level-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-charts-format-top-level-group .ag-charts-format-top-level-group-container,\n.ag-theme-quartz-auto-dark .ag-charts-format-top-level-group-item,\n.ag-theme-quartz-auto-dark .ag-charts-format-sub-level-group,\n.ag-theme-quartz-auto-dark .ag-charts-format-sub-level-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-charts-format-sub-level-group-container,\n.ag-theme-quartz-auto-dark .ag-charts-format-sub-level-group-item:last-child,\n.ag-theme-quartz-auto-dark .ag-charts-format-sub-level-group-container > *,\n.ag-theme-quartz-auto-dark .ag-charts-data-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-charts-data-group-container,\n.ag-theme-quartz-auto-dark .ag-charts-settings-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-charts-settings-group-container {\n  padding: 0;\n  margin: 0;\n}\n.ag-theme-quartz .ag-charts-format-top-level-group,\n.ag-theme-quartz .ag-charts-data-group,\n.ag-theme-quartz-dark .ag-charts-format-top-level-group,\n.ag-theme-quartz-dark .ag-charts-data-group,\n.ag-theme-quartz-auto-dark .ag-charts-format-top-level-group,\n.ag-theme-quartz-auto-dark .ag-charts-data-group {\n  border-top: var(--ag-borders-secondary) var(--ag-secondary-border-color);\n}\n.ag-theme-quartz .ag-charts-format-top-level-group-title-bar,\n.ag-theme-quartz .ag-charts-data-group-title-bar,\n.ag-theme-quartz .ag-charts-settings-group-title-bar,\n.ag-theme-quartz-dark .ag-charts-format-top-level-group-title-bar,\n.ag-theme-quartz-dark .ag-charts-data-group-title-bar,\n.ag-theme-quartz-dark .ag-charts-settings-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-charts-format-top-level-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-charts-data-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-charts-settings-group-title-bar {\n  padding: var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);\n}\n.ag-theme-quartz .ag-charts-format-top-level-group .ag-charts-format-top-level-group-container,\n.ag-theme-quartz .ag-charts-data-group .ag-charts-data-group-container,\n.ag-theme-quartz .ag-charts-settings-group .ag-charts-settings-group-container,\n.ag-theme-quartz-dark .ag-charts-format-top-level-group .ag-charts-format-top-level-group-container,\n.ag-theme-quartz-dark .ag-charts-data-group .ag-charts-data-group-container,\n.ag-theme-quartz-dark .ag-charts-settings-group .ag-charts-settings-group-container,\n.ag-theme-quartz-auto-dark .ag-charts-format-top-level-group .ag-charts-format-top-level-group-container,\n.ag-theme-quartz-auto-dark .ag-charts-data-group .ag-charts-data-group-container,\n.ag-theme-quartz-auto-dark .ag-charts-settings-group .ag-charts-settings-group-container {\n  padding: 0 var(--ag-widget-container-horizontal-padding);\n}\n.ag-theme-quartz .ag-charts-format-sub-level-group-title-bar,\n.ag-theme-quartz-dark .ag-charts-format-sub-level-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-charts-format-sub-level-group-title-bar {\n  padding: var(--ag-widget-vertical-spacing) 0;\n}\n.ag-theme-quartz .ag-charts-format-sub-level-group-container,\n.ag-theme-quartz-dark .ag-charts-format-sub-level-group-container,\n.ag-theme-quartz-auto-dark .ag-charts-format-sub-level-group-container {\n  padding-top: var(--ag-widget-vertical-spacing);\n  padding-bottom: var(--ag-widget-container-vertical-padding);\n}\n.ag-theme-quartz .ag-charts-format-top-level-group-container > *,\n.ag-theme-quartz .ag-charts-format-sub-level-group-container > *,\n.ag-theme-quartz-dark .ag-charts-format-top-level-group-container > *,\n.ag-theme-quartz-dark .ag-charts-format-sub-level-group-container > *,\n.ag-theme-quartz-auto-dark .ag-charts-format-top-level-group-container > *,\n.ag-theme-quartz-auto-dark .ag-charts-format-sub-level-group-container > * {\n  margin-bottom: var(--ag-widget-vertical-spacing);\n}\n.ag-theme-quartz .ag-charts-data-group-item,\n.ag-theme-quartz-dark .ag-charts-data-group-item,\n.ag-theme-quartz-auto-dark .ag-charts-data-group-item {\n  padding-bottom: var(--ag-widget-container-vertical-padding);\n}\n.ag-theme-quartz .ag-chart-settings-mini-wrapper,\n.ag-theme-quartz-dark .ag-chart-settings-mini-wrapper,\n.ag-theme-quartz-auto-dark .ag-chart-settings-mini-wrapper {\n  padding-bottom: var(--ag-widget-container-vertical-padding);\n}\n.ag-theme-quartz .ag-chart-advanced-settings-section,\n.ag-theme-quartz-dark .ag-chart-advanced-settings-section,\n.ag-theme-quartz-auto-dark .ag-chart-advanced-settings-section {\n  padding-top: var(--ag-widget-container-vertical-padding);\n  padding-bottom: var(--ag-widget-container-vertical-padding);\n}\n.ag-theme-quartz .ag-charts-advanced-settings-top-level-group .ag-charts-advanced-settings-top-level-group-title-bar,\n.ag-theme-quartz .ag-charts-advanced-settings-top-level-group .ag-charts-advanced-settings-top-level-group-container,\n.ag-theme-quartz-dark .ag-charts-advanced-settings-top-level-group .ag-charts-advanced-settings-top-level-group-title-bar,\n.ag-theme-quartz-dark .ag-charts-advanced-settings-top-level-group .ag-charts-advanced-settings-top-level-group-container,\n.ag-theme-quartz-auto-dark .ag-charts-advanced-settings-top-level-group .ag-charts-advanced-settings-top-level-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-charts-advanced-settings-top-level-group .ag-charts-advanced-settings-top-level-group-container {\n  padding: 0 var(--ag-widget-container-horizontal-padding);\n}\n.ag-theme-quartz .ag-charts-advanced-settings-top-level-group-container,\n.ag-theme-quartz-dark .ag-charts-advanced-settings-top-level-group-container,\n.ag-theme-quartz-auto-dark .ag-charts-advanced-settings-top-level-group-container {\n  margin: 0;\n}\n.ag-theme-quartz .ag-charts-advanced-settings-top-level-group-item,\n.ag-theme-quartz-dark .ag-charts-advanced-settings-top-level-group-item,\n.ag-theme-quartz-auto-dark .ag-charts-advanced-settings-top-level-group-item {\n  margin-top: calc(var(--ag-widget-vertical-spacing) * 2);\n  margin-bottom: 0;\n}\n.ag-theme-quartz .ag-ltr .ag-group-title-bar-icon, .ag-theme-quartz-dark .ag-ltr .ag-group-title-bar-icon, .ag-theme-quartz-auto-dark .ag-ltr .ag-group-title-bar-icon {\n  margin-right: var(--ag-grid-size);\n}\n\n.ag-theme-quartz .ag-rtl .ag-group-title-bar-icon, .ag-theme-quartz-dark .ag-rtl .ag-group-title-bar-icon, .ag-theme-quartz-auto-dark .ag-rtl .ag-group-title-bar-icon {\n  margin-left: var(--ag-grid-size);\n}\n\n.ag-theme-quartz .ag-spectrum-color,\n.ag-theme-quartz .ag-spectrum-fill,\n.ag-theme-quartz-dark .ag-spectrum-color,\n.ag-theme-quartz-dark .ag-spectrum-fill,\n.ag-theme-quartz-auto-dark .ag-spectrum-color,\n.ag-theme-quartz-auto-dark .ag-spectrum-fill {\n  border-radius: var(--ag-border-radius);\n}\n.ag-theme-quartz .ag-spectrum-dragger,\n.ag-theme-quartz-dark .ag-spectrum-dragger,\n.ag-theme-quartz-auto-dark .ag-spectrum-dragger {\n  border-radius: 18px;\n  height: 18px;\n  width: 18px;\n  border: 3px solid white;\n}\n.ag-theme-quartz .ag-spectrum-tools,\n.ag-theme-quartz-dark .ag-spectrum-tools,\n.ag-theme-quartz-auto-dark .ag-spectrum-tools {\n  padding-left: 0;\n  padding-right: 0;\n  padding-bottom: 0;\n}\n.ag-theme-quartz .ag-spectrum-tool,\n.ag-theme-quartz-dark .ag-spectrum-tool,\n.ag-theme-quartz-auto-dark .ag-spectrum-tool {\n  height: 12px;\n}\n.ag-theme-quartz .ag-spectrum-hue-background,\n.ag-theme-quartz .ag-spectrum-alpha-background,\n.ag-theme-quartz-dark .ag-spectrum-hue-background,\n.ag-theme-quartz-dark .ag-spectrum-alpha-background,\n.ag-theme-quartz-auto-dark .ag-spectrum-hue-background,\n.ag-theme-quartz-auto-dark .ag-spectrum-alpha-background {\n  border-radius: 12px;\n}\n.ag-theme-quartz .ag-spectrum-slider,\n.ag-theme-quartz-dark .ag-spectrum-slider,\n.ag-theme-quartz-auto-dark .ag-spectrum-slider {\n  margin-top: -15px;\n  width: 18px;\n  height: 18px;\n  border-radius: 18px;\n  border: 3px solid rgb(248, 248, 248);\n}\n.ag-theme-quartz .ag-recent-colors,\n.ag-theme-quartz-dark .ag-recent-colors,\n.ag-theme-quartz-auto-dark .ag-recent-colors {\n  margin-left: var(--ag-grid-size);\n  margin-right: var(--ag-grid-size);\n  margin-bottom: 2px;\n}\n.ag-theme-quartz .ag-color-input-color,\n.ag-theme-quartz .ag-color-picker-color,\n.ag-theme-quartz .ag-recent-color,\n.ag-theme-quartz-dark .ag-color-input-color,\n.ag-theme-quartz-dark .ag-color-picker-color,\n.ag-theme-quartz-dark .ag-recent-color,\n.ag-theme-quartz-auto-dark .ag-color-input-color,\n.ag-theme-quartz-auto-dark .ag-color-picker-color,\n.ag-theme-quartz-auto-dark .ag-recent-color {\n  border-radius: 4px;\n}\n.ag-theme-quartz .ag-recent-color,\n.ag-theme-quartz-dark .ag-recent-color,\n.ag-theme-quartz-auto-dark .ag-recent-color {\n  border: var(--ag-borders-secondary) var(--ag-secondary-border-color);\n}\n.ag-theme-quartz.ag-dnd-ghost,\n.ag-theme-quartz-dark.ag-dnd-ghost,\n.ag-theme-quartz-auto-dark.ag-dnd-ghost {\n  font-weight: 500;\n}\n.ag-theme-quartz .ag-standard-button,\n.ag-theme-quartz-dark .ag-standard-button,\n.ag-theme-quartz-auto-dark .ag-standard-button {\n  font-family: inherit;\n  appearance: none;\n  -webkit-appearance: none;\n  border-radius: var(--ag-border-radius);\n  border: solid 1px var(--ag-input-border-color);\n  background-color: var(--ag-background-color);\n  padding: var(--ag-grid-size) calc(var(--ag-grid-size) * 2);\n  cursor: pointer;\n}\n.ag-theme-quartz .ag-standard-button:hover,\n.ag-theme-quartz-dark .ag-standard-button:hover,\n.ag-theme-quartz-auto-dark .ag-standard-button:hover {\n  background-color: var(--ag-row-hover-color);\n}\n.ag-theme-quartz .ag-standard-button:active,\n.ag-theme-quartz-dark .ag-standard-button:active,\n.ag-theme-quartz-auto-dark .ag-standard-button:active {\n  border-color: var(--ag-active-color);\n}\n.ag-theme-quartz .ag-standard-button:disabled,\n.ag-theme-quartz-dark .ag-standard-button:disabled,\n.ag-theme-quartz-auto-dark .ag-standard-button:disabled {\n  color: var(--ag-disabled-foreground-color);\n  background-color: var(--ag-input-disabled-background-color);\n  border-color: var(--ag-input-disabled-border-color);\n}\n.ag-theme-quartz .ag-column-drop-cell,\n.ag-theme-quartz-dark .ag-column-drop-cell,\n.ag-theme-quartz-auto-dark .ag-column-drop-cell {\n  border-radius: calc(var(--ag-grid-size) * 3);\n  height: calc(var(--ag-grid-size) * 3);\n  padding: 0 var(--ag-grid-size);\n}\n.ag-theme-quartz .ag-column-drop-cell-button,\n.ag-theme-quartz-dark .ag-column-drop-cell-button,\n.ag-theme-quartz-auto-dark .ag-column-drop-cell-button {\n  min-width: 0;\n  margin: 0;\n}\n.ag-theme-quartz .ag-column-drop-cell-drag-handle,\n.ag-theme-quartz-dark .ag-column-drop-cell-drag-handle,\n.ag-theme-quartz-auto-dark .ag-column-drop-cell-drag-handle {\n  margin-left: 0;\n}\n.ag-theme-quartz .ag-column-drop-vertical,\n.ag-theme-quartz-dark .ag-column-drop-vertical,\n.ag-theme-quartz-auto-dark .ag-column-drop-vertical {\n  min-height: 75px;\n}\n.ag-theme-quartz .ag-column-drop-vertical-title-bar,\n.ag-theme-quartz-dark .ag-column-drop-vertical-title-bar,\n.ag-theme-quartz-auto-dark .ag-column-drop-vertical-title-bar {\n  padding: var(--ag-widget-container-vertical-padding) calc(var(--ag-grid-size) * 2) 0;\n}\n.ag-theme-quartz .ag-ltr .ag-column-drop-vertical-icon, .ag-theme-quartz-dark .ag-ltr .ag-column-drop-vertical-icon, .ag-theme-quartz-auto-dark .ag-ltr .ag-column-drop-vertical-icon {\n  margin-left: 0;\n  margin-right: var(--ag-widget-horizontal-spacing);\n}\n\n.ag-theme-quartz .ag-rtl .ag-column-drop-vertical-icon, .ag-theme-quartz-dark .ag-rtl .ag-column-drop-vertical-icon, .ag-theme-quartz-auto-dark .ag-rtl .ag-column-drop-vertical-icon {\n  margin-right: 0;\n  margin-left: var(--ag-widget-horizontal-spacing);\n}\n\n.ag-theme-quartz .ag-column-drop-vertical-empty-message,\n.ag-theme-quartz-dark .ag-column-drop-vertical-empty-message,\n.ag-theme-quartz-auto-dark .ag-column-drop-vertical-empty-message {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: dashed 1px;\n  border-color: var(--ag-border-color);\n  margin: calc(var(--ag-grid-size) * 1.5) calc(var(--ag-grid-size) * 2);\n  padding: calc(var(--ag-grid-size) * 2);\n}\n.ag-theme-quartz .ag-column-drop-empty-message,\n.ag-theme-quartz-dark .ag-column-drop-empty-message,\n.ag-theme-quartz-auto-dark .ag-column-drop-empty-message {\n  color: var(--ag-foreground-color);\n}\n.ag-theme-quartz .ag-pill-select .ag-column-drop,\n.ag-theme-quartz-dark .ag-pill-select .ag-column-drop,\n.ag-theme-quartz-auto-dark .ag-pill-select .ag-column-drop {\n  min-height: unset;\n}\n.ag-theme-quartz .ag-pill-select .ag-picker-field-display,\n.ag-theme-quartz-dark .ag-pill-select .ag-picker-field-display,\n.ag-theme-quartz-auto-dark .ag-pill-select .ag-picker-field-display {\n  font-weight: 500;\n  color: var(--ag-chart-menu-pill-select-button-color);\n}\n.ag-theme-quartz .ag-pill-select .ag-picker-field-icon .ag-icon,\n.ag-theme-quartz-dark .ag-pill-select .ag-picker-field-icon .ag-icon,\n.ag-theme-quartz-auto-dark .ag-pill-select .ag-picker-field-icon .ag-icon {\n  color: var(--ag-chart-menu-pill-select-button-color);\n}\n.ag-theme-quartz .ag-status-bar,\n.ag-theme-quartz-dark .ag-status-bar,\n.ag-theme-quartz-auto-dark .ag-status-bar {\n  font-weight: normal;\n}\n.ag-theme-quartz .ag-status-name-value,\n.ag-theme-quartz-dark .ag-status-name-value,\n.ag-theme-quartz-auto-dark .ag-status-name-value {\n  padding: var(--ag-widget-container-vertical-padding) 0;\n}\n.ag-theme-quartz .ag-status-name-value-value,\n.ag-theme-quartz .ag-paging-number,\n.ag-theme-quartz .ag-paging-row-summary-panel-number,\n.ag-theme-quartz-dark .ag-status-name-value-value,\n.ag-theme-quartz-dark .ag-paging-number,\n.ag-theme-quartz-dark .ag-paging-row-summary-panel-number,\n.ag-theme-quartz-auto-dark .ag-status-name-value-value,\n.ag-theme-quartz-auto-dark .ag-paging-number,\n.ag-theme-quartz-auto-dark .ag-paging-row-summary-panel-number {\n  font-weight: 500;\n}\n.ag-theme-quartz .ag-column-drop-cell-button,\n.ag-theme-quartz-dark .ag-column-drop-cell-button,\n.ag-theme-quartz-auto-dark .ag-column-drop-cell-button {\n  opacity: 0.75;\n}\n.ag-theme-quartz .ag-column-drop-cell-button:hover,\n.ag-theme-quartz-dark .ag-column-drop-cell-button:hover,\n.ag-theme-quartz-auto-dark .ag-column-drop-cell-button:hover {\n  opacity: 1;\n}\n.ag-theme-quartz .ag-header-cell-menu-button,\n.ag-theme-quartz .ag-header-cell-filter-button,\n.ag-theme-quartz .ag-panel-title-bar-button,\n.ag-theme-quartz .ag-header-expand-icon,\n.ag-theme-quartz .ag-column-group-icons,\n.ag-theme-quartz .ag-set-filter-group-icons,\n.ag-theme-quartz .ag-group-expanded .ag-icon,\n.ag-theme-quartz .ag-group-contracted .ag-icon,\n.ag-theme-quartz .ag-chart-settings-prev,\n.ag-theme-quartz .ag-chart-settings-next,\n.ag-theme-quartz .ag-group-title-bar-icon,\n.ag-theme-quartz .ag-column-select-header-icon,\n.ag-theme-quartz .ag-floating-filter-button-button,\n.ag-theme-quartz .ag-filter-toolpanel-expand,\n.ag-theme-quartz .ag-panel-title-bar-button-icon,\n.ag-theme-quartz .ag-chart-menu-icon,\n.ag-theme-quartz-dark .ag-header-cell-menu-button,\n.ag-theme-quartz-dark .ag-header-cell-filter-button,\n.ag-theme-quartz-dark .ag-panel-title-bar-button,\n.ag-theme-quartz-dark .ag-header-expand-icon,\n.ag-theme-quartz-dark .ag-column-group-icons,\n.ag-theme-quartz-dark .ag-set-filter-group-icons,\n.ag-theme-quartz-dark .ag-group-expanded .ag-icon,\n.ag-theme-quartz-dark .ag-group-contracted .ag-icon,\n.ag-theme-quartz-dark .ag-chart-settings-prev,\n.ag-theme-quartz-dark .ag-chart-settings-next,\n.ag-theme-quartz-dark .ag-group-title-bar-icon,\n.ag-theme-quartz-dark .ag-column-select-header-icon,\n.ag-theme-quartz-dark .ag-floating-filter-button-button,\n.ag-theme-quartz-dark .ag-filter-toolpanel-expand,\n.ag-theme-quartz-dark .ag-panel-title-bar-button-icon,\n.ag-theme-quartz-dark .ag-chart-menu-icon,\n.ag-theme-quartz-auto-dark .ag-header-cell-menu-button,\n.ag-theme-quartz-auto-dark .ag-header-cell-filter-button,\n.ag-theme-quartz-auto-dark .ag-panel-title-bar-button,\n.ag-theme-quartz-auto-dark .ag-header-expand-icon,\n.ag-theme-quartz-auto-dark .ag-column-group-icons,\n.ag-theme-quartz-auto-dark .ag-set-filter-group-icons,\n.ag-theme-quartz-auto-dark .ag-group-expanded .ag-icon,\n.ag-theme-quartz-auto-dark .ag-group-contracted .ag-icon,\n.ag-theme-quartz-auto-dark .ag-chart-settings-prev,\n.ag-theme-quartz-auto-dark .ag-chart-settings-next,\n.ag-theme-quartz-auto-dark .ag-group-title-bar-icon,\n.ag-theme-quartz-auto-dark .ag-column-select-header-icon,\n.ag-theme-quartz-auto-dark .ag-floating-filter-button-button,\n.ag-theme-quartz-auto-dark .ag-filter-toolpanel-expand,\n.ag-theme-quartz-auto-dark .ag-panel-title-bar-button-icon,\n.ag-theme-quartz-auto-dark .ag-chart-menu-icon {\n  --ag-quartz-icon-hover-color: color-mix(in srgb, transparent, var(--ag-foreground-color) 10%);\n}\n.ag-theme-quartz .ag-header-cell-menu-button:hover,\n.ag-theme-quartz .ag-header-cell-filter-button:hover,\n.ag-theme-quartz .ag-panel-title-bar-button:hover,\n.ag-theme-quartz .ag-header-expand-icon:hover,\n.ag-theme-quartz .ag-column-group-icons:hover,\n.ag-theme-quartz .ag-set-filter-group-icons:hover,\n.ag-theme-quartz .ag-group-expanded .ag-icon:hover,\n.ag-theme-quartz .ag-group-contracted .ag-icon:hover,\n.ag-theme-quartz .ag-chart-settings-prev:hover,\n.ag-theme-quartz .ag-chart-settings-next:hover,\n.ag-theme-quartz .ag-group-title-bar-icon:hover,\n.ag-theme-quartz .ag-column-select-header-icon:hover,\n.ag-theme-quartz .ag-floating-filter-button-button:hover,\n.ag-theme-quartz .ag-filter-toolpanel-expand:hover,\n.ag-theme-quartz .ag-panel-title-bar-button-icon:hover,\n.ag-theme-quartz .ag-chart-menu-icon:hover,\n.ag-theme-quartz-dark .ag-header-cell-menu-button:hover,\n.ag-theme-quartz-dark .ag-header-cell-filter-button:hover,\n.ag-theme-quartz-dark .ag-panel-title-bar-button:hover,\n.ag-theme-quartz-dark .ag-header-expand-icon:hover,\n.ag-theme-quartz-dark .ag-column-group-icons:hover,\n.ag-theme-quartz-dark .ag-set-filter-group-icons:hover,\n.ag-theme-quartz-dark .ag-group-expanded .ag-icon:hover,\n.ag-theme-quartz-dark .ag-group-contracted .ag-icon:hover,\n.ag-theme-quartz-dark .ag-chart-settings-prev:hover,\n.ag-theme-quartz-dark .ag-chart-settings-next:hover,\n.ag-theme-quartz-dark .ag-group-title-bar-icon:hover,\n.ag-theme-quartz-dark .ag-column-select-header-icon:hover,\n.ag-theme-quartz-dark .ag-floating-filter-button-button:hover,\n.ag-theme-quartz-dark .ag-filter-toolpanel-expand:hover,\n.ag-theme-quartz-dark .ag-panel-title-bar-button-icon:hover,\n.ag-theme-quartz-dark .ag-chart-menu-icon:hover,\n.ag-theme-quartz-auto-dark .ag-header-cell-menu-button:hover,\n.ag-theme-quartz-auto-dark .ag-header-cell-filter-button:hover,\n.ag-theme-quartz-auto-dark .ag-panel-title-bar-button:hover,\n.ag-theme-quartz-auto-dark .ag-header-expand-icon:hover,\n.ag-theme-quartz-auto-dark .ag-column-group-icons:hover,\n.ag-theme-quartz-auto-dark .ag-set-filter-group-icons:hover,\n.ag-theme-quartz-auto-dark .ag-group-expanded .ag-icon:hover,\n.ag-theme-quartz-auto-dark .ag-group-contracted .ag-icon:hover,\n.ag-theme-quartz-auto-dark .ag-chart-settings-prev:hover,\n.ag-theme-quartz-auto-dark .ag-chart-settings-next:hover,\n.ag-theme-quartz-auto-dark .ag-group-title-bar-icon:hover,\n.ag-theme-quartz-auto-dark .ag-column-select-header-icon:hover,\n.ag-theme-quartz-auto-dark .ag-floating-filter-button-button:hover,\n.ag-theme-quartz-auto-dark .ag-filter-toolpanel-expand:hover,\n.ag-theme-quartz-auto-dark .ag-panel-title-bar-button-icon:hover,\n.ag-theme-quartz-auto-dark .ag-chart-menu-icon:hover {\n  border-radius: 1px;\n  background-color: var(--ag-quartz-icon-hover-color);\n  box-shadow: 0 0 0 4px var(--ag-quartz-icon-hover-color);\n}\n.ag-theme-quartz .ag-filter-active,\n.ag-theme-quartz-dark .ag-filter-active,\n.ag-theme-quartz-auto-dark .ag-filter-active {\n  --ag-quartz-icon-active-color: color-mix(in srgb, transparent, var(--ag-active-color) 14%);\n  --ag-quartz-icon-hover-color: color-mix(in srgb, transparent, var(--ag-active-color) 28%);\n  position: relative;\n  border-radius: 1px;\n  background-color: var(--ag-quartz-icon-active-color);\n  box-shadow: 0 0 0 4px var(--ag-quartz-icon-active-color);\n}\n.ag-theme-quartz .ag-filter-active::after,\n.ag-theme-quartz-dark .ag-filter-active::after,\n.ag-theme-quartz-auto-dark .ag-filter-active::after {\n  content: "";\n  position: absolute;\n  width: 6px;\n  height: 6px;\n  top: -1px;\n  right: -1px;\n  border-radius: 50%;\n  background-color: var(--ag-active-color);\n}\n.ag-theme-quartz .ag-filter-active .ag-icon-filter,\n.ag-theme-quartz-dark .ag-filter-active .ag-icon-filter,\n.ag-theme-quartz-auto-dark .ag-filter-active .ag-icon-filter {\n  clip-path: path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");\n}\n.ag-theme-quartz .ag-chart-menu,\n.ag-theme-quartz-dark .ag-chart-menu,\n.ag-theme-quartz-auto-dark .ag-chart-menu {\n  --ag-icon-size: 20px;\n  background-color: color-mix(in srgb, transparent, var(--ag-background-color) 30%);\n  padding: 4px 2px;\n}\n.ag-theme-quartz .ag-chart-menu-icon,\n.ag-theme-quartz-dark .ag-chart-menu-icon,\n.ag-theme-quartz-auto-dark .ag-chart-menu-icon {\n  opacity: 0.8;\n}\n.ag-theme-quartz .ag-drag-handle,\n.ag-theme-quartz-dark .ag-drag-handle,\n.ag-theme-quartz-auto-dark .ag-drag-handle {\n  color: var(--ag-icon-font-color);\n}\n.ag-theme-quartz .ag-menu-option-icon,\n.ag-theme-quartz .ag-compact-menu-option-icon,\n.ag-theme-quartz-dark .ag-menu-option-icon,\n.ag-theme-quartz-dark .ag-compact-menu-option-icon,\n.ag-theme-quartz-auto-dark .ag-menu-option-icon,\n.ag-theme-quartz-auto-dark .ag-compact-menu-option-icon {\n  width: var(--ag-icon-size);\n  cursor: pointer;\n}\n.ag-theme-quartz .ag-ltr .ag-menu-option-icon, .ag-theme-quartz .ag-ltr .ag-compact-menu-option-icon, .ag-theme-quartz-dark .ag-ltr .ag-menu-option-icon, .ag-theme-quartz-dark .ag-ltr .ag-compact-menu-option-icon, .ag-theme-quartz-auto-dark .ag-ltr .ag-menu-option-icon, .ag-theme-quartz-auto-dark .ag-ltr .ag-compact-menu-option-icon {\n  padding-left: calc(var(--ag-grid-size) * 1.5);\n}\n\n.ag-theme-quartz .ag-rtl .ag-menu-option-icon, .ag-theme-quartz .ag-rtl .ag-compact-menu-option-icon, .ag-theme-quartz-dark .ag-rtl .ag-menu-option-icon, .ag-theme-quartz-dark .ag-rtl .ag-compact-menu-option-icon, .ag-theme-quartz-auto-dark .ag-rtl .ag-menu-option-icon, .ag-theme-quartz-auto-dark .ag-rtl .ag-compact-menu-option-icon {\n  padding-right: calc(var(--ag-grid-size) * 1.5);\n}\n\n.ag-theme-quartz .ag-chart-settings-card-item.ag-not-selected:hover,\n.ag-theme-quartz-dark .ag-chart-settings-card-item.ag-not-selected:hover,\n.ag-theme-quartz-auto-dark .ag-chart-settings-card-item.ag-not-selected:hover {\n  opacity: 0.35;\n}\n.ag-theme-quartz .ag-ltr .ag-panel-title-bar-button, .ag-theme-quartz-dark .ag-ltr .ag-panel-title-bar-button, .ag-theme-quartz-auto-dark .ag-ltr .ag-panel-title-bar-button {\n  margin-left: calc(var(--ag-grid-size) * 2);\n  margin-right: var(--ag-grid-size);\n}\n\n.ag-theme-quartz .ag-rtl .ag-panel-title-bar-button, .ag-theme-quartz-dark .ag-rtl .ag-panel-title-bar-button, .ag-theme-quartz-auto-dark .ag-rtl .ag-panel-title-bar-button {\n  margin-right: calc(var(--ag-grid-size) * 2);\n  margin-left: var(--ag-grid-size);\n}\n\n.ag-theme-quartz .ag-multi-filter-group-title-bar,\n.ag-theme-quartz-dark .ag-multi-filter-group-title-bar,\n.ag-theme-quartz-auto-dark .ag-multi-filter-group-title-bar {\n  padding: calc(var(--ag-grid-size) * 1.5) var(--ag-grid-size);\n}\n.ag-theme-quartz .ag-ltr .ag-filter-toolpanel-instance-body, .ag-theme-quartz-dark .ag-ltr .ag-filter-toolpanel-instance-body, .ag-theme-quartz-auto-dark .ag-ltr .ag-filter-toolpanel-instance-body {\n  padding-left: var(--ag-grid-size);\n}\n\n.ag-theme-quartz .ag-rtl .ag-filter-toolpanel-instance-body, .ag-theme-quartz-dark .ag-rtl .ag-filter-toolpanel-instance-body, .ag-theme-quartz-auto-dark .ag-rtl .ag-filter-toolpanel-instance-body {\n  padding-right: var(--ag-grid-size);\n}\n\n.ag-theme-quartz .ag-filter-toolpanel-instance-filter,\n.ag-theme-quartz-dark .ag-filter-toolpanel-instance-filter,\n.ag-theme-quartz-auto-dark .ag-filter-toolpanel-instance-filter {\n  border: none;\n  background-color: var(--ag-control-panel-background-color);\n}\n.ag-theme-quartz .ag-ltr .ag-filter-toolpanel-instance-filter, .ag-theme-quartz-dark .ag-ltr .ag-filter-toolpanel-instance-filter, .ag-theme-quartz-auto-dark .ag-ltr .ag-filter-toolpanel-instance-filter {\n  margin-left: calc(var(--ag-icon-size) * 0.5);\n}\n\n.ag-theme-quartz .ag-rtl .ag-filter-toolpanel-instance-filter, .ag-theme-quartz-dark .ag-rtl .ag-filter-toolpanel-instance-filter, .ag-theme-quartz-auto-dark .ag-rtl .ag-filter-toolpanel-instance-filter {\n  margin-right: calc(var(--ag-icon-size) * 0.5);\n}\n\n.ag-theme-quartz .ag-filter-toolpanel-group-level-0,\n.ag-theme-quartz-dark .ag-filter-toolpanel-group-level-0,\n.ag-theme-quartz-auto-dark .ag-filter-toolpanel-group-level-0 {\n  border-top: none;\n}\n.ag-theme-quartz .ag-filter-toolpanel-header,\n.ag-theme-quartz-dark .ag-filter-toolpanel-header,\n.ag-theme-quartz-auto-dark .ag-filter-toolpanel-header {\n  height: initial;\n  padding-top: var(--ag-grid-size);\n  padding-bottom: var(--ag-grid-size);\n}\n.ag-theme-quartz .ag-filter-toolpanel-group-item,\n.ag-theme-quartz-dark .ag-filter-toolpanel-group-item,\n.ag-theme-quartz-auto-dark .ag-filter-toolpanel-group-item {\n  margin: 0;\n}\n.ag-theme-quartz .ag-layout-auto-height .ag-center-cols-viewport,\n.ag-theme-quartz .ag-layout-auto-height .ag-center-cols-container,\n.ag-theme-quartz .ag-layout-print .ag-center-cols-viewport,\n.ag-theme-quartz .ag-layout-print .ag-center-cols-container,\n.ag-theme-quartz-dark .ag-layout-auto-height .ag-center-cols-viewport,\n.ag-theme-quartz-dark .ag-layout-auto-height .ag-center-cols-container,\n.ag-theme-quartz-dark .ag-layout-print .ag-center-cols-viewport,\n.ag-theme-quartz-dark .ag-layout-print .ag-center-cols-container,\n.ag-theme-quartz-auto-dark .ag-layout-auto-height .ag-center-cols-viewport,\n.ag-theme-quartz-auto-dark .ag-layout-auto-height .ag-center-cols-container,\n.ag-theme-quartz-auto-dark .ag-layout-print .ag-center-cols-viewport,\n.ag-theme-quartz-auto-dark .ag-layout-print .ag-center-cols-container {\n  min-height: 150px;\n}\n.ag-theme-quartz .ag-overlay-no-rows-wrapper.ag-layout-auto-height,\n.ag-theme-quartz-dark .ag-overlay-no-rows-wrapper.ag-layout-auto-height,\n.ag-theme-quartz-auto-dark .ag-overlay-no-rows-wrapper.ag-layout-auto-height {\n  padding-top: 60px;\n}\n.ag-theme-quartz .ag-date-time-list-page-entry-is-current,\n.ag-theme-quartz-dark .ag-date-time-list-page-entry-is-current,\n.ag-theme-quartz-auto-dark .ag-date-time-list-page-entry-is-current {\n  background-color: var(--ag-active-color);\n}\n.ag-theme-quartz .ag-advanced-filter-builder-button,\n.ag-theme-quartz-dark .ag-advanced-filter-builder-button,\n.ag-theme-quartz-auto-dark .ag-advanced-filter-builder-button {\n  padding: var(--ag-grid-size);\n  font-weight: 600;\n}\n.ag-theme-quartz .ag-advanced-filter-builder-item-button-disabled .ag-icon,\n.ag-theme-quartz .ag-disabled .ag-icon,\n.ag-theme-quartz .ag-column-select-column-group-readonly .ag-icon,\n.ag-theme-quartz [disabled] .ag-icon,\n.ag-theme-quartz-dark .ag-advanced-filter-builder-item-button-disabled .ag-icon,\n.ag-theme-quartz-dark .ag-disabled .ag-icon,\n.ag-theme-quartz-dark .ag-column-select-column-group-readonly .ag-icon,\n.ag-theme-quartz-dark [disabled] .ag-icon,\n.ag-theme-quartz-auto-dark .ag-advanced-filter-builder-item-button-disabled .ag-icon,\n.ag-theme-quartz-auto-dark .ag-disabled .ag-icon,\n.ag-theme-quartz-auto-dark .ag-column-select-column-group-readonly .ag-icon,\n.ag-theme-quartz-auto-dark [disabled] .ag-icon {\n  opacity: 0.6;\n}\n.ag-theme-quartz .ag-icon-grip,\n.ag-theme-quartz-dark .ag-icon-grip,\n.ag-theme-quartz-auto-dark .ag-icon-grip {\n  opacity: 0.7;\n}\n.ag-theme-quartz .ag-column-select-column-readonly.ag-icon-grip,\n.ag-theme-quartz .ag-column-select-column-readonly .ag-icon-grip,\n.ag-theme-quartz-dark .ag-column-select-column-readonly.ag-icon-grip,\n.ag-theme-quartz-dark .ag-column-select-column-readonly .ag-icon-grip,\n.ag-theme-quartz-auto-dark .ag-column-select-column-readonly.ag-icon-grip,\n.ag-theme-quartz-auto-dark .ag-column-select-column-readonly .ag-icon-grip {\n  opacity: 0.35;\n}\n.ag-theme-quartz .ag-column-select-header-filter-wrapper .ag-input-wrapper::before,\n.ag-theme-quartz .ag-filter-toolpanel-search .ag-input-wrapper::before,\n.ag-theme-quartz .ag-mini-filter .ag-input-wrapper::before,\n.ag-theme-quartz .ag-filter-filter .ag-input-wrapper::before,\n.ag-theme-quartz-dark .ag-column-select-header-filter-wrapper .ag-input-wrapper::before,\n.ag-theme-quartz-dark .ag-filter-toolpanel-search .ag-input-wrapper::before,\n.ag-theme-quartz-dark .ag-mini-filter .ag-input-wrapper::before,\n.ag-theme-quartz-dark .ag-filter-filter .ag-input-wrapper::before,\n.ag-theme-quartz-auto-dark .ag-column-select-header-filter-wrapper .ag-input-wrapper::before,\n.ag-theme-quartz-auto-dark .ag-filter-toolpanel-search .ag-input-wrapper::before,\n.ag-theme-quartz-auto-dark .ag-mini-filter .ag-input-wrapper::before,\n.ag-theme-quartz-auto-dark .ag-filter-filter .ag-input-wrapper::before {\n  position: absolute;\n  display: block;\n  width: 12px;\n  height: 12px;\n  background-image: url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");\n  background-position: 50% 50%;\n  background-size: contain;\n  opacity: 40%;\n  content: "";\n  filter: var(--ag-icon-filter);\n}\n.ag-theme-quartz .ag-ltr .ag-column-select-header-filter-wrapper .ag-input-wrapper::before, .ag-theme-quartz .ag-ltr .ag-filter-toolpanel-search .ag-input-wrapper::before, .ag-theme-quartz .ag-ltr .ag-mini-filter .ag-input-wrapper::before, .ag-theme-quartz .ag-ltr .ag-filter-filter .ag-input-wrapper::before, .ag-theme-quartz-dark .ag-ltr .ag-column-select-header-filter-wrapper .ag-input-wrapper::before, .ag-theme-quartz-dark .ag-ltr .ag-filter-toolpanel-search .ag-input-wrapper::before, .ag-theme-quartz-dark .ag-ltr .ag-mini-filter .ag-input-wrapper::before, .ag-theme-quartz-dark .ag-ltr .ag-filter-filter .ag-input-wrapper::before, .ag-theme-quartz-auto-dark .ag-ltr .ag-column-select-header-filter-wrapper .ag-input-wrapper::before, .ag-theme-quartz-auto-dark .ag-ltr .ag-filter-toolpanel-search .ag-input-wrapper::before, .ag-theme-quartz-auto-dark .ag-ltr .ag-mini-filter .ag-input-wrapper::before, .ag-theme-quartz-auto-dark .ag-ltr .ag-filter-filter .ag-input-wrapper::before {\n  margin-left: var(--ag-grid-size);\n}\n\n.ag-theme-quartz .ag-rtl .ag-column-select-header-filter-wrapper .ag-input-wrapper::before, .ag-theme-quartz .ag-rtl .ag-filter-toolpanel-search .ag-input-wrapper::before, .ag-theme-quartz .ag-rtl .ag-mini-filter .ag-input-wrapper::before, .ag-theme-quartz .ag-rtl .ag-filter-filter .ag-input-wrapper::before, .ag-theme-quartz-dark .ag-rtl .ag-column-select-header-filter-wrapper .ag-input-wrapper::before, .ag-theme-quartz-dark .ag-rtl .ag-filter-toolpanel-search .ag-input-wrapper::before, .ag-theme-quartz-dark .ag-rtl .ag-mini-filter .ag-input-wrapper::before, .ag-theme-quartz-dark .ag-rtl .ag-filter-filter .ag-input-wrapper::before, .ag-theme-quartz-auto-dark .ag-rtl .ag-column-select-header-filter-wrapper .ag-input-wrapper::before, .ag-theme-quartz-auto-dark .ag-rtl .ag-filter-toolpanel-search .ag-input-wrapper::before, .ag-theme-quartz-auto-dark .ag-rtl .ag-mini-filter .ag-input-wrapper::before, .ag-theme-quartz-auto-dark .ag-rtl .ag-filter-filter .ag-input-wrapper::before {\n  margin-right: var(--ag-grid-size);\n}\n\n.ag-theme-quartz .ag-ltr .ag-column-select-header-filter-wrapper input.ag-text-field-input, .ag-theme-quartz .ag-ltr .ag-column-select-header-filter-wrapper input.ag-number-field-input, .ag-theme-quartz .ag-ltr .ag-filter-toolpanel-search input.ag-text-field-input, .ag-theme-quartz .ag-ltr .ag-filter-toolpanel-search input.ag-number-field-input, .ag-theme-quartz .ag-ltr .ag-mini-filter input.ag-text-field-input, .ag-theme-quartz .ag-ltr .ag-mini-filter input.ag-number-field-input, .ag-theme-quartz .ag-ltr .ag-filter-filter input.ag-text-field-input, .ag-theme-quartz .ag-ltr .ag-filter-filter input.ag-number-field-input, .ag-theme-quartz-dark .ag-ltr .ag-column-select-header-filter-wrapper input.ag-text-field-input, .ag-theme-quartz-dark .ag-ltr .ag-column-select-header-filter-wrapper input.ag-number-field-input, .ag-theme-quartz-dark .ag-ltr .ag-filter-toolpanel-search input.ag-text-field-input, .ag-theme-quartz-dark .ag-ltr .ag-filter-toolpanel-search input.ag-number-field-input, .ag-theme-quartz-dark .ag-ltr .ag-mini-filter input.ag-text-field-input, .ag-theme-quartz-dark .ag-ltr .ag-mini-filter input.ag-number-field-input, .ag-theme-quartz-dark .ag-ltr .ag-filter-filter input.ag-text-field-input, .ag-theme-quartz-dark .ag-ltr .ag-filter-filter input.ag-number-field-input, .ag-theme-quartz-auto-dark .ag-ltr .ag-column-select-header-filter-wrapper input.ag-text-field-input, .ag-theme-quartz-auto-dark .ag-ltr .ag-column-select-header-filter-wrapper input.ag-number-field-input, .ag-theme-quartz-auto-dark .ag-ltr .ag-filter-toolpanel-search input.ag-text-field-input, .ag-theme-quartz-auto-dark .ag-ltr .ag-filter-toolpanel-search input.ag-number-field-input, .ag-theme-quartz-auto-dark .ag-ltr .ag-mini-filter input.ag-text-field-input, .ag-theme-quartz-auto-dark .ag-ltr .ag-mini-filter input.ag-number-field-input, .ag-theme-quartz-auto-dark .ag-ltr .ag-filter-filter input.ag-text-field-input, .ag-theme-quartz-auto-dark .ag-ltr .ag-filter-filter input.ag-number-field-input {\n  padding-left: 26px;\n}\n\n.ag-theme-quartz .ag-rtl .ag-column-select-header-filter-wrapper input.ag-text-field-input, .ag-theme-quartz .ag-rtl .ag-column-select-header-filter-wrapper input.ag-number-field-input, .ag-theme-quartz .ag-rtl .ag-filter-toolpanel-search input.ag-text-field-input, .ag-theme-quartz .ag-rtl .ag-filter-toolpanel-search input.ag-number-field-input, .ag-theme-quartz .ag-rtl .ag-mini-filter input.ag-text-field-input, .ag-theme-quartz .ag-rtl .ag-mini-filter input.ag-number-field-input, .ag-theme-quartz .ag-rtl .ag-filter-filter input.ag-text-field-input, .ag-theme-quartz .ag-rtl .ag-filter-filter input.ag-number-field-input, .ag-theme-quartz-dark .ag-rtl .ag-column-select-header-filter-wrapper input.ag-text-field-input, .ag-theme-quartz-dark .ag-rtl .ag-column-select-header-filter-wrapper input.ag-number-field-input, .ag-theme-quartz-dark .ag-rtl .ag-filter-toolpanel-search input.ag-text-field-input, .ag-theme-quartz-dark .ag-rtl .ag-filter-toolpanel-search input.ag-number-field-input, .ag-theme-quartz-dark .ag-rtl .ag-mini-filter input.ag-text-field-input, .ag-theme-quartz-dark .ag-rtl .ag-mini-filter input.ag-number-field-input, .ag-theme-quartz-dark .ag-rtl .ag-filter-filter input.ag-text-field-input, .ag-theme-quartz-dark .ag-rtl .ag-filter-filter input.ag-number-field-input, .ag-theme-quartz-auto-dark .ag-rtl .ag-column-select-header-filter-wrapper input.ag-text-field-input, .ag-theme-quartz-auto-dark .ag-rtl .ag-column-select-header-filter-wrapper input.ag-number-field-input, .ag-theme-quartz-auto-dark .ag-rtl .ag-filter-toolpanel-search input.ag-text-field-input, .ag-theme-quartz-auto-dark .ag-rtl .ag-filter-toolpanel-search input.ag-number-field-input, .ag-theme-quartz-auto-dark .ag-rtl .ag-mini-filter input.ag-text-field-input, .ag-theme-quartz-auto-dark .ag-rtl .ag-mini-filter input.ag-number-field-input, .ag-theme-quartz-auto-dark .ag-rtl .ag-filter-filter input.ag-text-field-input, .ag-theme-quartz-auto-dark .ag-rtl .ag-filter-filter input.ag-number-field-input {\n  padding-right: 26px;\n}\n\n.ag-theme-quartz .ag-ltr .ag-column-select-add-group-indent, .ag-theme-quartz-dark .ag-ltr .ag-column-select-add-group-indent, .ag-theme-quartz-auto-dark .ag-ltr .ag-column-select-add-group-indent {\n  margin-left: calc(var(--ag-icon-size) + var(--ag-grid-size) * 1.5);\n}\n\n.ag-theme-quartz .ag-rtl .ag-column-select-add-group-indent, .ag-theme-quartz-dark .ag-rtl .ag-column-select-add-group-indent, .ag-theme-quartz-auto-dark .ag-rtl .ag-column-select-add-group-indent {\n  margin-right: calc(var(--ag-icon-size) + var(--ag-grid-size) * 1.5);\n}\n\n.ag-theme-quartz .ag-text-field-input[disabled],\n.ag-theme-quartz .ag-menu-option-disabled,\n.ag-theme-quartz-dark .ag-text-field-input[disabled],\n.ag-theme-quartz-dark .ag-menu-option-disabled,\n.ag-theme-quartz-auto-dark .ag-text-field-input[disabled],\n.ag-theme-quartz-auto-dark .ag-menu-option-disabled {\n  cursor: not-allowed;\n}\n.ag-theme-quartz .ag-checkbox-input-wrapper.ag-checked.ag-disabled,\n.ag-theme-quartz-dark .ag-checkbox-input-wrapper.ag-checked.ag-disabled,\n.ag-theme-quartz-auto-dark .ag-checkbox-input-wrapper.ag-checked.ag-disabled {\n  --ag-checkbox-checked-color: var(--ag-checkbox-unchecked-color);\n}\n.ag-theme-quartz .ag-checkbox-input,\n.ag-theme-quartz .ag-toggle-button-input,\n.ag-theme-quartz .ag-radio-button-input,\n.ag-theme-quartz input[class^=ag-][type=range],\n.ag-theme-quartz-dark .ag-checkbox-input,\n.ag-theme-quartz-dark .ag-toggle-button-input,\n.ag-theme-quartz-dark .ag-radio-button-input,\n.ag-theme-quartz-dark input[class^=ag-][type=range],\n.ag-theme-quartz-auto-dark .ag-checkbox-input,\n.ag-theme-quartz-auto-dark .ag-toggle-button-input,\n.ag-theme-quartz-auto-dark .ag-radio-button-input,\n.ag-theme-quartz-auto-dark input[class^=ag-][type=range] {\n  cursor: pointer;\n}\n.ag-theme-quartz .ag-details-row,\n.ag-theme-quartz-dark .ag-details-row,\n.ag-theme-quartz-auto-dark .ag-details-row {\n  padding: calc(var(--ag-grid-size) * 3.75);\n}\n\n.ag-theme-quartz-dark .ag-column-select-header-filter-wrapper .ag-input-wrapper::before,\n.ag-theme-quartz-dark .ag-filter-toolpanel-search .ag-input-wrapper::before,\n.ag-theme-quartz-dark .ag-mini-filter .ag-input-wrapper::before,\n.ag-theme-quartz-dark .ag-filter-filter .ag-input-wrapper::before {\n  opacity: 66%;\n  filter: invert(100%);\n}\n.ag-theme-quartz-dark .ag-chart-menu {\n  background-color: color-mix(in srgb, rgba(24, 39, 50, 0.3), var(--ag-background-color) 30%);\n}\n.ag-theme-quartz-dark .ag-text-field-input::placeholder {\n  color: var(--ag-data-color);\n  opacity: 0.8;\n}\n',""]),module.exports=exports},"./node_modules/ag-grid-react/dist/package/index.esm.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W6:()=>AgGridReact});var react=__webpack_require__("./node_modules/react/index.js"),LocalEventService=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(frameworkOverrides){this.frameworkOverrides=frameworkOverrides}getListeners(eventType,async,autoCreateListenerCollection){const listenerMap=async?this.allAsyncListeners:this.allSyncListeners;let listeners=listenerMap.get(eventType);return!listeners&&autoCreateListenerCollection&&(listeners=new Set,listenerMap.set(eventType,listeners)),listeners}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(eventType,listener,async=!1){this.getListeners(eventType,async,!0).add(listener)}removeEventListener(eventType,listener,async=!1){const listeners=this.getListeners(eventType,async,!1);if(listeners&&(listeners.delete(listener),0===listeners.size)){(async?this.allAsyncListeners:this.allSyncListeners).delete(eventType)}}addGlobalListener(listener,async=!1){(async?this.globalAsyncListeners:this.globalSyncListeners).add(listener)}removeGlobalListener(listener,async=!1){(async?this.globalAsyncListeners:this.globalSyncListeners).delete(listener)}dispatchEvent(event){const agEvent=event;this.dispatchToListeners(agEvent,!0),this.dispatchToListeners(agEvent,!1),this.firedEvents[agEvent.type]=!0}dispatchEventOnce(event){this.firedEvents[event.type]||this.dispatchEvent(event)}dispatchToListeners(event,async){const eventType=event.type;if(async&&"event"in event){const browserEvent=event.event;browserEvent instanceof Event&&(event.eventPath=browserEvent.composedPath())}const processEventListeners=(listeners2,originalListeners2)=>listeners2.forEach((listener=>{if(!originalListeners2.has(listener))return;const callback=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>listener(event))):()=>listener(event);async?this.dispatchAsync(callback):callback()})),originalListeners=this.getListeners(eventType,async,!1)??new Set,listeners=new Set(originalListeners);listeners.size>0&&processEventListeners(listeners,originalListeners);new Set(async?this.globalAsyncListeners:this.globalSyncListeners).forEach((listener=>{const callback=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>listener(eventType,event))):()=>listener(eventType,event);async?this.dispatchAsync(callback):callback()}))}dispatchAsync(func){if(this.asyncFunctionsQueue.push(func),!this.scheduled){const flush=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(flush):flush(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const queueCopy=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],queueCopy.forEach((func=>func()))}};function _last(arr){if(arr&&arr.length)return arr[arr.length-1]}function _areEqual(a,b,comparator){return null==a&&null==b||null!=a&&null!=b&&a.length===b.length&&a.every(((value,index)=>comparator?comparator(value,b[index]):b[index]===value))}function _removeFromUnorderedArray(array,object){const index=array.indexOf(object);index>=0&&(array[index]=array[array.length-1],array.pop())}function _removeFromArray(array,object){const index=array.indexOf(object);index>=0&&array.splice(index,1)}function _insertIntoArray(array,object,toIndex){array.splice(toIndex,0,object)}function _moveInArray(array,objectsToMove,toIndex){!function _removeAllFromArray(array,toRemove){for(let i=0;i<toRemove.length;i++)_removeFromArray(array,toRemove[i])}(array,objectsToMove),objectsToMove.slice().reverse().forEach((obj=>_insertIntoArray(array,obj,toIndex)))}function _includes(array,value){return array.indexOf(value)>-1}function _pushAll(target,source){null!=source&&null!=target&&source.forEach((value=>target.push(value)))}var PASSIVE_EVENTS=["touchstart","touchend","touchmove","touchcancel","scroll"],supports={};function _stopPropagationForAgGrid(event){event.__ag_Grid_Stop_Propagation=!0}function _isStopPropagationForAgGrid(event){return!0===event.__ag_Grid_Stop_Propagation}var _isEventSupported=(()=>{const tags={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return eventName=>{if("boolean"==typeof supports[eventName])return supports[eventName];const el=document.createElement(tags[eventName]||"div");return supports[eventName="on"+eventName]=eventName in el}})();function _getCtrlForEventTarget(gos,eventTarget,type){let sourceElement=eventTarget;for(;sourceElement;){const renderedComp=gos.getDomData(sourceElement,type);if(renderedComp)return renderedComp;sourceElement=sourceElement.parentElement}return null}function _isElementInEventPath(element,event){return!(!event||!element)&&function _getEventPath(event){const eventNoType=event;if(eventNoType.path)return eventNoType.path;if(eventNoType.composedPath)return eventNoType.composedPath();return function _createEventPath(event){const res=[];let pointer=event.target;for(;pointer;)res.push(pointer),pointer=pointer.parentElement;return res}(eventNoType)}(event).indexOf(element)>=0}var BeanStub=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(beans){this.gridId=beans.context.getGridId(),this.frameworkOverrides=beans.frameworkOverrides,this.stubContext=beans.context,this.eventService=beans.eventService,this.gos=beans.gos,this.localeService=beans.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let i=0;i<this.destroyFunctions.length;i++)this.destroyFunctions[i]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(eventType,listener){this.localEventService||(this.localEventService=new LocalEventService),this.localEventService.addEventListener(eventType,listener)}removeEventListener(eventType,listener){this.localEventService&&this.localEventService.removeEventListener(eventType,listener)}dispatchLocalEvent(event){this.localEventService&&this.localEventService.dispatchEvent(event)}addManagedElementListeners(object,handlers){return this._setupListeners(object,handlers)}addManagedEventListeners(handlers){return this._setupListeners(this.eventService,handlers)}addManagedListeners(object,handlers){return this._setupListeners(object,handlers)}_setupListeners(object,handlers){const destroyFuncs=[];for(const k in handlers){const handler=handlers[k];handler&&destroyFuncs.push(this._setupListener(object,k,handler))}return destroyFuncs}_setupListener(object,event,listener){if(this.destroyed)return()=>null;object instanceof HTMLElement?function _addSafePassiveEventListener(frameworkOverrides,eElement,event,listener){const options=_includes(PASSIVE_EVENTS,event)?{passive:!0}:void 0;frameworkOverrides&&frameworkOverrides.addEventListener&&frameworkOverrides.addEventListener(eElement,event,listener,options)}(this.getFrameworkOverrides(),object,event,listener):object.addEventListener(event,listener);const destroyFunc=()=>(object.removeEventListener(event,listener),null);return this.destroyFunctions.push(destroyFunc),()=>(destroyFunc(),this.destroyFunctions=this.destroyFunctions.filter((fn=>fn!==destroyFunc)),null)}setupGridOptionListener(event,listener){this.gos.addPropertyEventListener(event,listener);const destroyFunc=()=>(this.gos.removePropertyEventListener(event,listener),null);return this.destroyFunctions.push(destroyFunc),()=>(destroyFunc(),this.destroyFunctions=this.destroyFunctions.filter((fn=>fn!==destroyFunc)),null)}addManagedPropertyListener(event,listener){return this.destroyed?()=>null:this.setupGridOptionListener(event,listener)}addManagedPropertyListeners(events,listener){if(this.destroyed)return;const eventsKey=events.join("-")+this.propertyListenerId++,wrappedListener=event=>{if(event.changeSet){if(event.changeSet&&event.changeSet.id===this.lastChangeSetIdLookup[eventsKey])return;this.lastChangeSetIdLookup[eventsKey]=event.changeSet.id}const propertiesChangeEvent={type:"gridPropertyChanged",changeSet:event.changeSet,source:event.source};listener(propertiesChangeEvent)};events.forEach((event=>this.setupGridOptionListener(event,wrappedListener)))}addDestroyFunc(func){this.isAlive()?this.destroyFunctions.push(func):func()}createManagedBean(bean,context){const res=this.createBean(bean,context);return this.addDestroyFunc(this.destroyBean.bind(this,bean,context)),res}createBean(bean,context,afterPreCreateCallback){return(context||this.stubContext).createBean(bean,afterPreCreateCallback)}destroyBean(bean,context){return(context||this.stubContext).destroyBean(bean)}destroyBeans(beans,context){return(context||this.stubContext).destroyBeans(beans)}},FrameworkEventListenerService=class{constructor(frameworkOverrides){this.frameworkOverrides=frameworkOverrides,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(userListener){let listener=userListener;return this.frameworkOverrides.shouldWrapOutgoing&&(listener=event=>{this.frameworkOverrides.wrapOutgoing((()=>userListener(event)))},this.wrappedListeners.set(userListener,listener)),listener}wrapGlobal(userListener){let listener=userListener;return this.frameworkOverrides.shouldWrapOutgoing&&(listener=(eventType,event)=>{this.frameworkOverrides.wrapOutgoing((()=>userListener(eventType,event)))},this.wrappedGlobalListeners.set(userListener,listener)),listener}unwrap(userListener){return this.wrappedListeners.get(userListener)??userListener}unwrapGlobal(userListener){return this.wrappedGlobalListeners.get(userListener)??userListener}};function _makeNull(value){return null==value||""===value?null:value}function _exists(value,allowEmptyString=!1){return null!=value&&(""!==value||allowEmptyString)}function _missing(value){return!_exists(value)}function _missingOrEmpty(value){return null==value||0===value.length}function _toStringOrNull(value){return null!=value&&"function"==typeof value.toString?value.toString():null}function _attrToNumber(value){if(void 0===value)return;if(null===value||""===value)return null;if("number"==typeof value)return isNaN(value)?void 0:value;const valueParsed=parseInt(value,10);return isNaN(valueParsed)?void 0:valueParsed}function _attrToBoolean(value){if(void 0!==value)return null!==value&&""!==value&&toBoolean(value)}function toBoolean(value){return"boolean"==typeof value?value:"string"==typeof value&&("TRUE"===value.toUpperCase()||""==value)}function _jsonEquals(val1,val2){return(val1?JSON.stringify(val1):null)===(val2?JSON.stringify(val2):null)}function _defaultComparator(valueA,valueB,accentedCompare=!1){const valueAMissing=null==valueA,valueBMissing=null==valueB;if(valueA&&valueA.toNumber&&(valueA=valueA.toNumber()),valueB&&valueB.toNumber&&(valueB=valueB.toNumber()),valueAMissing&&valueBMissing)return 0;if(valueAMissing)return-1;if(valueBMissing)return 1;function doQuickCompare(a,b){return a>b?1:a<b?-1:0}if("string"!=typeof valueA)return doQuickCompare(valueA,valueB);if(!accentedCompare)return doQuickCompare(valueA,valueB);try{return valueA.localeCompare(valueB)}catch(e){return doQuickCompare(valueA,valueB)}}function _values(object){if(object instanceof Set||object instanceof Map){const arr=[];return object.forEach((value=>arr.push(value))),arr}return Object.values(object)}var SKIP_JS_BUILTINS=new Set(["__proto__","constructor","prototype"]);function _iterateObject(object,callback){if(null!=object)if(Array.isArray(object))for(let i=0;i<object.length;i++)callback(i.toString(),object[i]);else for(const[key,value]of Object.entries(object))callback(key,value)}function _cloneObject(object){const copy={},keys=Object.keys(object);for(let i=0;i<keys.length;i++){if(SKIP_JS_BUILTINS.has(keys[i]))continue;const key=keys[i],value=object[key];copy[key]=value}return copy}function _deepCloneDefinition(object,keysToSkip){if(!object)return;const obj=object,res={};return Object.keys(obj).forEach((key=>{if(keysToSkip&&keysToSkip.indexOf(key)>=0||SKIP_JS_BUILTINS.has(key))return;const value=obj[key],sourceIsSimpleObject=_isNonNullObject(value)&&value.constructor===Object;res[key]=sourceIsSimpleObject?_deepCloneDefinition(value):value})),res}function _getAllValuesInObject(obj){if(!obj)return[];const anyObject=Object;if("function"==typeof anyObject.values)return anyObject.values(obj);const ret=[];for(const key in obj)obj.hasOwnProperty(key)&&obj.propertyIsEnumerable(key)&&ret.push(obj[key]);return ret}function _mergeDeep(dest,source,copyUndefined=!0,makeCopyOfSimpleObjects=!1){_exists(source)&&_iterateObject(source,((key,sourceValue)=>{if(SKIP_JS_BUILTINS.has(key))return;let destValue=dest[key];if(destValue!==sourceValue){if(makeCopyOfSimpleObjects){if(null==destValue&&null!=sourceValue){"object"==typeof sourceValue&&sourceValue.constructor===Object&&(destValue={},dest[key]=destValue)}}_isNonNullObject(sourceValue)&&_isNonNullObject(destValue)&&!Array.isArray(destValue)?_mergeDeep(destValue,sourceValue,copyUndefined,makeCopyOfSimpleObjects):(copyUndefined||void 0!==sourceValue)&&(dest[key]=sourceValue)}}))}function _getValueUsingField(data,field,fieldContainsDots){if(!field||!data)return;if(!fieldContainsDots)return data[field];const fields=field.split(".");let currentObject=data;for(let i=0;i<fields.length;i++){if(null==currentObject)return;currentObject=currentObject[fields[i]]}return currentObject}function _isNonNullObject(value){return"object"==typeof value&&null!==value}var COL_DEF_DEFAULTS={resizable:!0,sortable:!0},instanceIdSequence=0;function getNextColInstanceId(){return instanceIdSequence++}function isColumn(col){return col instanceof AgColumn}var AgColumn=class extends BeanStub{constructor(colDef,userProvidedColDef,colId,primary){super(),this.isColumn=!0,this.instanceId=getNextColInstanceId(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new LocalEventService,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=colDef,this.userProvidedColDef=userProvidedColDef,this.colId=colId,this.primary=primary,this.setState(colDef)}wireBeans(beans){this.columnHoverService=beans.columnHoverService}getInstanceId(){return this.instanceId}setState(colDef){void 0!==colDef.sort?"asc"!==colDef.sort&&"desc"!==colDef.sort||(this.sort=colDef.sort):"asc"!==colDef.initialSort&&"desc"!==colDef.initialSort||(this.sort=colDef.initialSort);const sortIndex=colDef.sortIndex,initialSortIndex=colDef.initialSortIndex;void 0!==sortIndex?null!==sortIndex&&(this.sortIndex=sortIndex):null!==initialSortIndex&&(this.sortIndex=initialSortIndex);const hide=colDef.hide,initialHide=colDef.initialHide;this.visible=void 0!==hide?!hide:!initialHide,void 0!==colDef.pinned?this.setPinned(colDef.pinned):this.setPinned(colDef.initialPinned);const flex=colDef.flex,initialFlex=colDef.initialFlex;void 0!==flex?this.flex=flex:void 0!==initialFlex&&(this.flex=initialFlex)}setColDef(colDef,userProvidedColDef,source){this.colDef=colDef,this.userProvidedColDef=userProvidedColDef,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",source))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(parent){this.parent=parent}getParent(){return this.parent}setOriginalParent(originalParent){this.originalParent=originalParent}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const suppressDotNotation=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=_exists(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!suppressDotNotation,this.tooltipFieldContainsDots=_exists(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!suppressDotNotation}initMinAndMaxWidths(){const colDef=this.colDef;this.minWidth=colDef.minWidth??20,this.maxWidth=colDef.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=_exists(this.colDef.tooltipField)||_exists(this.colDef.tooltipValueGetter)||_exists(this.colDef.tooltipComponent)}resetActualWidth(source){const initialWidth=this.calculateColInitialWidth(this.colDef);this.setActualWidth(initialWidth,source,!0)}calculateColInitialWidth(colDef){let width;const colDefWidth=_attrToNumber(colDef.width),colDefInitialWidth=_attrToNumber(colDef.initialWidth);return width=null!=colDefWidth?colDefWidth:null!=colDefInitialWidth?colDefInitialWidth:200,Math.max(Math.min(width,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(colId){if(_missing(this.colDef)||_missing(this.colDef.showRowGroup))return!1;const showingAllGroups=!0===this.colDef.showRowGroup,showingThisGroup=this.colDef.showRowGroup===colId;return showingAllGroups||showingThisGroup}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(eventType,userListener){this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new FrameworkEventListenerService(this.frameworkOverrides));const listener=this.frameworkEventListenerService?.wrap(userListener)??userListener;this.columnEventService.addEventListener(eventType,listener)}removeEventListener(eventType,userListener){const listener=this.frameworkEventListenerService?.unwrap(userListener)??userListener;this.columnEventService.removeEventListener(eventType,listener)}createColumnFunctionCallbackParams(rowNode){return this.gos.addGridCommonParams({node:rowNode,data:rowNode.data,column:this,colDef:this.colDef})}isSuppressNavigable(rowNode){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){const params=this.createColumnFunctionCallbackParams(rowNode);return(0,this.colDef.suppressNavigable)(params)}return!1}isCellEditable(rowNode){return!(rowNode.group&&!this.gos.get("enableGroupEdit"))&&this.isColumnFunc(rowNode,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(rowNode){return this.isColumnFunc(rowNode,this.colDef.rowDrag)}isDndSource(rowNode){return this.isColumnFunc(rowNode,this.colDef.dndSource)}isCellCheckboxSelection(rowNode){return this.isColumnFunc(rowNode,this.colDef.checkboxSelection)}isSuppressPaste(rowNode){return this.isColumnFunc(rowNode,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(key){return this.colDef[key]??COL_DEF_DEFAULTS[key]}isColumnFunc(rowNode,value){if("boolean"==typeof value)return value;if("function"==typeof value){return value(this.createColumnFunctionCallbackParams(rowNode))}return!1}setMoving(moving,source){this.moving=moving,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",source))}createColumnEvent(type,source){return this.gos.addGridCommonParams({type,column:this,columns:[this],source})}isMoving(){return this.moving}getSort(){return this.sort}setSort(sort,source){this.sort!==sort&&(this.sort=sort,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",source))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return _missing(this.sort)}isSorting(){return _exists(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(sortOrder){this.sortIndex=sortOrder,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(visible,source){this.menuVisible!==visible&&(this.menuVisible=visible,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",source)))}isMenuVisible(){return this.menuVisible}setAggFunc(aggFunc){this.aggFunc=aggFunc,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(left,source){this.oldLeft=this.left,this.left!==left&&(this.left=left,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",source)))}isFilterActive(){return this.filterActive}setFilterActive(active,source,additionalEventAttributes){this.filterActive!==active&&(this.filterActive=active,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",source)));const filterChangedEvent=this.createColumnEvent("filterChanged",source);additionalEventAttributes&&_mergeDeep(filterChangedEvent,additionalEventAttributes),this.columnEventService.dispatchEvent(filterChangedEvent)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(pinned){this.pinned=!0===pinned||"left"===pinned?"left":"right"===pinned?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(firstRightPinned,source){this.firstRightPinned!==firstRightPinned&&(this.firstRightPinned=firstRightPinned,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",source)))}setLastLeftPinned(lastLeftPinned,source){this.lastLeftPinned!==lastLeftPinned&&(this.lastLeftPinned=lastLeftPinned,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",source)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(visible,source){const newValue=!0===visible;this.visible!==newValue&&(this.visible=newValue,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",source))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const colDef=this.getColDef();return!colDef.suppressSpanHeaderHeight&&!colDef.autoHeaderHeight}getColumnGroupPaddingInfo(){let parent=this.getParent();if(!parent||!parent.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const numberOfParents=parent.getPaddingLevel()+1;let isSpanningTotal=!0;for(;parent;){if(!parent.isPadding()){isSpanningTotal=!1;break}parent=parent.getParent()}return{numberOfParents,isSpanningTotal}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(height){const changed=height!==this.autoHeaderHeight;return this.autoHeaderHeight=height,changed}createBaseColDefParams(rowNode){return this.gos.addGridCommonParams({node:rowNode,data:rowNode.data,colDef:this.colDef,column:this})}getColSpan(rowNode){if(_missing(this.colDef.colSpan))return 1;const params=this.createBaseColDefParams(rowNode),colSpan=this.colDef.colSpan(params);return Math.max(colSpan,1)}getRowSpan(rowNode){if(_missing(this.colDef.rowSpan))return 1;const params=this.createBaseColDefParams(rowNode),rowSpan=this.colDef.rowSpan(params);return Math.max(rowSpan,1)}setActualWidth(actualWidth,source,silent=!1){actualWidth=Math.max(actualWidth,this.minWidth),actualWidth=Math.min(actualWidth,this.maxWidth),this.actualWidth!==actualWidth&&(this.actualWidth=actualWidth,this.flex&&"flex"!==source&&"gridInitializing"!==source&&(this.flex=null),silent||this.fireColumnWidthChangedEvent(source)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(source){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",source))}isGreaterThanMax(width){return width>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(flex){this.flex!==flex&&(this.flex=flex),this.dispatchStateUpdatedEvent("flex")}setMinimum(source){this.setActualWidth(this.minWidth,source)}setRowGroupActive(rowGroup,source){this.rowGroupActive!==rowGroup&&(this.rowGroupActive=rowGroup,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",source))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(pivot,source){this.pivotActive!==pivot&&(this.pivotActive=pivot,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",source))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(value,source){this.aggregationActive!==value&&(this.aggregationActive=value,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",source)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}dispatchStateUpdatedEvent(key){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key})}};function isProvidedColumnGroup(col){return col instanceof AgProvidedColumnGroup}var AgProvidedColumnGroup=class extends BeanStub{constructor(colGroupDef,groupId,padding,level){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=getNextColInstanceId(),this.expandableListenerRemoveCallback=null,this.colGroupDef=colGroupDef,this.groupId=groupId,this.expanded=!!colGroupDef&&!!colGroupDef.openByDefault,this.padding=padding,this.level=level}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(colGroupDef,level){this.colGroupDef=colGroupDef,this.level=level,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(originalParent){this.originalParent=originalParent}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some((child=>child.isVisible()))}isPadding(){return this.padding}setExpanded(expanded){this.expanded=void 0!==expanded&&expanded,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(children){this.children=children}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const result=[];return this.addLeafColumns(result),result}addLeafColumns(leafColumns){this.children&&this.children.forEach((child=>{isColumn(child)?leafColumns.push(child):isProvidedColumnGroup(child)&&child.addLeafColumns(leafColumns)}))}getColumnGroupShow(){const colGroupDef=this.colGroupDef;if(colGroupDef)return colGroupDef.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const listener=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((col=>col.addEventListener("visibleChanged",listener))),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach((col=>col.removeEventListener("visibleChanged",listener))),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let atLeastOneShowingWhenOpen=!1,atLeastOneShowingWhenClosed=!1,atLeastOneChangeable=!1;const children=this.findChildrenRemovingPadding();for(let i=0,j=children.length;i<j;i++){const abstractColumn=children[i];if(!abstractColumn.isVisible())continue;const headerGroupShow=abstractColumn.getColumnGroupShow();"open"===headerGroupShow?(atLeastOneShowingWhenOpen=!0,atLeastOneChangeable=!0):"closed"===headerGroupShow?(atLeastOneShowingWhenClosed=!0,atLeastOneChangeable=!0):(atLeastOneShowingWhenOpen=!0,atLeastOneShowingWhenClosed=!0)}const expandable=atLeastOneShowingWhenOpen&&atLeastOneShowingWhenClosed&&atLeastOneChangeable;this.expandable!==expandable&&(this.expandable=expandable,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const res=[],process=items=>{items.forEach((item=>{isProvidedColumnGroup(item)&&item.isPadding()?process(item.children):res.push(item)}))};return process(this.children),res}onColumnVisibilityChanged(){this.setExpandable()}},DefaultColumnTypes={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},doOnceFlags={};function _doOnce(func,key){doOnceFlags[key]||(func(),doOnceFlags[key]=!0)}function _log(message,...args){console.log("AG Grid: "+message,...args)}function _warnOnce(msg,...args){_doOnce((()=>console.warn("AG Grid: "+msg,...args)),msg+args?.join(""))}function _errorOnce(msg,...args){_doOnce((()=>console.error("AG Grid: "+msg,...args)),msg+args?.join(""))}function _isFunction(val){return!!(val&&val.constructor&&val.call&&val.apply)}function _executeInAWhile(funcs){!function _executeAfter(funcs,milliseconds=0){funcs.length>0&&window.setTimeout((()=>funcs.forEach((func=>func()))),milliseconds)}(funcs,400)}var executeNextVMTurnFuncs=[],executeNextVMTurnPending=!1;function _executeNextVMTurn(func){executeNextVMTurnFuncs.push(func),executeNextVMTurnPending||(executeNextVMTurnPending=!0,window.setTimeout((()=>{const funcsCopy=executeNextVMTurnFuncs.slice();executeNextVMTurnFuncs.length=0,executeNextVMTurnPending=!1,funcsCopy.forEach((func2=>func2()))}),0))}function _debounce(func,delay){let timeout;return function(...args){const context=this;window.clearTimeout(timeout),timeout=window.setTimeout((function(){func.apply(context,args)}),delay)}}function _throttle(func,wait){let previousCall=0;return function(...args){const currentCall=(new Date).getTime();currentCall-previousCall<wait||(previousCall=currentCall,func.apply(this,args))}}var ColumnKeyCreator=class{constructor(){this.existingKeys={}}addExistingKeys(keys){for(let i=0;i<keys.length;i++)this.existingKeys[keys[i]]=!0}getUniqueKey(colId,colField){colId=_toStringOrNull(colId);let count=0;for(;;){let idToTry;if(colId?(idToTry=colId,0!==count&&(idToTry+="_"+count)):colField?(idToTry=colField,0!==count&&(idToTry+="_"+count)):idToTry=count,!this.existingKeys[idToTry])return this.existingKeys[idToTry]=!0,String(idToTry);count++}}};function getColumnsFromTree(rootColumns){const result=[],recursiveFindColumns=childColumns=>{for(let i=0;i<childColumns.length;i++){const child=childColumns[i];isColumn(child)?result.push(child):isProvidedColumnGroup(child)&&recursiveFindColumns(child.getChildren())}};return recursiveFindColumns(rootColumns),result}function getWidthOfColsInList(columnList){return columnList.reduce(((width,col)=>width+col.getActualWidth()),0)}function destroyColumnTree(context,oldTree,newTree){const oldObjectsById={};if(!oldTree)return;depthFirstOriginalTreeSearch(null,oldTree,(child=>{oldObjectsById[child.getInstanceId()]=child})),newTree&&depthFirstOriginalTreeSearch(null,newTree,(child=>{oldObjectsById[child.getInstanceId()]=null}));const colsToDestroy=Object.values(oldObjectsById).filter((item=>null!=item));context.destroyBeans(colsToDestroy)}function isColumnGroupAutoCol(col){return col.getId().startsWith("ag-Grid-AutoColumn")}function convertColumnTypes(type){let typeKeys=[];if(type instanceof Array){type.some((a=>"string"!=typeof a))?_warnOnce("if colDef.type is supplied an array it should be of type 'string[]'"):typeKeys=type}else"string"==typeof type?typeKeys=type.split(","):_warnOnce("colDef.type should be of type 'string' | 'string[]'");return typeKeys}var ColumnFactory=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(beans){this.dataTypeService=beans.dataTypeService}createColumnTree(defs,primaryColumns,existingTree,source){const columnKeyCreator=new ColumnKeyCreator,{existingCols,existingGroups,existingColKeys}=this.extractExistingTreeData(existingTree);columnKeyCreator.addExistingKeys(existingColKeys);const unbalancedTree=this.recursivelyCreateColumns(defs,0,primaryColumns,existingCols,columnKeyCreator,existingGroups,source),treeDept=this.findMaxDept(unbalancedTree,0),columnTree=this.balanceColumnTree(unbalancedTree,0,treeDept,columnKeyCreator);return depthFirstOriginalTreeSearch(null,columnTree,((child,parent)=>{isProvidedColumnGroup(child)&&child.setupExpandable(),child.setOriginalParent(parent)})),{columnTree,treeDept}}extractExistingTreeData(existingTree){const existingCols=[],existingGroups=[],existingColKeys=[];return existingTree&&depthFirstOriginalTreeSearch(null,existingTree,(item=>{if(isProvidedColumnGroup(item)){const group=item;existingGroups.push(group)}else{const col=item;existingColKeys.push(col.getId()),existingCols.push(col)}})),{existingCols,existingGroups,existingColKeys}}createForAutoGroups(autoGroupCols,liveTree){const tree=[],dept=this.findDepth(liveTree);return autoGroupCols.forEach((col=>{let nextChild=col;for(let i=dept-1;i>=0;i--){const autoGroup=new AgProvidedColumnGroup(null,`FAKE_PATH_${col.getId()}}_${i}`,!0,i);this.createBean(autoGroup),autoGroup.setChildren([nextChild]),nextChild.setOriginalParent(autoGroup),nextChild=autoGroup}0===dept&&col.setOriginalParent(null),tree.push(nextChild)})),[tree,dept]}findDepth(balancedColumnTree){let dept=0,pointer=balancedColumnTree;for(;pointer&&pointer[0]&&isProvidedColumnGroup(pointer[0]);)dept++,pointer=pointer[0].getChildren();return dept}balanceColumnTree(unbalancedTree,currentDept,columnDept,columnKeyCreator){const result=[];for(let i=0;i<unbalancedTree.length;i++){const child=unbalancedTree[i];if(isProvidedColumnGroup(child)){const originalGroup=child,newChildren=this.balanceColumnTree(originalGroup.getChildren(),currentDept+1,columnDept,columnKeyCreator);originalGroup.setChildren(newChildren),result.push(originalGroup)}else{let firstPaddedGroup,currentPaddedGroup;for(let j=columnDept-1;j>=currentDept;j--){const newColId=columnKeyCreator.getUniqueKey(null,null),colGroupDefMerged=this.createMergedColGroupDef(null),paddedGroup=new AgProvidedColumnGroup(colGroupDefMerged,newColId,!0,currentDept);this.createBean(paddedGroup),currentPaddedGroup&&currentPaddedGroup.setChildren([paddedGroup]),currentPaddedGroup=paddedGroup,firstPaddedGroup||(firstPaddedGroup=currentPaddedGroup)}if(firstPaddedGroup&&currentPaddedGroup){result.push(firstPaddedGroup);if(unbalancedTree.some((leaf=>isProvidedColumnGroup(leaf)))){currentPaddedGroup.setChildren([child]);continue}currentPaddedGroup.setChildren(unbalancedTree);break}result.push(child)}}return result}findMaxDept(treeChildren,dept){let maxDeptThisLevel=dept;for(let i=0;i<treeChildren.length;i++){const abstractColumn=treeChildren[i];if(isProvidedColumnGroup(abstractColumn)){const originalGroup=abstractColumn,newDept=this.findMaxDept(originalGroup.getChildren(),dept+1);maxDeptThisLevel<newDept&&(maxDeptThisLevel=newDept)}}return maxDeptThisLevel}recursivelyCreateColumns(defs,level,primaryColumns,existingColsCopy,columnKeyCreator,existingGroups,source){if(!defs)return[];const result=new Array(defs.length);for(let i=0;i<result.length;i++){const def=defs[i];this.isColumnGroup(def)?result[i]=this.createColumnGroup(primaryColumns,def,level,existingColsCopy,columnKeyCreator,existingGroups,source):result[i]=this.createColumn(primaryColumns,def,existingColsCopy,columnKeyCreator,source)}return result}createColumnGroup(primaryColumns,colGroupDef,level,existingColumns,columnKeyCreator,existingGroups,source){const colGroupDefMerged=this.createMergedColGroupDef(colGroupDef),groupId=columnKeyCreator.getUniqueKey(colGroupDefMerged.groupId||null,null),providedGroup=new AgProvidedColumnGroup(colGroupDefMerged,groupId,!1,level);this.createBean(providedGroup);const existingGroupAndIndex=this.findExistingGroup(colGroupDef,existingGroups);existingGroupAndIndex&&existingGroups.splice(existingGroupAndIndex.idx,1);const existingGroup=existingGroupAndIndex?.group;existingGroup&&providedGroup.setExpanded(existingGroup.isExpanded());const children=this.recursivelyCreateColumns(colGroupDefMerged.children,level+1,primaryColumns,existingColumns,columnKeyCreator,existingGroups,source);return providedGroup.setChildren(children),providedGroup}createMergedColGroupDef(colGroupDef){const colGroupDefMerged={};return Object.assign(colGroupDefMerged,this.gos.get("defaultColGroupDef")),Object.assign(colGroupDefMerged,colGroupDef),colGroupDefMerged}createColumn(primaryColumns,colDef,existingColsCopy,columnKeyCreator,source){const existingColAndIndex=this.findExistingColumn(colDef,existingColsCopy);existingColAndIndex&&existingColsCopy?.splice(existingColAndIndex.idx,1);let column=existingColAndIndex?.column;if(column){const colDefMerged=this.addColumnDefaultAndTypes(colDef,column.getColId());column.setColDef(colDefMerged,colDef,source),this.applyColumnState(column,colDefMerged,source)}else{const colId=columnKeyCreator.getUniqueKey(colDef.colId,colDef.field),colDefMerged=this.addColumnDefaultAndTypes(colDef,colId);column=new AgColumn(colDefMerged,colDef,colId,primaryColumns),this.createBean(column)}return this.dataTypeService?.addColumnListeners(column),column}applyColumnState(column,colDef,source){const flex=_attrToNumber(colDef.flex);void 0!==flex&&column.setFlex(flex);if(column.getFlex()<=0){const width=_attrToNumber(colDef.width);if(null!=width)column.setActualWidth(width,source);else{const widthBeforeUpdate=column.getActualWidth();column.setActualWidth(widthBeforeUpdate,source)}}void 0!==colDef.sort&&("asc"==colDef.sort||"desc"==colDef.sort?column.setSort(colDef.sort,source):column.setSort(void 0,source));const sortIndex=_attrToNumber(colDef.sortIndex);void 0!==sortIndex&&column.setSortIndex(sortIndex);const hide=_attrToBoolean(colDef.hide);void 0!==hide&&column.setVisible(!hide,source),void 0!==colDef.pinned&&column.setPinned(colDef.pinned)}findExistingColumn(newColDef,existingColsCopy){if(existingColsCopy)for(let i=0;i<existingColsCopy.length;i++){const def=existingColsCopy[i].getUserProvidedColDef();if(!def)continue;if(null!=newColDef.colId){if(existingColsCopy[i].getId()===newColDef.colId)return{idx:i,column:existingColsCopy[i]};continue}if(null!=newColDef.field){if(def.field===newColDef.field)return{idx:i,column:existingColsCopy[i]}}else if(def===newColDef)return{idx:i,column:existingColsCopy[i]}}}findExistingGroup(newGroupDef,existingGroups){if(null!=newGroupDef.groupId)for(let i=0;i<existingGroups.length;i++){const existingGroup=existingGroups[i];if(existingGroup.getColGroupDef()&&existingGroup.getId()===newGroupDef.groupId)return{idx:i,group:existingGroup}}}addColumnDefaultAndTypes(colDef,colId){const res={};_mergeDeep(res,this.gos.get("defaultColDef"),!1,!0);const columnType=this.updateColDefAndGetColumnType(res,colDef,colId);columnType&&this.assignColumnTypes(columnType,res),_mergeDeep(res,colDef,!1,!0);const autoGroupColDef=this.gos.get("autoGroupColumnDef"),isSortingCoupled=this.gos.isColumnsSortingCoupledToGroup();return colDef.rowGroup&&autoGroupColDef&&isSortingCoupled&&_mergeDeep(res,{sort:autoGroupColDef.sort,initialSort:autoGroupColDef.initialSort},!1,!0),this.dataTypeService?.validateColDef(res),res}updateColDefAndGetColumnType(colDef,userColDef,colId){const dataTypeDefinitionColumnType=this.dataTypeService?.updateColDefAndGetColumnType(colDef,userColDef,colId),columnTypes=userColDef.type??dataTypeDefinitionColumnType??colDef.type;return colDef.type=columnTypes,columnTypes?convertColumnTypes(columnTypes):void 0}assignColumnTypes(typeKeys,colDefMerged){if(!typeKeys.length)return;const allColumnTypes=Object.assign({},DefaultColumnTypes);_iterateObject(this.gos.get("columnTypes")||{},((key,value)=>{if(key in allColumnTypes)_warnOnce(`the column type '${key}' is a default column type and cannot be overridden.`);else{value.type&&_warnOnce("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),allColumnTypes[key]=value}})),typeKeys.forEach((t=>{const typeColDef=allColumnTypes[t.trim()];typeColDef?_mergeDeep(colDefMerged,typeColDef,!1,!0):_warnOnce("colDef.type '"+t+"' does not correspond to defined gridOptions.columnTypes")}))}isColumnGroup(abstractColDef){return void 0!==abstractColDef.children}};function depthFirstOriginalTreeSearch(parent,tree,callback){if(tree)for(let i=0;i<tree.length;i++){const child=tree[i];isProvidedColumnGroup(child)&&depthFirstOriginalTreeSearch(child,child.getChildren(),callback),callback(child,parent)}}var ColumnModel=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(beans){this.context=beans.context,this.columnFactory=beans.columnFactory,this.columnSizeService=beans.columnSizeService,this.visibleColsService=beans.visibleColsService,this.columnViewportService=beans.columnViewportService,this.pivotResultColsService=beans.pivotResultColsService,this.columnAnimationService=beans.columnAnimationService,this.autoColService=beans.autoColService,this.valueCache=beans.valueCache,this.columnDefFactory=beans.columnDefFactory,this.columnApplyStateService=beans.columnApplyStateService,this.columnGroupStateService=beans.columnGroupStateService,this.eventDispatcher=beans.columnEventDispatcher,this.columnMoveService=beans.columnMoveService,this.columnAutosizeService=beans.columnAutosizeService,this.funcColsService=beans.funcColsService,this.quickFilterService=beans.quickFilterService,this.showRowGroupColsService=beans.showRowGroupColsService,this.environment=beans.environment}postConstruct(){const pivotMode=this.gos.get("pivotMode");this.isPivotSettingAllowed(pivotMode)&&(this.pivotMode=pivotMode),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],(event=>this.refreshAll(convertSourceType(event.source)))),this.addManagedPropertyListener("autoGroupColumnDef",(event=>this.onAutoGroupColumnDefChanged(convertSourceType(event.source)))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],(event=>this.recreateColumnDefs(convertSourceType(event.source)))),this.addManagedPropertyListener("pivotMode",(event=>this.setPivotMode(this.gos.get("pivotMode"),convertSourceType(event.source)))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(colsPreviouslyExisted,source){const dispatchEventsFunc=colsPreviouslyExisted?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(source):void 0;this.valueCache.expire();const oldCols=this.colDefCols&&this.colDefCols.list,oldTree=this.colDefCols&&this.colDefCols.tree,newTree=this.columnFactory.createColumnTree(this.colDefs,!0,oldTree,source);destroyColumnTree(this.context,this.colDefCols?.tree,newTree.columnTree);const tree=newTree.columnTree,treeDepth=newTree.treeDept,list=getColumnsFromTree(tree),map={};list.forEach((col=>map[col.getId()]=col)),this.colDefCols={tree,treeDepth,list,map},this.funcColsService.extractCols(source,oldCols),this.ready=!0,this.refreshCols();colsPreviouslyExisted&&!this.showingPivotResult&&!this.gos.get("maintainColumnOrder")&&this.orderColsLikeColDefCols(),this.visibleColsService.refresh(source),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(source),dispatchEventsFunc&&(this.changeEventsDispatching=!0,dispatchEventsFunc(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(source),"gridInitializing"===source&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(){if(!this.colDefCols)return;const prevColTree=this.cols?.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.restoreColOrder(),this.positionLockedCols(),this.showRowGroupColsService?.refresh(),this.quickFilterService?.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear();!_areEqual(prevColTree,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const pivotResultCols=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=null!=pivotResultCols,pivotResultCols){const{map,list,tree,treeDepth}=pivotResultCols;this.cols={list:list.slice(),map:{...map},tree:tree.slice(),treeDepth};pivotResultCols.list.some((col=>void 0!==this.cols?.map[col.getColId()]))||(this.lastPivotOrder=null)}else{const{map,list,tree,treeDepth}=this.colDefCols;this.cols={list:list.slice(),map:{...map},tree:tree.slice(),treeDepth}}}getColsToShow(){const showAutoGroupAndValuesOnly=this.isPivotMode()&&!this.isShowingPivotResult(),valueColumns=this.funcColsService.getValueColumns();return this.cols.list.filter((col=>{const isAutoGroupCol=isColumnGroupAutoCol(col);if(showAutoGroupAndValuesOnly){const isValueCol=valueColumns&&_includes(valueColumns,col);return isAutoGroupCol||isValueCol}return isAutoGroupCol||col.isVisible()}))}addAutoCols(){null!=this.autoCols&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),function updateColsMap(cols){cols.map={},cols.list.forEach((col=>cols.map[col.getId()]=col))}(this.cols))}createAutoCols(){const groupFullWidthRow=this.gos.isGroupUseEntireRow(this.pivotMode),suppressAutoColumn=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),rowGroupCols=this.funcColsService.getRowGroupColumns(),destroyPrevious=()=>{this.autoCols&&(destroyColumnTree(this.context,this.autoCols.tree),this.autoCols=null)};if(!(rowGroupCols.length>0||this.gos.get("treeData"))||suppressAutoColumn||groupFullWidthRow||!this.autoColService)return void destroyPrevious();const list=this.autoColService.createAutoCols(rowGroupCols)??[],autoColsSame=function areColIdsEqual(colsA,colsB){return _areEqual(colsA,colsB,((a,b)=>a.getColId()===b.getColId()))}(list,this.autoCols?.list||null),newTreeDepth=this.cols.treeDepth,oldTreeDepth=this.autoCols?this.autoCols.treeDepth:-1;if(autoColsSame&&oldTreeDepth==newTreeDepth)return;destroyPrevious();const[tree,treeDepth]=this.columnFactory.createForAutoGroups(list,this.cols?.tree);this.autoCols={list,tree,treeDepth,map:{}};const putAutocolsFirstInList=cols=>{if(!cols)return null;const colsFiltered=cols.filter((col=>!isColumnGroupAutoCol(col)));return[...list,...colsFiltered]};this.lastOrder=putAutocolsFirstInList(this.lastOrder),this.lastPivotOrder=putAutocolsFirstInList(this.lastPivotOrder)}refreshAll(source){this.isReady()&&(this.refreshCols(),this.visibleColsService.refresh(source))}setColsVisible(keys,visible=!1,source){this.columnApplyStateService.applyColumnState({state:keys.map((key=>({colId:"string"==typeof key?key:key.getColId(),hide:!visible})))},source)}setColsPinned(keys,pinned,source){if(!this.cols)return;if(_missingOrEmpty(keys))return;if(this.gos.isDomLayout("print"))return void _warnOnce("Changing the column pinning status is not allowed with domLayout='print'");let actualPinned;this.columnAnimationService.start(),actualPinned=!0===pinned||"left"===pinned?"left":"right"===pinned?"right":null;const updatedCols=[];keys.forEach((key=>{if(!key)return;const column=this.getCol(key);column&&column.getPinned()!==actualPinned&&(column.setPinned(actualPinned),updatedCols.push(column))})),updatedCols.length&&(this.visibleColsService.refresh(source),this.eventDispatcher.columnPinned(updatedCols,source)),this.columnAnimationService.finish()}setColumnGroupOpened(key,newValue,source){let keyAsString;keyAsString=isProvidedColumnGroup(key)?key.getId():key||"",this.columnGroupStateService.setColumnGroupState([{groupId:keyAsString,open:newValue}],source)}getProvidedColGroup(key){let res=null;return depthFirstOriginalTreeSearch(null,this.cols?.tree,(node=>{isProvidedColumnGroup(node)&&node.getId()===key&&(res=node)})),res}isColGroupLocked(column){const groupLockGroupColumns=this.gos.get("groupLockGroupColumns");if(!column.isRowGroupActive()||0===groupLockGroupColumns)return!1;if(-1===groupLockGroupColumns)return!0;return groupLockGroupColumns>this.funcColsService.getRowGroupColumns().findIndex((groupCol=>groupCol.getColId()===column.getColId()))}isSuppressAutoCol(){if("custom"===this.gos.get("groupDisplayType"))return!0;return"custom"===this.gos.get("treeDataDisplayType")}setAutoHeightActive(){if(this.autoHeightActive=this.cols.list.some((col=>col.isAutoHeight())),this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;this.gos.isRowModelType("clientSide")||this.gos.isRowModelType("serverSide")||_warnOnce("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}}restoreColOrder(){const lastOrder=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!lastOrder)return;const lastOrderMapped=new Map(lastOrder.map(((col,index)=>[col,index])));if(!this.cols.list.some((col=>lastOrderMapped.has(col))))return;const colsMap=new Map(this.cols.list.map((col=>[col,!0]))),lastOrderFiltered=lastOrder.filter((col=>colsMap.has(col))),lastOrderFilteredMap=new Map(lastOrderFiltered.map((col=>[col,!0]))),missingFromLastOrder=this.cols.list.filter((col=>!lastOrderFilteredMap.has(col))),res=lastOrderFiltered.slice();missingFromLastOrder.forEach((newCol=>{let parent=newCol.getOriginalParent();if(!parent)return void res.push(newCol);const siblings=[];for(;!siblings.length&&parent;){parent.getLeafColumns().forEach((leafCol=>{const presentInNewCols=res.indexOf(leafCol)>=0,notYetInSiblings=siblings.indexOf(leafCol)<0;presentInNewCols&&notYetInSiblings&&siblings.push(leafCol)})),parent=parent.getOriginalParent()}if(!siblings.length)return void res.push(newCol);const indexes=siblings.map((col=>res.indexOf(col))),lastIndex=Math.max(...indexes);_insertIntoArray(res,newCol,lastIndex+1)})),this.cols.list=res}orderColsLikeColDefCols(){if(!this.colDefCols||!this.cols)return;const colsOrdered=this.colDefCols.list.filter((col=>this.cols.list.indexOf(col)>=0)),otherCols=this.cols.list.filter((col=>colsOrdered.indexOf(col)<0));this.cols.list=[...otherCols,...colsOrdered],this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}sortColsLikeKeys(colIds){if(null==this.cols)return;let newOrder=[];const processedColIds={};colIds.forEach((colId=>{if(processedColIds[colId])return;const col=this.cols.map[colId];col&&(newOrder.push(col),processedColIds[colId]=!0)}));let autoGroupInsertIndex=0;this.cols.list.forEach((col=>{const colId=col.getColId();if(null!=processedColIds[colId])return;colId.startsWith("ag-Grid-AutoColumn")?_insertIntoArray(newOrder,col,autoGroupInsertIndex++):newOrder.push(col)})),newOrder=this.columnMoveService.placeLockedColumns(newOrder),this.columnMoveService.doesMovePassMarryChildren(newOrder)?this.cols.list=newOrder:_warnOnce("Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}sortColsLikeCols(cols){if(!cols||cols.length<=1)return;cols.filter((c=>this.cols.list.indexOf(c)<0)).length>0||cols.sort(((a,b)=>this.cols.list.indexOf(a)-this.cols.list.indexOf(b)))}resetColDefIntoCol(column,source){const userColDef=column.getUserProvidedColDef();if(!userColDef)return!1;const newColDef=this.columnFactory.addColumnDefaultAndTypes(userColDef,column.getColId());return column.setColDef(newColDef,userColDef,source),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach((resizeOperation=>resizeOperation())),this.resizeOperationQueue=[]}pushResizeOperation(func){this.resizeOperationQueue.push(func)}moveInCols(movedColumns,toIndex,source){_moveInArray(this.cols?.list,movedColumns,toIndex),this.visibleColsService.refresh(source)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list:this.lastOrder=this.cols?.list}getColumnDefs(){if(!this.colDefCols)return;const cols=this.colDefCols.list.slice();this.showingPivotResult?cols.sort(((a,b)=>this.lastOrder.indexOf(a)-this.lastOrder.indexOf(b))):this.lastOrder&&cols.sort(((a,b)=>this.cols.list.indexOf(a)-this.cols.list.indexOf(b)));const rowGroupColumns=this.funcColsService.getRowGroupColumns(),pivotColumns=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(cols,rowGroupColumns,pivotColumns)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){return this.colDefCols?.treeDepth>0}setColSpanActive(){this.colSpanActive=this.cols.list.some((col=>null!=col.getColDef().colSpan))}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(pivotMode,source){pivotMode!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=pivotMode,this.ready&&(this.refreshCols(),this.visibleColsService.refresh(source),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(pivot){return!pivot||!this.gos.get("treeData")||(_warnOnce("Pivot mode not available with treeData."),!1)}isPivotActive(){const pivotColumns=this.funcColsService.getPivotColumns();return this.pivotMode&&!_missingOrEmpty(pivotColumns)}recreateColumnDefs(source){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,source),this.createColsFromColDefs(!0,source))}setColumnDefs(columnDefs,source){const colsPreviouslyExisted=!!this.colDefs;this.colDefs=columnDefs,this.createColsFromColDefs(colsPreviouslyExisted,source)}destroy(){destroyColumnTree(this.context,this.colDefCols?.tree),destroyColumnTree(this.context,this.autoCols?.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){return this.colDefCols?.list?this.colDefCols.list:null}getCols(){return this.cols?.list??[]}getAllCols(){const pivotResultCols=this.pivotResultColsService.getPivotResultCols(),pivotResultColsList=pivotResultCols?.list;return[].concat(this.colDefCols?.list||[],this.autoCols?.list||[],pivotResultColsList||[])}getColsForKeys(keys){if(!keys)return[];return keys.map((key=>this.getCol(key))).filter((col=>null!=col))}getColDefCol(key){return this.colDefCols?.list?this.getColFromCollection(key,this.colDefCols):null}getCol(key){return null==key?null:this.getColFromCollection(key,this.cols)}getColFromCollection(key,cols){if(null==cols)return null;const{map,list}=cols;if("string"==typeof key&&map[key])return map[key];for(let i=0;i<list.length;i++)if(columnsMatch(list[i],key))return list[i];return this.getAutoCol(key)}getAutoCol(key){return null==this.autoCols?null:this.autoCols.list.find((groupCol=>columnsMatch(groupCol,key)))||null}getAutoCols(){return this.autoCols?.list||null}setColHeaderHeight(col,height){col.setAutoHeaderHeight(height)&&this.eventDispatcher.headerHeight(col)}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const defaultHeight=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),displayedHeights=this.visibleColsService.getAllCols().filter((col=>col.isAutoHeaderHeight())).map((col=>col.getAutoHeaderHeight()||0));return Math.max(defaultHeight,...displayedHeights)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const autoSizeStrategy=this.gos.get("autoSizeStrategy");if("fitCellContents"!==autoSizeStrategy?.type)return;const{colIds:columns,skipHeader}=autoSizeStrategy;setTimeout((()=>{columns?this.columnAutosizeService.autoSizeCols({colKeys:columns,skipHeader,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",skipHeader)}))}onAutoGroupColumnDefChanged(source){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,source)}};function convertSourceType(source){return"gridOptionsUpdated"===source?"gridOptionsChanged":source}function columnsMatch(column,key){const columnMatches=column===key,colDefMatches=column.getColDef()===key,idMatches=column.getColId()==key;return columnMatches||colDefMatches||idMatches}var ColumnAutosizeService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(beans){this.columnModel=beans.columnModel,this.visibleColsService=beans.visibleColsService,this.animationFrameService=beans.animationFrameService,this.autoWidthCalculator=beans.autoWidthCalculator,this.eventDispatcher=beans.columnEventDispatcher,this.ctrlsService=beans.ctrlsService,this.renderStatusService=beans.renderStatusService}autoSizeCols(params){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation((()=>this.autoSizeCols(params)));const{colKeys,skipHeader,skipHeaderGroups,stopAtGroup,source="api"}=params;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered())return this.timesDelayed++,void setTimeout((()=>this.autoSizeCols(params)));this.timesDelayed=0;const columnsAutosized=[];let changesThisTimeAround=-1;const shouldSkipHeader=null!=skipHeader?skipHeader:this.gos.get("skipHeaderOnAutoSize"),shouldSkipHeaderGroups=null!=skipHeaderGroups?skipHeaderGroups:shouldSkipHeader;for(;0!==changesThisTimeAround;){changesThisTimeAround=0;const updatedColumns=[];colKeys.forEach((key=>{if(!key)return;const column=this.columnModel.getCol(key);if(!column)return;if(columnsAutosized.indexOf(column)>=0)return;const preferredWidth=this.autoWidthCalculator.getPreferredWidthForColumn(column,shouldSkipHeader);if(preferredWidth>0){const newWidth=this.normaliseColumnWidth(column,preferredWidth);column.setActualWidth(newWidth,source),columnsAutosized.push(column),changesThisTimeAround++}updatedColumns.push(column)})),updatedColumns.length&&this.visibleColsService.refresh(source)}shouldSkipHeaderGroups||this.autoSizeColumnGroupsByColumns(colKeys,source,stopAtGroup),this.eventDispatcher.columnResized(columnsAutosized,!0,"autosizeColumns")}autoSizeColumn(key,source,skipHeader){key&&this.autoSizeCols({colKeys:[key],skipHeader,skipHeaderGroups:!0,source})}autoSizeColumnGroupsByColumns(keys,source,stopAtGroup){const columnGroups=new Set;let headerGroupCtrl;this.columnModel.getColsForKeys(keys).forEach((col=>{let parent=col.getParent();for(;parent&&parent!=stopAtGroup;)parent.isPadding()||columnGroups.add(parent),parent=parent.getParent()}));for(const columnGroup of columnGroups){for(const headerContainerCtrl of this.ctrlsService.getHeaderRowContainerCtrls())if(headerGroupCtrl=headerContainerCtrl.getHeaderCtrlForColumn(columnGroup),headerGroupCtrl)break;headerGroupCtrl&&headerGroupCtrl.resizeLeafColumnsToFit(source)}return[]}autoSizeAllColumns(source,skipHeader){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation((()=>this.autoSizeAllColumns(source,skipHeader)));const allDisplayedColumns=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:allDisplayedColumns,skipHeader,source})}normaliseColumnWidth(column,newWidth){const minWidth=column.getMinWidth();newWidth<minWidth&&(newWidth=minWidth);const maxWidth=column.getMaxWidth();return column.isGreaterThanMax(newWidth)&&(newWidth=maxWidth),newWidth}},FuncColsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(beans){this.columnModel=beans.columnModel,this.eventDispatcher=beans.columnEventDispatcher,this.aggFuncService=beans.aggFuncService,this.visibleColsService=beans.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:column=>this.rowGroupCols.push(column),removeGroupCol:column=>_removeFromArray(this.rowGroupCols,column),addPivotCol:column=>this.pivotCols.push(column),removePivotCol:column=>_removeFromArray(this.pivotCols,column),addValueCol:column=>this.valueCols.push(column),removeValueCol:column=>_removeFromArray(this.valueCols,column)}}getSourceColumnsForGroupColumn(groupCol){const sourceColumnId=groupCol.getColDef().showRowGroup;if(!sourceColumnId)return null;if(!0===sourceColumnId)return this.rowGroupCols.slice(0);const column=this.columnModel.getColDefCol(sourceColumnId);return column?[column]:null}sortRowGroupColumns(compareFn){this.rowGroupCols.sort(compareFn)}sortPivotColumns(compareFn){this.pivotCols.sort(compareFn)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return _missingOrEmpty(this.rowGroupCols)}setColumnAggFunc(key,aggFunc,source){if(!key)return;const column=this.columnModel.getColDefCol(key);column&&(column.setAggFunc(aggFunc),this.eventDispatcher.columnChanged("columnValueChanged",[column],source))}setRowGroupColumns(colKeys,source){this.setColList(colKeys,this.rowGroupCols,"columnRowGroupChanged",!0,!0,((added,column)=>this.setRowGroupActive(added,column,source)),source)}setRowGroupActive(active,column,source){active!==column.isRowGroupActive()&&(column.setRowGroupActive(active,source),active&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([column],!1,source),active||this.gos.get("suppressMakeColumnVisibleAfterUnGroup")||this.columnModel.setColsVisible([column],!0,source))}addRowGroupColumns(keys,source){this.updateColList(keys,this.rowGroupCols,!0,!0,(column=>this.setRowGroupActive(!0,column,source)),"columnRowGroupChanged",source)}removeRowGroupColumns(keys,source){this.updateColList(keys,this.rowGroupCols,!1,!0,(column=>this.setRowGroupActive(!1,column,source)),"columnRowGroupChanged",source)}addPivotColumns(keys,source){this.updateColList(keys,this.pivotCols,!0,!1,(column=>column.setPivotActive(!0,source)),"columnPivotChanged",source)}setPivotColumns(colKeys,source){this.setColList(colKeys,this.pivotCols,"columnPivotChanged",!0,!1,((added,column)=>{column.setPivotActive(added,source)}),source)}removePivotColumns(keys,source){this.updateColList(keys,this.pivotCols,!1,!1,(column=>column.setPivotActive(!1,source)),"columnPivotChanged",source)}setValueColumns(colKeys,source){this.setColList(colKeys,this.valueCols,"columnValueChanged",!1,!1,((added,column)=>this.setValueActive(added,column,source)),source)}setValueActive(active,column,source){if(active!==column.isValueActive()&&(column.setValueActive(active,source),active&&!column.getAggFunc()&&this.aggFuncService)){const initialAggFunc=this.aggFuncService.getDefaultAggFunc(column);column.setAggFunc(initialAggFunc)}}addValueColumns(keys,source){this.updateColList(keys,this.valueCols,!0,!1,(column=>this.setValueActive(!0,column,source)),"columnValueChanged",source)}removeValueColumns(keys,source){this.updateColList(keys,this.valueCols,!1,!1,(column=>this.setValueActive(!1,column,source)),"columnValueChanged",source)}moveRowGroupColumn(fromIndex,toIndex,source){if(this.isRowGroupEmpty())return;const column=this.rowGroupCols[fromIndex],impactedColumns=this.rowGroupCols.slice(fromIndex,toIndex);this.rowGroupCols.splice(fromIndex,1),this.rowGroupCols.splice(toIndex,0,column),this.eventDispatcher.rowGroupChanged(impactedColumns,source)}setColList(colKeys,masterList,eventName,detectOrderChange,autoGroupsNeedBuilding,columnCallback,source){if(_missingOrEmpty(this.columnModel.getCols()))return;const changes=new Map;masterList.forEach(((col,idx)=>changes.set(col,idx))),masterList.length=0,_exists(colKeys)&&colKeys.forEach((key=>{const column=this.columnModel.getColDefCol(key);column&&masterList.push(column)})),masterList.forEach(((col,idx)=>{const oldIndex=changes.get(col);void 0!==oldIndex?detectOrderChange&&oldIndex!==idx||changes.delete(col):changes.set(col,0)}));(this.columnModel.getColDefCols()||[]).forEach((column=>{const added=masterList.indexOf(column)>=0;columnCallback(added,column)})),autoGroupsNeedBuilding&&this.columnModel.refreshCols(),this.visibleColsService.refresh(source),this.eventDispatcher.columnChanged(eventName,[...changes.keys()],source)}updateColList(keys,masterList,actionIsAdd,autoGroupsNeedBuilding,columnCallback,eventType,source){if(!keys||_missingOrEmpty(keys))return;let atLeastOne=!1;keys.forEach((key=>{if(!key)return;const columnToAdd=this.columnModel.getColDefCol(key);if(columnToAdd){if(actionIsAdd){if(masterList.indexOf(columnToAdd)>=0)return;masterList.push(columnToAdd)}else{if(masterList.indexOf(columnToAdd)<0)return;_removeFromArray(masterList,columnToAdd)}columnCallback(columnToAdd),atLeastOne=!0}})),atLeastOne&&(autoGroupsNeedBuilding&&this.columnModel.refreshCols(),this.visibleColsService.refresh(source),this.eventDispatcher.genericColumnEvent(eventType,masterList,source))}extractCols(source,oldProvidedCols){this.extractRowGroupCols(source,oldProvidedCols),this.extractPivotCols(source,oldProvidedCols),this.extractValueCols(source,oldProvidedCols)}extractValueCols(source,oldProvidedCols){this.valueCols=this.extractColsCommon(oldProvidedCols,this.valueCols,((col,flag)=>col.setValueActive(flag,source)),(()=>{}),(()=>{}),(colDef=>{const aggFunc=colDef.aggFunc;return null===aggFunc||""===aggFunc?null:void 0!==aggFunc?!!aggFunc:void 0}),(colDef=>null!=colDef.initialAggFunc&&""!=colDef.initialAggFunc)),this.valueCols.forEach((col=>{const colDef=col.getColDef();null!=colDef.aggFunc&&""!=colDef.aggFunc?col.setAggFunc(colDef.aggFunc):col.getAggFunc()||col.setAggFunc(colDef.initialAggFunc)}))}extractRowGroupCols(source,oldProvidedCols){this.rowGroupCols=this.extractColsCommon(oldProvidedCols,this.rowGroupCols,((col,flag)=>col.setRowGroupActive(flag,source)),(colDef=>colDef.rowGroupIndex),(colDef=>colDef.initialRowGroupIndex),(colDef=>colDef.rowGroup),(colDef=>colDef.initialRowGroup))}extractPivotCols(source,oldProvidedCols){this.pivotCols=this.extractColsCommon(oldProvidedCols,this.pivotCols,((col,flag)=>col.setPivotActive(flag,source)),(colDef=>colDef.pivotIndex),(colDef=>colDef.initialPivotIndex),(colDef=>colDef.pivot),(colDef=>colDef.initialPivot))}extractColsCommon(oldProvidedCols=[],previousCols=[],setFlagFunc,getIndexFunc,getInitialIndexFunc,getValueFunc,getInitialValueFunc){const colsWithIndex=[],colsWithValue=[];(this.columnModel.getColDefCols()||[]).forEach((col=>{const colIsNew=oldProvidedCols.indexOf(col)<0,colDef=col.getColDef(),value=_attrToBoolean(getValueFunc(colDef)),initialValue=_attrToBoolean(getInitialValueFunc(colDef)),index=_attrToNumber(getIndexFunc(colDef)),initialIndex=_attrToNumber(getInitialIndexFunc(colDef));let include;if(include=void 0!==value?value:void 0!==index?null!==index&&index>=0:colIsNew?void 0!==initialValue?initialValue:!!(void 0!==initialIndex)&&(null!=initialIndex&&initialIndex>=0):previousCols.indexOf(col)>=0,include){(colIsNew?null!=index||null!=initialIndex:null!=index)?colsWithIndex.push(col):colsWithValue.push(col)}}));const getIndexForCol=col=>{const index=getIndexFunc(col.getColDef()),defaultIndex=getInitialIndexFunc(col.getColDef());return null!=index?index:defaultIndex};colsWithIndex.sort(((colA,colB)=>{const indexA=getIndexForCol(colA),indexB=getIndexForCol(colB);return indexA===indexB?0:indexA<indexB?-1:1}));const res=[].concat(colsWithIndex);return previousCols.forEach((col=>{colsWithValue.indexOf(col)>=0&&res.push(col)})),colsWithValue.forEach((col=>{res.indexOf(col)<0&&res.push(col)})),previousCols.forEach((col=>{res.indexOf(col)<0&&setFlagFunc(col,!1)})),res.forEach((col=>{previousCols.indexOf(col)<0&&setFlagFunc(col,!0)})),res}generateColumnStateForRowGroupAndPivotIndexes(updatedRowGroupColumnState,updatedPivotColumnState){const existingColumnStateUpdates={},orderColumns=(updatedColumnState,colList,enableProp,initialEnableProp,indexProp,initialIndexProp)=>{const primaryCols=this.columnModel.getColDefCols();if(!colList.length||!primaryCols)return[];const updatedColIdArray=Object.keys(updatedColumnState),updatedColIds=new Set(updatedColIdArray),newColIds=new Set(updatedColIdArray),allColIds=new Set(colList.map((column=>{const colId=column.getColId();return newColIds.delete(colId),colId})).concat(updatedColIdArray)),colIdsInOriginalOrder=[],originalOrderMap={};let orderIndex=0;for(let i=0;i<primaryCols.length;i++){const colId=primaryCols[i].getColId();allColIds.has(colId)&&(colIdsInOriginalOrder.push(colId),originalOrderMap[colId]=orderIndex++)}let index=1e3,hasAddedNewCols=!1,lastIndex=0;const processPrecedingNewCols=colId=>{const originalOrderIndex=originalOrderMap[colId];for(let i=lastIndex;i<originalOrderIndex;i++){const newColId=colIdsInOriginalOrder[i];newColIds.has(newColId)&&(updatedColumnState[newColId][indexProp]=index++,newColIds.delete(newColId))}lastIndex=originalOrderIndex};colList.forEach((column=>{const colId=column.getColId();if(updatedColIds.has(colId))processPrecedingNewCols(colId),updatedColumnState[colId][indexProp]=index++;else{const colDef=column.getColDef();if(null===colDef[indexProp]||void 0===colDef[indexProp]&&null==colDef[initialIndexProp]){if(!hasAddedNewCols){colDef[enableProp]||void 0===colDef[enableProp]&&colDef[initialEnableProp]?processPrecedingNewCols(colId):(newColIds.forEach((newColId=>{updatedColumnState[newColId][indexProp]=index+originalOrderMap[newColId]})),index+=colIdsInOriginalOrder.length,hasAddedNewCols=!0)}existingColumnStateUpdates[colId]||(existingColumnStateUpdates[colId]={colId}),existingColumnStateUpdates[colId][indexProp]=index++}}}))};return orderColumns(updatedRowGroupColumnState,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),orderColumns(updatedPivotColumnState,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(existingColumnStateUpdates)}},ColumnApplyStateService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(beans){this.columnModel=beans.columnModel,this.eventDispatcher=beans.columnEventDispatcher,this.sortController=beans.sortController,this.columnGetStateService=beans.columnGetStateService,this.funcColsService=beans.funcColsService,this.visibleColsService=beans.visibleColsService,this.columnAnimationService=beans.columnAnimationService,this.pivotResultColsService=beans.pivotResultColsService}applyColumnState(params,source){const providedCols=this.columnModel.getColDefCols()||[];if(_missingOrEmpty(providedCols))return!1;if(params&&params.state&&!params.state.forEach)return _warnOnce("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const callbacks=this.funcColsService.getModifyColumnsNoEventsCallbacks(),applyStates=(states,existingColumns,getById)=>{const dispatchEventsFunc=this.compareColumnStatesAndDispatchEvents(source),columnsWithNoState=existingColumns.slice(),rowGroupIndexes={},pivotIndexes={},autoColStates=[],unmatchedAndAutoStates2=[];let unmatchedCount2=0;const previousRowGroupCols=this.funcColsService.getRowGroupColumns().slice(),previousPivotCols=this.funcColsService.getPivotColumns().slice();states.forEach((state=>{const colId=state.colId||"";if(colId.startsWith("ag-Grid-AutoColumn"))return autoColStates.push(state),void unmatchedAndAutoStates2.push(state);const column=getById(colId);column?(this.syncColumnWithStateItem(column,state,params.defaultState,rowGroupIndexes,pivotIndexes,!1,source,callbacks),_removeFromArray(columnsWithNoState,column)):(unmatchedAndAutoStates2.push(state),unmatchedCount2+=1)}));const applyDefaultsFunc=col=>this.syncColumnWithStateItem(col,null,params.defaultState,rowGroupIndexes,pivotIndexes,!1,source,callbacks);columnsWithNoState.forEach(applyDefaultsFunc),this.funcColsService.sortRowGroupColumns(comparatorByIndex.bind(this,rowGroupIndexes,previousRowGroupCols)),this.funcColsService.sortPivotColumns(comparatorByIndex.bind(this,pivotIndexes,previousPivotCols)),this.columnModel.refreshCols();const autoColsCopy=(this.columnModel.getAutoCols()||[]).slice();return autoColStates.forEach((stateItem=>{const autoCol=this.columnModel.getAutoCol(stateItem.colId);_removeFromArray(autoColsCopy,autoCol),this.syncColumnWithStateItem(autoCol,stateItem,params.defaultState,null,null,!0,source,callbacks)})),autoColsCopy.forEach(applyDefaultsFunc),this.orderLiveColsLikeState(params),this.visibleColsService.refresh(source),this.eventDispatcher.everythingChanged(source),dispatchEventsFunc(),{unmatchedAndAutoStates:unmatchedAndAutoStates2,unmatchedCount:unmatchedCount2}};this.columnAnimationService.start();let{unmatchedAndAutoStates,unmatchedCount}=applyStates(params.state||[],providedCols,(id=>this.columnModel.getColDefCol(id)));if(unmatchedAndAutoStates.length>0||_exists(params.defaultState)){const pivotResultCols=this.pivotResultColsService.getPivotResultCols(),pivotResultColsList=pivotResultCols?.list;unmatchedCount=applyStates(unmatchedAndAutoStates,pivotResultColsList||[],(id=>this.pivotResultColsService.getPivotResultCol(id))).unmatchedCount}return this.columnAnimationService.finish(),0===unmatchedCount}resetColumnState(source){if(_missingOrEmpty(this.columnModel.getColDefCols()))return;const primaryColumns=getColumnsFromTree(this.columnModel.getColDefColTree()),columnStates=[];let letRowGroupIndex=1e3,letPivotIndex=1e3,colsToProcess=[];const groupAutoCols=this.columnModel.getAutoCols();groupAutoCols&&(colsToProcess=colsToProcess.concat(groupAutoCols)),primaryColumns&&(colsToProcess=colsToProcess.concat(primaryColumns)),colsToProcess.forEach((column=>{const stateItem=this.getColumnStateFromColDef(column);_missing(stateItem.rowGroupIndex)&&stateItem.rowGroup&&(stateItem.rowGroupIndex=letRowGroupIndex++),_missing(stateItem.pivotIndex)&&stateItem.pivot&&(stateItem.pivotIndex=letPivotIndex++),columnStates.push(stateItem)})),this.applyColumnState({state:columnStates,applyOrder:!0},source)}getColumnStateFromColDef(column){const getValueOrNull=(a,b)=>null!=a?a:null!=b?b:null,colDef=column.getColDef(),sort=getValueOrNull(colDef.sort,colDef.initialSort),sortIndex=getValueOrNull(colDef.sortIndex,colDef.initialSortIndex),hide=getValueOrNull(colDef.hide,colDef.initialHide),pinned=getValueOrNull(colDef.pinned,colDef.initialPinned),width=getValueOrNull(colDef.width,colDef.initialWidth),flex=getValueOrNull(colDef.flex,colDef.initialFlex);let rowGroupIndex=getValueOrNull(colDef.rowGroupIndex,colDef.initialRowGroupIndex),rowGroup=getValueOrNull(colDef.rowGroup,colDef.initialRowGroup);null!=rowGroupIndex||null!=rowGroup&&0!=rowGroup||(rowGroupIndex=null,rowGroup=null);let pivotIndex=getValueOrNull(colDef.pivotIndex,colDef.initialPivotIndex),pivot=getValueOrNull(colDef.pivot,colDef.initialPivot);null!=pivotIndex||null!=pivot&&0!=pivot||(pivotIndex=null,pivot=null);const aggFunc=getValueOrNull(colDef.aggFunc,colDef.initialAggFunc);return{colId:column.getColId(),sort,sortIndex,hide,pinned,width,flex,rowGroup,rowGroupIndex,pivot,pivotIndex,aggFunc}}syncColumnWithStateItem(column,stateItem,defaultState,rowGroupIndexes,pivotIndexes,autoCol,source,callbacks){if(!column)return;const getValue2=(key1,key2)=>{const obj={value1:void 0,value2:void 0};let calculated=!1;return stateItem&&(void 0!==stateItem[key1]&&(obj.value1=stateItem[key1],calculated=!0),_exists(key2)&&void 0!==stateItem[key2]&&(obj.value2=stateItem[key2],calculated=!0)),!calculated&&defaultState&&(void 0!==defaultState[key1]&&(obj.value1=defaultState[key1]),_exists(key2)&&void 0!==defaultState[key2]&&(obj.value2=defaultState[key2])),obj},hide=getValue2("hide").value1;void 0!==hide&&column.setVisible(!hide,source);const pinned=getValue2("pinned").value1;void 0!==pinned&&column.setPinned(pinned);const minColWidth=column.getColDef().minWidth??20,flex=getValue2("flex").value1;if(void 0!==flex&&column.setFlex(flex),null==flex){const width=getValue2("width").value1;null!=width&&null!=minColWidth&&width>=minColWidth&&column.setActualWidth(width,source)}const sort=getValue2("sort").value1;void 0!==sort&&("desc"===sort||"asc"===sort?column.setSort(sort,source):column.setSort(void 0,source));const sortIndex=getValue2("sortIndex").value1;if(void 0!==sortIndex&&column.setSortIndex(sortIndex),autoCol||!column.isPrimary())return;const aggFunc=getValue2("aggFunc").value1;void 0!==aggFunc&&("string"==typeof aggFunc?(column.setAggFunc(aggFunc),column.isValueActive()||(column.setValueActive(!0,source),callbacks.addValueCol(column))):(_exists(aggFunc)&&_warnOnce("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),column.isValueActive()&&(column.setValueActive(!1,source),callbacks.removeValueCol(column))));const{value1:rowGroup,value2:rowGroupIndex}=getValue2("rowGroup","rowGroupIndex");void 0===rowGroup&&void 0===rowGroupIndex||("number"==typeof rowGroupIndex||rowGroup?(column.isRowGroupActive()||(column.setRowGroupActive(!0,source),callbacks.addGroupCol(column)),rowGroupIndexes&&"number"==typeof rowGroupIndex&&(rowGroupIndexes[column.getId()]=rowGroupIndex)):column.isRowGroupActive()&&(column.setRowGroupActive(!1,source),callbacks.removeGroupCol(column)));const{value1:pivot,value2:pivotIndex}=getValue2("pivot","pivotIndex");void 0===pivot&&void 0===pivotIndex||("number"==typeof pivotIndex||pivot?(column.isPivotActive()||(column.setPivotActive(!0,source),callbacks.addPivotCol(column)),pivotIndexes&&"number"==typeof pivotIndex&&(pivotIndexes[column.getId()]=pivotIndex)):column.isPivotActive()&&(column.setPivotActive(!1,source),callbacks.removePivotCol(column)))}orderLiveColsLikeState(params){if(!params.applyOrder||!params.state)return;const colIds=[];params.state.forEach((item=>{null!=item.colId&&colIds.push(item.colId)})),this.columnModel.sortColsLikeKeys(colIds)}compareColumnStatesAndDispatchEvents(source){const startState={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},columnStateBefore=this.columnGetStateService.getColumnState(),columnStateBeforeMap={};return columnStateBefore.forEach((col=>{columnStateBeforeMap[col.colId]=col})),()=>{const colsForState=this.columnModel.getAllCols(),dispatchWhenListsDifferent=(eventType,colsBefore,colsAfter,idMapper)=>{if(_areEqual(colsBefore.map(idMapper),colsAfter.map(idMapper)))return;const changes=new Set(colsBefore);colsAfter.forEach((id=>{changes.delete(id)||changes.add(id)}));const changesArr=[...changes],event={type:eventType,columns:changesArr,column:1===changesArr.length?changesArr[0]:null,source};this.eventService.dispatchEvent(event)},getChangedColumns=changedPredicate=>{const changedColumns2=[];return colsForState.forEach((column=>{const colStateBefore=columnStateBeforeMap[column.getColId()];colStateBefore&&changedPredicate(colStateBefore,column)&&changedColumns2.push(column)})),changedColumns2},columnIdMapper=c=>c.getColId();dispatchWhenListsDifferent("columnRowGroupChanged",startState.rowGroupColumns,this.funcColsService.getRowGroupColumns(),columnIdMapper),dispatchWhenListsDifferent("columnPivotChanged",startState.pivotColumns,this.funcColsService.getPivotColumns(),columnIdMapper);const changedValues=getChangedColumns(((cs,c)=>{const oldActive=null!=cs.aggFunc,activeChanged=oldActive!=c.isValueActive(),aggFuncChanged=oldActive&&cs.aggFunc!=c.getAggFunc();return activeChanged||aggFuncChanged}));changedValues.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",changedValues,source);this.eventDispatcher.columnResized(getChangedColumns(((cs,c)=>cs.width!=c.getActualWidth())),!0,source);this.eventDispatcher.columnPinned(getChangedColumns(((cs,c)=>cs.pinned!=c.getPinned())),source);this.eventDispatcher.columnVisible(getChangedColumns(((cs,c)=>cs.hide==c.isVisible())),source);const changedColumns=getChangedColumns(((cs,c)=>cs.sort!=c.getSort()||cs.sortIndex!=c.getSortIndex()));changedColumns.length>0&&this.sortController.dispatchSortChangedEvents(source,changedColumns),this.normaliseColumnMovedEventForColumnState(columnStateBefore,source)}}normaliseColumnMovedEventForColumnState(colStateBefore,source){const colStateAfter=this.columnGetStateService.getColumnState(),colStateAfterMapped={};colStateAfter.forEach((s=>colStateAfterMapped[s.colId]=s));const colsIntersectIds={};colStateBefore.forEach((s=>{colStateAfterMapped[s.colId]&&(colsIntersectIds[s.colId]=!0)}));const beforeFiltered=colStateBefore.filter((c=>colsIntersectIds[c.colId])),afterFiltered=colStateAfter.filter((c=>colsIntersectIds[c.colId])),movedColumns=[];afterFiltered.forEach(((csAfter,index)=>{const csBefore=beforeFiltered&&beforeFiltered[index];if(csBefore&&csBefore.colId!==csAfter.colId){const gridCol=this.columnModel.getCol(csBefore.colId);gridCol&&movedColumns.push(gridCol)}})),movedColumns.length&&this.eventDispatcher.columnMoved({movedColumns,source,finished:!0})}},comparatorByIndex=(indexes,oldList,colA,colB)=>{const indexA=indexes[colA.getId()],indexB=indexes[colB.getId()],aHasIndex=null!=indexA,bHasIndex=null!=indexB;if(aHasIndex&&bHasIndex)return indexA-indexB;if(aHasIndex)return-1;if(bHasIndex)return 1;const oldIndexA=oldList.indexOf(colA),oldIndexB=oldList.indexOf(colB),aHasOldIndex=oldIndexA>=0;return aHasOldIndex&&oldIndexB>=0?oldIndexA-oldIndexB:aHasOldIndex?-1:1},ColumnMoveService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(beans){this.columnModel=beans.columnModel,this.columnAnimationService=beans.columnAnimationService,this.eventDispatcher=beans.columnEventDispatcher}moveColumnByIndex(fromIndex,toIndex,source){const gridColumns=this.columnModel.getCols();if(!gridColumns)return;const column=gridColumns[fromIndex];this.moveColumns([column],toIndex,source)}moveColumns(columnsToMoveKeys,toIndex,source,finished=!0){const gridColumns=this.columnModel.getCols();if(!gridColumns)return;if(this.columnAnimationService.start(),toIndex>gridColumns.length-columnsToMoveKeys.length)return _warnOnce("tried to insert columns in invalid location, toIndex = ",toIndex),void _warnOnce("remember that you should not count the moving columns when calculating the new index");const movedColumns=this.columnModel.getColsForKeys(columnsToMoveKeys);!this.doesMovePassRules(movedColumns,toIndex)||(this.columnModel.moveInCols(movedColumns,toIndex,source),this.eventDispatcher.columnMoved({movedColumns,source,toIndex,finished}),this.columnAnimationService.finish())}doesMovePassRules(columnsToMove,toIndex){const proposedColumnOrder=this.getProposedColumnOrder(columnsToMove,toIndex);return this.doesOrderPassRules(proposedColumnOrder)}doesOrderPassRules(gridOrder){return!!this.doesMovePassMarryChildren(gridOrder)&&!!this.doesMovePassLockedPositions(gridOrder)}getProposedColumnOrder(columnsToMove,toIndex){const proposedColumnOrder=this.columnModel.getCols().slice();return _moveInArray(proposedColumnOrder,columnsToMove,toIndex),proposedColumnOrder}doesMovePassLockedPositions(proposedColumnOrder){const isRtl=this.gos.get("enableRtl");let lastPlacement=isRtl?1:-1,rulePassed=!0;return proposedColumnOrder.forEach((col=>{const placement=(position=col.getColDef().lockPosition)?"left"===position||!0===position?-1:1:0;var position;isRtl?placement>lastPlacement&&(rulePassed=!1):placement<lastPlacement&&(rulePassed=!1),lastPlacement=placement})),rulePassed}doesMovePassMarryChildren(allColumnsCopy){let rulePassed=!0;return depthFirstOriginalTreeSearch(null,this.columnModel.getColTree(),(child=>{if(!isProvidedColumnGroup(child))return;const columnGroup=child,colGroupDef=columnGroup.getColGroupDef();if(!(colGroupDef&&colGroupDef.marryChildren))return;const newIndexes=[];columnGroup.getLeafColumns().forEach((col=>{const newColIndex=allColumnsCopy.indexOf(col);newIndexes.push(newColIndex)}));Math.max.apply(Math,newIndexes)-Math.min.apply(Math,newIndexes)>columnGroup.getLeafColumns().length-1&&(rulePassed=!1)})),rulePassed}placeLockedColumns(cols){const left=[],normal=[],right=[];cols.forEach((col=>{const position=col.getColDef().lockPosition;"right"===position?right.push(col):"left"===position||!0===position?left.push(col):normal.push(col)}));return this.gos.get("enableRtl")?[...right,...normal,...left]:[...left,...normal,...right]}},reUnescapedHtml=/[&<>"']/g,HTML_ESCAPES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _utf8_encode(s){const stringFromCharCode=String.fromCharCode;function createByte(point,shift){return stringFromCharCode(point>>shift&63|128)}function encodeCodePoint(point){if(!(4294967168&point))return stringFromCharCode(point);let symbol="";return 4294965248&point?4294901760&point?4292870144&point||(symbol=stringFromCharCode(point>>18&7|240),symbol+=createByte(point,12),symbol+=createByte(point,6)):(!function checkScalarValue(point){if(point>=55296&&point<=57343)throw Error("Lone surrogate U+"+point.toString(16).toUpperCase()+" is not a scalar value")}(point),symbol=stringFromCharCode(point>>12&15|224),symbol+=createByte(point,6)):symbol=stringFromCharCode(point>>6&31|192),symbol+=stringFromCharCode(63&point|128),symbol}const codePoints=function ucs2decode(string){const output=[];if(!string)return[];const len=string.length;let value,extra,counter=0;for(;counter<len;)value=string.charCodeAt(counter++),value>=55296&&value<=56319&&counter<len?(extra=string.charCodeAt(counter++),56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)):output.push(value);return output}(s),length=codePoints.length;let codePoint,index=-1,byteString="";for(;++index<length;)codePoint=codePoints[index],byteString+=encodeCodePoint(codePoint);return byteString}function _escapeString(toEscape,skipEscapingHtmlChars){if(null==toEscape)return null;const stringResult=toEscape.toString().toString();return skipEscapingHtmlChars?stringResult:stringResult.replace(reUnescapedHtml,(chr=>HTML_ESCAPES[chr]))}var ColumnNameService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(beans){this.expressionService=beans.expressionService,this.funcColsService=beans.funcColsService,this.columnModel=beans.columnModel}getDisplayNameForColumn(column,location,includeAggFunc=!1){if(!column)return null;const headerName=this.getHeaderName(column.getColDef(),column,null,null,location);return includeAggFunc?this.wrapHeaderNameWithAggFunc(column,headerName):headerName}getDisplayNameForProvidedColumnGroup(columnGroup,providedColumnGroup,location){const colGroupDef=providedColumnGroup?providedColumnGroup.getColGroupDef():null;return colGroupDef?this.getHeaderName(colGroupDef,null,columnGroup,providedColumnGroup,location):null}getDisplayNameForColumnGroup(columnGroup,location){return this.getDisplayNameForProvidedColumnGroup(columnGroup,columnGroup.getProvidedColumnGroup(),location)}getHeaderName(colDef,column,columnGroup,providedColumnGroup,location){const headerValueGetter=colDef.headerValueGetter;if(headerValueGetter){const params=this.gos.addGridCommonParams({colDef,column,columnGroup,providedColumnGroup,location});return"function"==typeof headerValueGetter?headerValueGetter(params):"string"==typeof headerValueGetter?this.expressionService.evaluate(headerValueGetter,params):(_warnOnce("headerValueGetter must be a function or a string"),"")}return null!=colDef.headerName?colDef.headerName:colDef.field?function _camelCaseToHumanText(camelCase){return camelCase&&null!=camelCase?camelCase.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map((word=>word.substring(0,1).toUpperCase()+(word.length>1?word.substring(1,word.length):""))).join(" "):null}(colDef.field):""}wrapHeaderNameWithAggFunc(column,headerName){if(this.gos.get("suppressAggFuncInHeader"))return headerName;const pivotValueColumn=column.getColDef().pivotValueColumn;let aggFuncFound,aggFunc=null;if(_exists(pivotValueColumn)){const valueColumns=this.funcColsService.getValueColumns(),isCollapsedHeaderEnabled=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===valueColumns.length,isTotalColumn=void 0!==column.getColDef().pivotTotalColumnIds;if(isCollapsedHeaderEnabled&&!isTotalColumn)return headerName;aggFunc=pivotValueColumn?pivotValueColumn.getAggFunc():null,aggFuncFound=!0}else{const measureActive=column.isValueActive(),aggregationPresent=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();measureActive&&aggregationPresent?(aggFunc=column.getAggFunc(),aggFuncFound=!0):aggFuncFound=!1}if(aggFuncFound){const aggFuncString="string"==typeof aggFunc?aggFunc:"func";return`${this.localeService.getLocaleTextFunc()(aggFuncString,aggFuncString)}(${headerName})`}return headerName}},PivotResultColsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(beans){this.context=beans.context,this.columnModel=beans.columnModel,this.columnFactory=beans.columnFactory,this.visibleColsService=beans.visibleColsService}destroy(){destroyColumnTree(this.context,this.pivotResultCols?.tree),super.destroy()}isPivotResultColsPresent(){return null!=this.pivotResultCols}lookupPivotResultCol(pivotKeys,valueColKey){if(null==this.pivotResultCols)return null;const valueColumnToFind=this.columnModel.getColDefCol(valueColKey);let foundColumn=null;return this.pivotResultCols.list.forEach((column=>{const thisPivotKeys=column.getColDef().pivotKeys,pivotValueColumn=column.getColDef().pivotValueColumn;_areEqual(thisPivotKeys,pivotKeys)&&pivotValueColumn===valueColumnToFind&&(foundColumn=column)})),foundColumn}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(key){return this.pivotResultCols?this.columnModel.getColFromCollection(key,this.pivotResultCols):null}setPivotResultCols(colDefs,source){if(this.columnModel.isReady()&&(null!=colDefs||null!=this.pivotResultCols)){if(colDefs){this.processPivotResultColDef(colDefs);const balancedTreeResult=this.columnFactory.createColumnTree(colDefs,!1,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,source);destroyColumnTree(this.context,this.pivotResultCols?.tree,balancedTreeResult.columnTree);const tree=balancedTreeResult.columnTree,treeDepth=balancedTreeResult.treeDept,list=getColumnsFromTree(tree),map={};this.pivotResultCols={tree,treeDepth,list,map},this.pivotResultCols.list.forEach((col=>this.pivotResultCols.map[col.getId()]=col)),this.previousPivotResultCols=null}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null;this.columnModel.refreshCols(),this.visibleColsService.refresh(source)}}processPivotResultColDef(colDefs){const columnCallback=this.gos.get("processPivotResultColDef"),groupCallback=this.gos.get("processPivotResultColGroupDef");if(!columnCallback&&!groupCallback)return;const searchForColDefs=colDefs2=>{colDefs2.forEach((abstractColDef=>{if(_exists(abstractColDef.children)){const colGroupDef=abstractColDef;groupCallback&&groupCallback(colGroupDef),searchForColDefs(colGroupDef.children)}else{columnCallback&&columnCallback(abstractColDef)}}))};colDefs&&searchForColDefs(colDefs)}},ColumnSizeService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(beans){this.columnModel=beans.columnModel,this.columnViewportService=beans.columnViewportService,this.eventDispatcher=beans.columnEventDispatcher,this.visibleColsService=beans.visibleColsService,this.ctrlsService=beans.ctrlsService}setColumnWidths(columnWidths,shiftKey,finished,source){const sets=[];columnWidths.forEach((columnWidth=>{const col=this.columnModel.getColDefCol(columnWidth.key)||this.columnModel.getCol(columnWidth.key);if(!col)return;sets.push({width:columnWidth.newWidth,ratios:[1],columns:[col]});if("shift"===this.gos.get("colResizeDefault")&&(shiftKey=!shiftKey),shiftKey){const otherCol=this.visibleColsService.getColAfter(col);if(!otherCol)return;const widthDiff=col.getActualWidth()-columnWidth.newWidth,otherColWidth=otherCol.getActualWidth()+widthDiff;sets.push({width:otherColWidth,ratios:[1],columns:[otherCol]})}})),0!==sets.length&&this.resizeColumnSets({resizeSets:sets,finished,source})}resizeColumnSets(params){const{resizeSets,finished,source}=params;if(!(!resizeSets||resizeSets.every((columnResizeSet=>this.checkMinAndMaxWidthsForSet(columnResizeSet))))){if(finished){const columns=resizeSets&&resizeSets.length>0?resizeSets[0].columns:null;this.eventDispatcher.columnResized(columns,finished,source)}return}const changedCols=[],allResizedCols=[];resizeSets.forEach((set=>{const{width,columns,ratios}=set,newWidths={},finishedCols={};columns.forEach((col=>allResizedCols.push(col)));let finishedColsGrew=!0,loopCount=0;for(;finishedColsGrew;){if(loopCount++,loopCount>1e3){_errorOnce("infinite loop in resizeColumnSets");break}finishedColsGrew=!1;const subsetCols=[];let subsetRatioTotal=0,pixelsToDistribute=width;columns.forEach(((col,index)=>{if(finishedCols[col.getId()])pixelsToDistribute-=newWidths[col.getId()];else{subsetCols.push(col);const ratioThisCol=ratios[index];subsetRatioTotal+=ratioThisCol}}));const ratioScale=1/subsetRatioTotal;subsetCols.forEach(((col,index)=>{let colNewWidth;index===subsetCols.length-1?colNewWidth=pixelsToDistribute:(colNewWidth=Math.round(ratios[index]*width*ratioScale),pixelsToDistribute-=colNewWidth);const minWidth=col.getMinWidth(),maxWidth=col.getMaxWidth();colNewWidth<minWidth?(colNewWidth=minWidth,finishedCols[col.getId()]=!0,finishedColsGrew=!0):maxWidth>0&&colNewWidth>maxWidth&&(colNewWidth=maxWidth,finishedCols[col.getId()]=!0,finishedColsGrew=!0),newWidths[col.getId()]=colNewWidth}))}columns.forEach((col=>{const newWidth=newWidths[col.getId()];col.getActualWidth()!==newWidth&&(col.setActualWidth(newWidth,source),changedCols.push(col))}))}));const atLeastOneColChanged=changedCols.length>0;let flexedCols=[];atLeastOneColChanged&&(flexedCols=this.refreshFlexedColumns({resizingCols:allResizedCols,skipSetLeft:!0}),this.visibleColsService.setLeftValues(source),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const colsForEvent=allResizedCols.concat(flexedCols);(atLeastOneColChanged||finished)&&this.eventDispatcher.columnResized(colsForEvent,finished,source,flexedCols)}checkMinAndMaxWidthsForSet(columnResizeSet){const{columns,width}=columnResizeSet;let minWidthAccumulated=0,maxWidthAccumulated=0,maxWidthActive=!0;columns.forEach((col=>{const minWidth=col.getMinWidth();minWidthAccumulated+=minWidth||0;const maxWidth=col.getMaxWidth();maxWidth>0?maxWidthAccumulated+=maxWidth:maxWidthActive=!1}));return width>=minWidthAccumulated&&(!maxWidthActive||width<=maxWidthAccumulated)}refreshFlexedColumns(params={}){const source=params.source?params.source:"flex";if(null!=params.viewportWidth&&(this.flexViewportWidth=params.viewportWidth),!this.flexViewportWidth)return[];const displayedCenterCols=this.visibleColsService.getCenterCols();let flexAfterDisplayIndex=-1;if(params.resizingCols){const allResizingCols=new Set(params.resizingCols);for(let i=displayedCenterCols.length-1;i>=0;i--)if(allResizingCols.has(displayedCenterCols[i])){flexAfterDisplayIndex=i;break}}let knownColumnsWidth=0,flexingColumns=[],minimumFlexedWidth=0,totalFlex=0;for(let i=0;i<displayedCenterCols.length;i++){displayedCenterCols[i].getFlex()&&i>flexAfterDisplayIndex?(flexingColumns.push(displayedCenterCols[i]),totalFlex+=displayedCenterCols[i].getFlex(),minimumFlexedWidth+=displayedCenterCols[i].getMinWidth()):knownColumnsWidth+=displayedCenterCols[i].getActualWidth()}if(!flexingColumns.length)return[];let changedColumns=[];knownColumnsWidth+minimumFlexedWidth>this.flexViewportWidth&&(flexingColumns.forEach((col=>col.setActualWidth(col.getMinWidth(),source))),changedColumns=flexingColumns,flexingColumns=[]);const flexingColumnSizes=[];let spaceForFlexingColumns;outer:for(;;){spaceForFlexingColumns=this.flexViewportWidth-knownColumnsWidth;const spacePerFlex=spaceForFlexingColumns/totalFlex;for(let i=0;i<flexingColumns.length;i++){const col=flexingColumns[i],widthByFlexRule=spacePerFlex*col.getFlex();let constrainedWidth=0;const minWidth=col.getMinWidth(),maxWidth=col.getMaxWidth();if(widthByFlexRule<minWidth?constrainedWidth=minWidth:widthByFlexRule>maxWidth&&(constrainedWidth=maxWidth),constrainedWidth){col.setActualWidth(constrainedWidth,source),_removeFromUnorderedArray(flexingColumns,col),totalFlex-=col.getFlex(),changedColumns.push(col),knownColumnsWidth+=col.getActualWidth();continue outer}flexingColumnSizes[i]=Math.round(widthByFlexRule)}break}let remainingSpace=spaceForFlexingColumns;return flexingColumns.forEach(((col,i)=>{col.setActualWidth(Math.min(flexingColumnSizes[i],remainingSpace),source),changedColumns.push(col),remainingSpace-=flexingColumnSizes[i]})),params.skipSetLeft||this.visibleColsService.setLeftValues(source),params.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),params.fireResizedEvent&&this.eventDispatcher.columnResized(changedColumns,!0,source,flexingColumns),flexingColumns}sizeColumnsToFit(gridWidth,source="sizeColumnsToFit",silent,params){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation((()=>this.sizeColumnsToFit(gridWidth,source,silent,params)));const limitsMap={};params&&params?.columnLimits?.forEach((({key,...dimensions})=>{limitsMap["string"==typeof key?key:key.getColId()]=dimensions}));const allDisplayedColumns=this.visibleColsService.getAllCols(),doColumnsAlreadyFit=gridWidth===getWidthOfColsInList(allDisplayedColumns);if(gridWidth<=0||!allDisplayedColumns.length||doColumnsAlreadyFit)return;const colsToSpread=[],colsToNotSpread=[];allDisplayedColumns.forEach((column=>{!0===column.getColDef().suppressSizeToFit?colsToNotSpread.push(column):colsToSpread.push(column)}));const colsToDispatchEventFor=colsToSpread.slice(0);let finishedResizing=!1;const moveToNotSpread=column=>{_removeFromArray(colsToSpread,column),colsToNotSpread.push(column)};for(colsToSpread.forEach((column=>{column.resetActualWidth(source);const widthOverride=limitsMap?.[column.getId()],minOverride=widthOverride?.minWidth??params?.defaultMinWidth,maxOverride=widthOverride?.maxWidth??params?.defaultMaxWidth,colWidth=column.getActualWidth();"number"==typeof minOverride&&colWidth<minOverride?column.setActualWidth(minOverride,source,!0):"number"==typeof maxOverride&&colWidth>maxOverride&&column.setActualWidth(maxOverride,source,!0)}));!finishedResizing;){finishedResizing=!0;const availablePixels=gridWidth-getWidthOfColsInList(colsToNotSpread);if(availablePixels<=0)colsToSpread.forEach((column=>{const widthOverride=limitsMap?.[column.getId()]?.minWidth??params?.defaultMinWidth;"number"!=typeof widthOverride?column.setMinimum(source):column.setActualWidth(widthOverride,source,!0)}));else{const scale=availablePixels/getWidthOfColsInList(colsToSpread);let pixelsForLastCol=availablePixels;for(let i=colsToSpread.length-1;i>=0;i--){const column=colsToSpread[i],widthOverride=limitsMap?.[column.getId()],minOverride=widthOverride?.minWidth??params?.defaultMinWidth,maxOverride=widthOverride?.maxWidth??params?.defaultMaxWidth,colMinWidth=column.getMinWidth(),colMaxWidth=column.getMaxWidth(),minWidth="number"==typeof minOverride&&minOverride>colMinWidth?minOverride:colMinWidth,maxWidth="number"==typeof maxOverride&&maxOverride<colMaxWidth?maxOverride:colMaxWidth;let newWidth=Math.round(column.getActualWidth()*scale);newWidth<minWidth?(newWidth=minWidth,moveToNotSpread(column),finishedResizing=!1):newWidth>maxWidth?(newWidth=maxWidth,moveToNotSpread(column),finishedResizing=!1):0===i&&(newWidth=pixelsForLastCol),column.setActualWidth(newWidth,source,!0),pixelsForLastCol-=newWidth}}}colsToDispatchEventFor.forEach((col=>{col.fireColumnWidthChangedEvent(source)})),this.visibleColsService.setLeftValues(source),this.visibleColsService.updateBodyWidths(),silent||this.eventDispatcher.columnResized(colsToDispatchEventFor,!0,source)}applyAutosizeStrategy(){const autoSizeStrategy=this.gos.get("autoSizeStrategy");if(!autoSizeStrategy)return;const{type}=autoSizeStrategy;setTimeout((()=>{if("fitGridWidth"===type){const{columnLimits:propColumnLimits,defaultMinWidth,defaultMaxWidth}=autoSizeStrategy,columnLimits=propColumnLimits?.map((({colId:key,minWidth,maxWidth})=>({key,minWidth,maxWidth})));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth,defaultMaxWidth,columnLimits})}else"fitProvidedWidth"===type&&this.sizeColumnsToFit(autoSizeStrategy.width,"sizeColumnsToFit")}))}};function createUniqueColumnGroupId(groupId,instanceId){return groupId+"_"+instanceId}function isColumnGroup(col){return col instanceof AgColumnGroup}var AgColumnGroup=class extends BeanStub{constructor(providedColumnGroup,groupId,partId,pinned){super(),this.isColumn=!1,this.displayedChildren=[],this.parent=null,this.groupId=groupId,this.partId=partId,this.providedColumnGroup=providedColumnGroup,this.pinned=pinned}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(parent){this.parent=parent}getUniqueId(){return createUniqueColumnGroupId(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const allLeafColumns=this.getProvidedColumnGroup().getLeafColumns();return!(!allLeafColumns||0===allLeafColumns.length)&&allLeafColumns.every((col=>col.isMoving()))}checkLeft(){if(this.displayedChildren.forEach((child=>{isColumnGroup(child)&&child.checkLeft()})),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const lastChildLeft=_last(this.displayedChildren).getLeft();this.setLeft(lastChildLeft)}else{const firstChildLeft=this.displayedChildren[0].getLeft();this.setLeft(firstChildLeft)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(left){this.oldLeft=this.left,this.left!==left&&(this.left=left,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let groupActualWidth=0;return this.displayedChildren&&this.displayedChildren.forEach((child=>{groupActualWidth+=child.getActualWidth()})),groupActualWidth}isResizable(){if(!this.displayedChildren)return!1;let result=!1;return this.displayedChildren.forEach((child=>{child.isResizable()&&(result=!0)})),result}getMinWidth(){let result=0;return this.displayedChildren.forEach((groupChild=>{result+=groupChild.getMinWidth()})),result}addChild(child){this.children||(this.children=[]),this.children.push(child)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const result=[];return this.addLeafColumns(result),result}getDisplayedLeafColumns(){const result=[];return this.addDisplayedLeafColumns(result),result}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(expanded){this.providedColumnGroup.setExpanded(expanded)}addDisplayedLeafColumns(leafColumns){this.displayedChildren.forEach((child=>{isColumn(child)?leafColumns.push(child):isColumnGroup(child)&&child.addDisplayedLeafColumns(leafColumns)}))}addLeafColumns(leafColumns){this.children.forEach((child=>{isColumn(child)?leafColumns.push(child):isColumnGroup(child)&&child.addLeafColumns(leafColumns)}))}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const parent=this.getParent();return this.isPadding()&&parent&&parent.isPadding()?1+parent.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let parentWithExpansion=this;for(;null!=parentWithExpansion&&parentWithExpansion.isPadding();)parentWithExpansion=parentWithExpansion.getParent();if(!(!!parentWithExpansion&&parentWithExpansion.getProvidedColumnGroup().isExpandable()))return this.displayedChildren=this.children,void this.dispatchLocalEvent({type:"displayedChildrenChanged"});this.children.forEach((child=>{if(isColumnGroup(child)&&(!child.displayedChildren||!child.displayedChildren.length))return;switch(child.getColumnGroupShow()){case"open":parentWithExpansion.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(child);break;case"closed":parentWithExpansion.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(child);break;default:this.displayedChildren.push(child)}})),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},GroupInstanceIdCreator=class{constructor(){this.existingIds={}}getInstanceIdForKey(key){const lastResult=this.existingIds[key];let result;return result="number"!=typeof lastResult?0:lastResult+1,this.existingIds[key]=result,result}},VisibleColsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(beans){this.columnModel=beans.columnModel,this.columnSizeService=beans.columnSizeService,this.columnViewportService=beans.columnViewportService,this.eventDispatcher=beans.columnEventDispatcher}refresh(source,skipTreeBuild=!1){skipTreeBuild||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=pickDisplayedCols(this.treeLeft),this.columnsCenter=pickDisplayedCols(this.treeCenter),this.columnsRight=pickDisplayedCols(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(source),this.autoHeightCols=this.columns.filter((col=>col.isAutoHeight())),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(source),this.eventDispatcher.visibleCols()}updateBodyWidths(){const newBodyWidth=getWidthOfColsInList(this.columnsCenter),newLeftWidth=getWidthOfColsInList(this.columnsLeft),newRightWidth=getWidthOfColsInList(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==newBodyWidth;if(this.bodyWidth!==newBodyWidth||this.leftWidth!==newLeftWidth||this.rightWidth!==newRightWidth){this.bodyWidth=newBodyWidth,this.leftWidth=newLeftWidth,this.rightWidth=newRightWidth;const evt={type:"columnContainerWidthChanged"};this.eventService.dispatchEvent(evt);const event={type:"displayedColumnsWidthChanged"};this.eventService.dispatchEvent(event)}}setLeftValues(source){this.setLeftValuesOfCols(source),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(source){let lastLeft,firstRight;this.gos.get("enableRtl")?(lastLeft=this.columnsLeft?this.columnsLeft[0]:null,firstRight=this.columnsRight?_last(this.columnsRight):null):(lastLeft=this.columnsLeft?_last(this.columnsLeft):null,firstRight=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach((col=>{col.setLastLeftPinned(col===lastLeft,source),col.setFirstRightPinned(col===firstRight,source)}))}buildTrees(){const cols=this.columnModel.getColsToShow(),leftCols=cols.filter((col=>"left"==col.getPinned())),rightCols=cols.filter((col=>"right"==col.getPinned())),centerCols=cols.filter((col=>"left"!=col.getPinned()&&"right"!=col.getPinned())),idCreator=new GroupInstanceIdCreator;this.treeLeft=this.createGroups({columns:leftCols,idCreator,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:rightCols,idCreator,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:centerCols,idCreator,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const allColumns=this.columnModel.getCols(),pinnedLeft=[],center=[],pinnedRight=[];for(const col of allColumns){const pinned=col.getPinned();pinned?!0===pinned||"left"===pinned?pinnedLeft.push(col):pinnedRight.push(col):center.push(col)}this.ariaOrderColumns=pinnedLeft.concat(center).concat(pinnedRight)}getAriaColIndex(colOrGroup){let col;return col=isColumnGroup(colOrGroup)?colOrGroup.getLeafColumns()[0]:colOrGroup,this.ariaOrderColumns.indexOf(col)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach((columns=>{columns.forEach((column=>{if(isColumnGroup(column)){column.checkLeft()}}))}))}setLeftValuesOfCols(source){if(!this.columnModel.getColDefCols())return;const allColumns=this.columnModel.getCols().slice(0),doingRtl=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach((columns=>{if(doingRtl){let left=getWidthOfColsInList(columns);columns.forEach((column=>{left-=column.getActualWidth(),column.setLeft(left,source)}))}else{let left=0;columns.forEach((column=>{column.setLeft(left,source),left+=column.getActualWidth()}))}!function _removeAllFromUnorderedArray(array,toRemove){for(let i=0;i<toRemove.length;i++)_removeFromUnorderedArray(array,toRemove[i])}(allColumns,columns)})),allColumns.forEach((column=>{column.setLeft(null,source)}))}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(column){return this.getAllCols().indexOf(column)>=0}getLeftColsForRow(rowNode){return this.columnModel.isColSpanActive()?this.getColsForRow(rowNode,this.columnsLeft):this.columnsLeft}getRightColsForRow(rowNode){return this.columnModel.isColSpanActive()?this.getColsForRow(rowNode,this.columnsRight):this.columnsRight}getColsForRow(rowNode,displayedColumns,filterCallback,emptySpaceBeforeColumn){const result=[];let lastConsideredCol=null;for(let i=0;i<displayedColumns.length;i++){const col=displayedColumns[i],maxAllowedColSpan=displayedColumns.length-i,colSpan=Math.min(col.getColSpan(rowNode),maxAllowedColSpan),columnsToCheckFilter=[col];if(colSpan>1){const colsToRemove=colSpan-1;for(let j=1;j<=colsToRemove;j++)columnsToCheckFilter.push(displayedColumns[i+j]);i+=colsToRemove}let filterPasses;if(filterCallback?(filterPasses=!1,columnsToCheckFilter.forEach((colForFilter=>{filterCallback(colForFilter)&&(filterPasses=!0)}))):filterPasses=!0,filterPasses){if(0===result.length&&lastConsideredCol){!!emptySpaceBeforeColumn&&emptySpaceBeforeColumn(col)&&result.push(lastConsideredCol)}result.push(col)}lastConsideredCol=col}return result}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(pinned){switch(pinned){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(col){const allDisplayedColumns=this.getAllCols(),oldIndex=allDisplayedColumns.indexOf(col);return oldIndex>0?allDisplayedColumns[oldIndex-1]:null}getGroupAtDirection(columnGroup,direction){const requiredLevel=columnGroup.getProvidedColumnGroup().getLevel()+columnGroup.getPaddingLevel(),colGroupLeafColumns=columnGroup.getDisplayedLeafColumns(),col="After"===direction?_last(colGroupLeafColumns):colGroupLeafColumns[0],getDisplayColMethod=`getCol${direction}`;for(;;){const column=this[getDisplayColMethod](col);if(!column)return null;const groupPointer=this.getColGroupAtLevel(column,requiredLevel);if(groupPointer!==columnGroup)return groupPointer}}getColGroupAtLevel(column,level){let originalGroupLevel,groupPointerLevel,groupPointer=column.getParent();for(;;){if(originalGroupLevel=groupPointer.getProvidedColumnGroup().getLevel(),groupPointerLevel=groupPointer.getPaddingLevel(),originalGroupLevel+groupPointerLevel<=level)break;groupPointer=groupPointer.getParent()}return groupPointer}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const func=child=>{this.colsAndGroupsMap[child.getUniqueId()]=child};depthFirstAllColumnTreeSearch(this.treeCenter,!1,func),depthFirstAllColumnTreeSearch(this.treeLeft,!1,func),depthFirstAllColumnTreeSearch(this.treeRight,!1,func)}isVisible(item){return this.colsAndGroupsMap[item.getUniqueId()]===item}updateOpenClosedVisibilityInColumnGroups(){depthFirstAllColumnTreeSearch(this.getAllTrees(),!1,(child=>{isColumnGroup(child)&&child.calculateDisplayedColumns()}))}getFirstColumn(){const isRtl=this.gos.get("enableRtl"),queryOrder=["getLeftCols","getCenterCols","getRightCols"];isRtl&&queryOrder.reverse();for(let i=0;i<queryOrder.length;i++){const container=this[queryOrder[i]]();if(container.length)return isRtl?_last(container):container[0]}return null}getColumnGroup(colId,partId){if(!colId)return null;if(isColumnGroup(colId))return colId;const allColumnGroups=this.getAllTrees(),checkPartId="number"==typeof partId;let result=null;return depthFirstAllColumnTreeSearch(allColumnGroups,!1,(child=>{if(isColumnGroup(child)){const columnGroup=child;let matched;matched=checkPartId?colId===columnGroup.getGroupId()&&partId===columnGroup.getPartId():colId===columnGroup.getGroupId(),matched&&(result=columnGroup)}})),result}getColAfter(col){const allDisplayedColumns=this.getAllCols(),oldIndex=allDisplayedColumns.indexOf(col);return oldIndex<allDisplayedColumns.length-1?allDisplayedColumns[oldIndex+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return getWidthOfColsInList(this.columnsLeft)}getDisplayedColumnsRightWidth(){return getWidthOfColsInList(this.columnsRight)}isColAtEdge(col,edge){const allColumns=this.getAllCols();if(!allColumns.length)return!1;const isFirst="first"===edge;let columnToCompare;if(isColumnGroup(col)){const leafColumns=col.getDisplayedLeafColumns();if(!leafColumns.length)return!1;columnToCompare=isFirst?leafColumns[0]:_last(leafColumns)}else columnToCompare=col;return(isFirst?allColumns[0]:_last(allColumns))===columnToCompare}createGroups(params){const{columns,idCreator,pinned,oldDisplayedGroups,isStandaloneStructure}=params,oldColumnsMapped=this.mapOldGroupsById(oldDisplayedGroups),topLevelResultCols=[];let groupsOrColsAtCurrentLevel=columns;for(;groupsOrColsAtCurrentLevel.length;){const currentlyIterating=groupsOrColsAtCurrentLevel;groupsOrColsAtCurrentLevel=[];let lastGroupedColIdx=0;const createGroupToIndex=to=>{const from=lastGroupedColIdx;lastGroupedColIdx=to;const previousNode=currentlyIterating[from],previousNodeParent=(isColumnGroup(previousNode)?previousNode.getProvidedColumnGroup():previousNode).getOriginalParent();if(null==previousNodeParent){for(let i=from;i<to;i++)topLevelResultCols.push(currentlyIterating[i]);return}const newGroup=this.createColGroup(previousNodeParent,idCreator,oldColumnsMapped,pinned,isStandaloneStructure);for(let i=from;i<to;i++)newGroup.addChild(currentlyIterating[i]);groupsOrColsAtCurrentLevel.push(newGroup)};for(let i=1;i<currentlyIterating.length;i++){const thisNode=currentlyIterating[i],thisNodeParent=(isColumnGroup(thisNode)?thisNode.getProvidedColumnGroup():thisNode).getOriginalParent(),previousNode=currentlyIterating[lastGroupedColIdx];thisNodeParent!==(isColumnGroup(previousNode)?previousNode.getProvidedColumnGroup():previousNode).getOriginalParent()&&createGroupToIndex(i)}lastGroupedColIdx<currentlyIterating.length&&createGroupToIndex(currentlyIterating.length)}return isStandaloneStructure||this.setupParentsIntoCols(topLevelResultCols,null),topLevelResultCols}createColGroup(providedGroup,groupInstanceIdCreator,oldColumnsMapped,pinned,isStandaloneStructure){const groupId=providedGroup.getGroupId(),instanceId=groupInstanceIdCreator.getInstanceIdForKey(groupId);let columnGroup=oldColumnsMapped[createUniqueColumnGroupId(groupId,instanceId)];return columnGroup&&columnGroup.getProvidedColumnGroup()!==providedGroup&&(columnGroup=null),_exists(columnGroup)?columnGroup.reset():(columnGroup=new AgColumnGroup(providedGroup,groupId,instanceId,pinned),isStandaloneStructure||this.createBean(columnGroup)),columnGroup}mapOldGroupsById(displayedGroups){const result={},recursive=columnsOrGroups=>{columnsOrGroups.forEach((columnOrGroup=>{if(isColumnGroup(columnOrGroup)){const columnGroup=columnOrGroup;result[columnOrGroup.getUniqueId()]=columnGroup,recursive(columnGroup.getChildren())}}))};return displayedGroups&&recursive(displayedGroups),result}setupParentsIntoCols(columnsOrGroups,parent){columnsOrGroups.forEach((columnsOrGroup=>{if(columnsOrGroup.setParent(parent),isColumnGroup(columnsOrGroup)){const columnGroup=columnsOrGroup;this.setupParentsIntoCols(columnGroup.getChildren(),columnGroup)}}))}};function depthFirstAllColumnTreeSearch(tree,useDisplayedChildren,callback){if(tree)for(let i=0;i<tree.length;i++){const child=tree[i];if(isColumnGroup(child)){depthFirstAllColumnTreeSearch(useDisplayedChildren?child.getDisplayedChildren():child.getChildren(),useDisplayedChildren,callback)}callback(child)}}function pickDisplayedCols(tree){const res=[];return depthFirstAllColumnTreeSearch(tree,!0,(child=>{isColumn(child)&&res.push(child)})),res}var PUBLIC_EVENTS=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd"],ALL_EVENTS=[...PUBLIC_EVENTS,"scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged"],INITIAL_GRID_OPTION_KEYS={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},_PropertyKeys=class _PropertyKeys{};_PropertyKeys.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"],_PropertyKeys.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"],_PropertyKeys.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],_PropertyKeys.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],_PropertyKeys.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading"],_PropertyKeys.OTHER_PROPERTIES=["suppressStickyTotalRow"],_PropertyKeys.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"],_PropertyKeys.ALL_PROPERTIES=[..._PropertyKeys.ARRAY_PROPERTIES,..._PropertyKeys.OBJECT_PROPERTIES,..._PropertyKeys.STRING_PROPERTIES,..._PropertyKeys.NUMBER_PROPERTIES,..._PropertyKeys.FUNCTION_PROPERTIES,..._PropertyKeys.BOOLEAN_PROPERTIES,..._PropertyKeys.OTHER_PROPERTIES];var PropertyKeys=_PropertyKeys,_ComponentUtil=class _ComponentUtil{static getCallbackForEvent(eventName){return!eventName||eventName.length<2?eventName:"on"+eventName[0].toUpperCase()+eventName.substring(1)}};_ComponentUtil.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",_ComponentUtil.PUBLIC_EVENTS=PUBLIC_EVENTS,_ComponentUtil.EVENT_CALLBACKS=ALL_EVENTS.map((event=>_ComponentUtil.getCallbackForEvent(event))),_ComponentUtil.BOOLEAN_PROPERTIES=PropertyKeys.BOOLEAN_PROPERTIES,_ComponentUtil.ALL_PROPERTIES=PropertyKeys.ALL_PROPERTIES,_ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS=[..._ComponentUtil.ALL_PROPERTIES,..._ComponentUtil.EVENT_CALLBACKS],_ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(_ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS);var ComponentUtil=_ComponentUtil;var isSafari,safariVersion,isChrome,isFirefox,isMacOs,isIOS,invisibleScrollbar,browserScrollbarWidth,rtlNegativeScroll,CssClassManager=class{constructor(getGui){this.cssClassStates={},this.getGui=getGui}addCssClass(className){const list=(className||"").split(" ");if(list.length>1)return void list.forEach((cls=>this.addCssClass(cls)));if(!0!==this.cssClassStates[className]&&className.length){const eGui=this.getGui();eGui&&eGui.classList.add(className),this.cssClassStates[className]=!0}}removeCssClass(className){const list=(className||"").split(" ");if(list.length>1)return void list.forEach((cls=>this.removeCssClass(cls)));if(!1!==this.cssClassStates[className]&&className.length){const eGui=this.getGui();eGui&&eGui.classList.remove(className),this.cssClassStates[className]=!1}}containsCssClass(className){const eGui=this.getGui();return!!eGui&&eGui.classList.contains(className)}addOrRemoveCssClass(className,addOrRemove){if(!className)return;if(className.indexOf(" ")>=0){const list=(className||"").split(" ");if(list.length>1)return void list.forEach((cls=>this.addOrRemoveCssClass(cls,addOrRemove)))}if(this.cssClassStates[className]!==addOrRemove&&className.length){const eGui=this.getGui();eGui&&eGui.classList.toggle(className,addOrRemove),this.cssClassStates[className]=addOrRemove}}};function _toggleAriaAttribute(element,attribute,value){null==value||"string"==typeof value&&""==value?_removeAriaAttribute(element,attribute):_setAriaAttribute(element,attribute,value)}function _setAriaAttribute(element,attribute,value){element.setAttribute(_ariaAttributeName(attribute),value.toString())}function _removeAriaAttribute(element,attribute){element.removeAttribute(_ariaAttributeName(attribute))}function _ariaAttributeName(attribute){return`aria-${attribute}`}function _setAriaRole(element,role){role?element.setAttribute("role",role):element.removeAttribute("role")}function _setAriaLabel(element,label){_toggleAriaAttribute(element,"label",label)}function _setAriaLabelledBy(element,labelledBy){_toggleAriaAttribute(element,"labelledby",labelledBy)}function _setAriaLive(element,live){_toggleAriaAttribute(element,"live",live)}function _setAriaHidden(element,hidden){_toggleAriaAttribute(element,"hidden",hidden)}function _setAriaExpanded(element,expanded){_setAriaAttribute(element,"expanded",expanded)}function _setAriaRowCount(element,rowCount){_setAriaAttribute(element,"rowcount",rowCount)}function _setAriaRowIndex(element,rowIndex){_setAriaAttribute(element,"rowindex",rowIndex)}function _setAriaColCount(element,colCount){_setAriaAttribute(element,"colcount",colCount)}function _setAriaColIndex(element,colIndex){_setAriaAttribute(element,"colindex",colIndex)}function _setAriaSort(element,sort){_setAriaAttribute(element,"sort",sort)}function _removeAriaSort(element){_removeAriaAttribute(element,"sort")}function _setAriaSelected(element,selected){_toggleAriaAttribute(element,"selected",selected)}function _getAriaCheckboxStateName(translate,state){return void 0===state?translate("ariaIndeterminate","indeterminate"):!0===state?translate("ariaChecked","checked"):translate("ariaUnchecked","unchecked")}function _isBrowserSafari(){return void 0===isSafari&&(isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),isSafari}function _getSafariVersion(){if(void 0===safariVersion)if(_isBrowserSafari()){const versionMatch=navigator.userAgent.match(/version\/(\d+)/i);versionMatch&&(safariVersion=null!=versionMatch[1]?parseFloat(versionMatch[1]):0)}else safariVersion=0;return safariVersion}function _isBrowserChrome(){if(void 0===isChrome){const win=window;isChrome=!!win.chrome&&(!!win.chrome.webstore||!!win.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return isChrome}function _isBrowserFirefox(){return void 0===isFirefox&&(isFirefox=/(firefox)/i.test(navigator.userAgent)),isFirefox}function _isMacOsUserAgent(){return void 0===isMacOs&&(isMacOs=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),isMacOs}function _isIOSUserAgent(){return void 0===isIOS&&(isIOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),isIOS}function _browserSupportsPreventScroll(){return!_isBrowserSafari()||_getSafariVersion()>=15}function _getTabIndex(el){if(!el)return null;const numberTabIndex=el.tabIndex,tabIndex=el.getAttribute("tabIndex");return-1!==numberTabIndex||null!==tabIndex&&(""!==tabIndex||_isBrowserFirefox())?numberTabIndex.toString():null}function initScrollbarWidthAndVisibility(){const body=document.body,div=document.createElement("div");div.style.width=div.style.height="100px",div.style.opacity="0",div.style.overflow="scroll",div.style.msOverflowStyle="scrollbar",div.style.position="absolute",body.appendChild(div);let width=div.offsetWidth-div.clientWidth;0===width&&0===div.clientWidth&&(width=null),div.parentNode&&div.parentNode.removeChild(div),null!=width&&(browserScrollbarWidth=width,invisibleScrollbar=0===width)}function _isInvisibleScrollbar(){return null==invisibleScrollbar&&initScrollbarWidthAndVisibility(),invisibleScrollbar}var FOCUSABLE_EXCLUDE="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function _isFocusableFormField(element){const matches=Element.prototype.matches||Element.prototype.msMatchesSelector,isFocusable=matches.call(element,"input, select, button, textarea"),isNotFocusable=matches.call(element,FOCUSABLE_EXCLUDE),isElementVisible=_isVisible(element);return isFocusable&&!isNotFocusable&&isElementVisible}function _setDisplayed(element,displayed,options={}){const{skipAriaHidden}=options;element.classList.toggle("ag-hidden",!displayed),skipAriaHidden||_setAriaHidden(element,!displayed)}function _setDisabled(element,disabled){const addOrRemoveDisabledAttribute=disabled?e=>e.setAttribute("disabled",""):e=>e.removeAttribute("disabled");addOrRemoveDisabledAttribute(element),_nodeListForEach(element.querySelectorAll("input"),(input=>addOrRemoveDisabledAttribute(input)))}function _isElementChildOfClass(element,cls,maxNest){let counter=0;for(;element;){if(element.classList.contains(cls))return!0;if(element=element.parentElement,"number"==typeof maxNest){if(++counter>maxNest)break}else if(element===maxNest)break}return!1}function _getElementSize(el){const{height,width,borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth,paddingTop,paddingRight,paddingBottom,paddingLeft,marginTop,marginRight,marginBottom,marginLeft,boxSizing}=window.getComputedStyle(el);return{height:parseFloat(height||"0"),width:parseFloat(width||"0"),borderTopWidth:parseFloat(borderTopWidth||"0"),borderRightWidth:parseFloat(borderRightWidth||"0"),borderBottomWidth:parseFloat(borderBottomWidth||"0"),borderLeftWidth:parseFloat(borderLeftWidth||"0"),paddingTop:parseFloat(paddingTop||"0"),paddingRight:parseFloat(paddingRight||"0"),paddingBottom:parseFloat(paddingBottom||"0"),paddingLeft:parseFloat(paddingLeft||"0"),marginTop:parseFloat(marginTop||"0"),marginRight:parseFloat(marginRight||"0"),marginBottom:parseFloat(marginBottom||"0"),marginLeft:parseFloat(marginLeft||"0"),boxSizing}}function _getInnerHeight(el){const size=_getElementSize(el);return"border-box"===size.boxSizing?size.height-size.paddingTop-size.paddingBottom:size.height}function _getInnerWidth(el){const size=_getElementSize(el);return"border-box"===size.boxSizing?size.width-size.paddingLeft-size.paddingRight:size.width}function _getAbsoluteHeight(el){const{height,marginBottom,marginTop}=_getElementSize(el);return Math.floor(height+marginBottom+marginTop)}function _getAbsoluteWidth(el){const{width,marginLeft,marginRight}=_getElementSize(el);return Math.floor(width+marginLeft+marginRight)}function _getElementRectWithOffset(el){const offsetElementRect=el.getBoundingClientRect(),{borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth}=_getElementSize(el);return{top:offsetElementRect.top+(borderTopWidth||0),left:offsetElementRect.left+(borderLeftWidth||0),right:offsetElementRect.right+(borderRightWidth||0),bottom:offsetElementRect.bottom+(borderBottomWidth||0)}}function _isRtlNegativeScroll(){if("boolean"==typeof rtlNegativeScroll)return rtlNegativeScroll;const template=document.createElement("div");return template.style.direction="rtl",template.style.width="1px",template.style.height="1px",template.style.position="fixed",template.style.top="0px",template.style.overflow="hidden",template.dir="rtl",template.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(template),template.scrollLeft=1,rtlNegativeScroll=0===Math.floor(template.scrollLeft),document.body.removeChild(template),rtlNegativeScroll}function _getScrollLeft(element,rtl){let scrollLeft=element.scrollLeft;return rtl&&(scrollLeft=Math.abs(scrollLeft),_isBrowserChrome()&&!_isRtlNegativeScroll()&&(scrollLeft=element.scrollWidth-element.clientWidth-scrollLeft)),scrollLeft}function _setScrollLeft(element,value,rtl){rtl&&(_isRtlNegativeScroll()?value*=-1:(_isBrowserSafari()||_isBrowserChrome())&&(value=element.scrollWidth-element.clientWidth-value)),element.scrollLeft=value}function _clearElement(el){for(;el&&el.firstChild;)el.removeChild(el.firstChild)}function _removeFromParent(node){node&&node.parentNode&&node.parentNode.removeChild(node)}function _isInDOM(element){return!!element.offsetParent}function _isVisible(element){const el=element;if(el.checkVisibility)return el.checkVisibility({checkVisibilityCSS:!0});return!(!_isInDOM(element)||"visible"!==window.getComputedStyle(element).visibility)}function _loadTemplate(template){const tempDiv=document.createElement("div");return tempDiv.innerHTML=(template||"").trim(),tempDiv.firstChild}function _setElementWidth(element,width){"flex"===width?(element.style.removeProperty("width"),element.style.removeProperty("minWidth"),element.style.removeProperty("maxWidth"),element.style.flex="1 1 auto"):_setFixedWidth(element,width)}function _setFixedWidth(element,width){width=_formatSize(width),element.style.width=width.toString(),element.style.maxWidth=width.toString(),element.style.minWidth=width.toString()}function _setFixedHeight(element,height){height=_formatSize(height),element.style.height=height.toString(),element.style.maxHeight=height.toString(),element.style.minHeight=height.toString()}function _formatSize(size){return"number"==typeof size?`${size}px`:size}function _isNodeOrElement(o){return o instanceof Node||o instanceof HTMLElement}function _addOrRemoveAttribute(element,name,value){null==value?element.removeAttribute(name):element.setAttribute(name,value.toString())}function _nodeListForEach(nodeList,action){if(null!=nodeList)for(let i=0;i<nodeList.length;i++)action(nodeList[i])}var NumberSequence=class{constructor(initValue=0,step=1){this.nextValue=initValue,this.step=step}next(){const valToReturn=this.nextValue;return this.nextValue+=this.step,valToReturn}peek(){return this.nextValue}skip(count){this.nextValue+=count}},_TooltipStateManager=class _TooltipStateManager extends BeanStub{constructor(parentComp,tooltipShowDelayOverride,tooltipHideDelayOverride,shouldDisplayTooltip){super(),this.parentComp=parentComp,this.tooltipShowDelayOverride=tooltipShowDelayOverride,this.tooltipHideDelayOverride=tooltipHideDelayOverride,this.shouldDisplayTooltip=shouldDisplayTooltip,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(beans){this.popupService=beans.popupService,this.userComponentFactory=beans.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const el=this.parentComp.getGui();0===this.tooltipTrigger&&this.addManagedListeners(el,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),1===this.tooltipTrigger&&this.addManagedListeners(el,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(el,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(el,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(delayOption){const delay=this.gos.get(delayOption);return delay<0&&_warnOnce(`${delayOption} should not be lower than 0`),Math.max(200,delay)}getTooltipDelay(type){return"show"===type?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const trigger=this.gos.get("tooltipTrigger");return trigger&&"hover"!==trigger?1:0}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),_isIOSUserAgent()||(_TooltipStateManager.isLocked?this.showTooltipTimeoutId=window.setTimeout((()=>{this.prepareToShowTooltip(e)}),100):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const relatedTarget=e.relatedTarget,parentCompGui=this.parentComp.getGui(),tooltipGui=this.tooltipComp?.getGui();this.isInteractingWithTooltip||parentCompGui.contains(relatedTarget)||this.interactionEnabled&&tooltipGui?.contains(relatedTarget)||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(mouseEvent){if(0!=this.state||_TooltipStateManager.isLocked)return;let delay=0;mouseEvent&&(delay=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=mouseEvent||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),delay),this.state=1}isLastTooltipHiddenRecently(){return(new Date).getTime()-_TooltipStateManager.lastTooltipHideTime<1e3}setToDoNothing(){2===this.state&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const params={...this.parentComp.getTooltipParams()};if(!_exists(params.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip())return void this.setToDoNothing();this.state=2,this.tooltipInstanceCount++;const callback=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(params).newAgStackInstance().then(callback)}hideTooltip(forceHide){if(!forceHide&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),_TooltipStateManager.lastTooltipHideTime=(new Date).getTime());const event={type:"tooltipHide",parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(event),forceHide&&(this.isInteractingWithTooltip=!1),this.state=0}newTooltipComponentCallback(tooltipInstanceCopy,tooltipComp){if(2!==this.state||this.tooltipInstanceCount!==tooltipInstanceCopy)return void this.destroyBean(tooltipComp);const eGui=tooltipComp.getGui();this.tooltipComp=tooltipComp,eGui.classList.contains("ag-tooltip")||eGui.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&eGui.classList.add("ag-tooltip-animate"),this.interactionEnabled&&eGui.classList.add("ag-tooltip-interactive");const translate=this.localeService.getLocaleTextFunc(),addPopupRes=this.popupService.addPopup({eChild:eGui,ariaLabel:translate("ariaLabelTooltip","Tooltip")});if(addPopupRes&&(this.tooltipPopupDestroyFunc=addPopupRes.hideFunc),this.positionTooltip(),1===this.tooltipTrigger){const listener=this.setToDoNothing.bind(this);[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:listener,columnMoved:listener})}this.interactionEnabled&&(0===this.tooltipTrigger?[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(eGui,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}):[this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(eGui,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}));const event={type:"tooltipShow",tooltipGui:eGui,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(event),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(e){const parentGui=this.parentComp.getGui(),tooltipGui=this.tooltipComp?.getGui(),relatedTarget=e.relatedTarget;tooltipGui?.contains(relatedTarget)||(this.isInteractingWithTooltip=!1,parentGui.contains(relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const params={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...params,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...params,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const tooltipPopupDestroyFunc=this.tooltipPopupDestroyFunc,tooltipComp=this.tooltipComp,delay=0===this.tooltipTrigger?1e3:0;window.setTimeout((()=>{tooltipPopupDestroyFunc(),this.destroyBean(tooltipComp)}),delay),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach((listener=>{listener&&listener()})),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){_TooltipStateManager.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout((()=>{this.unlockService(),this.setToDoNothing()}),100)}unlockService(){_TooltipStateManager.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};_TooltipStateManager.isLocked=!1;var TooltipStateManager=_TooltipStateManager,TooltipFeature=class extends BeanStub{constructor(ctrl,beans){super(),this.ctrl=ctrl,beans&&(this.beans=beans)}wireBeans(beans){this.beans=beans}postConstruct(){this.refreshToolTip()}setBrowserTooltip(tooltip){const eGui=this.ctrl.getGui();eGui&&(null!=tooltip&&""!=tooltip?eGui.setAttribute("title",tooltip):eGui.removeAttribute("title"))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){if(null!=this.tooltipManager)return;const parent={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new TooltipStateManager(parent,this.ctrl.getTooltipShowDelayOverride?.(),this.ctrl.getTooltipHideDelayOverride?.(),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const ctrl=this.ctrl,column=ctrl.getColumn?ctrl.getColumn():void 0,colDef=ctrl.getColDef?ctrl.getColDef():void 0,rowNode=ctrl.getRowNode?ctrl.getRowNode():void 0;return{location:ctrl.getLocation(),colDef,column,rowIndex:ctrl.getRowIndex?ctrl.getRowIndex():void 0,node:rowNode,data:rowNode?rowNode.data:void 0,value:this.getTooltipText(),valueFormatted:ctrl.getValueFormatted?ctrl.getValueFormatted():void 0,hideTooltipCallback:()=>this.tooltipManager?.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},compIdSequence=new NumberSequence,Component=class _Component extends BeanStub{constructor(template,componentSelectors){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=compIdSequence.next(),this.cssClassManager=new CssClassManager((()=>this.eGui)),this.componentSelectors=new Map((componentSelectors??[]).map((comp=>[comp.selector,comp]))),template&&this.setTemplate(template)}preWireBeans(beans){super.preWireBeans(beans)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(element,paramsMap){element&&this.gos&&(this.applyElementsToComponent(element),this.createChildComponentsFromTags(element,paramsMap))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(params){const{newTooltipText,showDelayOverride,hideDelayOverride,location,shouldDisplayTooltip}=params||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==newTooltipText&&(this.tooltipText=newTooltipText);const getTooltipValue=()=>this.tooltipText;null!=newTooltipText&&(this.tooltipFeature=this.createBean(new TooltipFeature({getTooltipValue,getGui:()=>this.getGui(),getLocation:()=>location??"UNKNOWN",getColDef:params?.getColDef,getColumn:params?.getColumn,getTooltipShowDelayOverride:null!=showDelayOverride?()=>showDelayOverride:void 0,getTooltipHideDelayOverride:null!=hideDelayOverride?()=>hideDelayOverride:void 0,shouldDisplayTooltip})))}getDataRefAttribute(element){return element.getAttribute?element.getAttribute("data-ref"):null}applyElementsToComponent(element,elementRef,paramsMap,newComponent=null){if(void 0===elementRef&&(elementRef=this.getDataRefAttribute(element)),elementRef){const current=this[elementRef];if(null===current)this[elementRef]=newComponent??element;else{const usedAsParamRef=paramsMap&&paramsMap[elementRef];this.suppressDataRefValidation||usedAsParamRef||_warnOnce(`Issue with data-ref: ${elementRef} on ${this.constructor.name} with ${current}`)}}}createChildComponentsFromTags(parentNode,paramsMap){(function _copyNodeList(nodeList){if(null==nodeList)return[];const result=[];return _nodeListForEach(nodeList,(node=>result.push(node))),result})(parentNode.childNodes).forEach((childNode=>{if(!(childNode instanceof HTMLElement))return;const childComp=this.createComponentFromElement(childNode,(childComp2=>{childComp2.getGui()&&this.copyAttributesFromNode(childNode,childComp2.getGui())}),paramsMap);if(childComp){if(childComp.addItems&&childNode.children.length){this.createChildComponentsFromTags(childNode,paramsMap);const items=Array.prototype.slice.call(childNode.children);childComp.addItems(items)}this.swapComponentForNode(childComp,parentNode,childNode)}else childNode.childNodes&&this.createChildComponentsFromTags(childNode,paramsMap)}))}createComponentFromElement(element,afterPreCreateCallback,paramsMap){const key=element.nodeName,elementRef=this.getDataRefAttribute(element),isAgGridComponent=0===key.indexOf("AG-"),componentSelector=isAgGridComponent?this.componentSelectors.get(key):null;let newComponent=null;if(componentSelector){_Component.elementGettingCreated=element;const componentParams=paramsMap&&elementRef?paramsMap[elementRef]:void 0;newComponent=new componentSelector.component(componentParams),newComponent.setParentComponent(this),this.createBean(newComponent,null,afterPreCreateCallback)}else isAgGridComponent&&_warnOnce(`Missing selector: ${key}`);return this.applyElementsToComponent(element,elementRef,paramsMap,newComponent),newComponent}copyAttributesFromNode(source,dest){!function _iterateNamedNodeMap(map,callback){if(map)for(let i=0;i<map.length;i++){const attr=map[i];callback(attr.name,attr.value)}}(source.attributes,((name,value)=>dest.setAttribute(name,value)))}swapComponentForNode(newComponent,parentNode,childNode){const eComponent=newComponent.getGui();parentNode.replaceChild(eComponent,childNode),parentNode.insertBefore(document.createComment(childNode.nodeName),eComponent),this.addDestroyFunc(this.destroyBean.bind(this,newComponent))}activateTabIndex(elements){const tabIndex=this.gos.get("tabIndex");elements||(elements=[]),elements.length||elements.push(this.getGui()),elements.forEach((el=>el.setAttribute("tabindex",tabIndex.toString())))}setTemplate(template,componentSelectors,paramsMap){const eGui=_loadTemplate(template);this.setTemplateFromElement(eGui,componentSelectors,paramsMap)}setTemplateFromElement(element,components,paramsMap,suppressDataRefValidation=!1){if(this.eGui=element,this.suppressDataRefValidation=suppressDataRefValidation,components)for(let i=0;i<components.length;i++){const component=components[i];this.componentSelectors.set(component.selector,component)}this.wireTemplate(element,paramsMap)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(component){this.parentComponent=component}getParentComponent(){return this.parentComponent}setGui(eGui){this.eGui=eGui}queryForHtmlElement(cssSelector){return this.eGui.querySelector(cssSelector)}getContainerAndElement(newChild,container){let parent=container;return null==newChild?null:(parent||(parent=this.eGui),_isNodeOrElement(newChild)?{element:newChild,parent}:{element:newChild.getGui(),parent})}prependChild(newChild,container){const{element,parent}=this.getContainerAndElement(newChild,container)||{};element&&parent&&parent.insertAdjacentElement("afterbegin",element)}appendChild(newChild,container){const{element,parent}=this.getContainerAndElement(newChild,container)||{};element&&parent&&parent.appendChild(element)}isDisplayed(){return this.displayed}setVisible(visible,options={}){if(visible!==this.visible){this.visible=visible;const{skipAriaHidden}=options;!function _setVisible(element,visible,options={}){const{skipAriaHidden}=options;element.classList.toggle("ag-invisible",!visible),skipAriaHidden||_setAriaHidden(element,!visible)}(this.eGui,visible,{skipAriaHidden})}}setDisplayed(displayed,options={}){if(displayed!==this.displayed){this.displayed=displayed;const{skipAriaHidden}=options;_setDisplayed(this.eGui,displayed,{skipAriaHidden});const event={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(event)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(event,listener,options){this.eGui.addEventListener(event,listener,options),this.addDestroyFunc((()=>this.eGui.removeEventListener(event,listener)))}addCssClass(className){this.cssClassManager.addCssClass(className)}removeCssClass(className){this.cssClassManager.removeCssClass(className)}containsCssClass(className){return this.cssClassManager.containsCssClass(className)}addOrRemoveCssClass(className,addOrRemove){this.cssClassManager.addOrRemoveCssClass(className,addOrRemove)}},iconNameClassMap={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"};function _createIcon(iconName,gos,column){const iconContents=_createIconNoSpan(iconName,gos,column);if(iconContents){const{className}=iconContents;if("string"==typeof className&&className.indexOf("ag-icon")>-1||"object"==typeof className&&className["ag-icon"])return iconContents}const eResult=document.createElement("span");return eResult.appendChild(iconContents),eResult}function _createIconNoSpan(iconName,gos,column,forceCreate){let userProvidedIcon=null;const icons=column&&column.getColDef().icons;if(icons&&(userProvidedIcon=icons[iconName]),gos&&!userProvidedIcon){const optionsIcons=gos.get("icons");optionsIcons&&(userProvidedIcon=optionsIcons[iconName])}if(!userProvidedIcon){const span=document.createElement("span");let cssClass=iconNameClassMap[iconName];return cssClass||(forceCreate?cssClass=iconName:(_warnOnce(`Did not find icon ${iconName}`),cssClass="")),span.setAttribute("class",`ag-icon ag-icon-${cssClass}`),span.setAttribute("unselectable","on"),_setAriaRole(span,"presentation"),span}{let rendererResult;if("function"==typeof userProvidedIcon)rendererResult=userProvidedIcon();else{if("string"!=typeof userProvidedIcon)throw new Error("icon from grid options needs to be a string or a function");rendererResult=userProvidedIcon}if("string"==typeof rendererResult)return _loadTemplate(rendererResult);if(_isNodeOrElement(rendererResult))return rendererResult;_warnOnce("iconRenderer should return back a string or a dom object")}}function _areEventsNear(e1,e2,pixelCount){if(0===pixelCount)return!1;const diffX=Math.abs(e1.clientX-e2.clientX),diffY=Math.abs(e1.clientY-e2.clientY);return Math.max(diffX,diffY)<=pixelCount}var TouchListener=class{constructor(eElement,preventMouseClick=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new LocalEventService,this.eElement=eElement,this.preventMouseClick=preventMouseClick;const startListener=this.onTouchStart.bind(this),moveListener=this.onTouchMove.bind(this),endListener=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",startListener,{passive:!0}),this.eElement.addEventListener("touchmove",moveListener,{passive:!0}),this.eElement.addEventListener("touchend",endListener,{passive:!1}),this.destroyFuncs.push((()=>{this.eElement.removeEventListener("touchstart",startListener,{passive:!0}),this.eElement.removeEventListener("touchmove",moveListener,{passive:!0}),this.eElement.removeEventListener("touchend",endListener,{passive:!1})}))}getActiveTouch(touchList){for(let i=0;i<touchList.length;i++){if(touchList[i].identifier===this.touchStart.identifier)return touchList[i]}return null}addEventListener(eventType,listener){this.localEventService.addEventListener(eventType,listener)}removeEventListener(eventType,listener){this.localEventService.removeEventListener(eventType,listener)}onTouchStart(touchEvent){if(this.touching)return;this.touchStart=touchEvent.touches[0],this.touching=!0,this.moved=!1;const touchStartCopy=this.touchStart;window.setTimeout((()=>{const touchesMatch=this.touchStart===touchStartCopy;if(this.touching&&touchesMatch&&!this.moved){this.moved=!0;const event={type:"longTap",touchStart:this.touchStart,touchEvent};this.localEventService.dispatchEvent(event)}}),500)}onTouchMove(touchEvent){if(!this.touching)return;const touch=this.getActiveTouch(touchEvent.touches);if(!touch)return;!_areEventsNear(touch,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(touchEvent){if(this.touching){if(!this.moved){const event={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(event),this.checkForDoubleTap()}this.preventMouseClick&&touchEvent.cancelable&&touchEvent.preventDefault(),this.touching=!1}}checkForDoubleTap(){const now=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0){if(now-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const event={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(event),this.lastTapTime=null}else this.lastTapTime=now}else this.lastTapTime=now}destroy(){this.destroyFuncs.forEach((func=>func()))}},SortIndicatorComp=class extends Component{constructor(skipTemplate){super(),this.eSortOrder=null,this.eSortAsc=null,this.eSortDesc=null,this.eSortMixed=null,this.eSortNone=null,skipTemplate||this.setTemplate('<span class="ag-sort-indicator-container">\n        <span data-ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>\n        <span data-ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>\n        <span data-ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>\n        <span data-ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>\n        <span data-ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>\n    </span>')}wireBeans(beans){this.sortController=beans.sortController}attachCustomElements(eSortOrder,eSortAsc,eSortDesc,eSortMixed,eSortNone){this.eSortOrder=eSortOrder,this.eSortAsc=eSortAsc,this.eSortDesc=eSortDesc,this.eSortMixed=eSortMixed,this.eSortNone=eSortNone}setupSort(column,suppressOrder=!1){this.column=column,this.suppressOrder=suppressOrder,this.setupMultiSortIndicator(),(this.column.isSortable()||this.column.getColDef().showRowGroup)&&(this.addInIcon("sortAscending",this.eSortAsc,column),this.addInIcon("sortDescending",this.eSortDesc,column),this.addInIcon("sortUnSort",this.eSortNone,column),this.addManagedPropertyListener("unSortIcon",(()=>this.updateIcons())),this.addManagedEventListeners({newColumnsLoaded:this.updateIcons.bind(this),sortChanged:this.onSortChanged.bind(this),columnRowGroupChanged:this.onSortChanged.bind(this)}),this.onSortChanged())}addInIcon(iconName,eParent,column){if(null==eParent)return;const eIcon=_createIconNoSpan(iconName,this.gos,column);eIcon&&eParent.appendChild(eIcon)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const sortDirection=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const isAscending="asc"===sortDirection;_setDisplayed(this.eSortAsc,isAscending,{skipAriaHidden:!0})}if(this.eSortDesc){const isDescending="desc"===sortDirection;_setDisplayed(this.eSortDesc,isDescending,{skipAriaHidden:!0})}if(this.eSortNone){const alwaysHideNoSort=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),isNone=null==sortDirection;_setDisplayed(this.eSortNone,!alwaysHideNoSort&&isNone,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const isColumnShowingRowGroup=this.column.getColDef().showRowGroup;this.gos.isColumnsSortingCoupledToGroup()&&isColumnShowingRowGroup&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const isMixedSort="mixed"===this.sortController.getDisplaySortForColumn(this.column);_setDisplayed(this.eSortMixed,isMixedSort,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const allColumnsWithSorting=this.sortController.getColumnsWithSortingOrdered(),indexThisCol=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,moreThanOneColSorting=allColumnsWithSorting.some((col=>this.sortController.getDisplaySortIndexForColumn(col)??!1)),showIndex=indexThisCol>=0&&moreThanOneColSorting;_setDisplayed(this.eSortOrder,showIndex,{skipAriaHidden:!0}),indexThisCol>=0?this.eSortOrder.textContent=(indexThisCol+1).toString():_clearElement(this.eSortOrder)}},SortIndicatorSelector={selector:"AG-SORT-INDICATOR",component:SortIndicatorComp},HeaderComp=class extends Component{constructor(){super(...arguments),this.eFilter=null,this.eFilterButton=null,this.eSortIndicator=null,this.eMenu=null,this.eLabel=null,this.eText=null,this.eSortOrder=null,this.eSortAsc=null,this.eSortDesc=null,this.eSortMixed=null,this.eSortNone=null,this.lastMovingChanged=0}wireBeans(beans){this.sortController=beans.sortController,this.menuService=beans.menuService,this.funcColsService=beans.funcColsService}destroy(){super.destroy()}refresh(params){const oldParams=this.params;return this.params=params,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&oldParams.enableFilterButton==params.enableFilterButton&&oldParams.enableFilterIcon==params.enableFilterIcon&&(this.setDisplayName(params),!0)}workOutTemplate(){let template=this.params.template??'<div class="ag-cell-label-container" role="presentation">\n        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">\n            <span data-ref="eText" class="ag-header-cell-text"></span>\n            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>\n        </div>\n    </div>';return template=template&&template.trim?template.trim():template,template}init(params){this.params=params,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[SortIndicatorSelector]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(params)}setDisplayName(params){if(this.currentDisplayName!=params.displayName){this.currentDisplayName=params.displayName;const displayNameSanitised=_escapeString(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=displayNameSanitised)}}addInIcon(iconName,eParent,column){if(null==eParent)return;const eIcon=_createIconNoSpan(iconName,this.gos,column);eIcon&&eParent.appendChild(eIcon)}setupTap(){const{gos}=this;if(gos.get("suppressTouch"))return;const touchListener=new TouchListener(this.getGui(),!0),suppressMenuHide=this.shouldSuppressMenuHide(),tapMenuButton=suppressMenuHide&&_exists(this.eMenu),menuTouchListener=tapMenuButton?new TouchListener(this.eMenu,!0):touchListener;if(this.params.enableMenu){const eventType=tapMenuButton?"tap":"longTap",showMenuFn=event=>this.params.showColumnMenuAfterMouseClick(event.touchStart);this.addManagedListeners(menuTouchListener,{[eventType]:showMenuFn})}if(this.params.enableSorting){const tapListener=event=>{const target=event.touchStart.target;suppressMenuHide&&(this.eMenu?.contains(target)||this.eFilterButton?.contains(target))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(touchListener,{tap:tapListener})}if(this.params.enableFilterButton){const filterButtonTouchListener=new TouchListener(this.eFilterButton,!0);this.addManagedListeners(filterButtonTouchListener,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc((()=>filterButtonTouchListener.destroy()))}this.addDestroyFunc((()=>touchListener.destroy())),tapMenuButton&&this.addDestroyFunc((()=>menuTouchListener.destroy()))}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return _removeFromParent(this.eMenu),void(this.eMenu=void 0);const isLegacyMenu=this.menuService.isLegacyMenuEnabled();this.addInIcon(isLegacyMenu?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!isLegacyMenu),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(isFilterShortcut){const column=this.params.column,isLegacyMenuEnabled=this.menuService.isLegacyMenuEnabled();if(isFilterShortcut&&!isLegacyMenuEnabled){if(this.menuService.isFilterMenuInHeaderEnabled(column))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new SortIndicatorComp(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=(new Date).getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:event=>{const moving=this.params.column.isMoving(),movedRecently=(new Date).getTime()-this.lastMovingChanged<50;if(!(moving||movedRecently)){const multiSort="ctrl"===this.gos.get("multiSortKey")?event.ctrlKey||event.metaKey:event.shiftKey;this.params.progressSort(multiSort)}}});const onSortingChanged=()=>{const sort=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc","asc"===sort),this.addOrRemoveCssClass("ag-header-cell-sorted-desc","desc"===sort),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!sort),this.params.column.getColDef().showRowGroup){const sourceColumns=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),sortDirectionsMatch=sourceColumns?.every((sourceCol=>this.params.column.getSort()==sourceCol.getSort())),isMultiSorting=!sortDirectionsMatch;this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",isMultiSorting)}};this.addManagedEventListeners({sortChanged:onSortingChanged,columnRowGroupChanged:onSortingChanged})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(enabled,element,filterChangedCallback){if(!enabled)return _removeFromParent(element),!1;const column=this.params.column;return this.addInIcon("filter",element,column),this.addManagedListeners(column,{filterChanged:filterChangedCallback}),filterChangedCallback(),!0}onFilterChangedIcon(){const filterPresent=this.params.column.isFilterActive();_setDisplayed(this.eFilter,filterPresent,{skipAriaHidden:!0})}onFilterChangedButton(){const filterPresent=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",filterPresent)}getAnchorElementForMenu(isFilter){return isFilter?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},HeaderGroupComp=class extends Component{constructor(){super('<div class="ag-header-group-cell-label" role="presentation">\n            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>'),this.agOpened=null,this.agClosed=null,this.agLabel=null}wireBeans(beans){this.columnModel=beans.columnModel}destroy(){super.destroy()}init(params){this.params=params,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&_warnOnce("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const expandAction=event=>{if(_isStopPropagationForAgGrid(event))return;const newExpandedValue=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),newExpandedValue,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,expandAction),this.addTouchAndClickListeners(this.agOpened,expandAction);const stopPropagationAction=event=>{_stopPropagationForAgGrid(event)};this.addManagedElementListeners(this.agClosed,{dblclick:stopPropagationAction}),this.addManagedElementListeners(this.agOpened,{dblclick:stopPropagationAction}),this.addManagedElementListeners(this.getGui(),{dblclick:expandAction}),this.updateIconVisibility();const providedColumnGroup=this.params.columnGroup.getProvidedColumnGroup(),updateIcon=this.updateIconVisibility.bind(this);this.addManagedListeners(providedColumnGroup,{expandedChanged:updateIcon,expandableChanged:updateIcon})}addTouchAndClickListeners(eElement,action){const touchListener=new TouchListener(eElement,!0);this.addManagedListeners(touchListener,{tap:action}),this.addDestroyFunc((()=>touchListener.destroy())),this.addManagedElementListeners(eElement,{click:action})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const expanded=this.params.columnGroup.isExpanded();_setDisplayed(this.agOpened,expanded),_setDisplayed(this.agClosed,!expanded)}else _setDisplayed(this.agOpened,!1),_setDisplayed(this.agClosed,!1)}addInIcon(iconName,element){const eIcon=_createIconNoSpan(iconName,this.gos,null);eIcon&&element.appendChild(eIcon)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return _setDisplayed(this.agOpened,!1),void _setDisplayed(this.agClosed,!1)}setupLabel(){const{displayName,columnGroup}=this.params;if(_exists(displayName)){const displayNameSanitised=_escapeString(displayName,!0);this.agLabel.textContent=displayNameSanitised}this.addOrRemoveCssClass("ag-sticky-label",!columnGroup.getColGroupDef()?.suppressStickyLabel)}},ModuleNames=(ModuleNames2=>(ModuleNames2.CommunityCoreModule="@ag-grid-community/core",ModuleNames2.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",ModuleNames2.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",ModuleNames2.CsvExportModule="@ag-grid-community/csv-export",ModuleNames2.EnterpriseCoreModule="@ag-grid-enterprise/core",ModuleNames2.RowGroupingModule="@ag-grid-enterprise/row-grouping",ModuleNames2.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",ModuleNames2.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",ModuleNames2.MenuModule="@ag-grid-enterprise/menu",ModuleNames2.SetFilterModule="@ag-grid-enterprise/set-filter",ModuleNames2.MultiFilterModule="@ag-grid-enterprise/multi-filter",ModuleNames2.StatusBarModule="@ag-grid-enterprise/status-bar",ModuleNames2.SideBarModule="@ag-grid-enterprise/side-bar",ModuleNames2.RangeSelectionModule="@ag-grid-enterprise/range-selection",ModuleNames2.MasterDetailModule="@ag-grid-enterprise/master-detail",ModuleNames2.RichSelectModule="@ag-grid-enterprise/rich-select",ModuleNames2.GridChartsModule="@ag-grid-enterprise/charts",ModuleNames2.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",ModuleNames2.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",ModuleNames2.ExcelExportModule="@ag-grid-enterprise/excel-export",ModuleNames2.ClipboardModule="@ag-grid-enterprise/clipboard",ModuleNames2.SparklinesModule="@ag-grid-enterprise/sparklines",ModuleNames2.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",ModuleNames2.AngularModule="@ag-grid-community/angular",ModuleNames2.ReactModule="@ag-grid-community/react",ModuleNames2.VueModule="@ag-grid-community/vue",ModuleNames2))(ModuleNames||{}),_ModuleRegistry=class _ModuleRegistry{static register(module){_ModuleRegistry.__register(module,!0,void 0)}static registerModules(modules){_ModuleRegistry.__registerModules(modules,!0,void 0)}static __register(module,moduleBased,gridId){_ModuleRegistry.runVersionChecks(module),void 0!==gridId?(_ModuleRegistry.areGridScopedModules=!0,void 0===_ModuleRegistry.gridModulesMap[gridId]&&(_ModuleRegistry.gridModulesMap[gridId]={}),_ModuleRegistry.gridModulesMap[gridId][module.moduleName]=module):_ModuleRegistry.globalModulesMap[module.moduleName]=module,_ModuleRegistry.setModuleBased(moduleBased)}static __unRegisterGridModules(gridId){delete _ModuleRegistry.gridModulesMap[gridId]}static __registerModules(modules,moduleBased,gridId){_ModuleRegistry.setModuleBased(moduleBased),modules&&modules.forEach((module=>_ModuleRegistry.__register(module,moduleBased,gridId)))}static isValidModuleVersion(module){const[moduleMajor,moduleMinor]=module.version.split(".")||[],[currentModuleMajor,currentModuleMinor]=_ModuleRegistry.currentModuleVersion.split(".")||[];return moduleMajor===currentModuleMajor&&moduleMinor===currentModuleMinor}static runVersionChecks(module){_ModuleRegistry.currentModuleVersion||(_ModuleRegistry.currentModuleVersion=module.version);const errorMsg=details=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${details} Please update all modules to the same version.`;if(module.version?_ModuleRegistry.isValidModuleVersion(module)||_errorOnce(errorMsg(`'${module.moduleName}' is version ${module.version} but the other modules are version ${_ModuleRegistry.currentModuleVersion}.`)):_errorOnce(errorMsg(`'${module.moduleName}' is incompatible.`)),module.validate){const result=module.validate();if(!result.isValid){_errorOnce(`${result.message}`)}}}static setModuleBased(moduleBased){void 0===_ModuleRegistry.moduleBased?_ModuleRegistry.moduleBased=moduleBased:_ModuleRegistry.moduleBased!==moduleBased&&(_errorOnce("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),_errorOnce("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){_ModuleRegistry.isBundled=!0}static __assertRegistered(moduleName,reason,gridId){if(this.__isRegistered(moduleName,gridId))return!0;let warningMessage;if(_ModuleRegistry.isBundled)warningMessage=`AG Grid: unable to use ${reason} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(_ModuleRegistry.moduleBased||void 0===_ModuleRegistry.moduleBased){const modName=Object.entries(ModuleNames).find((([k,v])=>v===moduleName))?.[0];warningMessage=`AG Grid: unable to use ${reason} as the ${modName} is not registered${_ModuleRegistry.areGridScopedModules?` for gridId: ${gridId}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${modName} } from '${moduleName}';\n    \n    ModuleRegistry.registerModules([ ${modName} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else warningMessage=`AG Grid: unable to use ${reason} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';`;return _errorOnce(warningMessage),!1}static __isRegistered(moduleName,gridId){return!!_ModuleRegistry.globalModulesMap[moduleName]||!!_ModuleRegistry.gridModulesMap[gridId]?.[moduleName]}static __getRegisteredModules(gridId){return[..._values(_ModuleRegistry.globalModulesMap),..._values(_ModuleRegistry.gridModulesMap[gridId]||{})]}static __getGridRegisteredModules(gridId){return _values(_ModuleRegistry.gridModulesMap[gridId]??{})||[]}static __isPackageBased(){return!_ModuleRegistry.moduleBased}};_ModuleRegistry.globalModulesMap={},_ModuleRegistry.gridModulesMap={},_ModuleRegistry.areGridScopedModules=!1;var ModuleRegistry=_ModuleRegistry,AnimateShowChangeCellRenderer=class extends Component{constructor(){super(),this.refreshCount=0;const template=document.createElement("span"),delta=document.createElement("span");delta.setAttribute("class","ag-value-change-delta");const value=document.createElement("span");value.setAttribute("class","ag-value-change-value"),template.appendChild(delta),template.appendChild(value),this.setTemplateFromElement(template)}wireBeans(beans){this.filterManager=beans.filterManager}init(params){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(params,!0)}showDelta(params,delta){const absDelta=Math.abs(delta),valueFormatted=params.formatValue(absDelta),valueToUse=_exists(valueFormatted)?valueFormatted:absDelta,deltaUp=delta>=0;this.eDelta.textContent=deltaUp?""+valueToUse:""+valueToUse,this.eDelta.classList.toggle("ag-value-change-delta-up",deltaUp),this.eDelta.classList.toggle("ag-value-change-delta-down",!deltaUp)}setTimerToRemoveDelta(){this.refreshCount++;const refreshCountCopy=this.refreshCount;this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{refreshCountCopy===this.refreshCount&&this.hideDeltaValue()}),2e3)}))}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),_clearElement(this.eDelta)}refresh(params,isInitialRender=!1){const value=params.value;if(value===this.lastValue)return!1;if(_exists(params.valueFormatted)?this.eValue.textContent=params.valueFormatted:_exists(params.value)?this.eValue.textContent=value:_clearElement(this.eValue),this.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"==typeof value&&"number"==typeof this.lastValue){const delta=value-this.lastValue;this.showDelta(params,delta)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),isInitialRender||this.setTimerToRemoveDelta(),this.lastValue=value,!0}},AnimateSlideCellRenderer=class extends Component{constructor(){super(),this.refreshCount=0;const template=document.createElement("span"),slide=document.createElement("span");slide.setAttribute("class","ag-value-slide-current"),template.appendChild(slide),this.setTemplateFromElement(template),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(beans){this.filterManager=beans.filterManager}init(params){this.refresh(params,!0)}addSlideAnimation(){this.refreshCount++;const refreshCountCopy=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const prevElement=document.createElement("span");prevElement.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=prevElement,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{refreshCountCopy===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((()=>{refreshCountCopy===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)}),3e3)}))}refresh(params,isInitialRender=!1){let value=params.value;return _missing(value)&&(value=""),value!==this.lastValue&&(!this.filterManager?.isSuppressFlashingCellsBecauseFiltering()&&(isInitialRender||this.addSlideAnimation(),this.lastValue=value,_exists(params.valueFormatted)?this.eCurrent.textContent=params.valueFormatted:_exists(params.value)?this.eCurrent.textContent=value:_clearElement(this.eCurrent),!0))}},KeyCode=class{};KeyCode.BACKSPACE="Backspace",KeyCode.TAB="Tab",KeyCode.ENTER="Enter",KeyCode.ESCAPE="Escape",KeyCode.SPACE=" ",KeyCode.LEFT="ArrowLeft",KeyCode.UP="ArrowUp",KeyCode.RIGHT="ArrowRight",KeyCode.DOWN="ArrowDown",KeyCode.DELETE="Delete",KeyCode.F2="F2",KeyCode.PAGE_UP="PageUp",KeyCode.PAGE_DOWN="PageDown",KeyCode.PAGE_HOME="Home",KeyCode.PAGE_END="End",KeyCode.A="KeyA",KeyCode.C="KeyC",KeyCode.D="KeyD",KeyCode.V="KeyV",KeyCode.X="KeyX",KeyCode.Y="KeyY",KeyCode.Z="KeyZ";var AgAbstractLabel=class extends Component{constructor(config,template,components){super(template,components),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=config||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator,label,labelWidth,labelAlignment,disabled}=this.config;null!=disabled&&this.setDisabled(disabled),null!=labelSeparator&&this.setLabelSeparator(labelSeparator),null!=label&&this.setLabel(label),null!=labelWidth&&this.setLabelWidth(labelWidth),this.setLabelAlignment(labelAlignment||this.labelAlignment),this.refreshLabel()}refreshLabel(){_clearElement(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(_setDisplayed(this.eLabel,!1),_setAriaRole(this.eLabel,"presentation")):(_setDisplayed(this.eLabel,!0),_setAriaRole(this.eLabel,null))}setLabelSeparator(labelSeparator){return this.labelSeparator===labelSeparator||(this.labelSeparator=labelSeparator,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(label){return this.label===label||(this.label=label,this.refreshLabel()),this}setLabelAlignment(alignment){const eGuiClassList=this.getGui().classList;return eGuiClassList.toggle("ag-label-align-left","left"===alignment),eGuiClassList.toggle("ag-label-align-right","right"===alignment),eGuiClassList.toggle("ag-label-align-top","top"===alignment),this}setLabelEllipsis(hasEllipsis){return this.eLabel.classList.toggle("ag-label-ellipsis",hasEllipsis),this}setLabelWidth(width){return null==this.label||_setElementWidth(this.eLabel,width),this}setDisabled(disabled){disabled=!!disabled;const element=this.getGui();return _setDisabled(element,disabled),element.classList.toggle("ag-disabled",disabled),this.disabled=disabled,this}isDisabled(){return!!this.disabled}},AgAbstractField=class extends AgAbstractLabel{constructor(config,template,components,className){super(config,template,components),this.className=className}postConstruct(){super.postConstruct();const{width,value,onValueChange}=this.config;null!=width&&this.setWidth(width),null!=value&&this.setValue(value),null!=onValueChange&&this.onValueChange(onValueChange),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(label){return super.setLabel(label),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const ariaEl=this.getAriaElement(),labelId=this.getLabelId(),label=this.getLabel();null==label||""==label||null!==function _getAriaLabel(element){return element.getAttribute("aria-label")}(ariaEl)?_setAriaLabelledBy(ariaEl,""):_setAriaLabelledBy(ariaEl,labelId??"")}setAriaLabel(label){return _setAriaLabel(this.getAriaElement(),label),this.refreshAriaLabelledBy(),this}onValueChange(callbackFn){return this.addManagedListeners(this,{fieldValueChanged:()=>callbackFn(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(width){return _setFixedWidth(this.getGui(),width),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(value,silent){return this.value===value||(this.previousValue=this.value,this.value=value,silent||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}},AgAbstractInputField=class extends AgAbstractField{constructor(config,className,inputType="text",displayFieldTag="input"){super(config,config?.template??`\n            <div role="presentation">\n                <div data-ref="eLabel" class="ag-input-field-label"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${displayFieldTag} data-ref="eInput" class="ag-input-field-input"></${displayFieldTag}>\n                </div>\n            </div>`,[],className),this.inputType=inputType,this.displayFieldTag=displayFieldTag,this.eLabel=null,this.eWrapper=null,this.eInput=null}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName,inputWidth}=this.config;null!=inputName&&this.setInputName(inputName),null!=inputWidth&&this.setInputWidth(inputWidth),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(width){return _setElementWidth(this.eWrapper,width),this}setInputName(name){return this.getInputElement().setAttribute("name",name),this}getFocusableElement(){return this.eInput}setMaxLength(length){return this.eInput.maxLength=length,this}setInputPlaceholder(placeholder){return _addOrRemoveAttribute(this.eInput,"placeholder",placeholder),this}setInputAriaLabel(label){return _setAriaLabel(this.eInput,label),this.refreshAriaLabelledBy(),this}setDisabled(disabled){return _setDisabled(this.eInput,disabled),super.setDisabled(disabled)}setAutoComplete(value){if(!0===value)_addOrRemoveAttribute(this.eInput,"autocomplete",null);else{const autoCompleteValue="string"==typeof value?value:"off";_addOrRemoveAttribute(this.eInput,"autocomplete",autoCompleteValue)}return this}},AgCheckbox=class extends AgAbstractInputField{constructor(config,className="ag-checkbox",inputType="checkbox"){super(config,className,inputType),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly,passive}=this.config;"boolean"==typeof readOnly&&this.setReadOnly(readOnly),"boolean"==typeof passive&&this.setPassive(passive)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return void 0===this.selected||!this.selected}setPassive(passive){this.passive=passive}isReadOnly(){return this.readOnly}setReadOnly(readOnly){this.eWrapper.classList.toggle("ag-disabled",readOnly),this.eInput.disabled=readOnly,this.readOnly=readOnly}setDisabled(disabled){return this.eWrapper.classList.toggle("ag-disabled",disabled),super.setDisabled(disabled)}toggle(){if(this.eInput.disabled)return;const previousValue=this.isSelected(),nextValue=this.getNextValue();this.passive?this.dispatchChange(nextValue,previousValue):this.setValue(nextValue)}getValue(){return this.isSelected()}setValue(value,silent){return this.refreshSelectedClass(value),this.setSelected(value,silent),this}setName(name){return this.getInputElement().name=name,this}isSelected(){return this.selected}setSelected(selected,silent){this.isSelected()!==selected&&(this.previousValue=this.isSelected(),selected=this.selected="boolean"==typeof selected?selected:void 0,this.eInput.checked=selected,this.eInput.indeterminate=void 0===selected,silent||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(selected,previousValue,event){this.dispatchLocalEvent({type:"fieldValueChanged",selected,previousValue,event});const input=this.getInputElement(),checkboxChangedEvent={type:"checkboxChanged",id:input.id,name:input.name,selected,previousValue};this.eventService.dispatchEvent(checkboxChangedEvent)}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const previousValue=this.isSelected(),selected=this.selected=e.target.checked;this.refreshSelectedClass(selected),this.dispatchChange(selected,previousValue,e)}refreshSelectedClass(value){this.eWrapper.classList.toggle("ag-checked",!0===value),this.eWrapper.classList.toggle("ag-indeterminate",null==value)}},AgCheckboxSelector={selector:"AG-CHECKBOX",component:AgCheckbox},CheckboxCellRenderer=class extends Component{constructor(){super('\n            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[AgCheckboxSelector]),this.eCheckbox=null}init(params){this.params=params,this.updateCheckbox(params);const inputEl=this.eCheckbox.getInputElement();inputEl.setAttribute("tabindex","-1"),_setAriaLive(inputEl,"polite"),this.addManagedListeners(inputEl,{click:event=>{if(_stopPropagationForAgGrid(event),this.eCheckbox.isDisabled())return;const isSelected=this.eCheckbox.getValue();this.onCheckboxChanged(isSelected)},dblclick:event=>{_stopPropagationForAgGrid(event)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:event=>{if(event.key===KeyCode.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===this.gos.getActiveDomElement()&&this.eCheckbox.toggle();const isSelected=this.eCheckbox.getValue();this.onCheckboxChanged(isSelected),event.preventDefault()}}})}refresh(params){return this.params=params,this.updateCheckbox(params),!0}updateCheckbox(params){let isSelected,displayed=!0;if(params.node.group&&params.column){const colId=params.column.getColId();colId.startsWith("ag-Grid-AutoColumn")?isSelected=null==params.value||""===params.value?void 0:"true"===params.value:params.node.aggData&&void 0!==params.node.aggData[colId]?isSelected=params.value??void 0:displayed=!1}else isSelected=params.value??void 0;if(!displayed)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(isSelected);const disabled=null!=params.disabled?params.disabled:!params.column?.isCellEditable(params.node);this.eCheckbox.setDisabled(disabled);const translate=this.localeService.getLocaleTextFunc(),stateName=_getAriaCheckboxStateName(translate,isSelected),ariaLabel=disabled?stateName:`${translate("ariaToggleCellValue","Press SPACE to toggle cell value")} (${stateName})`;this.eCheckbox.setInputAriaLabel(ariaLabel)}onCheckboxChanged(isSelected){const{column,node,value}=this.params,eventStarted={type:"cellEditingStarted",column,colDef:column?.getColDef(),data:node.data,node,rowIndex:node.rowIndex,rowPinned:node.rowPinned,value};this.eventService.dispatchEvent(eventStarted);const valueChanged=this.params.node.setDataValue(this.params.column,isSelected,"edit"),eventStopped={type:"cellEditingStopped",column,colDef:column?.getColDef(),data:node.data,node,rowIndex:node.rowIndex,rowPinned:node.rowPinned,value,oldValue:value,newValue:isSelected,valueChanged};this.eventService.dispatchEvent(eventStopped)}},LoadingCellRenderer=class extends Component{constructor(){super('<div class="ag-loading">\n            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" data-ref="eLoadingText"></span>\n        </div>'),this.eLoadingIcon=null,this.eLoadingText=null}init(params){params.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const localeTextFunc=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=localeTextFunc("loadingError","ERR")}setupLoading(){const eLoadingIcon=_createIconNoSpan("groupLoading",this.gos,null);eLoadingIcon&&this.eLoadingIcon.appendChild(eLoadingIcon);const localeTextFunc=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=localeTextFunc("loadingOoo","Loading")}refresh(params){return!1}destroy(){super.destroy()}},SkeletonCellRenderer=class extends Component{constructor(){super('<div class="ag-skeleton-container"></div>')}init(params){const id=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",id),this.addDestroyFunc((()=>_setAriaLabelledBy(params.eParentOfValue))),_setAriaLabelledBy(params.eParentOfValue,id),params.node.failedLoad?this.setupFailed():this.setupLoading(params)}setupFailed(){const localeTextFunc=this.localeService.getLocaleTextFunc();this.getGui().innerText=localeTextFunc("loadingError","ERR");const ariaFailed=localeTextFunc("ariaSkeletonCellLoadingFailed","Row failed to load");_setAriaLabel(this.getGui(),ariaFailed)}setupLoading(params){const skeletonEffect=this.gos.getDocument().createElement("div");skeletonEffect.classList.add("ag-skeleton-effect");const rowIndex=params.node.rowIndex;if(null!=rowIndex){const width=75+25*(rowIndex%2==0?Math.sin(rowIndex):Math.cos(rowIndex));skeletonEffect.style.width=`${width}%`}this.getGui().appendChild(skeletonEffect);const ariaLoading=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");_setAriaLabel(this.getGui(),ariaLoading)}refresh(params){return!1}destroy(){super.destroy()}},OverlayComponent=class extends Component{constructor(){super()}destroy(){super.destroy()}},LoadingOverlayComponent=class extends OverlayComponent{init(){const customTemplate=this.gos.get("overlayLoadingTemplate");if(this.setTemplate(customTemplate??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!customTemplate){const localeTextFunc=this.localeService.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=localeTextFunc("loadingOoo","Loading...")}))}}},NoRowsOverlayComponent=class extends OverlayComponent{init(){const customTemplate=this.gos.get("overlayNoRowsTemplate");if(this.setTemplate(customTemplate??'<span class="ag-overlay-no-rows-center"></span>'),!customTemplate){const localeTextFunc=this.localeService.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=localeTextFunc("noRowsToShow","No Rows To Show")}))}}},PopupComponent=class extends Component{isPopup(){return!0}setParentComponent(container){container.addCssClass("ag-has-popup"),super.setParentComponent(container)}destroy(){const parentComp=this.parentComponent;parentComp&&parentComp.isAlive()&&parentComp.getGui().classList.remove("ag-has-popup"),super.destroy()}},TooltipComponent=class extends PopupComponent{constructor(){super('<div class="ag-tooltip"></div>')}init(params){const{value}=params;this.getGui().textContent=_escapeString(value,!0)}};function _fuzzySuggestions(inputValue,allSuggestions,hideIrrelevant,filterByPercentageOfBestMatch){let thisSuggestions=allSuggestions.map(((text,idx)=>({value:text,relevance:stringWeightedDistances(inputValue.toLowerCase(),text.toLocaleLowerCase()),idx})));if(thisSuggestions.sort(((a,b)=>b.relevance-a.relevance)),hideIrrelevant&&(thisSuggestions=thisSuggestions.filter((suggestion=>0!==suggestion.relevance))),thisSuggestions.length>0&&filterByPercentageOfBestMatch&&filterByPercentageOfBestMatch>0){const limit=thisSuggestions[0].relevance*filterByPercentageOfBestMatch;thisSuggestions=thisSuggestions.filter((suggestion=>limit-suggestion.relevance<0))}const values=[],indices=[];for(const suggestion of thisSuggestions)values.push(suggestion.value),indices.push(suggestion.idx);return{values,indices}}function stringWeightedDistances(str1,str2){const a=str1.replace(/\s/g,""),b=str2.replace(/\s/g,"");let weight=0,lastIndex=-1;for(let i=0;i<a.length;i++){const idx=b.indexOf(a[i],lastIndex+1);-1!==idx&&(lastIndex=idx,weight+=100-100*lastIndex/1e4*100)}return weight}var UserComponentRegistry=class extends BeanStub{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agColumnHeader:HeaderComp,agColumnGroupHeader:HeaderGroupComp,agSortIndicator:SortIndicatorComp,agAnimateShowChangeCellRenderer:AnimateShowChangeCellRenderer,agAnimateSlideCellRenderer:AnimateSlideCellRenderer,agLoadingCellRenderer:LoadingCellRenderer,agSkeletonCellRenderer:SkeletonCellRenderer,agCheckboxCellRenderer:CheckboxCellRenderer,agLoadingOverlay:LoadingOverlayComponent,agNoRowsOverlay:NoRowsOverlayComponent,agTooltipComponent:TooltipComponent},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const comps=this.gos.get("components");null!=comps&&_iterateObject(comps,((key,component)=>this.registerJsComponent(key,component)))}registerDefaultComponent(name,component){this.agGridDefaults[name]=component}registerJsComponent(name,component){this.jsComps[name]=component}retrieve(propertyName,name){const createResult=(component,componentFromFramework)=>({componentFromFramework,component}),registeredViaFrameworkComp=this.getFrameworkOverrides().frameworkComponent(name,this.gos.get("components"));if(null!=registeredViaFrameworkComp)return createResult(registeredViaFrameworkComp,!0);const jsComponent=this.jsComps[name];if(jsComponent){return createResult(jsComponent,this.getFrameworkOverrides().isFrameworkComponent(jsComponent))}const defaultComponent=this.agGridDefaults[name];if(defaultComponent)return createResult(defaultComponent,!1);const moduleForComponent=this.enterpriseAgDefaultCompsModule[name];return moduleForComponent?ModuleRegistry.__assertRegistered(moduleForComponent,`AG Grid '${propertyName}' component: ${name}`,this.gridId):_doOnce((()=>{this.warnAboutMissingComponent(propertyName,name)}),"MissingComp"+name),null}warnAboutMissingComponent(propertyName,componentName){const suggestions=_fuzzySuggestions(componentName,[...Object.keys(this.agGridDefaults).filter((k=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(k))),...Object.keys(this.jsComps)],!0,.8).values;_warnOnce(`Could not find '${componentName}' component. It was configured as "${propertyName}: '${componentName}'" but it wasn't found in the list of registered components.`),suggestions.length>0&&_warnOnce(`         Did you mean: [${suggestions.slice(0,3)}]?`),_warnOnce(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},AgPromise=class _AgPromise{constructor(callback){this.status=0,this.resolution=null,this.waiters=[],callback((value=>this.onDone(value)),(params=>this.onReject(params)))}static all(promises){return promises.length?new _AgPromise((resolve=>{let remainingToResolve=promises.length;const combinedValues=new Array(remainingToResolve);promises.forEach(((promise,index)=>{promise.then((value=>{combinedValues[index]=value,remainingToResolve--,0===remainingToResolve&&resolve(combinedValues)}))}))})):_AgPromise.resolve()}static resolve(value=null){return new _AgPromise((resolve=>resolve(value)))}then(func){return new _AgPromise((resolve=>{1===this.status?resolve(func(this.resolution)):this.waiters.push((value=>resolve(func(value))))}))}onDone(value){this.status=1,this.resolution=value,this.waiters.forEach((waiter=>waiter(value)))}onReject(params){}},DateComponent={propertyName:"dateComponent",cellRenderer:!1},HeaderComponent={propertyName:"headerComponent",cellRenderer:!1},HeaderGroupComponent={propertyName:"headerGroupComponent",cellRenderer:!1},CellRendererComponent={propertyName:"cellRenderer",cellRenderer:!0},EditorRendererComponent={propertyName:"cellRenderer",cellRenderer:!1},LoadingCellRendererComponent={propertyName:"loadingCellRenderer",cellRenderer:!0},CellEditorComponent={propertyName:"cellEditor",cellRenderer:!1},InnerRendererComponent={propertyName:"innerRenderer",cellRenderer:!0},LoadingOverlayComponent2={propertyName:"loadingOverlayComponent",cellRenderer:!1},NoRowsOverlayComponent2={propertyName:"noRowsOverlayComponent",cellRenderer:!1},TooltipComponent2={propertyName:"tooltipComponent",cellRenderer:!1},FilterComponent={propertyName:"filter",cellRenderer:!1},FloatingFilterComponent={propertyName:"floatingFilterComponent",cellRenderer:!1},ToolPanelComponent={propertyName:"toolPanel",cellRenderer:!1},StatusPanelComponent={propertyName:"statusPanel",cellRenderer:!1},FullWidth={propertyName:"fullWidthCellRenderer",cellRenderer:!0},FullWidthLoading={propertyName:"loadingCellRenderer",cellRenderer:!0},FullWidthGroup={propertyName:"groupRowRenderer",cellRenderer:!0},FullWidthDetail={propertyName:"detailCellRenderer",cellRenderer:!0},MenuItemComponent={propertyName:"menuItem",cellRenderer:!1},UserComponentFactory=class _UserComponentFactory extends BeanStub{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(beans){this.agComponentUtils=beans.agComponentUtils,this.componentMetadataProvider=beans.componentMetadataProvider,this.userComponentRegistry=beans.userComponentRegistry,this.frameworkComponentWrapper=beans.frameworkComponentWrapper,this.gridOptions=beans.gridOptions}getHeaderCompDetails(colDef,params){return this.getCompDetails(colDef,HeaderComponent,"agColumnHeader",params)}getHeaderGroupCompDetails(params){const colGroupDef=params.columnGroup.getColGroupDef();return this.getCompDetails(colGroupDef,HeaderGroupComponent,"agColumnGroupHeader",params)}getFullWidthCellRendererDetails(params){return this.getCompDetails(this.gridOptions,FullWidth,null,params,!0)}getFullWidthLoadingCellRendererDetails(params){return this.getCompDetails(this.gridOptions,FullWidthLoading,"agLoadingCellRenderer",params,!0)}getFullWidthGroupCellRendererDetails(params){return this.getCompDetails(this.gridOptions,FullWidthGroup,"agGroupRowRenderer",params,!0)}getFullWidthDetailCellRendererDetails(params){return this.getCompDetails(this.gridOptions,FullWidthDetail,"agDetailCellRenderer",params,!0)}getInnerRendererDetails(def,params){return this.getCompDetails(def,InnerRendererComponent,null,params)}getFullWidthGroupRowInnerCellRenderer(def,params){return this.getCompDetails(def,InnerRendererComponent,null,params)}getCellRendererDetails(def,params){return this.getCompDetails(def,CellRendererComponent,null,params)}getEditorRendererDetails(def,params){return this.getCompDetails(def,EditorRendererComponent,null,params)}getLoadingCellRendererDetails(def,params){return this.getCompDetails(def,LoadingCellRendererComponent,"agSkeletonCellRenderer",params,!0)}getCellEditorDetails(def,params){return this.getCompDetails(def,CellEditorComponent,"agCellEditor",params,!0)}getFilterDetails(def,params,defaultFilter){return this.getCompDetails(def,FilterComponent,defaultFilter,params,!0)}getDateCompDetails(params){return this.getCompDetails(this.gridOptions,DateComponent,"agDateInput",params,!0)}getLoadingOverlayCompDetails(params){return this.getCompDetails(this.gridOptions,LoadingOverlayComponent2,"agLoadingOverlay",params,!0)}getNoRowsOverlayCompDetails(params){return this.getCompDetails(this.gridOptions,NoRowsOverlayComponent2,"agNoRowsOverlay",params,!0)}getTooltipCompDetails(params){return this.getCompDetails(params.colDef,TooltipComponent2,"agTooltipComponent",params,!0)}getSetFilterCellRendererDetails(def,params){return this.getCompDetails(def,CellRendererComponent,null,params)}getFloatingFilterCompDetails(def,params,defaultFloatingFilter){return this.getCompDetails(def,FloatingFilterComponent,defaultFloatingFilter,params)}getToolPanelCompDetails(toolPanelDef,params){return this.getCompDetails(toolPanelDef,ToolPanelComponent,null,params,!0)}getStatusPanelCompDetails(def,params){return this.getCompDetails(def,StatusPanelComponent,null,params,!0)}getMenuItemCompDetails(def,params){return this.getCompDetails(def,MenuItemComponent,"agMenuItem",params,!0)}getCompDetails(defObject,type,defaultName,params,mandatory=!1){const{propertyName,cellRenderer}=type;let{compName,jsComp,fwComp,paramsFromSelector,popupFromSelector,popupPositionFromSelector}=_UserComponentFactory.getCompKeys(this.frameworkOverrides,defObject,type,params);const lookupFromRegistry=key=>{const item=this.userComponentRegistry.retrieve(propertyName,key);item&&(jsComp=item.componentFromFramework?void 0:item.component,fwComp=item.componentFromFramework?item.component:void 0)};if(null!=compName&&lookupFromRegistry(compName),null==jsComp&&null==fwComp&&null!=defaultName&&lookupFromRegistry(defaultName),jsComp&&cellRenderer&&!this.agComponentUtils.doesImplementIComponent(jsComp)&&(jsComp=this.agComponentUtils.adaptFunction(propertyName,jsComp)),!jsComp&&!fwComp)return void(mandatory&&_errorOnce(`Could not find component ${compName}, did you forget to configure this component?`));const paramsMerged=this.mergeParamsWithApplicationProvidedParams(defObject,type,params,paramsFromSelector),componentFromFramework=null==jsComp,componentClass=jsComp||fwComp;return{componentFromFramework,componentClass,params:paramsMerged,type,popupFromSelector,popupPositionFromSelector,newAgStackInstance:()=>this.newAgStackInstance(componentClass,componentFromFramework,paramsMerged,type)}}static getCompKeys(frameworkOverrides,defObject,type,params){const{propertyName}=type;let compName,jsComp,fwComp,paramsFromSelector,popupFromSelector,popupPositionFromSelector;if(defObject){const defObjectAny=defObject,selectorFunc=defObjectAny[propertyName+"Selector"],selectorRes=selectorFunc?selectorFunc(params):null,assignComp=providedJsComp=>{if("string"==typeof providedJsComp)compName=providedJsComp;else if(null!=providedJsComp&&!0!==providedJsComp){frameworkOverrides.isFrameworkComponent(providedJsComp)?fwComp=providedJsComp:jsComp=providedJsComp}};selectorRes?(assignComp(selectorRes.component),paramsFromSelector=selectorRes.params,popupFromSelector=selectorRes.popup,popupPositionFromSelector=selectorRes.popupPosition):assignComp(defObjectAny[propertyName])}return{compName,jsComp,fwComp,paramsFromSelector,popupFromSelector,popupPositionFromSelector}}newAgStackInstance(ComponentClass,componentFromFramework,params,type){const propertyName=type.propertyName;let instance;if(!componentFromFramework)instance=new ComponentClass;else{const thisComponentConfig=this.componentMetadataProvider.retrieve(propertyName);instance=this.frameworkComponentWrapper.wrap(ComponentClass,thisComponentConfig.mandatoryMethodList,thisComponentConfig.optionalMethodList,type)}const deferredInit=this.initComponent(instance,params);return null==deferredInit?AgPromise.resolve(instance):deferredInit.then((()=>instance))}mergeParamsWithApplicationProvidedParams(defObject,type,paramsFromGrid,paramsFromSelector=null){const params=this.gos.getGridCommonParams();_mergeDeep(params,paramsFromGrid);const userParams=defObject&&defObject[type.propertyName+"Params"];if("function"==typeof userParams){_mergeDeep(params,userParams(paramsFromGrid))}else"object"==typeof userParams&&_mergeDeep(params,userParams);return _mergeDeep(params,paramsFromSelector),params}initComponent(component,params){if(this.createBean(component),null!=component.init)return component.init(params)}};function _unwrapUserComp(comp){const compAsAny=comp;return null!=compAsAny&&null!=compAsAny.getFrameworkComponentInstance?compAsAny.getFrameworkComponentInstance():comp}var GenericContext=class{constructor(params){this.beans={},this.createdBeans=[],this.destroyed=!1,params&&params.beanClasses&&(this.beanDestroyComparator=params.beanDestroyComparator,this.init(params))}init(params){Object.entries(params.providedBeanInstances).forEach((([beanName,beanInstance])=>{this.beans[beanName]=beanInstance})),params.beanClasses.forEach((BeanClass=>{const instance=new BeanClass;instance.beanName?this.beans[instance.beanName]=instance:console.error(`Bean ${BeanClass.name} is missing beanName`),this.createdBeans.push(instance)})),params.derivedBeans?.forEach((beanFunc=>{const{beanName,bean}=beanFunc(this);this.beans[beanName]=bean,this.createdBeans.push(bean)})),params.beanInitComparator&&this.createdBeans.sort(params.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(bean,afterPreCreateCallback){if(!bean)throw Error("Can't wire to bean since it is null");return this.initBeans([bean],afterPreCreateCallback),bean}initBeans(beanInstances,afterPreCreateCallback){beanInstances.forEach((instance=>{instance.preWireBeans?.(this.beans),instance.wireBeans?.(this.beans)})),beanInstances.forEach((instance=>instance.preConstruct?.())),afterPreCreateCallback&&beanInstances.forEach(afterPreCreateCallback),beanInstances.forEach((instance=>instance.postConstruct?.()))}getBeans(){return this.beans}getBean(name){return this.beans[name]}destroy(){if(this.destroyed)return;this.destroyed=!0;const beanInstances=this.getBeanInstances();this.beanDestroyComparator&&beanInstances.sort(this.beanDestroyComparator),this.destroyBeans(beanInstances),this.beans={},this.createdBeans=[]}destroyBean(bean){bean?.destroy?.()}destroyBeans(beans){if(beans)for(let i=0;i<beans.length;i++)this.destroyBean(beans[i]);return[]}isDestroyed(){return this.destroyed}},Context=class extends GenericContext{init(params){this.gridId=params.gridId,this.beans.context=this,super.init(params)}destroy(){super.destroy(),ModuleRegistry.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},HorizontalDirection=(HorizontalDirection2=>(HorizontalDirection2[HorizontalDirection2.Left=0]="Left",HorizontalDirection2[HorizontalDirection2.Right=1]="Right",HorizontalDirection2))(HorizontalDirection||{}),DragAndDropService=class extends BeanStub{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(beans){this.dragService=beans.dragService,this.mouseEventService=beans.mouseEventService,this.environment=beans.environment}postConstruct(){this.dropIconMap={pinned:_createIcon("columnMovePin",this.gos,null),hide:_createIcon("columnMoveHide",this.gos,null),move:_createIcon("columnMoveMove",this.gos,null),left:_createIcon("columnMoveLeft",this.gos,null),right:_createIcon("columnMoveRight",this.gos,null),group:_createIcon("columnMoveGroup",this.gos,null),aggregate:_createIcon("columnMoveValue",this.gos,null),pivot:_createIcon("columnMovePivot",this.gos,null),notAllowed:_createIcon("dropNotAllowed",this.gos,null)}}addDragSource(dragSource,allowTouch=!1){const params={eElement:dragSource.eElement,dragStartPixels:dragSource.dragStartPixels,onDragStart:this.onDragStart.bind(this,dragSource),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:allowTouch};this.dragSourceAndParamsList.push({params,dragSource}),this.dragService.addDragSource(params)}removeDragSource(dragSource){const sourceAndParams=this.dragSourceAndParamsList.find((item=>item.dragSource===dragSource));sourceAndParams&&(this.dragService.removeDragSource(sourceAndParams.params),_removeFromArray(this.dragSourceAndParamsList,sourceAndParams))}destroy(){this.dragSourceAndParamsList.forEach((sourceAndParams=>this.dragService.removeDragSource(sourceAndParams.params))),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(dragSource,mouseEvent){this.dragging=!0,this.dragSource=dragSource,this.eventLastTime=mouseEvent,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(mouseEvent){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const draggingEvent=this.createDropTargetEvent(this.lastDropTarget,mouseEvent,null,null,!1);this.lastDropTarget.onDragStop(draggingEvent)}this.lastDropTarget=void 0,this.dragItem=null,this.removeGhost()}onDragging(mouseEvent,fromNudge){const hDirection=this.getHorizontalDirection(mouseEvent),vDirection=this.getVerticalDirection(mouseEvent);this.eventLastTime=mouseEvent,this.positionGhost(mouseEvent);const validDropTargets=this.dropTargets.filter((target=>this.isMouseOnDropTarget(mouseEvent,target))),dropTarget=this.findCurrentDropTarget(mouseEvent,validDropTargets);if(dropTarget!==this.lastDropTarget)this.leaveLastTargetIfExists(mouseEvent,hDirection,vDirection,fromNudge),null!==this.lastDropTarget&&null===dropTarget&&this.dragSource.onGridExit?.(this.dragItem),null===this.lastDropTarget&&null!==dropTarget&&this.dragSource.onGridEnter?.(this.dragItem),this.enterDragTargetIfExists(dropTarget,mouseEvent,hDirection,vDirection,fromNudge),this.lastDropTarget=dropTarget;else if(dropTarget&&dropTarget.onDragging){const draggingEvent=this.createDropTargetEvent(dropTarget,mouseEvent,hDirection,vDirection,fromNudge);dropTarget.onDragging(draggingEvent)}}getAllContainersFromDropTarget(dropTarget){const secondaryContainers=dropTarget.getSecondaryContainers?dropTarget.getSecondaryContainers():null,containers=[[dropTarget.getContainer()]];return secondaryContainers?containers.concat(secondaryContainers):containers}allContainersIntersect(mouseEvent,containers){for(const container of containers){const rect=container.getBoundingClientRect();if(0===rect.width||0===rect.height)return!1;const horizontalFit=mouseEvent.clientX>=rect.left&&mouseEvent.clientX<rect.right,verticalFit=mouseEvent.clientY>=rect.top&&mouseEvent.clientY<rect.bottom;if(!horizontalFit||!verticalFit)return!1}return!0}isMouseOnDropTarget(mouseEvent,dropTarget){const allContainersFromDropTarget=this.getAllContainersFromDropTarget(dropTarget);let mouseOverTarget=!1;for(const currentContainers of allContainersFromDropTarget)if(this.allContainersIntersect(mouseEvent,currentContainers)){mouseOverTarget=!0;break}return!(dropTarget.targetContainsSource&&!dropTarget.getContainer().contains(this.dragSource.eElement))&&(mouseOverTarget&&dropTarget.isInterestedIn(this.dragSource.type,this.dragSource.eElement))}findCurrentDropTarget(mouseEvent,validDropTargets){const len=validDropTargets.length;if(0===len)return null;if(1===len)return validDropTargets[0];const elementStack=this.gos.getRootNode().elementsFromPoint(mouseEvent.clientX,mouseEvent.clientY);for(const el of elementStack)for(const dropTarget of validDropTargets){if(-1!==(arrayOfArrays=this.getAllContainersFromDropTarget(dropTarget),[].concat.apply([],arrayOfArrays)).indexOf(el))return dropTarget}var arrayOfArrays;return null}enterDragTargetIfExists(dropTarget,mouseEvent,hDirection,vDirection,fromNudge){if(dropTarget){if(dropTarget.onDragEnter){const dragEnterEvent=this.createDropTargetEvent(dropTarget,mouseEvent,hDirection,vDirection,fromNudge);dropTarget.onDragEnter(dragEnterEvent)}this.setGhostIcon(dropTarget.getIconName?dropTarget.getIconName():null)}}leaveLastTargetIfExists(mouseEvent,hDirection,vDirection,fromNudge){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const dragLeaveEvent=this.createDropTargetEvent(this.lastDropTarget,mouseEvent,hDirection,vDirection,fromNudge);this.lastDropTarget.onDragLeave(dragLeaveEvent)}this.setGhostIcon(null)}}addDropTarget(dropTarget){this.dropTargets.push(dropTarget)}removeDropTarget(dropTarget){this.dropTargets=this.dropTargets.filter((target=>target.getContainer()!==dropTarget.getContainer()))}hasExternalDropZones(){return this.dropTargets.some((zones=>zones.external))}findExternalZone(params){return this.dropTargets.filter((target=>target.external)).find((zone=>zone.getContainer()===params.getContainer()))||null}getHorizontalDirection(event){const clientX=this.eventLastTime&&this.eventLastTime.clientX,eClientX=event.clientX;return clientX===eClientX?null:clientX>eClientX?0:1}getVerticalDirection(event){const clientY=this.eventLastTime&&this.eventLastTime.clientY,eClientY=event.clientY;return clientY===eClientY?null:clientY>eClientY?0:1}createDropTargetEvent(dropTarget,event,hDirection,vDirection,fromNudge){const dropZoneTarget=dropTarget.getContainer(),rect=dropZoneTarget.getBoundingClientRect(),{dragItem,dragSource}=this,x=event.clientX-rect.left,y=event.clientY-rect.top;return this.gos.addGridCommonParams({event,x,y,vDirection,hDirection,dragSource,fromNudge,dragItem,dropZoneTarget})}positionGhost(event){const ghost=this.eGhost;if(!ghost)return;const ghostHeight=ghost.getBoundingClientRect().height,browserWidth=function _getBodyWidth(){return document.body?.clientWidth??(window.innerHeight||document.documentElement?.clientWidth||-1)}()-2,browserHeight=function _getBodyHeight(){return document.body?.clientHeight??(window.innerHeight||document.documentElement?.clientHeight||-1)}()-2,offsetParentSize=_getElementRectWithOffset(ghost.offsetParent),{clientY,clientX}=event;let top=clientY-offsetParentSize.top-ghostHeight/2,left=clientX-offsetParentSize.left-10;const eDocument=this.gos.getDocument(),win=eDocument.defaultView||window,windowScrollY=win.pageYOffset||eDocument.documentElement.scrollTop,windowScrollX=win.pageXOffset||eDocument.documentElement.scrollLeft;browserWidth>0&&left+ghost.clientWidth>browserWidth+windowScrollX&&(left=browserWidth+windowScrollX-ghost.clientWidth),left<0&&(left=0),browserHeight>0&&top+ghost.clientHeight>browserHeight+windowScrollY&&(top=browserHeight+windowScrollY-ghost.clientHeight),top<0&&(top=0),ghost.style.left=`${left}px`,ghost.style.top=`${top}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=_loadTemplate('<div class="ag-dnd-ghost ag-unselectable">\n<span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n<div class="ag-dnd-ghost-label"></div>\n</div>'),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost),this.environment.applyThemeClasses(this.eGhost),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const eText=this.eGhost.querySelector(".ag-dnd-ghost-label");let dragItemName=this.dragSource.dragItemName;_isFunction(dragItemName)&&(dragItemName=dragItemName()),eText.innerHTML=_escapeString(dragItemName)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const eDocument=this.gos.getDocument();let rootNode=null,targetEl=null;try{rootNode=eDocument.fullscreenElement}catch(e){}finally{rootNode||(rootNode=this.gos.getRootNode());const body=rootNode.querySelector("body");targetEl=body||(rootNode instanceof ShadowRoot?rootNode:rootNode instanceof Document?rootNode?.documentElement:rootNode)}this.eGhostParent=targetEl,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):_warnOnce("Could not find document body, it is needed for dragging columns")}setGhostIcon(iconName,shake=!1){_clearElement(this.eGhostIcon);let eIcon=null;iconName||(iconName=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():"notAllowed"),eIcon=this.dropIconMap[iconName],this.eGhostIcon.classList.toggle("ag-shake-left-to-right",shake),eIcon===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns")||eIcon&&this.eGhostIcon.appendChild(eIcon)}},AutoScrollService=class{constructor(params){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=params.scrollContainer,this.scrollHorizontally=-1!==params.scrollAxis.indexOf("x"),this.scrollVertically=-1!==params.scrollAxis.indexOf("y"),this.scrollByTick=null!=params.scrollByTick?params.scrollByTick:20,params.onScrollCallback&&(this.onScrollCallback=params.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=params.getVerticalPosition,this.setVerticalPosition=params.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=params.getHorizontalPosition,this.setHorizontalPosition=params.setHorizontalPosition),this.shouldSkipVerticalScroll=params.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=params.shouldSkipHorizontalScroll||(()=>!1)}check(mouseEvent,forceSkipVerticalScroll=!1){const skipVerticalScroll=forceSkipVerticalScroll||this.shouldSkipVerticalScroll();if(skipVerticalScroll&&this.shouldSkipHorizontalScroll())return;const rect=this.scrollContainer.getBoundingClientRect(),scrollTick=this.scrollByTick;this.tickLeft=mouseEvent.clientX<rect.left+scrollTick,this.tickRight=mouseEvent.clientX>rect.right-scrollTick,this.tickUp=mouseEvent.clientY<rect.top+scrollTick&&!skipVerticalScroll,this.tickDown=mouseEvent.clientY>rect.bottom-scrollTick&&!skipVerticalScroll,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const tickAmount=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const vScrollPosition=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(vScrollPosition-tickAmount),this.tickDown&&this.setVerticalPosition(vScrollPosition+tickAmount)}if(this.scrollHorizontally){const hScrollPosition=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(hScrollPosition-tickAmount),this.tickRight&&this.setHorizontalPosition(hScrollPosition+tickAmount)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},RowDragFeature=class extends BeanStub{wireBeans(beans){this.dragAndDropService=beans.dragAndDropService,this.rowModel=beans.rowModel,this.pageBoundsService=beans.pageBoundsService,this.focusService=beans.focusService,this.sortController=beans.sortController,this.filterManager=beans.filterManager,this.selectionService=beans.selectionService,this.mouseEventService=beans.mouseEventService,this.ctrlsService=beans.ctrlsService,this.funcColsService=beans.funcColsService,this.rangeService=beans.rangeService}constructor(eContainer){super(),this.eContainer=eContainer}postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady((p=>{const gridBodyCon=p.gridBodyCtrl;this.autoScrollService=new AutoScrollService({scrollContainer:gridBodyCon.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>gridBodyCon.getScrollFeature().getVScrollPosition().top,setVerticalPosition:position=>gridBodyCon.getScrollFeature().setVerticalScrollPosition(position),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})}))}getContainer(){return this.eContainer}isInterestedIn(type){return 2===type}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){if(this.funcColsService.getRowGroupColumns().length)return!0;const isFilterPresent=this.filterManager?.isAnyFilterPresent();if(isFilterPresent)return!0;return!!this.sortController.isSortActive()}getRowNodes(draggingEvent){if(!this.isFromThisGrid(draggingEvent))return draggingEvent.dragItem.rowNodes||[];const currentNode=draggingEvent.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const selectedNodes=[...this.selectionService.getSelectedNodes()].sort(((a,b)=>null==a.rowIndex||null==b.rowIndex?0:this.getRowIndexNumber(a)-this.getRowIndexNumber(b)));if(-1!==selectedNodes.indexOf(currentNode))return selectedNodes}return[currentNode]}onDragEnter(draggingEvent){draggingEvent.dragItem.rowNodes=this.getRowNodes(draggingEvent),this.dispatchGridEvent("rowDragEnter",draggingEvent),this.getRowNodes(draggingEvent).forEach((rowNode=>{rowNode.setDragging(!0)})),this.onEnterOrDragging(draggingEvent)}onDragging(draggingEvent){this.onEnterOrDragging(draggingEvent)}isFromThisGrid(draggingEvent){const{dragSourceDomDataKey}=draggingEvent.dragSource;return dragSourceDomDataKey===this.gos.getDomDataKey()}isDropZoneWithinThisGrid(draggingEvent){const gridGui=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget}=draggingEvent;return!gridGui.contains(dropZoneTarget)}onEnterOrDragging(draggingEvent){this.dispatchGridEvent("rowDragMove",draggingEvent),this.lastDraggingEvent=draggingEvent;const pixel=this.mouseEventService.getNormalisedPosition(draggingEvent).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(draggingEvent,pixel),this.autoScrollService.check(draggingEvent.event)}doManagedDrag(draggingEvent,pixel){const isFromThisGrid=this.isFromThisGrid(draggingEvent),managedDrag=this.gos.get("rowDragManaged"),rowNodes=draggingEvent.dragItem.rowNodes;managedDrag&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!isFromThisGrid?this.isDropZoneWithinThisGrid(draggingEvent)||this.clientSideRowModel.highlightRowAtPixel(rowNodes[0],pixel):this.moveRows(rowNodes,pixel))}getRowIndexNumber(rowNode){const rowIndexStr=rowNode.getRowIndexString();return parseInt(_last(rowIndexStr.split("-")),10)}moveRowAndClearHighlight(draggingEvent){const lastHighlightedRowNode=this.clientSideRowModel.getLastHighlightedRowNode(),isBelow=lastHighlightedRowNode&&1===lastHighlightedRowNode.highlighted,pixel=this.mouseEventService.getNormalisedPosition(draggingEvent).y,rowNodes=draggingEvent.dragItem.rowNodes;let increment=isBelow?1:0;if(this.isFromThisGrid(draggingEvent))rowNodes.forEach((rowNode=>{rowNode.rowTop<pixel&&(increment-=1)})),this.moveRows(rowNodes,pixel,increment);else{const getRowIdFunc=this.gos.getRowIdCallback();let addIndex=this.clientSideRowModel.getRowIndexAtPixel(pixel)+1;0===this.clientSideRowModel.getHighlightPosition(pixel)&&addIndex--,this.clientSideRowModel.updateRowData({add:rowNodes.filter((node=>!this.clientSideRowModel.getRowNode(getRowIdFunc?.({data:node.data,level:0,rowPinned:node.rowPinned})??node.data.id))).map((node=>node.data)),addIndex})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(rowNodes,pixel,increment=0){this.clientSideRowModel.ensureRowsAtPixel(rowNodes,pixel,increment)&&(this.focusService.clearFocusedCell(),this.rangeService?.removeAllCellRanges())}addRowDropZone(params){if(!params.getContainer())return void _warnOnce("addRowDropZone - A container target needs to be provided");if(this.dragAndDropService.findExternalZone(params))return void _warnOnce("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let processedParams={getContainer:params.getContainer};params.fromGrid?processedParams=params:(params.onDragEnter&&(processedParams.onDragEnter=e=>{params.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",e))}),params.onDragLeave&&(processedParams.onDragLeave=e=>{params.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",e))}),params.onDragging&&(processedParams.onDragging=e=>{params.onDragging(this.draggingToRowDragEvent("rowDragMove",e))}),params.onDragStop&&(processedParams.onDragStop=e=>{params.onDragStop(this.draggingToRowDragEvent("rowDragEnd",e))})),this.dragAndDropService.addDropTarget({isInterestedIn:type=>2===type,getIconName:()=>"move",external:!0,...processedParams})}getRowDropZone(events){const getContainer=this.getContainer.bind(this),onDragEnter=this.onDragEnter.bind(this),onDragLeave=this.onDragLeave.bind(this),onDragging=this.onDragging.bind(this),onDragStop=this.onDragStop.bind(this);return events?{getContainer,onDragEnter:events.onDragEnter?e=>{onDragEnter(e),events.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",e))}:onDragEnter,onDragLeave:events.onDragLeave?e=>{onDragLeave(e),events.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",e))}:onDragLeave,onDragging:events.onDragging?e=>{onDragging(e),events.onDragging(this.draggingToRowDragEvent("rowDragMove",e))}:onDragging,onDragStop:events.onDragStop?e=>{onDragStop(e),events.onDragStop(this.draggingToRowDragEvent("rowDragEnd",e))}:onDragStop,fromGrid:!0}:{getContainer,onDragEnter,onDragLeave,onDragging,onDragStop,fromGrid:!0}}draggingToRowDragEvent(type,draggingEvent){const yNormalised=this.mouseEventService.getNormalisedPosition(draggingEvent).y;let overNode,vDirectionString,overIndex=-1;switch(yNormalised>this.pageBoundsService.getCurrentPageHeight()||(overIndex=this.rowModel.getRowIndexAtPixel(yNormalised),overNode=this.rowModel.getRow(overIndex)),draggingEvent.vDirection){case 1:vDirectionString="down";break;case 0:vDirectionString="up";break;default:vDirectionString=null}return this.gos.addGridCommonParams({type,event:draggingEvent.event,node:draggingEvent.dragItem.rowNode,nodes:draggingEvent.dragItem.rowNodes,overIndex,overNode,y:yNormalised,vDirection:vDirectionString})}dispatchGridEvent(type,draggingEvent){const event=this.draggingToRowDragEvent(type,draggingEvent);this.eventService.dispatchEvent(event)}onDragLeave(draggingEvent){this.dispatchGridEvent("rowDragLeave",draggingEvent),this.stopDragging(draggingEvent),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(draggingEvent){this.dispatchGridEvent("rowDragEnd",draggingEvent),this.stopDragging(draggingEvent),!this.gos.get("rowDragManaged")||!this.gos.get("suppressMoveWhenRowDragging")&&this.isFromThisGrid(draggingEvent)||this.isDropZoneWithinThisGrid(draggingEvent)||this.moveRowAndClearHighlight(draggingEvent)}stopDragging(draggingEvent){this.autoScrollService.ensureCleared(),this.getRowNodes(draggingEvent).forEach((rowNode=>{rowNode.setDragging(!1)}))}},DragService=class extends BeanStub{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(beans){this.mouseEventService=beans.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(dragSourceAndListener){const element=dragSourceAndListener.dragSource.eElement,mouseDownListener=dragSourceAndListener.mouseDownListener;if(element.removeEventListener("mousedown",mouseDownListener),dragSourceAndListener.touchEnabled){const touchStartListener=dragSourceAndListener.touchStartListener;element.removeEventListener("touchstart",touchStartListener,{passive:!0})}}removeDragSource(params){const dragSourceAndListener=this.dragSources.find((item=>item.dragSource===params));dragSourceAndListener&&(this.removeListener(dragSourceAndListener),_removeFromArray(this.dragSources,dragSourceAndListener))}isDragging(){return this.dragging}addDragSource(params){const mouseListener=this.onMouseDown.bind(this,params),{eElement,includeTouch,stopPropagationForTouch}=params;eElement.addEventListener("mousedown",mouseListener);let touchListener=null;const suppressTouch=this.gos.get("suppressTouch");includeTouch&&!suppressTouch&&(touchListener=touchEvent=>{_isFocusableFormField(touchEvent.target)||(touchEvent.cancelable&&(touchEvent.preventDefault(),stopPropagationForTouch&&touchEvent.stopPropagation()),this.onTouchStart(params,touchEvent))},eElement.addEventListener("touchstart",touchListener,{passive:!1})),this.dragSources.push({dragSource:params,mouseDownListener:mouseListener,touchStartListener:touchListener,touchEnabled:!!includeTouch})}getStartTarget(){return this.startTarget}onTouchStart(params,touchEvent){this.currentDragParams=params,this.dragging=!1;const touch=touchEvent.touches[0];this.touchLastTime=touch,this.touchStart=touch;const touchEndEvent=e=>this.onTouchUp(e,params.eElement),target=touchEvent.target,events=[{target:this.gos.getRootNode(),type:"touchmove",listener:e=>{e.cancelable&&e.preventDefault()},options:{passive:!1}},{target,type:"touchmove",listener:e=>this.onTouchMove(e,params.eElement),options:{passive:!0}},{target,type:"touchend",listener:touchEndEvent,options:{passive:!0}},{target,type:"touchcancel",listener:touchEndEvent,options:{passive:!0}}];this.addTemporaryEvents(events),0===params.dragStartPixels&&this.onCommonMove(touch,this.touchStart,params.eElement)}onMouseDown(params,mouseEvent){const e=mouseEvent;if(params.skipMouseEvent&&params.skipMouseEvent(mouseEvent))return;if(e._alreadyProcessedByDragService)return;if(e._alreadyProcessedByDragService=!0,0!==mouseEvent.button)return;this.shouldPreventMouseEvent(mouseEvent)&&mouseEvent.preventDefault(),this.currentDragParams=params,this.dragging=!1,this.mouseStartEvent=mouseEvent,this.startTarget=mouseEvent.target;const target=this.gos.getRootNode(),events=[{target,type:"mousemove",listener:event=>this.onMouseMove(event,params.eElement)},{target,type:"mouseup",listener:event=>this.onMouseUp(event,params.eElement)},{target,type:"contextmenu",listener:event=>event.preventDefault()}];this.addTemporaryEvents(events),0===params.dragStartPixels&&this.onMouseMove(mouseEvent,params.eElement)}addTemporaryEvents(events){events.forEach((currentEvent=>{const{target,type,listener,options}=currentEvent;target.addEventListener(type,listener,options)})),this.dragEndFunctions.push((()=>{events.forEach((currentEvent=>{const{target,type,listener,options}=currentEvent;target.removeEventListener(type,listener,options)}))}))}isEventNearStartEvent(currentEvent,startEvent){const{dragStartPixels}=this.currentDragParams;return _areEventsNear(currentEvent,startEvent,_exists(dragStartPixels)?dragStartPixels:4)}getFirstActiveTouch(touchList){for(let i=0;i<touchList.length;i++)if(touchList[i].identifier===this.touchStart.identifier)return touchList[i];return null}onCommonMove(currentEvent,startEvent,el){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(currentEvent,startEvent))return;this.dragging=!0;const event={type:"dragStarted",target:el};this.eventService.dispatchEvent(event),this.currentDragParams.onDragStart(startEvent),this.currentDragParams.onDragging(startEvent)}this.currentDragParams.onDragging(currentEvent)}onTouchMove(touchEvent,el){const touch=this.getFirstActiveTouch(touchEvent.touches);touch&&this.onCommonMove(touch,this.touchStart,el)}onMouseMove(mouseEvent,el){if(_isBrowserSafari()){const eDocument=this.gos.getDocument();eDocument.getSelection()?.removeAllRanges()}this.shouldPreventMouseEvent(mouseEvent)&&mouseEvent.preventDefault(),this.onCommonMove(mouseEvent,this.mouseStartEvent,el)}shouldPreventMouseEvent(mouseEvent){const isEnableCellTextSelect=this.gos.get("enableCellTextSelection"),isMouseMove="mousemove"===mouseEvent.type;return isEnableCellTextSelect&&isMouseMove&&mouseEvent.cancelable&&this.mouseEventService.isEventFromThisGrid(mouseEvent)&&!this.isOverFormFieldElement(mouseEvent)}isOverFormFieldElement(mouseEvent){const el=mouseEvent.target,tagName=el?.tagName.toLocaleLowerCase();return!!tagName?.match("^a$|textarea|input|select|button")}onTouchUp(touchEvent,el){let touch=this.getFirstActiveTouch(touchEvent.changedTouches);touch||(touch=this.touchLastTime),this.onUpCommon(touch,el)}onMouseUp(mouseEvent,el){this.onUpCommon(mouseEvent,el)}onUpCommon(eventOrTouch,el){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(eventOrTouch);const event={type:"dragStopped",target:el};this.eventService.dispatchEvent(event)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((func=>func())),this.dragEndFunctions.length=0}},RowDragComp=class extends Component{constructor(cellValueFn,rowNode,column,customGui,dragStartPixels,suppressVisibilityChange){super(),this.cellValueFn=cellValueFn,this.rowNode=rowNode,this.column=column,this.customGui=customGui,this.dragStartPixels=dragStartPixels,this.suppressVisibilityChange=suppressVisibilityChange,this.dragSource=null}wireBeans(beans){this.beans=beans}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(_createIconNoSpan("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const strategy=this.gos.get("rowDragManaged")?new ManagedVisibilityStrategy(this,this.beans,this.rowNode,this.column):new NonManagedVisibilityStrategy(this,this.beans,this.rowNode,this.column);this.createManagedBean(strategy,this.beans.context)}}setDragElement(dragElement,dragStartPixels){this.setTemplateFromElement(dragElement),this.addDragSource(dragStartPixels)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const selection=this.beans.selectionService.getSelectedNodes();return-1!==selection.indexOf(this.rowNode)?selection:[this.rowNode]}checkCompatibility(){const managed=this.gos.get("rowDragManaged");this.gos.get("treeData")&&managed&&_warnOnce("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(column){if(column){const colDef=column.getColDef();if(colDef.rowDragText)return colDef.rowDragText}return this.gos.get("rowDragText")}addDragSource(dragStartPixels=4){this.dragSource&&this.removeDragSource();const eGui=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(eGui,{mousedown:e=>{e?.preventDefault()}})[0]);const translate=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:eGui,dragItemName:()=>{const dragItem=this.getDragItem(),dragItemCount=dragItem.rowNodes?.length||1,rowDragText=this.getRowDragText(this.column);return rowDragText?rowDragText(dragItem,dragItemCount):1===dragItemCount?this.cellValueFn():`${dragItemCount} ${translate("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},VisibilityStrategy=class extends BeanStub{constructor(parent,rowNode,column){super(),this.parent=parent,this.rowNode=rowNode,this.column=column}setDisplayedOrVisible(neverDisplayed){const displayedOptions={skipAriaHidden:!0};if(neverDisplayed)this.parent.setDisplayed(!1,displayedOptions);else{let shown=!0,isShownSometimes=!1;this.column&&(shown=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),isShownSometimes=_isFunction(this.column.getColDef().rowDrag)),isShownSometimes?(this.parent.setDisplayed(!0,displayedOptions),this.parent.setVisible(shown,displayedOptions)):(this.parent.setDisplayed(shown,displayedOptions),this.parent.setVisible(!0,displayedOptions))}}},NonManagedVisibilityStrategy=class extends VisibilityStrategy{constructor(parent,beans,rowNode,column){super(parent,rowNode,column),this.beans=beans}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const listener=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:listener,cellChanged:listener}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:listener}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const neverDisplayed=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(neverDisplayed)}},ManagedVisibilityStrategy=class extends VisibilityStrategy{constructor(parent,beans,rowNode,column){super(parent,rowNode,column),this.beans=beans}postConstruct(){const listener=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:listener,filterChanged:listener,columnRowGroupChanged:listener,newColumnsLoaded:listener}),this.addManagedListeners(this.rowNode,{dataChanged:listener,cellChanged:listener}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const rowDragFeature=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),shouldPreventRowMove=rowDragFeature&&rowDragFeature.shouldPreventRowMove(),suppressRowDrag=this.gos.get("suppressRowDrag"),hasExternalDropZones=this.beans.dragAndDropService.hasExternalDropZones(),neverDisplayed=shouldPreventRowMove&&!hasExternalDropZones||suppressRowDrag;this.setDisplayedOrVisible(neverDisplayed)}},_RowNode=class _RowNode{constructor(beans){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=_RowNode.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=beans}setData(data){this.setDataCommon(data,!1)}updateData(data){this.setDataCommon(data,!0)}setDataCommon(data,update){const oldData=this.data;this.data=data,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const event=this.createDataChangedEvent(data,oldData,update);this.localEventService?.dispatchEvent(event)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(newData,oldData,update){return{type:"dataChanged",node:this,oldData,newData,update}}getRowIndexString(){return null==this.rowIndex?(_errorOnce("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):"top"===this.rowPinned?"t-"+this.rowIndex:"bottom"===this.rowPinned?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const oldNode=new _RowNode(this.beans);return oldNode.id=this.id,oldNode.data=this.data,oldNode.__daemon=!0,oldNode.selected=this.selected,oldNode.level=this.level,oldNode}setDataAndId(data,id){const oldNode=_exists(this.id)?this.createDaemonNode():null,oldData=this.data;this.data=data,this.updateDataOnDetailNode(),this.setId(id),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,oldNode);const event=this.createDataChangedEvent(data,oldData,!1);this.localEventService?.dispatchEvent(event)}checkRowSelectable(){const isRowSelectableFunc=this.beans.gos.get("isRowSelectable");this.setRowSelectable(!isRowSelectableFunc||isRowSelectableFunc(this))}setRowSelectable(newVal,suppressSelectionUpdate){if(this.selectable!==newVal){if(this.selectable=newVal,this.dispatchRowEvent("selectableChanged"),suppressSelectionUpdate)return;if(this.beans.gos.get("groupSelectsChildren")){const selected=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:selected??!1,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(id){const getRowIdFunc=this.beans.gos.getRowIdCallback();if(getRowIdFunc)if(this.data){const parentKeys=this.getGroupKeys(!0);this.id=getRowIdFunc({data:this.data,parentKeys:parentKeys.length>0?parentKeys:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(_RowNode.ID_PREFIX_ROW_GROUP)&&_errorOnce(`Row IDs cannot start with ${_RowNode.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=id}getGroupKeys(excludeSelf=!1){const keys=[];let pointer=this;for(excludeSelf&&(pointer=pointer.parent);pointer&&pointer.level>=0;)keys.push(pointer.key),pointer=pointer.parent;return keys.reverse(),keys}isPixelInRange(pixel){return!(!_exists(this.rowTop)||!_exists(this.rowHeight))&&(pixel>=this.rowTop&&pixel<this.rowTop+this.rowHeight)}updateIfDifferent(key,value,eventName){this[key]!==value&&(this[key]=value,this.dispatchRowEvent(eventName))}setFirstChild(firstChild){this.updateIfDifferent("firstChild",firstChild,"firstChildChanged")}setLastChild(lastChild){this.updateIfDifferent("lastChild",lastChild,"lastChildChanged")}setChildIndex(childIndex){this.updateIfDifferent("childIndex",childIndex,"childIndexChanged")}setRowTop(rowTop){this.oldRowTop=this.rowTop,this.rowTop!==rowTop&&(this.rowTop=rowTop,this.dispatchRowEvent("topChanged"),this.setDisplayed(null!==rowTop))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(displayed){this.updateIfDifferent("displayed",displayed,"displayedChanged")}setDragging(dragging){this.updateIfDifferent("dragging",dragging,"draggingChanged")}setHighlighted(highlighted){this.updateIfDifferent("highlighted",highlighted,"rowHighlightChanged")}setHovered(hovered){this.hovered!==hovered&&(this.hovered=hovered)}isHovered(){return this.hovered}setAllChildrenCount(allChildrenCount){this.updateIfDifferent("allChildrenCount",allChildrenCount,"allChildrenCountChanged")}setMaster(master){this.master!==master&&(this.master&&!master&&(this.expanded=!1),this.master=master,this.dispatchRowEvent("masterChanged"))}setGroup(group){this.group!==group&&(this.group&&!group&&(this.expanded=!1),this.group=group,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(rowHeight,estimated=!1){this.rowHeight=rowHeight,this.rowHeightEstimated=estimated,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(cellHeight,column){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[column.getId()]=cellHeight,null!=cellHeight&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=_debounce(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let notAllPresent=!1,nonePresent=!0,newRowHeight=0;const autoHeights=this.__autoHeights;if(null==autoHeights)return;if(this.beans.visibleColsService.getAllAutoHeightCols().forEach((col=>{let cellHeight=autoHeights[col.getId()];if(null==cellHeight){if(!this.beans.columnModel.isColSpanActive())return void(notAllPresent=!0);{let activeColsForRow=[];switch(col.getPinned()){case"left":activeColsForRow=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":activeColsForRow=this.beans.visibleColsService.getRightColsForRow(this);break;case null:activeColsForRow=this.beans.columnViewportService.getColsWithinViewport(this)}if(activeColsForRow.includes(col))return void(notAllPresent=!0);cellHeight=-1}}else nonePresent=!1;cellHeight>newRowHeight&&(newRowHeight=cellHeight)})),notAllPresent)return;if((nonePresent||newRowHeight<10)&&(newRowHeight=this.beans.gos.getRowHeightForNode(this).height),newRowHeight==this.rowHeight)return;this.setRowHeight(newRowHeight);const rowModel=this.beans.rowModel;rowModel.onRowHeightChangedDebounced&&rowModel.onRowHeightChangedDebounced()}setRowIndex(rowIndex){this.updateIfDifferent("rowIndex",rowIndex,"rowIndexChanged")}setUiLevel(uiLevel){this.updateIfDifferent("uiLevel",uiLevel,"uiLevelChanged")}setExpanded(expanded,e,forceSync){if(this.expanded===expanded)return;this.expanded=expanded,this.dispatchRowEvent("expandedChanged");const event={...this.createGlobalRowEvent("rowGroupOpened"),expanded,event:e||null};this.beans.rowNodeEventThrottle.dispatchExpanded(event,forceSync),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(type){return this.beans.gos.addGridCommonParams({type,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(colKey,newValue,eventSource){const column=(()=>"string"!=typeof colKey?colKey:this.beans.columnModel.getCol(colKey)??this.beans.columnModel.getColDefCol(colKey))(),oldValue=this.getValueFromValueService(column);if(this.beans.gos.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(column,oldValue,newValue,eventSource),!1;const valueChanged=this.beans.valueService.setValue(this,column,newValue,eventSource);return this.dispatchCellChangedEvent(column,newValue,oldValue),this.checkRowSelectable(),valueChanged}getValueFromValueService(column){const lockedClosedGroup=this.leafGroup&&this.beans.columnModel.isPivotMode(),isOpenGroup=this.group&&this.expanded&&!this.footer&&!lockedClosedGroup;let includeFooter=!1;const groupIncludeFooterOpt=this.beans.gos.get("groupTotalRow")??this.beans.gos.get("groupIncludeFooter");if("function"!=typeof groupIncludeFooterOpt)includeFooter=!!groupIncludeFooterOpt;else{includeFooter=!!(this.beans.gos.getCallback("groupTotalRow")??this.beans.gos.getCallback("groupIncludeFooter"))({node:this})}const groupAlwaysShowAggData=this.beans.gos.get("groupSuppressBlankHeader"),ignoreAggData=isOpenGroup&&includeFooter&&!groupAlwaysShowAggData;return this.beans.valueService.getValue(column,this,!1,ignoreAggData)}dispatchEventForSaveValueReadOnly(column,oldValue,newValue,eventSource){const event=this.beans.gos.addGridCommonParams({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column,colDef:column.getColDef(),data:this.data,node:this,oldValue,newValue,value:newValue,source:eventSource});this.beans.eventService.dispatchEvent(event)}setGroupValue(colKey,newValue){const column=this.beans.columnModel.getCol(colKey);_missing(this.groupData)&&(this.groupData={});const columnId=column.getColId(),oldValue=this.groupData[columnId];oldValue!==newValue&&(this.groupData[columnId]=newValue,this.dispatchCellChangedEvent(column,newValue,oldValue))}setAggData(newAggData){const oldAggData=this.aggData;if(this.aggData=newAggData,this.localEventService){const eventFunc=colId=>{const value=this.aggData?this.aggData[colId]:void 0,oldValue=oldAggData?oldAggData[colId]:void 0;if(value===oldValue)return;const column=this.beans.columnModel.getCol(colId);column&&this.dispatchCellChangedEvent(column,value,oldValue)};for(const key in this.aggData)eventFunc(key);for(const key in newAggData)key in this.aggData||eventFunc(key)}}updateHasChildren(){let newValue=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gos.isRowModelType("serverSide")){const isTreeData=this.beans.gos.get("treeData"),isGroupFunc=this.beans.gos.get("isServerSideGroup");newValue=!this.stub&&!this.footer&&(isTreeData?!!isGroupFunc&&isGroupFunc(this.data):!!this.group)}newValue!==this.__hasChildren&&(this.__hasChildren=!!newValue,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return(this.group&&_missingOrEmpty(this.childrenAfterGroup))??!1}dispatchCellChangedEvent(column,newValue,oldValue){const cellChangedEvent={type:"cellChanged",node:this,column,newValue,oldValue};this.localEventService?.dispatchEvent(cellChangedEvent)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(callback){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((child=>child.depthFirstSearch(callback))),callback(this)}calculateSelectedFromChildren(){let atLeastOneSelected=!1,atLeastOneDeSelected=!1,atLeastOneMixed=!1;if(!this.childrenAfterGroup?.length)return this.selectable?this.selected:null;for(let i=0;i<this.childrenAfterGroup.length;i++){const child=this.childrenAfterGroup[i];let childState=child.isSelected();if(!child.selectable){const selectable=child.calculateSelectedFromChildren();if(null===selectable)continue;childState=selectable}switch(childState){case!0:atLeastOneSelected=!0;break;case!1:atLeastOneDeSelected=!0;break;default:atLeastOneMixed=!0}}return atLeastOneMixed||atLeastOneSelected&&atLeastOneDeSelected?void 0:!!atLeastOneSelected||!atLeastOneDeSelected&&(this.selectable?this.selected:null)}setSelectedInitialValue(selected){this.selected=selected}dispatchRowEvent(type){const event={type,node:this};this.localEventService?.dispatchEvent(event)}selectThisNode(newValue,e,source="api"){const selectionNotAllowed=!this.selectable&&newValue,selectionNotChanged=this.selected===newValue;if(selectionNotAllowed||selectionNotChanged)return!1;this.selected=newValue,this.dispatchRowEvent("rowSelected");const sibling=this.sibling;sibling&&sibling.footer&&sibling.localEventService&&sibling.dispatchRowEvent("rowSelected");const event={...this.createGlobalRowEvent("rowSelected"),event:e||null,source};return this.beans.eventService.dispatchEvent(event),!0}setSelected(newValue,clearSelection=!1,source="api"){"boolean"!=typeof source?this.setSelectedParams({newValue,clearSelection,rangeSelect:!1,source}):_warnOnce("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(params){return this.rowPinned?(_warnOnce("cannot select pinned rows"),0):void 0===this.id?(_warnOnce("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...params,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return"top"===this.rowPinned||"bottom"===this.rowPinned}isParentOfNode(potentialParent){let parentNode=this.parent;for(;parentNode;){if(parentNode===potentialParent)return!0;parentNode=parentNode.parent}return!1}addEventListener(eventType,userListener){this.localEventService||(this.localEventService=new LocalEventService),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new FrameworkEventListenerService(this.beans.frameworkOverrides));const listener=this.frameworkEventListenerService?.wrap(userListener)??userListener;this.localEventService.addEventListener(eventType,listener)}removeEventListener(eventType,userListener){if(!this.localEventService)return;const listener=this.frameworkEventListenerService?.unwrap(userListener)??userListener;this.localEventService.removeEventListener(eventType,listener),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}getFirstChildOfFirstChild(rowGroupColumn){let currentRowNode=this,isCandidate=!0,foundFirstChildPath=!1,nodeToSwapIn=null;for(;isCandidate&&!foundFirstChildPath;){const parentRowNode=currentRowNode.parent;_exists(parentRowNode)&&currentRowNode.firstChild?parentRowNode.rowGroupColumn===rowGroupColumn&&(foundFirstChildPath=!0,nodeToSwapIn=parentRowNode):isCandidate=!1,currentRowNode=parentRowNode}return foundFirstChildPath?nodeToSwapIn:null}isFullWidthCell(){if(this.detail)return!0;const isFullWidthCellFunc=this.beans.gos.getCallback("isFullWidthRow");return!!isFullWidthCellFunc&&isFullWidthCellFunc({rowNode:this})}getRoute(){if(null==this.key)return;const res=[];let pointer=this;for(;pointer&&null!=pointer.key;)res.push(pointer.key),pointer=pointer.parent;return res.reverse()}createFooter(){if(this.sibling)return;const ignoredProperties=new Set(["eventService","__objectId","sticky"]),footerNode=new _RowNode(this.beans);Object.keys(this).forEach((key=>{ignoredProperties.has(key)||(footerNode[key]=this[key])})),footerNode.footer=!0,footerNode.setRowTop(null),footerNode.setRowIndex(null),footerNode.oldRowTop=null,footerNode.id="rowGroupFooter_"+this.id,footerNode.sibling=this,this.sibling=footerNode}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};_RowNode.ID_PREFIX_ROW_GROUP="row-group-",_RowNode.ID_PREFIX_TOP_PINNED="t-",_RowNode.ID_PREFIX_BOTTOM_PINNED="b-",_RowNode.OBJECT_ID_SEQUENCE=0;var RowNode=_RowNode,FilterWrapperComp=class extends Component{constructor(column,source){super('<div class="ag-filter"></div>'),this.column=column,this.source=source,this.filterWrapper=null}wireBeans(beans){this.filterManager=beans.filterManager,this.columnModel=beans.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then((()=>{}))??AgPromise.resolve()}afterGuiAttached(params){this.filterWrapper?.filterPromise?.then((filter=>{filter?.afterGuiAttached?.(params)}))}afterGuiDetached(){this.filterWrapper?.filterPromise?.then((filter=>{filter?.afterGuiDetached?.()}))}createFilter(init){const{column,source}=this;this.filterWrapper=this.filterManager?.getOrCreateFilterWrapper(column)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then((filter=>{const guiFromFilter=filter.getGui();if(_exists(guiFromFilter)||_warnOnce(`getGui method from filter returned ${guiFromFilter}; it should be a DOM element.`),this.appendChild(guiFromFilter),init){const event={type:"filterOpened",column,source,eGui:this.getGui()};this.eventService.dispatchEvent(event)}}))}onFilterDestroyed(event){"api"!==event.source&&"paramsUpdated"!==event.source||event.column.getId()!==this.column.getId()||!this.columnModel.getColDefCol(this.column)||(_clearElement(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},PositionableFeature=class extends BeanStub{constructor(element,config){super(),this.element=element,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},config)}wireBeans(beans){this.popupService=beans.popupService,this.resizeObserverService=beans.resizeObserverService,this.dragService=beans.dragService}center(){const{clientHeight,clientWidth}=this.offsetParent,x=clientWidth/2-this.getWidth()/2,y=clientHeight/2-this.getHeight()/2;this.offsetElement(x,y)}initialisePosition(){if(this.positioned)return;const{centered,forcePopupParentAsOffsetParent,minWidth,width,minHeight,height,x,y}=this.config;this.offsetParent||this.setOffsetParent();let computedMinHeight=0,computedMinWidth=0;const isElementVisible=_isVisible(this.element);if(isElementVisible){const boundaryEl=this.findBoundaryElement(),offsetParentComputedStyles=window.getComputedStyle(boundaryEl);if(null!=offsetParentComputedStyles.minWidth){const paddingWidth=boundaryEl.offsetWidth-this.element.offsetWidth;computedMinWidth=parseInt(offsetParentComputedStyles.minWidth,10)-paddingWidth}if(null!=offsetParentComputedStyles.minHeight){const paddingHeight=boundaryEl.offsetHeight-this.element.offsetHeight;computedMinHeight=parseInt(offsetParentComputedStyles.minHeight,10)-paddingHeight}}if(this.minHeight=minHeight||computedMinHeight,this.minWidth=minWidth||computedMinWidth,width&&this.setWidth(width),height&&this.setHeight(height),width&&height||this.refreshSize(),centered)this.center();else if(x||y)this.offsetElement(x,y);else if(isElementVisible&&forcePopupParentAsOffsetParent){let boundaryEl=this.boundaryEl,initialisedDuringPositioning=!0;if(boundaryEl||(boundaryEl=this.findBoundaryElement(),initialisedDuringPositioning=!1),boundaryEl){const top=parseFloat(boundaryEl.style.top),left=parseFloat(boundaryEl.style.left);initialisedDuringPositioning?this.offsetElement(isNaN(left)?0:left,isNaN(top)?0:top):this.setPosition(left,top)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(movable,moveElement){if(!this.config.popup||movable===this.movable)return;this.movable=movable;const params=this.moveElementDragListener||{eElement:moveElement,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};movable?(this.dragService.addDragSource(params),this.moveElementDragListener=params):(this.dragService.removeDragSource(params),this.moveElementDragListener=void 0)}setResizable(resizable){if(this.clearResizeListeners(),resizable?this.addResizers():this.removeResizers(),"boolean"==typeof resizable){if(!1===resizable)return;resizable={topLeft:resizable,top:resizable,topRight:resizable,right:resizable,bottomRight:resizable,bottom:resizable,bottomLeft:resizable,left:resizable}}Object.keys(resizable).forEach((side=>{const isSideResizable=!!resizable[side],resizerEl=this.getResizerElement(side),params={dragStartPixels:0,eElement:resizerEl,onDragStart:e=>this.onResizeStart(e,side),onDragging:this.onResize.bind(this),onDragStop:e=>this.onResizeEnd(e,side)};(isSideResizable||!this.isAlive()&&!isSideResizable)&&(isSideResizable?(this.dragService.addDragSource(params),this.resizeListeners.push(params),resizerEl.style.pointerEvents="all"):resizerEl.style.pointerEvents="none",this.resizable[side]=isSideResizable)}))}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height,width}=this.lastSize;-1!==width&&(this.element.style.width=`${width}px`),-1!==height&&(this.element.style.height=`${height}px`)}getHeight(){return this.element.offsetHeight}setHeight(height){const{popup}=this.config,eGui=this.element;let isPercent=!1;if("string"==typeof height&&-1!==height.indexOf("%"))_setFixedHeight(eGui,height),height=_getAbsoluteHeight(eGui),isPercent=!0;else if(height=Math.max(this.minHeight,height),this.positioned){const availableHeight=this.getAvailableHeight();availableHeight&&height>availableHeight&&(height=availableHeight)}this.getHeight()!==height&&(isPercent?(eGui.style.maxHeight="unset",eGui.style.minHeight="unset"):popup?_setFixedHeight(eGui,height):(eGui.style.height=`${height}px`,eGui.style.flex="0 0 auto",this.lastSize.height="number"==typeof height?height:parseFloat(height)))}getAvailableHeight(){const{popup,forcePopupParentAsOffsetParent}=this.config;this.positioned||this.initialisePosition();const{clientHeight}=this.offsetParent;if(!clientHeight)return null;const elRect=this.element.getBoundingClientRect(),offsetParentRect=this.offsetParent.getBoundingClientRect(),yPosition=popup?this.position.y:elRect.top,parentTop=popup?0:offsetParentRect.top;let additionalHeight=0;if(forcePopupParentAsOffsetParent){const parentEl=this.element.parentElement;if(parentEl){const{bottom}=parentEl.getBoundingClientRect();additionalHeight=bottom-elRect.bottom}}return clientHeight+parentTop-yPosition-additionalHeight}getWidth(){return this.element.offsetWidth}setWidth(width){const eGui=this.element,{popup}=this.config;let isPercent=!1;if("string"==typeof width&&-1!==width.indexOf("%"))_setFixedWidth(eGui,width),width=_getAbsoluteWidth(eGui),isPercent=!0;else if(this.positioned){width=Math.max(this.minWidth,width);const{clientWidth}=this.offsetParent,xPosition=popup?this.position.x:this.element.getBoundingClientRect().left;clientWidth&&width+xPosition>clientWidth&&(width=clientWidth-xPosition)}this.getWidth()!==width&&(isPercent?(eGui.style.maxWidth="unset",eGui.style.minWidth="unset"):this.config.popup?_setFixedWidth(eGui,width):(eGui.style.width=`${width}px`,eGui.style.flex=" unset",this.lastSize.width="number"==typeof width?width:parseFloat(width)))}offsetElement(x=0,y=0){const{forcePopupParentAsOffsetParent}=this.config,ePopup=forcePopupParentAsOffsetParent?this.boundaryEl:this.element;ePopup&&(this.popupService.positionPopup({ePopup,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x,y})}),this.setPosition(parseFloat(ePopup.style.left),parseFloat(ePopup.style.top)))}constrainSizeToAvailableHeight(constrain){if(!this.config.forcePopupParentAsOffsetParent)return;const applyMaxHeightToElement=()=>{const availableHeight=this.getAvailableHeight();this.element.style.setProperty("max-height",`${availableHeight}px`)};constrain?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),applyMaxHeightToElement):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(x,y){this.position.x=x,this.position.y=y}updateDragStartPosition(x,y){this.dragStartPosition={x,y}}calculateMouseMovement(params){const{e,isLeft,isTop,anywhereWithin,topBuffer}=params,xDiff=e.clientX-this.dragStartPosition.x,yDiff=e.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(e,!!isLeft,!!anywhereWithin,xDiff)?0:xDiff,movementY:this.shouldSkipY(e,!!isTop,topBuffer,yDiff)?0:yDiff}}shouldSkipX(e,isLeft,anywhereWithin,diff){const elRect=this.element.getBoundingClientRect(),parentRect=this.offsetParent.getBoundingClientRect(),boundaryElRect=this.boundaryEl.getBoundingClientRect(),xPosition=this.config.popup?this.position.x:elRect.left;let skipX=xPosition<=0&&parentRect.left>=e.clientX||parentRect.right<=e.clientX&&parentRect.right<=boundaryElRect.right;return!!skipX||(skipX=isLeft?diff<0&&e.clientX>xPosition+parentRect.left||diff>0&&e.clientX<xPosition+parentRect.left:anywhereWithin?diff<0&&e.clientX>boundaryElRect.right||diff>0&&e.clientX<xPosition+parentRect.left:diff<0&&e.clientX>boundaryElRect.right||diff>0&&e.clientX<boundaryElRect.right,skipX)}shouldSkipY(e,isTop,topBuffer=0,diff){const elRect=this.element.getBoundingClientRect(),parentRect=this.offsetParent.getBoundingClientRect(),boundaryElRect=this.boundaryEl.getBoundingClientRect(),yPosition=this.config.popup?this.position.y:elRect.top;let skipY=yPosition<=0&&parentRect.top>=e.clientY||parentRect.bottom<=e.clientY&&parentRect.bottom<=boundaryElRect.bottom;return!!skipY||(skipY=isTop?diff<0&&e.clientY>yPosition+parentRect.top+topBuffer||diff>0&&e.clientY<yPosition+parentRect.top:diff<0&&e.clientY>boundaryElRect.bottom||diff>0&&e.clientY<boundaryElRect.bottom,skipY)}createResizeMap(){const eGui=this.element;this.resizerMap={topLeft:{element:eGui.querySelector("[data-ref=eTopLeftResizer]")},top:{element:eGui.querySelector("[data-ref=eTopResizer]")},topRight:{element:eGui.querySelector("[data-ref=eTopRightResizer]")},right:{element:eGui.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:eGui.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:eGui.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:eGui.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:eGui.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const eGui=this.element;if(!eGui)return;const resizers=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div data-ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div data-ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div data-ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div data-ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div data-ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div data-ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div data-ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div data-ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;eGui.appendChild(resizers.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const resizerEl=this.element.querySelector(".ag-resizer-wrapper");resizerEl&&this.element.removeChild(resizerEl),this.resizersAdded=!1}getResizerElement(side){return this.resizerMap[side].element}onResizeStart(e,side){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!side.match(/top/i),isRight:!!side.match(/right/i),isBottom:!!side.match(/bottom/i),isLeft:!!side.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[side].element.classList.add("ag-active");const{popup,forcePopupParentAsOffsetParent}=this.config;popup||forcePopupParentAsOffsetParent||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const parent=this.element.parentElement;return parent?Array.prototype.slice.call(parent.children).filter((el=>!el.classList.contains("ag-hidden"))):null}getMinSizeOfSiblings(){const siblings=this.getSiblings()||[];let height=0,width=0;for(let i=0;i<siblings.length;i++){const currentEl=siblings[i],isFlex=!!currentEl.style.flex&&"0 0 auto"!==currentEl.style.flex;if(currentEl===this.element)continue;let nextHeight=this.minHeight||0,nextWidth=this.minWidth||0;if(isFlex){const computedStyle=window.getComputedStyle(currentEl);computedStyle.minHeight&&(nextHeight=parseInt(computedStyle.minHeight,10)),computedStyle.minWidth&&(nextWidth=parseInt(computedStyle.minWidth,10))}else nextHeight=currentEl.offsetHeight,nextWidth=currentEl.offsetWidth;height+=nextHeight,width+=nextWidth}return{height,width}}applySizeToSiblings(vertical){let containerToFlex=null;const siblings=this.getSiblings();if(siblings){for(let i=0;i<siblings.length;i++){const el=siblings[i];el!==containerToFlex&&(vertical?el.style.height=`${el.offsetHeight}px`:el.style.width=`${el.offsetWidth}px`,el.style.flex="0 0 auto",el===this.element&&(containerToFlex=siblings[i+1]))}containerToFlex&&(containerToFlex.style.removeProperty("height"),containerToFlex.style.removeProperty("min-height"),containerToFlex.style.removeProperty("max-height"),containerToFlex.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some((value=>value))}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup,forcePopupParentAsOffsetParent}=this.config,{isTop,isRight,isBottom,isLeft}=this.currentResizer,isHorizontal=isRight||isLeft,isVertical=isBottom||isTop,{movementX,movementY}=this.calculateMouseMovement({e,isLeft,isTop}),xPosition=this.position.x,yPosition=this.position.y;let offsetLeft=0,offsetTop=0;if(isHorizontal&&movementX){const direction=isLeft?-1:1,oldWidth=this.getWidth(),newWidth=oldWidth+movementX*direction;let skipWidth=!1;isLeft&&(offsetLeft=oldWidth-newWidth,(xPosition+offsetLeft<=0||newWidth<=this.minWidth)&&(skipWidth=!0,offsetLeft=0)),skipWidth||this.setWidth(newWidth)}if(isVertical&&movementY){const direction=isTop?-1:1,oldHeight=this.getHeight(),newHeight=oldHeight+movementY*direction;let skipHeight=!1;isTop?(offsetTop=oldHeight-newHeight,(yPosition+offsetTop<=0||newHeight<=this.minHeight)&&(skipHeight=!0,offsetTop=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&oldHeight<newHeight&&this.getMinSizeOfSiblings().height+newHeight>this.element.parentElement.offsetHeight&&(skipHeight=!0),skipHeight||this.setHeight(newHeight)}this.updateDragStartPosition(e.clientX,e.clientY),((popup||forcePopupParentAsOffsetParent)&&offsetLeft||offsetTop)&&this.offsetElement(xPosition+offsetLeft,yPosition+offsetTop)}onResizeEnd(e,side){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[side].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const eGui=this.element;this.config.popup&&(this.config.width||this.setWidth(eGui.offsetWidth),this.config.height||this.setHeight(eGui.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x,y}=this.position;let topBuffer;this.config.calculateTopBuffer&&(topBuffer=this.config.calculateTopBuffer());const{movementX,movementY}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer});this.offsetElement(x+movementX,y+movementY),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let el=this.element;for(;el;){if("static"!==window.getComputedStyle(el).position)return el;el=el.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const params=this.resizeListeners.pop();this.dragService.removeDragSource(params)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},_ManagedFocusFeature=class _ManagedFocusFeature extends BeanStub{constructor(eFocusableElement,callbacks={}){super(),this.eFocusableElement=eFocusableElement,this.callbacks=callbacks,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:e=>{if(e.defaultPrevented)return;const nextRoot=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e.shiftKey);nextRoot&&(nextRoot.focus(),e.preventDefault())},...callbacks}}wireBeans(beans){this.focusService=beans.focusService}postConstruct(){this.eFocusableElement.classList.add(_ManagedFocusFeature.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(eGui){this.addManagedElementListeners(eGui,{keydown:e=>{e.defaultPrevented||_isStopPropagationForAgGrid(e)||(this.callbacks.shouldStopEventPropagation(e)?_stopPropagationForAgGrid(e):e.key===KeyCode.TAB?this.callbacks.onTabKeyDown(e):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(e))}})}};_ManagedFocusFeature.FOCUS_MANAGED_CLASS="ag-focus-managed";var ManagedFocusFeature=_ManagedFocusFeature,FILTER_LOCALE_TEXT={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function getDebounceMs(params,debounceDefault){return isUseApplyButton(params)?(null!=params.debounceMs&&_warnOnce("debounceMs is ignored when apply button is present"),0):null!=params.debounceMs?params.debounceMs:debounceDefault}function isUseApplyButton(params){return!!params.buttons&&params.buttons.indexOf("apply")>=0}var ProvidedFilter=class extends Component{constructor(filterNameKey){super(),this.filterNameKey=filterNameKey,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=null,this.buttonListeners=[]}wireBeans(beans){this.rowModel=beans.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new ManagedFocusFeature(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new PositionableFeature(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(paramsMap){let eGui=this.getGui();eGui&&eGui.removeEventListener("submit",this.onFormSubmit);const templateString=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(templateString,this.getAgComponents(),paramsMap),eGui=this.getGui(),eGui&&eGui.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(params){this.setParams(params),this.resetUiToDefaults(!0).then((()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()}))}setParams(params){this.providedFilterParams=params,this.applyActive=isUseApplyButton(params),this.resetButtonsPanel()}updateParams(params){this.providedFilterParams=params,this.applyActive=isUseApplyButton(params),this.resetUiToActiveModel(this.getModel(),(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()}))}resetButtonsPanel(){const{buttons}=this.providedFilterParams,hasButtons=buttons&&buttons.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(_clearElement(this.eButtonsPanel),this.buttonListeners.forEach((destroyFunc=>destroyFunc())),this.buttonListeners=[]):hasButtons&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!hasButtons)return void(this.eButtonsPanel&&_removeFromParent(this.eButtonsPanel));const fragment=document.createDocumentFragment(),addButton=type=>{let text,clickListener;switch(type){case"apply":text=this.translate("applyFilter"),clickListener=e=>this.onBtApply(!1,!1,e);break;case"clear":text=this.translate("clearFilter"),clickListener=()=>this.onBtClear();break;case"reset":text=this.translate("resetFilter"),clickListener=()=>this.onBtReset();break;case"cancel":text=this.translate("cancelFilter"),clickListener=e=>{this.onBtCancel(e)};break;default:return void _warnOnce("Unknown button type specified")}const button=_loadTemplate(`<button\n                    type="${"apply"===type?"submit":"button"}"\n                    data-ref="${type}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${text}\n                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(button,{click:clickListener})),fragment.append(button)};buttons.forEach((type=>addButton(type))),this.eButtonsPanel.append(fragment),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const debounceMs=getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),debounceFunc=_debounce(this.checkApplyDebounce.bind(this),debounceMs);this.onBtApplyDebounce=()=>{this.debouncePending=!0,debounceFunc()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(model){return(null!=model?this.setModelIntoUi(model):this.resetUiToDefaults()).then((()=>{this.updateUiVisibility(),this.applyModel("api")}))}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),(()=>{this.handleCancelEnd(e)}))}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(currentModel,afterUiUpdatedFunc){const afterAppliedFunc=()=>{this.onUiChanged(!1,"prevent"),afterUiUpdatedFunc?.()};null!=currentModel?this.setModelIntoUi(currentModel).then(afterAppliedFunc):this.resetUiToDefaults().then(afterAppliedFunc)}onBtClear(){this.resetUiToDefaults().then((()=>this.onUiChanged()))}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(source="api"){const newModel=this.getModelFromUi();if(!this.isModelValid(newModel))return!1;const previousModel=this.appliedModel;return this.appliedModel=newModel,!this.areModelsEqual(previousModel,newModel)}isModelValid(model){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(afterFloatingFilter=!1,afterDataChange=!1,e){if(e&&e.preventDefault(),this.applyModel(afterDataChange?"rowDataUpdated":"ui")){const source="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter,afterDataChange,source})}const{closeOnApply}=this.providedFilterParams;closeOnApply&&this.applyActive&&!afterFloatingFilter&&!afterDataChange&&this.close(e)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const keyboardEvent=e,key=keyboardEvent&&keyboardEvent.key;let params;"Enter"!==key&&"Space"!==key||(params={keyboardEvent}),this.hidePopup(params),this.hidePopup=null}onUiChanged(fromFloatingFilter=!1,apply){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const isValid=this.isModelValid(this.getModelFromUi()),applyFilterButton=this.queryForHtmlElement('[data-ref="applyFilterButton"]');applyFilterButton&&_setDisabled(applyFilterButton,!isValid)}fromFloatingFilter&&!apply||"immediately"===apply?this.onBtApply(fromFloatingFilter):(this.applyActive||apply)&&"debounce"!==apply||this.onBtApplyDebounce()}afterGuiAttached(params){params&&(this.hidePopup=params.hidePopup),this.refreshFilterResizer(params?.container)}refreshFilterResizer(containerType){if(!this.positionableFeature||"toolPanel"===containerType)return;const isResizable="floatingFilter"===containerType||"columnFilter"===containerType,{positionableFeature,gos}=this;isResizable?(positionableFeature.restoreLastSize(),positionableFeature.setResizable(gos.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(newParams){return this.providedFilterParams=newParams,!0}destroy(){const eGui=this.getGui();eGui&&eGui.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(key){return this.localeService.getLocaleTextFunc()(key,FILTER_LOCALE_TEXT[key])}getCellValue(rowNode){return this.providedFilterParams.getValue(rowNode)}getPositionableElement(){return this.eFilterBody}},AgRadioButton=class extends AgCheckbox{constructor(config){super(config,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(event){event.selected&&event.name&&this.eInput.name&&this.eInput.name===event.name&&event.id&&this.eInput.id!==event.id&&this.setValue(!1,!0)}},AgList=class extends Component{constructor(cssIdentifier="default",unFocusable=!1){super(`<div class="ag-list ag-${cssIdentifier}-list" role="listbox"></div>`),this.cssIdentifier=cssIdentifier,this.unFocusable=unFocusable,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const eGui=this.getGui();this.addManagedElementListeners(eGui,{mouseleave:()=>this.clearHighlighted()}),this.unFocusable||this.addManagedElementListeners(eGui,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const key=e.key;switch(key){case KeyCode.ENTER:if(this.highlightedEl){const pos=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(pos)}else this.setValue(this.getValue());break;case KeyCode.DOWN:case KeyCode.UP:e.preventDefault(),this.navigate(key);break;case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:e.preventDefault(),this.navigateToPage(key)}}navigate(key){const isDown=key===KeyCode.DOWN;let itemToHighlight;if(this.highlightedEl){let nextPos=this.itemEls.indexOf(this.highlightedEl)+(isDown?1:-1);nextPos=Math.min(Math.max(nextPos,0),this.itemEls.length-1),itemToHighlight=this.itemEls[nextPos]}else itemToHighlight=this.itemEls[isDown?0:this.itemEls.length-1];this.highlightItem(itemToHighlight)}navigateToPage(key){if(!this.highlightedEl||0===this.itemEls.length)return;const currentIdx=this.itemEls.indexOf(this.highlightedEl),rowCount=this.options.length-1,itemHeight=this.itemEls[0].clientHeight,pageSize=Math.floor(this.getGui().clientHeight/itemHeight);let newIndex=-1;key===KeyCode.PAGE_HOME?newIndex=0:key===KeyCode.PAGE_END?newIndex=rowCount:key===KeyCode.PAGE_DOWN?newIndex=Math.min(currentIdx+pageSize,rowCount):key===KeyCode.PAGE_UP&&(newIndex=Math.max(currentIdx-pageSize,0)),-1!==newIndex&&this.highlightItem(this.itemEls[newIndex])}addOptions(listOptions){return listOptions.forEach((listOption=>this.addOption(listOption))),this}addOption(listOption){const{value,text}=listOption,valueToRender=text||value;return this.options.push({value,text:valueToRender}),this.renderOption(value,valueToRender),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach((itemEl=>{_removeFromParent(itemEl)})),this.itemEls=[]}updateIndices(){const options=this.getGui().querySelectorAll(".ag-list-item");options.forEach(((option,idx)=>{!function _setAriaPosInSet(element,position){_setAriaAttribute(element,"posinset",position)}(option,idx+1),function _setAriaSetSize(element,setsize){_setAriaAttribute(element,"setsize",setsize)}(option,options.length)}))}renderOption(value,text){const eDocument=this.gos.getDocument(),itemEl=eDocument.createElement("div");_setAriaRole(itemEl,"option"),itemEl.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const span=eDocument.createElement("span");itemEl.appendChild(span),span.textContent=text,this.unFocusable||(itemEl.tabIndex=-1),this.itemEls.push(itemEl),this.addManagedListeners(itemEl,{mouseover:()=>this.highlightItem(itemEl),mousedown:e=>{e.preventDefault(),e.stopPropagation(),this.setValue(value)}}),this.createManagedBean(new TooltipFeature({getTooltipValue:()=>text,getGui:()=>itemEl,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>span.scrollWidth>span.clientWidth})),this.getGui().appendChild(itemEl)}setValue(value,silent){if(this.value===value)return this.fireItemSelected(),this;if(null==value)return this.reset(silent),this;const idx=this.options.findIndex((option=>option.value===value));if(-1!==idx){const option=this.options[idx];this.value=option.value,this.displayValue=option.text,this.highlightItem(this.itemEls[idx]),silent||this.fireChangeEvent()}return this}setValueByIndex(idx){return this.setValue(this.options[idx].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const idx=this.options.findIndex((option=>option.value===this.value));-1!==idx&&this.highlightItem(this.itemEls[idx])}reset(silent){this.value=null,this.displayValue=null,this.clearHighlighted(),silent||this.fireChangeEvent()}highlightItem(el){if(!_isVisible(el))return;this.clearHighlighted(),this.highlightedEl=el,this.highlightedEl.classList.add(this.activeClass),_setAriaSelected(this.highlightedEl,!0);const eGui=this.getGui(),{scrollTop,clientHeight}=eGui,{offsetTop,offsetHeight}=el;(offsetTop+offsetHeight>scrollTop+clientHeight||offsetTop<scrollTop)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){this.highlightedEl&&_isVisible(this.highlightedEl)&&(this.highlightedEl.classList.remove(this.activeClass),_setAriaSelected(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},AgPickerField=class extends AgAbstractField{constructor(config){if(super(config,config?.template||'\n            <div class="ag-picker-field" role="presentation">\n                <div data-ref="eLabel"></div>\n                    <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',config?.agComponents||[],config?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=null,this.eWrapper=null,this.eDisplayField=null,this.eIcon=null,this.ariaRole=config?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!config)return;const{pickerGap,maxPickerHeight,variableWidth,minPickerWidth,maxPickerWidth}=config;null!=pickerGap&&(this.pickerGap=pickerGap),this.variableWidth=!!variableWidth,null!=maxPickerHeight&&this.setPickerMaxHeight(maxPickerHeight),null!=minPickerWidth&&this.setPickerMinWidth(minPickerWidth),null!=maxPickerWidth&&this.setPickerMaxWidth(maxPickerWidth)}wireBeans(beans){this.popupService=beans.popupService}postConstruct(){super.postConstruct(),this.setupAria();const displayId=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",displayId);const ariaEl=this.getAriaElement();this.addManagedElementListeners(ariaEl,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon,inputWidth}=this.config;if(pickerIcon){const icon=_createIconNoSpan(pickerIcon,this.gos);icon&&this.eIcon.appendChild(icon)}null!=inputWidth&&this.setInputWidth(inputWidth)}setupAria(){const ariaEl=this.getAriaElement();ariaEl.setAttribute("tabindex",this.gos.get("tabIndex").toString()),_setAriaExpanded(ariaEl,!1),this.ariaRole&&_setAriaRole(ariaEl,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const focusableEl=this.getFocusableElement();if(focusableEl!==this.eWrapper&&e?.target===focusableEl)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case KeyCode.UP:case KeyCode.DOWN:case KeyCode.ENTER:case KeyCode.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case KeyCode.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const pickerGui=this.pickerComponent.getGui();pickerGui.addEventListener("focusin",this.onPickerFocusIn),pickerGui.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const eDocument=this.gos.getDocument(),ePicker=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const translate=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey,pickerAriaLabelValue,modalPicker=!0}=this.config,popupParams={modal:modalPicker,eChild:ePicker,closeOnEsc:!0,closedCallback:()=>{const activeEl=this.gos.getActiveDomElement(),shouldRestoreFocus=!activeEl||activeEl===eDocument.body;this.beforeHidePicker(),shouldRestoreFocus&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:translate(pickerAriaLabelKey,pickerAriaLabelValue)},addPopupRes=this.popupService.addPopup(popupParams),{maxPickerHeight,minPickerWidth,maxPickerWidth,variableWidth}=this;variableWidth?(minPickerWidth&&(ePicker.style.minWidth=minPickerWidth),ePicker.style.width=_formatSize(_getAbsoluteWidth(this.eWrapper)),maxPickerWidth&&(ePicker.style.maxWidth=maxPickerWidth)):_setElementWidth(ePicker,maxPickerWidth??_getAbsoluteWidth(this.eWrapper));const maxHeight=maxPickerHeight??`${_getInnerHeight(this.popupService.getPopupParent())}px`;return ePicker.style.setProperty("max-height",maxHeight),ePicker.style.position="absolute",this.alignPickerToComponent(),addPopupRes.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType}=this.config,{pickerGap}=this,alignSide=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:pickerType,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide,keepWithinBounds:!0,nudgeY:pickerGap})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const pickerGui=this.pickerComponent.getGui();pickerGui.removeEventListener("focusin",this.onPickerFocusIn),pickerGui.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(expanded){if(!this.isAlive())return;_setAriaExpanded(this.getAriaElement(),expanded),this.eWrapper.classList.toggle("ag-picker-expanded",expanded),this.eWrapper.classList.toggle("ag-picker-collapsed",!expanded)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(focused){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",focused)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(width){return _setElementWidth(this.eWrapper,width),this}getFocusableElement(){return this.eWrapper}setPickerGap(gap){return this.pickerGap=gap,this}setPickerMinWidth(width){return"number"==typeof width&&(width=`${width}px`),this.minPickerWidth=null==width?void 0:width,this}setPickerMaxWidth(width){return"number"==typeof width&&(width=`${width}px`),this.maxPickerWidth=null==width?void 0:width,this}setPickerMaxHeight(height){return"number"==typeof height&&(height=`${height}px`),this.maxPickerHeight=null==height?void 0:height,this}destroy(){this.hidePicker(),super.destroy()}},AgSelect=class extends AgPickerField{constructor(config){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...config})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options,value,placeholder}=this.config;null!=options&&this.addOptions(options),null!=value&&this.setValue(value,!0),placeholder&&null==value&&(this.eDisplayField.textContent=placeholder),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new AgList("select",!0)),this.listComponent.setParentComponent(this);const eListAriaEl=this.listComponent.getAriaElement(),listId=`ag-select-list-${this.listComponent.getCompId()}`;eListAriaEl.setAttribute("id",listId),function _setAriaControls(controllerElement,controlledElement){_toggleAriaAttribute(controllerElement,"controls",controlledElement.id),_setAriaLabelledBy(controlledElement,controllerElement.id)}(this.getAriaElement(),eListAriaEl),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key}=e;switch(key===KeyCode.TAB&&this.hidePicker(),key){case KeyCode.ENTER:case KeyCode.UP:case KeyCode.DOWN:case KeyCode.PAGE_UP:case KeyCode.PAGE_DOWN:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case KeyCode.ESCAPE:super.onKeyDown(e)}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(options){return options.forEach((option=>this.addOption(option))),this}addOption(option){return this.listComponent.addOption(option),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(value,silent,fromPicker){if(this.value===value||!this.listComponent)return this;fromPicker||this.listComponent.setValue(value,!0);if(this.listComponent.getValue()===this.getValue())return this;let displayValue=this.listComponent.getDisplayValue();return null==displayValue&&this.config.placeholder&&(displayValue=this.config.placeholder),this.eDisplayField.textContent=displayValue,this.setTooltip({newTooltipText:displayValue??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(value,silent)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},AgSelectSelector={selector:"AG-SELECT",component:AgSelect},OptionsFactory=class{constructor(){this.customFilterOptions={}}init(params,defaultOptions){this.filterOptions=params.filterOptions||defaultOptions,this.mapCustomOptions(),this.selectDefaultItem(params)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach((filterOption=>{if("string"==typeof filterOption)return;[["displayKey"],["displayName"],["predicate","test"]].every((keys=>!!keys.some((key=>null!=filterOption[key]))||(_warnOnce(`ignoring FilterOptionDef as it doesn't contain one of '${keys}'`),!1)))?this.customFilterOptions[filterOption.displayKey]=filterOption:this.filterOptions=this.filterOptions.filter((v=>v===filterOption))||[]}))}selectDefaultItem(params){if(params.defaultOption)this.defaultOption=params.defaultOption;else if(this.filterOptions.length>=1){const firstFilterOption=this.filterOptions[0];"string"==typeof firstFilterOption?this.defaultOption=firstFilterOption:firstFilterOption.displayKey?this.defaultOption=firstFilterOption.displayKey:_warnOnce("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else _warnOnce("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(name){return this.customFilterOptions[name]}},SimpleFilter=class extends ProvidedFilter{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(type){const customOpts=this.optionsFactory.getCustomOption(type);if(customOpts){const{numberOfInputs}=customOpts;return null!=numberOfInputs?numberOfInputs:1}return type&&["empty","notBlank","blank"].indexOf(type)>=0?0:"inRange"===type?2:1}onFloatingFilterChanged(type,value){this.setTypeFromFloatingFilter(type),this.setValueFromFloatingFilter(value),this.onUiChanged(!0)}setTypeFromFloatingFilter(type){this.eTypes.forEach(((eType,position)=>{0===position?eType.setValue(type,!0):eType.setValue(this.optionsFactory.getDefaultOption(),!0)}))}getModelFromUi(){const conditions=this.getUiCompleteConditions();return 0===conditions.length?null:this.maxNumConditions>1&&conditions.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions}:conditions[0]}getConditionTypes(){return this.eTypes.map((eType=>eType.getValue()))}getConditionType(position){return this.eTypes[position].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(a,b){if(!a&&!b)return!0;if(!a&&b||a&&!b)return!1;const aIsSimple=!a.operator,bIsSimple=!b.operator;if(!aIsSimple&&bIsSimple||aIsSimple&&!bIsSimple)return!1;let res;if(aIsSimple){const aSimple=a,bSimple=b;res=this.areSimpleModelsEqual(aSimple,bSimple)}else{const aCombined=a,bCombined=b;res=aCombined.operator===bCombined.operator&&_areEqual(aCombined.conditions,bCombined.conditions,((aModel,bModel)=>this.areSimpleModelsEqual(aModel,bModel)))}return res}shouldRefresh(newParams){const model=this.getModel(),conditions=model?model.conditions??[model]:null,newOptionsList=newParams.filterOptions?.map((option=>"string"==typeof option?option:option.displayKey))??this.getDefaultFilterOptions();return!(conditions&&!conditions.every((condition=>void 0!==newOptionsList.find((option=>option===condition.type)))))&&!("number"==typeof newParams.maxNumConditions&&conditions&&conditions.length>newParams.maxNumConditions)}refresh(newParams){if(!this.shouldRefresh(newParams))return!1;return!!super.refresh(newParams)&&(this.setParams(newParams),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(model){if(model.operator){const combinedModel=model;let conditions=combinedModel.conditions;null==conditions&&(conditions=[],_warnOnce("Filter model is missing 'conditions'"));const numConditions=this.validateAndUpdateConditions(conditions),numPrevConditions=this.getNumConditions();if(numConditions<numPrevConditions)this.removeConditionsAndOperators(numConditions);else if(numConditions>numPrevConditions)for(let i=numPrevConditions;i<numConditions;i++)this.createJoinOperatorPanel(),this.createOption();const orChecked="OR"===combinedModel.operator;this.eJoinOperatorsAnd.forEach((eJoinOperatorAnd=>eJoinOperatorAnd.setValue(!orChecked,!0))),this.eJoinOperatorsOr.forEach((eJoinOperatorOr=>eJoinOperatorOr.setValue(orChecked,!0))),conditions.forEach(((condition,position)=>{this.eTypes[position].setValue(condition.type,!0),this.setConditionIntoUi(condition,position)}))}else{const simpleModel=model;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(simpleModel.type,!0),this.setConditionIntoUi(simpleModel,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),AgPromise.resolve()}validateAndUpdateConditions(conditions){let numConditions=conditions.length;return numConditions>this.maxNumConditions&&(conditions.splice(this.maxNumConditions),_warnOnce('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),numConditions=this.maxNumConditions),numConditions}doesFilterPass(params){const model=this.getModel();if(null==model)return!0;const{operator}=model,models=[];if(operator){const combinedModel=model;models.push(...combinedModel.conditions??[])}else models.push(model);return models[operator&&"OR"===operator?"some":"every"]((m=>this.individualConditionPasses(params,m)))}setParams(params){super.setParams(params),this.setNumConditions(params),this.defaultJoinOperator=this.getDefaultJoinOperator(params.defaultJoinOperator),this.filterPlaceholder=params.filterPlaceholder,this.optionsFactory=new OptionsFactory,this.optionsFactory.init(params,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(params){this.maxNumConditions=params.maxNumConditions??2,this.maxNumConditions<1&&(_warnOnce('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=params.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(_warnOnce('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(_warnOnce('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const eType=this.createManagedBean(new AgSelect);this.eTypes.push(eType),eType.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(eType.getGui());const eConditionBody=this.createValueElement();this.eConditionBodies.push(eConditionBody),this.eFilterBody.appendChild(eConditionBody),this.putOptionsIntoDropdown(eType),this.resetType(eType);const position=this.getNumConditions()-1;this.forEachPositionInput(position,(element=>this.resetInput(element))),this.addChangedListeners(eType,position)}createJoinOperatorPanel(){const eJoinOperatorPanel=document.createElement("div");this.eJoinOperatorPanels.push(eJoinOperatorPanel),eJoinOperatorPanel.classList.add("ag-filter-condition");const eJoinOperatorAnd=this.createJoinOperator(this.eJoinOperatorsAnd,eJoinOperatorPanel,"and"),eJoinOperatorOr=this.createJoinOperator(this.eJoinOperatorsOr,eJoinOperatorPanel,"or");this.eFilterBody.appendChild(eJoinOperatorPanel);const index=this.eJoinOperatorPanels.length-1,uniqueGroupId=this.joinOperatorId++;this.resetJoinOperatorAnd(eJoinOperatorAnd,index,uniqueGroupId),this.resetJoinOperatorOr(eJoinOperatorOr,index,uniqueGroupId),this.isReadOnly()||(eJoinOperatorAnd.onValueChange(this.listener),eJoinOperatorOr.onValueChange(this.listener))}createJoinOperator(eJoinOperators,eJoinOperatorPanel,andOr){const eJoinOperator=this.createManagedBean(new AgRadioButton);return eJoinOperators.push(eJoinOperator),eJoinOperator.addCssClass("ag-filter-condition-operator"),eJoinOperator.addCssClass(`ag-filter-condition-operator-${andOr}`),eJoinOperatorPanel.appendChild(eJoinOperator.getGui()),eJoinOperator}getDefaultJoinOperator(defaultJoinOperator){return"AND"===defaultJoinOperator||"OR"===defaultJoinOperator?defaultJoinOperator:"AND"}createFilterListOptions(){const filterOptions=this.optionsFactory.getFilterOptions();this.filterListOptions=filterOptions.map((option=>"string"==typeof option?this.createBoilerplateListOption(option):this.createCustomListOption(option)))}putOptionsIntoDropdown(eType){this.filterListOptions.forEach((listOption=>{eType.addOption(listOption)})),eType.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(option){return{value:option,text:this.translate(option)}}createCustomListOption(option){const{displayKey}=option,customOption=this.optionsFactory.getCustomOption(option.displayKey);return{value:displayKey,text:customOption?this.localeService.getLocaleTextFunc()(customOption.displayKey,customOption.displayName):this.translate(displayKey)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const joinOperator=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,joinOperator)}updateNumConditions(){let lastUiCompletePosition=-1,areAllConditionsUiComplete=!0;for(let position=0;position<this.getNumConditions();position++)this.isConditionUiComplete(position)?lastUiCompletePosition=position:areAllConditionsUiComplete=!1;if(this.shouldAddNewConditionAtEnd(areAllConditionsUiComplete))this.createJoinOperatorPanel(),this.createOption();else{const activePosition=this.lastUiCompletePosition??this.getNumConditions()-2;if(lastUiCompletePosition<activePosition){this.removeConditionsAndOperators(activePosition+1);const removeStartPosition=lastUiCompletePosition+1,numConditionsToRemove=activePosition-removeStartPosition;numConditionsToRemove>0&&this.removeConditionsAndOperators(removeStartPosition,numConditionsToRemove),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=lastUiCompletePosition}updateConditionStatusesAndValues(lastUiCompletePosition,joinOperator){this.eTypes.forEach(((eType,position)=>{const disabled=this.isConditionDisabled(position,lastUiCompletePosition);eType.setDisabled(disabled||this.filterListOptions.length<=1),1===position&&(_setDisabled(this.eJoinOperatorPanels[0],disabled),this.eJoinOperatorsAnd[0].setDisabled(disabled),this.eJoinOperatorsOr[0].setDisabled(disabled))})),this.eConditionBodies.forEach(((element,index)=>{_setDisplayed(element,this.isConditionBodyVisible(index))}));const orChecked="OR"===(joinOperator??this.getJoinOperator());this.eJoinOperatorsAnd.forEach((eJoinOperatorAnd=>{eJoinOperatorAnd.setValue(!orChecked,!0)})),this.eJoinOperatorsOr.forEach((eJoinOperatorOr=>{eJoinOperatorOr.setValue(orChecked,!0)})),this.forEachInput(((element,index,position,numberOfInputs)=>{this.setElementDisplayed(element,index<numberOfInputs),this.setElementDisabled(element,this.isConditionDisabled(position,lastUiCompletePosition))})),this.resetPlaceholder()}shouldAddNewConditionAtEnd(areAllConditionsUiComplete){return areAllConditionsUiComplete&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(startPosition,deleteCount){if(startPosition>=this.getNumConditions())return;this.removeComponents(this.eTypes,startPosition,deleteCount),this.removeElements(this.eConditionBodies,startPosition,deleteCount),this.removeValueElements(startPosition,deleteCount);const joinOperatorIndex=Math.max(startPosition-1,0);this.removeElements(this.eJoinOperatorPanels,joinOperatorIndex,deleteCount),this.removeComponents(this.eJoinOperatorsAnd,joinOperatorIndex,deleteCount),this.removeComponents(this.eJoinOperatorsOr,joinOperatorIndex,deleteCount)}removeElements(elements,startPosition,deleteCount){this.removeItems(elements,startPosition,deleteCount).forEach((element=>_removeFromParent(element)))}removeComponents(components,startPosition,deleteCount){this.removeItems(components,startPosition,deleteCount).forEach((comp=>{_removeFromParent(comp.getGui()),this.destroyBean(comp)}))}removeItems(items,startPosition,deleteCount){return null==deleteCount?items.splice(startPosition):items.splice(startPosition,deleteCount)}afterGuiAttached(params){if(super.afterGuiAttached(params),this.resetPlaceholder(),!params?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{const firstInput=this.getInputs(0)[0];if(!firstInput)return;firstInput instanceof AgAbstractInputField&&firstInput.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const appliedModel=this.getModel();this.resetUiToActiveModel(appliedModel);let lastUiCompletePosition=-1,updatedLastUiCompletePosition=-1,conditionsRemoved=!1;const joinOperator=this.getJoinOperator();for(let position=this.getNumConditions()-1;position>=0;position--)if(this.isConditionUiComplete(position))-1===lastUiCompletePosition&&(lastUiCompletePosition=position,updatedLastUiCompletePosition=position);else{const positionBeforeLastUiCompletePosition=position<lastUiCompletePosition;(position>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(position-1)||positionBeforeLastUiCompletePosition)&&(this.removeConditionsAndOperators(position,1),conditionsRemoved=!0,positionBeforeLastUiCompletePosition&&updatedLastUiCompletePosition--)}let shouldUpdateConditionStatusesAndValues=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),shouldUpdateConditionStatusesAndValues=!0),this.shouldAddNewConditionAtEnd(updatedLastUiCompletePosition===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),shouldUpdateConditionStatusesAndValues=!0),shouldUpdateConditionStatusesAndValues&&this.updateConditionStatusesAndValues(updatedLastUiCompletePosition,joinOperator),conditionsRemoved&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=updatedLastUiCompletePosition}getPlaceholderText(defaultPlaceholder,position){let placeholder=this.translate(defaultPlaceholder);if(_isFunction(this.filterPlaceholder)){const filterPlaceholderFn=this.filterPlaceholder,filterOptionKey=this.eTypes[position].getValue();placeholder=filterPlaceholderFn({filterOptionKey,filterOption:this.translate(filterOptionKey),placeholder})}else"string"==typeof this.filterPlaceholder&&(placeholder=this.filterPlaceholder);return placeholder}resetPlaceholder(){const globalTranslate=this.localeService.getLocaleTextFunc();this.forEachInput(((element,index,position,numberOfInputs)=>{if(!(element instanceof AgAbstractInputField))return;const placeholder=0===index&&numberOfInputs>1?"inRangeStart":0===index?"filterOoo":"inRangeEnd",ariaLabel=0===index&&numberOfInputs>1?globalTranslate("ariaFilterFromValue","Filter from value"):0===index?globalTranslate("ariaFilterValue","Filter Value"):globalTranslate("ariaFilterToValue","Filter to Value");element.setInputPlaceholder(this.getPlaceholderText(placeholder,position)),element.setInputAriaLabel(ariaLabel)}))}setElementValue(element,value,fromFloatingFilter){element instanceof AgAbstractInputField&&element.setValue(null!=value?String(value):null,!0)}setElementDisplayed(element,displayed){element instanceof Component&&_setDisplayed(element.getGui(),displayed)}setElementDisabled(element,disabled){element instanceof Component&&_setDisabled(element.getGui(),disabled)}attachElementOnChange(element,listener){element instanceof AgAbstractInputField&&element.onValueChange(listener)}forEachInput(cb){this.getConditionTypes().forEach(((type,position)=>{this.forEachPositionTypeInput(position,type,cb)}))}forEachPositionInput(position,cb){const type=this.getConditionType(position);this.forEachPositionTypeInput(position,type,cb)}forEachPositionTypeInput(position,type,cb){const numberOfInputs=this.getNumberOfInputs(type),inputs=this.getInputs(position);for(let index=0;index<inputs.length;index++){const input=inputs[index];null!=input&&cb(input,index,position,numberOfInputs)}}isConditionDisabled(position,lastUiCompletePosition){return!!this.isReadOnly()||0!==position&&position>lastUiCompletePosition+1}isConditionBodyVisible(position){const type=this.getConditionType(position);return this.getNumberOfInputs(type)>0}isConditionUiComplete(position){if(position>=this.getNumConditions())return!1;return"empty"!==this.getConditionType(position)&&!this.getValues(position).some((v=>null==v))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const conditions=[];for(let position=0;position<this.getNumConditions();position++)this.isConditionUiComplete(position)&&conditions.push(this.createCondition(position));return conditions}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let i=this.getNumConditions();i<this.numAlwaysVisibleConditions;i++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(silent){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach((eType=>this.resetType(eType))),this.eJoinOperatorsAnd.forEach(((eJoinOperatorAnd,index)=>this.resetJoinOperatorAnd(eJoinOperatorAnd,index,this.joinOperatorId+index))),this.eJoinOperatorsOr.forEach(((eJoinOperatorOr,index)=>this.resetJoinOperatorOr(eJoinOperatorOr,index,this.joinOperatorId+index))),this.joinOperatorId++,this.forEachInput((element=>this.resetInput(element))),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,silent||this.onUiChanged(),AgPromise.resolve()}resetType(eType){const filteringLabel=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");eType.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(filteringLabel).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(eJoinOperatorAnd,index,uniqueGroupId){this.resetJoinOperator(eJoinOperatorAnd,index,this.isDefaultOperator("AND"),this.translate("andCondition"),uniqueGroupId)}resetJoinOperatorOr(eJoinOperatorOr,index,uniqueGroupId){this.resetJoinOperator(eJoinOperatorOr,index,this.isDefaultOperator("OR"),this.translate("orCondition"),uniqueGroupId)}resetJoinOperator(eJoinOperator,index,value,label,uniqueGroupId){this.updateJoinOperatorDisabled(eJoinOperator.setValue(value,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${uniqueGroupId}`).setLabel(label),index)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach(((eJoinOperator,index)=>this.updateJoinOperatorDisabled(eJoinOperator,index))),this.eJoinOperatorsOr.forEach(((eJoinOperator,index)=>this.updateJoinOperatorDisabled(eJoinOperator,index)))}updateJoinOperatorDisabled(eJoinOperator,index){eJoinOperator.setDisabled(this.isReadOnly()||index>0)}resetInput(element){this.setElementValue(element,null),this.setElementDisabled(element,this.isReadOnly())}setConditionIntoUi(model,position){const values=this.mapValuesFromModel(model);this.forEachInput(((element,index,elPosition)=>{elPosition===position&&this.setElementValue(element,null!=values[index]?values[index]:null)}))}setValueFromFloatingFilter(value){this.forEachInput(((element,index,position)=>{this.setElementValue(element,0===index&&0===position?value:null,!0)}))}isDefaultOperator(operator){return operator===this.defaultJoinOperator}addChangedListeners(eType,position){this.isReadOnly()||(eType.onValueChange(this.listener),this.forEachPositionInput(position,(element=>{this.attachElementOnChange(element,this.listener)})))}individualConditionPasses(params,filterModel){const cellValue=this.getCellValue(params.node),values=this.mapValuesFromModel(filterModel),customFilterOption=this.optionsFactory.getCustomOption(filterModel.type),customFilterResult=this.evaluateCustomFilter(customFilterOption,values,cellValue);return null!=customFilterResult?customFilterResult:null==cellValue?this.evaluateNullValue(filterModel.type):this.evaluateNonNullValue(values,cellValue,filterModel,params)}evaluateCustomFilter(customFilterOption,values,cellValue){if(null==customFilterOption)return;const{predicate}=customFilterOption;return null==predicate||values.some((v=>null==v))?void 0:predicate(values,cellValue)}isBlank(cellValue){return null==cellValue||"string"==typeof cellValue&&0===cellValue.trim().length}hasInvalidInputs(){return!1}},ScalarFilter=class extends SimpleFilter{setParams(params){super.setParams(params),this.scalarFilterParams=params}evaluateNullValue(filterType){switch(filterType){case"equals":case"notEqual":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(values,cellValue,filterModel){const comparator=this.comparator(),compareResult=null!=values[0]?comparator(values[0],cellValue):0;switch(filterModel.type){case"equals":return 0===compareResult;case"notEqual":return 0!==compareResult;case"greaterThan":return compareResult>0;case"greaterThanOrEqual":return compareResult>=0;case"lessThan":return compareResult<0;case"lessThanOrEqual":return compareResult<=0;case"inRange":{const compareToResult=comparator(values[1],cellValue);return this.scalarFilterParams.inRangeInclusive?compareResult>=0&&compareToResult<=0:compareResult>0&&compareToResult<0}case"blank":return this.isBlank(cellValue);case"notBlank":return!this.isBlank(cellValue);default:return _warnOnce('Unexpected type of filter "'+filterModel.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}};function _isEventFromPrintableCharacter(event){if(event.altKey||event.ctrlKey||event.metaKey)return!1;return 1===event.key.length}function _isUserSuppressingKeyboardEvent(gos,keyboardEvent,rowNode,column,editing){const colDefFunc=column?column.getColDef().suppressKeyboardEvent:void 0;if(!colDefFunc)return!1;const params=gos.addGridCommonParams({event:keyboardEvent,editing,column,node:rowNode,data:rowNode.data,colDef:column.getColDef()});if(colDefFunc){if(colDefFunc(params))return!0}return!1}var AgInputTextField=class extends AgAbstractInputField{constructor(config,className="ag-text-field",inputType="text"){super(config,className,inputType)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(value,silent){return this.eInput.value!==value&&(this.eInput.value=_exists(value)?value:""),super.setValue(value,silent)}setStartValue(value){this.setValue(value,!0)}preventDisallowedCharacters(){const pattern=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListeners(this.eInput,{keydown:event=>{_isEventFromPrintableCharacter(event)&&event.key&&!pattern.test(event.key)&&event.preventDefault()},paste:e=>{const text=e.clipboardData?.getData("text");text&&text.split("").some((c=>!pattern.test(c)))&&e.preventDefault()}})}},AgInputTextFieldSelector={selector:"AG-INPUT-TEXT-FIELD",component:AgInputTextField},AgInputNumberField=class extends AgInputTextField{constructor(config){super(config,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const floatedValue=parseFloat(this.eInput.value),value=isNaN(floatedValue)?"":this.normalizeValue(floatedValue.toString());this.value!==value&&this.setValue(value)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision,min,max,step}=this.config;"number"==typeof precision&&this.setPrecision(precision),"number"==typeof min&&this.setMin(min),"number"==typeof max&&this.setMax(max),"number"==typeof step&&this.setStep(step)}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}normalizeValue(value){if(""===value)return"";null!=this.precision&&(value=this.adjustPrecision(value));const val=parseFloat(value);return null!=this.min&&val<this.min?value=this.min.toString():null!=this.max&&val>this.max&&(value=this.max.toString()),value}adjustPrecision(value,isScientificNotation){if(null==this.precision)return value;if(isScientificNotation){const floatString=parseFloat(value).toFixed(this.precision);return parseFloat(floatString).toString()}const parts=String(value).split(".");if(parts.length>1){if(parts[1].length<=this.precision)return value;if(this.precision>0)return`${parts[0]}.${parts[1].slice(0,this.precision)}`}return parts[0]}setMin(min){return this.min===min||(this.min=min,_addOrRemoveAttribute(this.eInput,"min",min)),this}setMax(max){return this.max===max||(this.max=max,_addOrRemoveAttribute(this.eInput,"max",max)),this}setPrecision(precision){return this.precision=precision,this}setStep(step){return this.step===step||(this.step=step,_addOrRemoveAttribute(this.eInput,"step",step)),this}setValue(value,silent){return this.setValueOrInputValue((v=>super.setValue(v,silent)),(()=>this),value)}setStartValue(value){return this.setValueOrInputValue((v=>super.setValue(v,!0)),(v=>{this.eInput.value=v}),value)}setValueOrInputValue(setValueFunc,setInputValueOnlyFunc,value){if(_exists(value)){let setInputValueOnly=this.isScientificNotation(value);if(setInputValueOnly&&this.eInput.validity.valid)return setValueFunc(value);if(!setInputValueOnly){setInputValueOnly=(value=this.adjustPrecision(value))!=this.normalizeValue(value)}if(setInputValueOnly)return setInputValueOnlyFunc(value)}return setValueFunc(value)}getValue(){if(!this.eInput.validity.valid)return;const inputValue=this.eInput.value;return this.isScientificNotation(inputValue)?this.adjustPrecision(inputValue,!0):super.getValue()}isScientificNotation(value){return"string"==typeof value&&value.includes("e")}},AgInputNumberFieldSelector={selector:"AG-INPUT-NUMBER-FIELD",component:AgInputNumberField},DEFAULT_NUMBER_FILTER_OPTIONS=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],SimpleFilterModelFormatter=class{constructor(localeService,optionsFactory,valueFormatter){this.localeService=localeService,this.optionsFactory=optionsFactory,this.valueFormatter=valueFormatter}getModelAsString(model){if(!model)return null;const isCombined=null!=model.operator,translate=this.localeService.getLocaleTextFunc();if(isCombined){const combinedModel=model,customOptions=(combinedModel.conditions??[]).map((condition=>this.getModelAsString(condition))),joinOperatorTranslateKey="AND"===combinedModel.operator?"andCondition":"orCondition";return customOptions.join(` ${translate(joinOperatorTranslateKey,FILTER_LOCALE_TEXT[joinOperatorTranslateKey])} `)}if("blank"===model.type||"notBlank"===model.type)return translate(model.type,model.type);{const condition=model,customOption=this.optionsFactory.getCustomOption(condition.type),{displayKey,displayName,numberOfInputs}=customOption||{};return displayKey&&displayName&&0===numberOfInputs?(translate(displayKey,displayName),displayName):this.conditionToString(condition,customOption)}}updateParams(params){this.optionsFactory=params.optionsFactory}formatValue(value){return this.valueFormatter?this.valueFormatter(value??null)??"":String(value)}},NumberFilterModelFormatter=class extends SimpleFilterModelFormatter{conditionToString(condition,options){const{numberOfInputs}=options||{};return"inRange"==condition.type||2===numberOfInputs?`${this.formatValue(condition.filter)}-${this.formatValue(condition.filterTo)}`:null!=condition.filter?this.formatValue(condition.filter):`${condition.type}`}};function getAllowedCharPattern(filterParams){const{allowedCharPattern}=filterParams??{};return allowedCharPattern??null}var DEFAULT_TEXT_FILTER_OPTIONS=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],TextFilterModelFormatter=class extends SimpleFilterModelFormatter{conditionToString(condition,options){const{numberOfInputs}=options||{};return"inRange"==condition.type||2===numberOfInputs?`${condition.filter}-${condition.filterTo}`:null!=condition.filter?`${condition.filter}`:`${condition.type}`}};function trimInputForFilter(value){const trimmedInput=value&&value.trim();return""===trimmedInput?value:trimmedInput}function toNumber(value){if("number"==typeof value)return value;if("string"==typeof value){const parsed=parseInt(value);if(isNaN(parsed))return;return parsed}}function toConstrainedNum(min,max=Number.MAX_VALUE){return value=>{const num=toNumber(value);if(!(null==num||num<min||num>max))return num}}function _padStartWidthZeros(value,totalStringSize){return value.toString().padStart(totalStringSize,"0")}function _formatNumberCommas(value,thousandSeparator,decimalSeparator){return"number"!=typeof value?"":value.toString().replace(".",decimalSeparator).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${thousandSeparator}`)}function _serialiseDate(date,includeTime=!0,separator="-"){if(!date)return null;let serialised=[date.getFullYear(),date.getMonth()+1,date.getDate()].map((part=>_padStartWidthZeros(part,2))).join(separator);return includeTime&&(serialised+=" "+[date.getHours(),date.getMinutes(),date.getSeconds()].map((part=>_padStartWidthZeros(part,2))).join(":")),serialised}var calculateOrdinal=value=>{if(value>3&&value<21)return"th";switch(value%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function _dateToFormattedString(date,format="YYYY-MM-DD"){const fullYear=_padStartWidthZeros(date.getFullYear(),4),months=["January","February","March","April","May","June","July","August","September","October","November","December"],days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],replace={YYYY:()=>fullYear.slice(fullYear.length-4,fullYear.length),YY:()=>fullYear.slice(fullYear.length-2,fullYear.length),Y:()=>`${date.getFullYear()}`,MMMM:()=>months[date.getMonth()],MMM:()=>months[date.getMonth()].slice(0,3),MM:()=>_padStartWidthZeros(date.getMonth()+1,2),Mo:()=>`${date.getMonth()+1}${calculateOrdinal(date.getMonth()+1)}`,M:()=>`${date.getMonth()+1}`,Do:()=>`${date.getDate()}${calculateOrdinal(date.getDate())}`,DD:()=>_padStartWidthZeros(date.getDate(),2),D:()=>`${date.getDate()}`,dddd:()=>days[date.getDay()],ddd:()=>days[date.getDay()].slice(0,3),dd:()=>days[date.getDay()].slice(0,2),do:()=>`${date.getDay()}${calculateOrdinal(date.getDay())}`,d:()=>`${date.getDay()}`},regexp=new RegExp(Object.keys(replace).join("|"),"g");return format.replace(regexp,(match=>match in replace?replace[match]():match))}function _parseDateTimeFromString(value){if(!value)return null;const[dateStr,timeStr]=value.split(" ");if(!dateStr)return null;const fields=dateStr.split("-").map((f=>parseInt(f,10)));if(3!==fields.filter((f=>!isNaN(f))).length)return null;const[year,month,day]=fields,date=new Date(year,month-1,day);if(date.getFullYear()!==year||date.getMonth()!==month-1||date.getDate()!==day)return null;if(!timeStr||"00:00:00"===timeStr)return date;const[hours,minutes,seconds]=timeStr.split(":").map((part=>parseInt(part,10)));return hours>=0&&hours<24&&date.setHours(hours),minutes>=0&&minutes<60&&date.setMinutes(minutes),seconds>=0&&seconds<60&&date.setSeconds(seconds),date}var DateCompWrapper=class{constructor(context,userComponentFactory,dateComponentParams,eParent,onReady){this.alive=!0,this.context=context,this.eParent=eParent;userComponentFactory.getDateCompDetails(dateComponentParams).newAgStackInstance().then((dateComp=>{this.alive?(this.dateComp=dateComp,dateComp&&(eParent.appendChild(dateComp.getGui()),dateComp.afterGuiAttached&&dateComp.afterGuiAttached(),this.tempValue&&dateComp.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled),onReady?.(this))):context.destroyBean(dateComp)}))}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(value){this.dateComp?this.dateComp.setDate(value):this.tempValue=value}setDisabled(disabled){this.dateComp?this.setDateCompDisabled(disabled):this.disabled=disabled}setDisplayed(displayed){_setDisplayed(this.eParent,displayed)}setInputPlaceholder(placeholder){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(placeholder)}setInputAriaLabel(label){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(label)}afterGuiAttached(params){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(params)}updateParams(params){let hasRefreshed=!1;if(this.dateComp?.refresh&&"function"==typeof this.dateComp.refresh){null!==this.dateComp.refresh(params)&&(hasRefreshed=!0)}if(!hasRefreshed&&this.dateComp?.onParamsUpdated&&"function"==typeof this.dateComp.onParamsUpdated){null!==this.dateComp.onParamsUpdated(params)&&_warnOnce("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}}setDateCompDisabled(disabled){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(disabled)}},DEFAULT_DATE_FILTER_OPTIONS=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],DateFilterModelFormatter=class extends SimpleFilterModelFormatter{constructor(dateFilterParams,localeService,optionsFactory){super(localeService,optionsFactory),this.dateFilterParams=dateFilterParams}conditionToString(condition,options){const{type}=condition,{numberOfInputs}=options||{},isRange="inRange"==type||2===numberOfInputs,dateFrom=_parseDateTimeFromString(condition.dateFrom),dateTo=_parseDateTimeFromString(condition.dateTo),format=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(isRange){return`${null!==dateFrom?_dateToFormattedString(dateFrom,format):"null"}-${null!==dateTo?_dateToFormattedString(dateTo,format):"null"}`}return null!=dateFrom?_dateToFormattedString(dateFrom,format):`${type}`}updateParams(params){super.updateParams(params),this.dateFilterParams=params.dateFilterParams}},SetLeftFeature=class extends BeanStub{constructor(columnOrGroup,eCell,beans,colsSpanning){super(),this.columnOrGroup=columnOrGroup,this.columnOrGroup=columnOrGroup,this.eCell=eCell,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=colsSpanning,this.beans=beans}setColsSpanning(colsSpanning){this.colsSpanning=colsSpanning,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?_last(this.colsSpanning):this.columnOrGroup}postConstruct(){const onLeftChanged=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:onLeftChanged}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:onLeftChanged}),this.addManagedPropertyListener("domLayout",onLeftChanged)}setLeftFirstTime(){const suppressMoveAnimation=this.beans.gos.get("suppressColumnMoveAnimation"),oldLeftExists=_exists(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&oldLeftExists&&!suppressMoveAnimation?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const colOrGroup=this.getColumnOrGroup(),left=colOrGroup.getLeft(),oldLeft=colOrGroup.getOldLeft(),oldActualLeft=this.modifyLeftForPrintLayout(colOrGroup,oldLeft),actualLeft=this.modifyLeftForPrintLayout(colOrGroup,left);this.setLeft(oldActualLeft),this.actualLeft=actualLeft,this.beans.columnAnimationService.executeNextVMTurn((()=>{this.actualLeft===actualLeft&&this.setLeft(actualLeft)}))}onLeftChanged(){const colOrGroup=this.getColumnOrGroup(),left=colOrGroup.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(colOrGroup,left),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(colOrGroup,leftPosition){if(!this.beans.gos.isDomLayout("print"))return leftPosition;if("left"===colOrGroup.getPinned())return leftPosition;const leftWidth=this.beans.visibleColsService.getColsLeftWidth();if("right"===colOrGroup.getPinned()){return leftWidth+this.beans.visibleColsService.getBodyContainerWidth()+leftPosition}return leftWidth+leftPosition}setLeft(value){if(_exists(value)&&(this.eCell.style.left=`${value}px`),isColumnGroup(this.columnOrGroup)){const children=this.columnOrGroup.getLeafColumns();if(!children.length)return;children.length>1&&function _setAriaColSpan(element,colSpan){_setAriaAttribute(element,"colspan",colSpan)}(this.ariaEl,children.length)}}};function _getHeaderClassesFromColDef(abstractColDef,gos,column,columnGroup){return _missing(abstractColDef)?[]:getColumnClassesFromCollDef(abstractColDef.headerClass,abstractColDef,gos,column,columnGroup)}function refreshFirstAndLastStyles(comp,column,presentedColsService){comp.addOrRemoveCssClass("ag-column-first",presentedColsService.isColAtEdge(column,"first")),comp.addOrRemoveCssClass("ag-column-last",presentedColsService.isColAtEdge(column,"last"))}function getColumnClassesFromCollDef(classesOrFunc,abstractColDef,gos,column,columnGroup){if(_missing(classesOrFunc))return[];let classToUse;if("function"==typeof classesOrFunc){const params=function getClassParams(abstractColDef,gos,column,columnGroup){return gos.addGridCommonParams({colDef:abstractColDef,column,columnGroup})}(abstractColDef,gos,column,columnGroup);classToUse=classesOrFunc(params)}else classToUse=classesOrFunc;return"string"==typeof classToUse?[classToUse]:Array.isArray(classToUse)?[...classToUse]:[]}var instanceIdSequence2=0,_AbstractHeaderCellCtrl=class _AbstractHeaderCellCtrl extends BeanStub{constructor(columnGroupChild,beans,parentRowCtrl){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=columnGroupChild,this.parentRowCtrl=parentRowCtrl,this.beans=beans,this.instanceId=columnGroupChild.getUniqueId()+"-"+instanceIdSequence2++}wireBeans(beans){this.pinnedWidthService=beans.pinnedWidthService,this.focusService=beans.focusService,this.userComponentFactory=beans.userComponentFactory,this.ctrlsService=beans.ctrlsService,this.dragAndDropService=beans.dragAndDropService,this.menuService=beans.menuService}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],(()=>this.refreshTabIndex()))}shouldStopEventPropagation(e){const{headerRowIndex,column}=this.focusService.getFocusedHeader();return function _isUserSuppressingHeaderKeyboardEvent(gos,keyboardEvent,headerRowIndex,column){const colDef=column.getDefinition(),colDefFunc=colDef&&colDef.suppressHeaderKeyboardEvent;return!!_exists(colDefFunc)&&!!colDefFunc(gos.addGridCommonParams({colDef,column,headerRowIndex,event:keyboardEvent}))}(this.gos,e,headerRowIndex,column)}getWrapperHasFocus(){return this.gos.getActiveDomElement()===this.eGui}setGui(eGui){this.eGui=eGui,this.addDomData(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){const event={type:"headerFocused",column:this.column};this.eventService.dispatchEvent(event)}onDisplayedColumnsChanged(){this.comp&&this.column&&(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){const{comp,column,beans}=this;refreshFirstAndLastStyles(comp,column,beans.visibleColsService)}refreshAriaColIndex(){const{beans,column}=this,colIdx=beans.visibleColsService.getAriaColIndex(column);_setAriaColIndex(this.eGui,colIdx)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&this.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){this.gos.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(e){const activeEl=this.gos.getActiveDomElement(),isLeftOrRight=e.key===KeyCode.LEFT||e.key===KeyCode.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),activeEl!==this.eGui||!e.shiftKey&&!e.altKey)return;if((this.isResizing||isLeftOrRight)&&(e.preventDefault(),e.stopImmediatePropagation()),!isLeftOrRight)return;const isLeft=e.key===KeyCode.LEFT!==this.gos.get("enableRtl"),direction=HorizontalDirection[isLeft?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const diff=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(diff,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(direction)}getViewportAdjustedResizeDiff(e){let diff=this.getResizeDiff(e);if(this.column.getPinned()){const leftWidth=this.pinnedWidthService.getPinnedLeftWidth(),rightWidth=this.pinnedWidthService.getPinnedRightWidth(),bodyWidth=_getInnerWidth(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(leftWidth+rightWidth+diff>bodyWidth){if(!(bodyWidth>leftWidth+rightWidth))return 0;diff=bodyWidth-leftWidth-rightWidth}}return diff}getResizeDiff(e){let isLeft=e.key===KeyCode.LEFT!==this.gos.get("enableRtl");const pinned=this.column.getPinned(),isRtl=this.gos.get("enableRtl");return pinned&&isRtl!==("right"===pinned)&&(isLeft=!isLeft),(isLeft?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout((()=>{this.resizeFeature?.toggleColumnResizing(!1)}),150))}handleKeyDown(e){const wrapperHasFocus=this.getWrapperHasFocus();switch(e.key){case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:wrapperHasFocus&&e.preventDefault()}}addDomData(){const key=_AbstractHeaderCellCtrl.DOM_DATA_KEY_HEADER_CTRL;this.gos.setDomData(this.eGui,key,this),this.addDestroyFunc((()=>this.gos.setDomData(this.eGui,key,null)))}getGui(){return this.eGui}focus(event){return!!this.eGui&&(this.lastFocusEvent=event||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(mouseEvent,touchEvent,column){const event=mouseEvent??touchEvent;this.gos.get("preventDefaultOnContextMenu")&&event.preventDefault();const columnToUse=isColumn(column)?column:void 0;this.menuService.isHeaderContextMenuEnabled(columnToUse)&&this.menuService.showHeaderContextMenu(columnToUse,mouseEvent,touchEvent),this.dispatchColumnMouseEvent("columnHeaderContextMenu",column)}dispatchColumnMouseEvent(eventType,column){const event={type:eventType,column};this.eventService.dispatchEvent(event)}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};_AbstractHeaderCellCtrl.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var AbstractHeaderCellCtrl=_AbstractHeaderCellCtrl,HoverFeature=class extends BeanStub{wireBeans(beans){this.columnHoverService=beans.columnHoverService}constructor(columns,element){super(),this.columns=columns,this.element=element}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},VERSION="32.0.2";var SimpleFloatingFilter=class extends Component{wireBeans(beans){this.columnNameService=beans.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(event){return event&&event.afterFloatingFilter}isEventFromDataChange(event){return event?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(model){if(!model)return void(this.lastType=this.optionsFactory.getDefaultOption());let condition;if(model.operator){condition=model.conditions[0]}else condition=model;this.lastType=condition.type}canWeEditAfterModelFromParentFilter(model){if(!model)return this.isTypeEditable(this.lastType);if(model.operator)return!1;const simpleModel=model;return this.isTypeEditable(simpleModel.type)}init(params){this.setSimpleParams(params,!1)}setSimpleParams(params,update=!0){this.optionsFactory=new OptionsFactory,this.optionsFactory.init(params.filterParams,this.getDefaultFilterOptions()),update||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!params.filterParams.readOnly;const editable=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(editable)}onParamsUpdated(params){this.refresh(params)}refresh(params){this.setSimpleParams(params)}doesFilterHaveSingleInput(filterType){const customFilterOption=this.optionsFactory.getCustomOption(filterType),{numberOfInputs}=customFilterOption||{};return null==numberOfInputs||1==numberOfInputs}isTypeEditable(type){return!!type&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(type)&&["inRange","empty","blank","notBlank"].indexOf(type)<0}getAriaLabel(params){return`${this.columnNameService.getDisplayNameForColumn(params.column,"header",!0)} ${this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},FloatingFilterTextInputService=class extends BeanStub{constructor(params){super(),this.params=params,this.eFloatingFilterTextInput=null,this.valueChangedListener=()=>{}}setupGui(parentElement){this.eFloatingFilterTextInput=this.createManagedBean(new AgInputTextField(this.params?.config));const eInput=this.eFloatingFilterTextInput.getGui();parentElement.appendChild(eInput);const listener=e=>this.valueChangedListener(e);this.addManagedListeners(eInput,{input:listener,keydown:listener})}setEditable(editable){this.eFloatingFilterTextInput.setDisabled(!editable)}setAutoComplete(autoComplete){this.eFloatingFilterTextInput.setAutoComplete(autoComplete)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(value,silent){this.eFloatingFilterTextInput.setValue(value,silent)}setValueChangedListener(listener){this.valueChangedListener=listener}setParams(params){this.setAriaLabel(params.ariaLabel),void 0!==params.autoComplete&&this.setAutoComplete(params.autoComplete)}setAriaLabel(ariaLabel){this.eFloatingFilterTextInput.setInputAriaLabel(ariaLabel)}},TextInputFloatingFilter=class extends SimpleFloatingFilter{constructor(){super(...arguments),this.eFloatingFilterInputContainer=null}postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(model,event){this.isEventFromFloatingFilter(event)||this.isEventFromDataChange(event)||(this.setLastTypeFromModel(model),this.setEditable(this.canWeEditAfterModelFromParentFilter(model)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(model)))}init(params){this.setupFloatingFilterInputService(params),super.init(params),this.setTextInputParams(params)}setupFloatingFilterInputService(params){this.floatingFilterInputService=this.createFloatingFilterInputService(params),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(params){this.params=params;const autoComplete=params.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(params),autoComplete}),this.applyActive=isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const debounceMs=getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),toDebounce=_debounce(this.syncUpWithParentFilter.bind(this),debounceMs);this.floatingFilterInputService.setValueChangedListener(toDebounce)}}onParamsUpdated(params){this.refresh(params)}refresh(params){super.refresh(params),this.setTextInputParams(params)}recreateFloatingFilterInputService(params){const value=this.floatingFilterInputService.getValue();_clearElement(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(params),this.floatingFilterInputService.setValue(value,!0)}syncUpWithParentFilter(e){const isEnterKey=e.key===KeyCode.ENTER;if(this.applyActive&&!isEnterKey)return;let value=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(value=trimInputForFilter(value),this.floatingFilterInputService.setValue(value,!0)),this.params.parentFilterInstance((filterInstance=>{filterInstance&&filterInstance.onFloatingFilterChanged(this.getLastType()||null,value||null)}))}setEditable(editable){this.floatingFilterInputService.setEditable(editable)}},FloatingFilterNumberInputService=class extends BeanStub{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(parentElement){this.eFloatingFilterNumberInput=this.createManagedBean(new AgInputNumberField),this.eFloatingFilterTextInput=this.createManagedBean(new AgInputTextField),this.eFloatingFilterTextInput.setDisabled(!0);const eNumberInput=this.eFloatingFilterNumberInput.getGui(),eTextInput=this.eFloatingFilterTextInput.getGui();parentElement.appendChild(eNumberInput),parentElement.appendChild(eTextInput),this.setupListeners(eNumberInput,(e=>this.valueChangedListener(e))),this.setupListeners(eTextInput,(e=>this.valueChangedListener(e)))}setEditable(editable){this.numberInputActive=editable,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(autoComplete){this.eFloatingFilterNumberInput.setAutoComplete(autoComplete),this.eFloatingFilterTextInput.setAutoComplete(autoComplete)}getValue(){return this.getActiveInputElement().getValue()}setValue(value,silent){this.getActiveInputElement().setValue(value,silent)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(listener){this.valueChangedListener=listener}setupListeners(element,listener){this.addManagedListeners(element,{input:listener,keydown:listener})}setParams(params){this.setAriaLabel(params.ariaLabel),void 0!==params.autoComplete&&this.setAutoComplete(params.autoComplete)}setAriaLabel(ariaLabel){this.eFloatingFilterNumberInput.setInputAriaLabel(ariaLabel),this.eFloatingFilterTextInput.setInputAriaLabel(ariaLabel)}};var FilterCoreModule={version:VERSION,moduleName:"@ag-grid-community/filter-core",beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(beans){this.columnModel=beans.columnModel,this.dataTypeService=beans.dataTypeService,this.quickFilterService=beans.quickFilterService,this.advancedFilterService=beans.advancedFilterService,this.columnFilterService=beans.columnFilterService}postConstruct(){this.addManagedEventListeners({columnValueChanged:this.refreshFiltersForAggregations.bind(this),columnPivotChanged:this.refreshFiltersForAggregations.bind(this),columnPivotModeChanged:this.refreshFiltersForAggregations.bind(this),newColumnsLoaded:this.updateAdvancedFilterColumns.bind(this),columnVisible:this.updateAdvancedFilterColumns.bind(this),advancedFilterEnabledChanged:({enabled})=>this.onAdvancedFilterEnabledChanged(enabled),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],(()=>{this.onFilterChanged({source:"api"})})),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",(()=>{this.updateAggFiltering(),this.onFilterChanged()})),this.addManagedPropertyListener("advancedFilterModel",(event=>this.setAdvancedFilterModel(event.currentValue))),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const isFilterPresent=this.gos.getCallback("isExternalFilterPresent");return"function"==typeof isFilterPresent&&isFilterPresent({})}doesExternalFilterPass(node){const doesFilterPass=this.gos.get("doesExternalFilterPass");return"function"==typeof doesFilterPass&&doesFilterPass(node)}setFilterModel(model,source="api"){this.isAdvancedFilterEnabled()?this.warnAdvancedFilters():this.columnFilterService?.setFilterModel(model,source)}getFilterModel(){return this.columnFilterService?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.columnFilterService?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.columnFilterService?.isAggregateFilterPresent()}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(enabled){enabled?this.columnFilterService?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilterService?.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){return!!this.advancedFilterService?.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){this.quickFilterService?.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gos.getGroupAggFiltering()&&this.onFilterChanged()}onFilterChanged(params={}){const{source,additionalEventAttributes,columns=[]}=params;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(params):AgPromise.resolve()).then((()=>{const filterChangedEvent={source,type:"filterChanged",columns};additionalEventAttributes&&_mergeDeep(filterChangedEvent,additionalEventAttributes),this.eventService.dispatchEvent(filterChangedEvent),this.columnFilterService?.updateAfterFilterChanged()}))}isSuppressFlashingCellsBecauseFiltering(){return!!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilterService?.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gos.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(filterToSkip,node){return this.doesRowPassFilter({rowNode:node,filterInstanceToSkip:filterToSkip})}doesRowPassAggregateFilters(params){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(params.rowNode))&&!(this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(params.rowNode,params.filterInstanceToSkip))}doesRowPassFilter(params){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(params.rowNode))&&(!(this.isExternalFilterPresent()&&!this.doesExternalFilterPass(params.rowNode))&&(!(this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(params.rowNode,params.filterInstanceToSkip))&&!(this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(params.rowNode))))}isFilterActive(column){return!!this.columnFilterService?.isFilterActive(column)}getOrCreateFilterWrapper(column){return this.columnFilterService?.getOrCreateFilterWrapper(column)??null}getDefaultFloatingFilter(column){return this.columnFilterService.getDefaultFloatingFilter(column)}createFilterParams(column,colDef){return this.columnFilterService.createFilterParams(column,colDef)}isFilterAllowed(column){return!this.isAdvancedFilterEnabled()&&!!this.columnFilterService?.isFilterAllowed(column)}getFloatingFilterCompDetails(column,showParentFilter){return this.columnFilterService?.getFloatingFilterCompDetails(column,showParentFilter)}getCurrentFloatingFilterParentModel(column){return this.columnFilterService?.getCurrentFloatingFilterParentModel(column)}destroyFilter(column,source="api"){this.columnFilterService?.destroyFilter(column,source)}areFilterCompsDifferent(oldCompDetails,newCompDetails){return!!this.columnFilterService?.areFilterCompsDifferent(oldCompDetails,newCompDetails)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(expression){this.isAdvancedFilterEnabled()&&(this.dataTypeService?.isPendingInference()?this.advancedFilterModelUpdateQueue.push(expression):(this.advancedFilterService.setModel(expression??null),this.onFilterChanged({source:"advancedFilter"})))}toggleAdvancedFilterBuilder(show,source){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(source,show)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return!this.isAdvancedFilterEnabled()&&!!this.columnFilterService?.hasFloatingFilters()}getFilterInstance(key,callback){if(!this.isAdvancedFilterEnabled())return this.columnFilterService?.getFilterInstance(key,callback);this.warnAdvancedFilters()}getColumnFilterInstance(key){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):this.columnFilterService?.getColumnFilterInstance(key)??Promise.resolve(void 0)}warnAdvancedFilters(){_warnOnce("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(eCompToInsertBefore){this.advancedFilterService?.getCtrl().setupHeaderComp(eCompToInsertBefore)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach((model=>this.setAdvancedFilterModel(model))),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(key){return this.columnFilterService?.getColumnFilterModel(key)}setColumnFilterModel(key,model){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):this.columnFilterService?.setColumnFilterModel(key,model)??Promise.resolve()}}]},FilterApiModule={version:VERSION,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:function isAnyFilterPresent(beans){return!!beans.filterManager?.isAnyFilterPresent()},onFilterChanged:function onFilterChanged(beans,source="api"){beans.filterManager?.onFilterChanged({source})}},dependantModules:[FilterCoreModule]},ColumnFilterModule={version:VERSION,moduleName:"@ag-grid-community/column-filter",beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(beans){this.valueService=beans.valueService,this.columnModel=beans.columnModel,this.rowModel=beans.rowModel,this.userComponentFactory=beans.userComponentFactory,this.rowRenderer=beans.rowRenderer,this.dataTypeService=beans.dataTypeService,this.filterManager=beans.filterManager}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...this.gos.get("initialState")?.filter?.filterModel??{}}}setFilterModel(model,source="api"){if(this.dataTypeService?.isPendingInference())return void this.filterModelUpdateQueue.push({model,source});const allPromises=[],previousModel=this.getFilterModel();if(model){const modelKeys=new Set(Object.keys(model));this.allColumnFilters.forEach(((filterWrapper,colId)=>{const newModel=model[colId];allPromises.push(this.setModelOnFilterWrapper(filterWrapper.filterPromise,newModel)),modelKeys.delete(colId)})),modelKeys.forEach((colId=>{const column=this.columnModel.getColDefCol(colId)||this.columnModel.getCol(colId);if(!column)return void _warnOnce("setFilterModel() - no column found for colId: "+colId);if(!column.isFilterAllowed())return void _warnOnce("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+colId);const filterWrapper=this.getOrCreateFilterWrapper(column);filterWrapper?allPromises.push(this.setModelOnFilterWrapper(filterWrapper.filterPromise,model[colId])):_warnOnce("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+colId)}))}else this.allColumnFilters.forEach((filterWrapper=>{allPromises.push(this.setModelOnFilterWrapper(filterWrapper.filterPromise,null))}));AgPromise.all(allPromises).then((()=>{const currentModel=this.getFilterModel(),columns=[];this.allColumnFilters.forEach(((filterWrapper,colId)=>{_jsonEquals(previousModel?previousModel[colId]:null,currentModel?currentModel[colId]:null)||columns.push(filterWrapper.column)})),columns.length>0&&this.filterManager?.onFilterChanged({columns,source})}))}setModelOnFilterWrapper(filterPromise,newModel){return new AgPromise((resolve=>{filterPromise.then((filter=>{"function"!=typeof filter.setModel&&(_warnOnce("filter missing setModel method, which is needed for setFilterModel"),resolve()),(filter.setModel(newModel)||AgPromise.resolve()).then((()=>resolve()))}))}))}getFilterModel(){const result={};return this.allColumnFilters.forEach(((filterWrapper,key)=>{const model=this.getModelFromFilterWrapper(filterWrapper);_exists(model)&&(result[key]=model)})),result}getModelFromFilterWrapper(filterWrapper){const{filter}=filterWrapper;return filter?"function"!=typeof filter.getModel?(_warnOnce("filter API missing getModel method, which is needed for getFilterModel"),null):filter.getModel():this.getModelFromInitialState(filterWrapper.column)}getModelFromInitialState(column){return this.initialFilterModel[column.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return!!this.allColumnFilters.size&&(this.allColumnFilters.forEach((filterWrapper=>this.disposeFilterWrapper(filterWrapper,"advancedFilterEnabled"))),!0)}doAggregateFiltersPass(node,filterToSkip){return this.doColumnFiltersPass(node,filterToSkip,!0)}updateActiveFilters(){const groupFilterEnabled=!!this.gos.getGroupAggFiltering(),isAggFilter=column=>{if(!column.isPrimary())return!0;const isShowingPrimaryColumns=!this.columnModel.isPivotActive();return!(!column.isValueActive()||!isShowingPrimaryColumns)&&(!!this.columnModel.isPivotMode()||groupFilterEnabled)},activeAggregateFilters=[],activeColumnFilters=[];return this.forEachColumnFilter(((filter,filterWrapper)=>{const filterActive=(filter=>!!filter&&(filter.isFilterActive?filter.isFilterActive():(_warnOnce("Filter is missing isFilterActive() method"),!1)))(filter);filterActive&&(isAggFilter(filterWrapper.column)?activeAggregateFilters.push(filter):activeColumnFilters.push(filter))})).then((()=>{this.activeAggregateFilters=activeAggregateFilters,this.activeColumnFilters=activeColumnFilters}))}updateFilterFlagInColumns(source,additionalEventAttributes){return this.forEachColumnFilter(((filter,filterWrapper)=>filterWrapper.column.setFilterActive(filter.isFilterActive(),source,additionalEventAttributes)))}forEachColumnFilter(callback){return AgPromise.all(Array.from(this.allColumnFilters.values()).map((filterWrapper=>filterWrapper.filterPromise.then((filter=>callback(filter,filterWrapper))))))}doColumnFiltersPass(node,filterToSkip,targetAggregates){const{data,aggData}=node,targetedFilters=targetAggregates?this.activeAggregateFilters:this.activeColumnFilters,targetedData=targetAggregates?aggData:data;for(let i=0;i<targetedFilters.length;i++){const filter=targetedFilters[i];if(null!=filter&&filter!==filterToSkip){if("function"!=typeof filter.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!filter.doesFilterPass({node,data:targetedData}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(params){const action=()=>this.filterManager?.onFilterChanged(params);this.rowRenderer.isRefreshInProgress()?setTimeout(action,0):action()}updateBeforeFilterChanged(params={}){const{filterInstance,additionalEventAttributes}=params;return this.updateDependentFilters(),this.updateActiveFilters().then((()=>this.updateFilterFlagInColumns("filterChanged",additionalEventAttributes).then((()=>{this.allColumnFilters.forEach((filterWrapper=>{filterWrapper.filterPromise&&filterWrapper.filterPromise.then((filter=>{filter&&filter!==filterInstance&&filter.onAnyFilterChanged&&filter.onAnyFilterChanged()}))})),this.processingFilterChange=!0}))))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(source){this.forEachColumnFilter((filter=>{filter.onNewRowsLoaded&&filter.onNewRowsLoaded()})).then((()=>this.updateFilterFlagInColumns(source,{afterDataChange:!0}))).then((()=>this.updateActiveFilters()))}createValueGetter(column){return({node})=>this.valueService.getValue(column,node,!0)}createGetValue(filterColumn){return(rowNode,column)=>{const columnToUse=column?this.columnModel.getCol(column):filterColumn;return columnToUse?this.valueService.getValue(columnToUse,rowNode,!0):void 0}}isFilterActive(column){const{filter}=this.cachedFilter(column)??{};return filter?filter.isFilterActive():null!=this.getModelFromInitialState(column)}getOrCreateFilterWrapper(column){if(!column.isFilterAllowed())return null;let filterWrapper=this.cachedFilter(column);return filterWrapper||(filterWrapper=this.createFilterWrapper(column),this.setColumnFilterWrapper(column,filterWrapper)),filterWrapper}cachedFilter(column){return this.allColumnFilters.get(column.getColId())}getDefaultFilter(column){let defaultFilter;if(ModuleRegistry.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))defaultFilter="agSetColumnFilter";else{const cellDataType=this.dataTypeService?.getBaseDataType(column);defaultFilter="number"===cellDataType?"agNumberColumnFilter":"date"===cellDataType||"dateString"===cellDataType?"agDateColumnFilter":"agTextColumnFilter"}return defaultFilter}getDefaultFloatingFilter(column){let defaultFloatingFilterType;if(ModuleRegistry.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId))defaultFloatingFilterType="agSetColumnFloatingFilter";else{const cellDataType=this.dataTypeService?.getBaseDataType(column);defaultFloatingFilterType="number"===cellDataType?"agNumberColumnFloatingFilter":"date"===cellDataType||"dateString"===cellDataType?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return defaultFloatingFilterType}createFilterInstance(column,filterWrapper){const defaultFilter=this.getDefaultFilter(column),colDef=column.getColDef();let filterInstance;const params={...this.createFilterParams(column,colDef),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(filterInstance,column)(),filterChangedCallback:additionalEventAttributes=>this.filterChangedCallbackFactory(filterInstance,column)(additionalEventAttributes),doesRowPassOtherFilter:node=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(filterInstance,node)},compDetails=this.userComponentFactory.getFilterDetails(colDef,params,defaultFilter);return compDetails?{filterPromise:()=>{const filterPromise=compDetails.newAgStackInstance();return null!=filterPromise&&filterPromise.then((r=>{filterInstance=r,filterWrapper&&(filterWrapper.filter=r)})),filterPromise},compDetails}:{filterPromise:null,compDetails:null}}createFilterParams(column,colDef){return this.gos.addGridCommonParams({column,colDef:_cloneObject(colDef),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(column),getValue:this.createGetValue(column),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(column){const filterWrapper={column,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise,compDetails}=this.createFilterInstance(column,filterWrapper);return filterWrapper.filterPromise=filterPromise?.()??null,filterWrapper.compDetails=compDetails,filterWrapper}onColumnsChanged(){const columns=[];this.allColumnFilters.forEach(((wrapper,colId)=>{let currentColumn;currentColumn=wrapper.column.isPrimary()?this.columnModel.getColDefCol(colId):this.columnModel.getCol(colId),currentColumn&&currentColumn===wrapper.column||(columns.push(wrapper.column),this.disposeFilterWrapper(wrapper,"columnChanged"),this.disposeColumnListener(colId))})),columns.length>0?this.filterManager?.onFilterChanged({columns,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const groupColumns=this.columnModel.getAutoCols();groupColumns?.forEach((groupColumn=>{"agGroupColumnFilter"===groupColumn.getColDef().filter&&this.getOrCreateFilterWrapper(groupColumn)}))}isFilterAllowed(column){if(!column.isFilterAllowed())return!1;const{filter}=this.allColumnFilters.get(column.getColId())??{};return!filter||("function"!=typeof filter?.isFilterAllowed||filter.isFilterAllowed())}getFloatingFilterCompDetails(column,showParentFilter){const parentFilterInstance=callback=>{const filterComponent=this.getOrCreateFilterWrapper(column)?.filterPromise;null!=filterComponent&&filterComponent.then((instance=>{callback(_unwrapUserComp(instance))}))},colDef=column.getColDef(),filterParams={...this.createFilterParams(column,colDef),filterChangedCallback:()=>parentFilterInstance((filterInstance=>this.filterChangedCallbackFactory(filterInstance,column)()))},finalFilterParams=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(colDef,FilterComponent,filterParams);let defaultFloatingFilterType=function getDefaultFloatingFilterType(frameworkOverrides,def,getFromDefault){if(null==def)return null;let defaultFloatingFilterType=null;const{compName,jsComp,fwComp}=UserComponentFactory.getCompKeys(frameworkOverrides,def,FilterComponent);compName?defaultFloatingFilterType={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[compName]:null==jsComp&&null==fwComp&&!0===def.filter&&(defaultFloatingFilterType=getFromDefault());return defaultFloatingFilterType}(this.frameworkOverrides,colDef,(()=>this.getDefaultFloatingFilter(column)));null==defaultFloatingFilterType&&(defaultFloatingFilterType="agReadOnlyFloatingFilter");const params={column,filterParams:finalFilterParams,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(column),parentFilterInstance,showParentFilter,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(colDef,params,defaultFloatingFilterType)}getCurrentFloatingFilterParentModel(column){return this.getModelFromFilterWrapper(this.cachedFilter(column)??{column})}destroyFilter(column,source="api"){const colId=column.getColId(),filterWrapper=this.allColumnFilters.get(colId);this.disposeColumnListener(colId),delete this.initialFilterModel[colId],filterWrapper&&(this.disposeFilterWrapper(filterWrapper,source),this.filterManager?.onFilterChanged({columns:[column],source:"api"}))}disposeColumnListener(colId){const columnListener=this.allColumnListeners.get(colId);columnListener&&(this.allColumnListeners.delete(colId),columnListener())}disposeFilterWrapper(filterWrapper,source){filterWrapper.filterPromise.then((filter=>{this.destroyBean(filter),filterWrapper.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(filterWrapper.column.getColId());const event={type:"filterDestroyed",source,column:filterWrapper.column};this.eventService.dispatchEvent(event)}))}filterModifiedCallbackFactory(filter,column){return()=>{const event={type:"filterModified",column,filterInstance:filter};this.eventService.dispatchEvent(event)}}filterChangedCallbackFactory(filter,column){return additionalEventAttributes=>{const params={filter,additionalEventAttributes,columns:[column],source:additionalEventAttributes?.source??"columnFilter"};this.callOnFilterChangedOutsideRenderCycle(params)}}checkDestroyFilter(colId){const filterWrapper=this.allColumnFilters.get(colId);if(!filterWrapper)return;const column=filterWrapper.column,{compDetails}=column.isFilterAllowed()?this.createFilterInstance(column):{compDetails:null};if(this.areFilterCompsDifferent(filterWrapper.compDetails,compDetails))return void this.destroyFilter(column,"paramsUpdated");const newFilterParams=column.getColDef().filterParams;filterWrapper.filterPromise?filterWrapper.filterPromise.then((filter=>{!1===(!filter?.refresh||filter.refresh({...this.createFilterParams(column,column.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(filter,column),filterChangedCallback:this.filterChangedCallbackFactory(filter,column),doesRowPassOtherFilter:node=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(filter,node),...newFilterParams}))&&this.destroyFilter(column,"paramsUpdated")})):this.destroyFilter(column,"paramsUpdated")}setColumnFilterWrapper(column,filterWrapper){const colId=column.getColId();this.allColumnFilters.set(colId,filterWrapper),this.allColumnListeners.set(colId,this.addManagedListeners(column,{colDefChanged:()=>this.checkDestroyFilter(colId)})[0])}areFilterCompsDifferent(oldCompDetails,newCompDetails){if(!newCompDetails||!oldCompDetails)return!0;const{componentClass:oldComponentClass}=oldCompDetails,{componentClass:newComponentClass}=newCompDetails;return!(oldComponentClass===newComponentClass||oldComponentClass?.render&&newComponentClass?.render&&oldComponentClass.render===newComponentClass.render)}hasFloatingFilters(){return this.columnModel.getCols().some((col=>col.getColDef().floatingFilter))}getFilterInstance(key,callback){callback&&this.getFilterInstanceImpl(key).then((filter=>{const unwrapped=_unwrapUserComp(filter);callback(unwrapped)}))}getColumnFilterInstance(key){return new Promise((resolve=>{this.getFilterInstanceImpl(key).then((filter=>{resolve(_unwrapUserComp(filter))}))}))}getFilterInstanceImpl(key){const column=this.columnModel.getColDefCol(key);if(!column)return AgPromise.resolve(void 0);const filterPromise=this.getOrCreateFilterWrapper(column)?.filterPromise;return filterPromise??AgPromise.resolve(null)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach((({model,source})=>this.setFilterModel(model,source))),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach((({key,model,resolve})=>{this.setColumnFilterModel(key,model).then((()=>resolve()))})),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(key){const filterWrapper=this.getFilterWrapper(key);return filterWrapper?this.getModelFromFilterWrapper(filterWrapper):null}setColumnFilterModel(key,model){if(this.dataTypeService?.isPendingInference()){let resolve=()=>{};const promise=new Promise((res=>{resolve=res}));return this.columnFilterModelUpdateQueue.push({key,model,resolve}),promise}const column=this.columnModel.getColDefCol(key),filterWrapper=column?this.getOrCreateFilterWrapper(column):null;return filterWrapper?(promise=this.setModelOnFilterWrapper(filterWrapper.filterPromise,model),new Promise((resolve=>{promise.then((result=>resolve(result)))}))):Promise.resolve();var promise}getFilterWrapper(key){const column=this.columnModel.getColDefCol(key);return column?this.cachedFilter(column)??null:null}destroy(){super.destroy(),this.allColumnFilters.forEach((filterWrapper=>this.disposeFilterWrapper(filterWrapper,"gridDestroyed"))),this.allColumnListeners.clear()}}],dependantModules:[FilterCoreModule]},ColumnFilterApiModule={version:VERSION,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:function isColumnFilterPresent(beans){return!!beans.filterManager?.isColumnFilterPresent()||!!beans.filterManager?.isAggregateFilterPresent()},getFilterInstance:function getFilterInstance(beans,key,callback){return beans.filterManager?.getFilterInstance(key,callback)},getColumnFilterInstance:function getColumnFilterInstance(beans,key){return beans.filterManager?.getColumnFilterInstance(key)??Promise.resolve(void 0)},destroyFilter:function destroyFilter(beans,key){const column=beans.columnModel.getColDefCol(key);if(column)return beans.filterManager?.destroyFilter(column,"api")},setFilterModel:function setFilterModel(beans,model){beans.frameworkOverrides.wrapIncoming((()=>beans.filterManager?.setFilterModel(model)))},getFilterModel:function getFilterModel(beans){return beans.filterManager?.getFilterModel()??{}},getColumnFilterModel:function getColumnFilterModel(beans,column){return beans.filterManager?.getColumnFilterModel(column)??null},setColumnFilterModel:function setColumnFilterModel(beans,column,model){return beans.filterManager?.setColumnFilterModel(column,model)??Promise.resolve()},showColumnFilter:function showColumnFilter(beans,colKey){const column=beans.columnModel.getCol(colKey);column?beans.menuService.showFilterMenu({column,containerType:"columnFilter",positionBy:"auto"}):_errorOnce(`column '${colKey}' not found`)}},dependantModules:[ColumnFilterModule,FilterApiModule]},FloatingFilterCoreModule={version:VERSION,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:class extends AbstractHeaderCellCtrl{constructor(column,beans,parentRowCtrl){super(column,beans,parentRowCtrl),this.iconCreated=!1,this.column=column}setComp(comp,eGui,eButtonShowMainFilter,eFloatingFilterBody){this.comp=comp,this.eButtonShowMainFilter=eButtonShowMainFilter,this.eFloatingFilterBody=eFloatingFilterBody,this.setGui(eGui),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(),this.addManagedListeners(this.column,{colDefChanged:this.onColDefChanged.bind(this)})}resizeHeader(){}moveHeader(){}setupActive(){const colDef=this.column.getColDef(),filterExists=!!colDef.filter,floatingFilterExists=!!colDef.floatingFilter;this.active=filterExists&&floatingFilterExists}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const eMenuIcon=_createIconNoSpan("filter",this.gos,this.column);eMenuIcon&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(eMenuIcon))}setupFocus(){this.createManagedBean(new ManagedFocusFeature(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const localeTextFunc=this.localeService.getLocaleTextFunc();_setAriaLabel(this.eButtonShowMainFilter,localeTextFunc("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gos.getActiveDomElement()===this.eGui)return;const nextFocusableEl=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(nextFocusableEl)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void nextFocusableEl.focus();const nextFocusableColumn=this.findNextColumnWithFloatingFilter(e.shiftKey);nextFocusableColumn&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:nextFocusableColumn},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(backwards){const presentedColsService=this.beans.visibleColsService;let nextCol=this.column;do{if(nextCol=backwards?presentedColsService.getColBefore(nextCol):presentedColsService.getColAfter(nextCol),!nextCol)break}while(!nextCol.getColDef().filter||!nextCol.getColDef().floatingFilter);return nextCol}handleKeyDown(e){super.handleKeyDown(e);const wrapperHasFocus=this.getWrapperHasFocus();switch(e.key){case KeyCode.UP:case KeyCode.DOWN:wrapperHasFocus||e.preventDefault();case KeyCode.LEFT:case KeyCode.RIGHT:if(wrapperHasFocus)return;e.stopPropagation();case KeyCode.ENTER:wrapperHasFocus&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case KeyCode.ESCAPE:wrapperHasFocus||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const notFromHeaderWrapper=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),fromWithinHeader=!!e.relatedTarget&&_isElementChildOfClass(e.relatedTarget,"ag-floating-filter");if(notFromHeaderWrapper&&fromWithinHeader&&e.target===this.eGui){const lastFocusEvent=this.lastFocusEvent,fromTab=!(!lastFocusEvent||lastFocusEvent.key!==KeyCode.TAB);if(lastFocusEvent&&fromTab){const shouldFocusLast=lastFocusEvent.shiftKey;this.focusService.focusInto(this.eGui,shouldFocusLast)}}const rowIndex=this.getRowIndex();this.beans.focusService.setFocusedHeader(rowIndex,this.column)}setupHover(){this.createManagedBean(new HoverFeature([this.column],this.eGui));const listener=()=>{if(!this.gos.get("columnHoverHighlight"))return;const hovered=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",hovered)};this.addManagedEventListeners({columnHoverChanged:listener}),listener()}setupLeft(){const setLeftFeature=new SetLeftFeature(this.column,this.eGui,this.beans);this.createManagedBean(setLeftFeature)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const compDetails=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter()));compDetails&&this.setCompDetails(compDetails)}setCompDetails(compDetails){this.userCompDetails=compDetails,this.comp.setCompDetails(compDetails)}showParentFilter(){const eventSource=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:eventSource,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager}=this.beans,syncWithFilter=event=>{if("filterDestroyed"===event?.source&&!this.isAlive())return;const compPromise=this.comp.getFloatingFilterComp();compPromise&&compPromise.then((comp=>{if(comp){const parentModel=filterManager?.getCurrentFloatingFilterParentModel(this.column),filterChangedEvent=event?{...event,columns:event.columns??[],source:"api"===event.source?"api":"columnFilter"}:null;comp.onParentModelChanged(parentModel,filterChangedEvent)}}))};[this.destroySyncListener]=this.addManagedListeners(this.column,{filterChanged:syncWithFilter}),filterManager?.isFilterActive(this.column)&&syncWithFilter(null)}setupWidth(){const listener=()=>{const width=`${this.column.getActualWidth()}px`;this.comp.setWidth(width)};this.addManagedListeners(this.column,{widthChanged:listener}),listener()}setupFilterChangedListener(){this.active&&([this.destroyFilterChangedListener]=this.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const isFilterAllowed=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(isFilterAllowed),this.highlightFilterButtonWhenActive&&isFilterAllowed&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){const wasActive=this.active;this.setupActive();const becomeActive=!wasActive&&this.active;wasActive&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const newCompDetails=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter())):null,compPromise=this.comp.getFloatingFilterComp();compPromise&&newCompDetails?compPromise.then((compInstance=>{!compInstance||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,newCompDetails)?this.updateCompDetails(newCompDetails,becomeActive):this.updateFloatingFilterParams(newCompDetails)})):this.updateCompDetails(newCompDetails,becomeActive)}updateCompDetails(compDetails,becomeActive){this.isAlive()&&(this.setCompDetails(compDetails),this.setupFilterButton(),this.setupUi(),becomeActive&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(userCompDetails){if(!userCompDetails)return;const params=userCompDetails.params;this.comp.getFloatingFilterComp()?.then((floatingFilter=>{let hasRefreshed=!1;if(floatingFilter?.refresh&&"function"==typeof floatingFilter.refresh){null!==floatingFilter.refresh(params)&&(hasRefreshed=!0)}if(!hasRefreshed&&floatingFilter?.onParamsUpdated&&"function"==typeof floatingFilter.onParamsUpdated){null!==floatingFilter.onParamsUpdated(params)&&_warnOnce("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}}))}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}}}],dependantModules:[ColumnFilterModule]},ReadOnlyFloatingFilterModule={version:VERSION,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:class extends Component{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>\n            </div>',[AgInputTextFieldSelector]),this.eFloatingFilterText=null}wireBeans(beans){this.columnNameService=beans.columnNameService}destroy(){super.destroy()}init(params){this.params=params;const displayName=this.columnNameService.getDisplayNameForColumn(params.column,"header",!0),translate=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${displayName} ${translate("ariaFilterInput","Filter Input")}`)}onParentModelChanged(parentModel){null!=parentModel?this.params.parentFilterInstance((filterInstance=>{if(filterInstance.getModelAsString){const modelAsString=filterInstance.getModelAsString(parentModel);this.eFloatingFilterText.setValue(modelAsString)}})):this.eFloatingFilterText.setValue("")}onParamsUpdated(params){this.refresh(params)}refresh(params){this.init(params)}}}],dependantModules:[FloatingFilterCoreModule]},SimpleFloatingFilterModule={version:VERSION,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[{version:VERSION,moduleName:"@ag-grid-community/simple-filter",dependantModules:[ColumnFilterModule],userComponents:[{name:"agTextColumnFilter",classImp:class extends SimpleFilter{constructor(){super("textFilter"),this.defaultFormatter=from=>from,this.defaultLowercaseFormatter=from=>null==from?null:from.toString().toLowerCase(),this.defaultMatcher=({filterOption,value,filterText})=>{if(null==filterText)return!1;switch(filterOption){case"contains":return value.indexOf(filterText)>=0;case"notContains":return value.indexOf(filterText)<0;case"equals":return value===filterText;case"notEqual":return value!=filterText;case"startsWith":return 0===value.indexOf(filterText);case"endsWith":{const index=value.lastIndexOf(filterText);return index>=0&&index===value.length-filterText.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(params){this.textFilterParams=params,super.setParams(params),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new TextFilterModelFormatter(this.localeService,this.optionsFactory)}getTextMatcher(){const legacyComparator=this.textFilterParams.textCustomComparator;return legacyComparator?(_warnOnce("textCustomComparator is deprecated, use textMatcher instead."),({filterOption,value,filterText})=>legacyComparator(filterOption,value,filterText)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(position){const type=this.getConditionType(position),model={filterType:this.getFilterType(),type},values=this.getValuesWithSideEffects(position,!0);return values.length>0&&(model.filter=values[0]),values.length>1&&(model.filterTo=values[1]),model}getFilterType(){return"text"}areSimpleModelsEqual(aSimple,bSimple){return aSimple.filter===bSimple.filter&&aSimple.filterTo===bSimple.filterTo&&aSimple.type===bSimple.type}getInputs(position){return position>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[position],this.eValuesTo[position]]}getValues(position){return this.getValuesWithSideEffects(position,!1)}getValuesWithSideEffects(position,applySideEffects){const result=[];return this.forEachPositionInput(position,((element,index,_elPosition,numberOfInputs)=>{if(index<numberOfInputs){let value=_makeNull(element.getValue());applySideEffects&&this.textFilterParams.trimInput&&(value=trimInputForFilter(value)??null,element.setValue(value,!0)),result.push(value)}})),result}getDefaultFilterOptions(){return DEFAULT_TEXT_FILTER_OPTIONS}createValueElement(){const eCondition=document.createElement("div");return eCondition.classList.add("ag-filter-body"),_setAriaRole(eCondition,"presentation"),this.createFromToElement(eCondition,this.eValuesFrom,"from"),this.createFromToElement(eCondition,this.eValuesTo,"to"),eCondition}createFromToElement(eCondition,eValues,fromTo){const eValue=this.createManagedBean(new AgInputTextField);eValue.addCssClass(`ag-filter-${fromTo}`),eValue.addCssClass("ag-filter-filter"),eValues.push(eValue),eCondition.appendChild(eValue.getGui())}removeValueElements(startPosition,deleteCount){this.removeComponents(this.eValuesFrom,startPosition,deleteCount),this.removeComponents(this.eValuesTo,startPosition,deleteCount)}mapValuesFromModel(filterModel){const{filter,filterTo,type}=filterModel||{};return[filter||null,filterTo||null].slice(0,this.getNumberOfInputs(type))}evaluateNullValue(filterType){return!!filterType&&["notEqual","notContains","blank"].indexOf(filterType)>=0}evaluateNonNullValue(values,cellValue,filterModel,params){const formattedValues=values.map((v=>this.formatter(v)))||[],cellValueFormatted=this.formatter(cellValue),{api,colDef,column,context,textFormatter}=this.textFilterParams;if("blank"===filterModel.type)return this.isBlank(cellValue);if("notBlank"===filterModel.type)return!this.isBlank(cellValue);const matcherParams={api,colDef,column,context,node:params.node,data:params.data,filterOption:filterModel.type,value:cellValueFormatted,textFormatter};return formattedValues.some((v=>this.matcher({...matcherParams,filterText:v})))}getModelAsString(model){return this.filterModelFormatter.getModelAsString(model)??""}}},{name:"agNumberColumnFilter",classImp:class extends ScalarFilter{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(params){return this.numberFilterParams.allowedCharPattern===params.allowedCharPattern&&super.refresh(params)}mapValuesFromModel(filterModel){const{filter,filterTo,type}=filterModel||{};return[this.processValue(filter),this.processValue(filterTo)].slice(0,this.getNumberOfInputs(type))}getDefaultDebounceMs(){return 500}comparator(){return(left,right)=>left===right?0:left<right?1:-1}setParams(params){this.numberFilterParams=params,super.setParams(params),this.filterModelFormatter=new NumberFilterModelFormatter(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return DEFAULT_NUMBER_FILTER_OPTIONS}setElementValue(element,value,fromFloatingFilter){const valueToSet=!fromFloatingFilter&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(value??null):value;super.setElementValue(element,valueToSet)}createValueElement(){const allowedCharPattern=getAllowedCharPattern(this.numberFilterParams),eCondition=document.createElement("div");return eCondition.classList.add("ag-filter-body"),_setAriaRole(eCondition,"presentation"),this.createFromToElement(eCondition,this.eValuesFrom,"from",allowedCharPattern),this.createFromToElement(eCondition,this.eValuesTo,"to",allowedCharPattern),eCondition}createFromToElement(eCondition,eValues,fromTo,allowedCharPattern){const eValue=this.createManagedBean(allowedCharPattern?new AgInputTextField({allowedCharPattern}):new AgInputNumberField);eValue.addCssClass(`ag-filter-${fromTo}`),eValue.addCssClass("ag-filter-filter"),eValues.push(eValue),eCondition.appendChild(eValue.getGui())}removeValueElements(startPosition,deleteCount){this.removeComponents(this.eValuesFrom,startPosition,deleteCount),this.removeComponents(this.eValuesTo,startPosition,deleteCount)}getValues(position){const result=[];return this.forEachPositionInput(position,((element,index,_elPosition,numberOfInputs)=>{index<numberOfInputs&&result.push(this.processValue(this.stringToFloat(element.getValue())))})),result}areSimpleModelsEqual(aSimple,bSimple){return aSimple.filter===bSimple.filter&&aSimple.filterTo===bSimple.filterTo&&aSimple.type===bSimple.type}getFilterType(){return"number"}processValue(value){return null==value||isNaN(value)?null:value}stringToFloat(value){if("number"==typeof value)return value;let filterText=_makeNull(value);return null!=filterText&&""===filterText.trim()&&(filterText=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(filterText):null==filterText||"-"===filterText.trim()?null:parseFloat(filterText)}createCondition(position){const type=this.getConditionType(position),model={filterType:this.getFilterType(),type},values=this.getValues(position);return values.length>0&&(model.filter=values[0]),values.length>1&&(model.filterTo=values[1]),model}getInputs(position){return position>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[position],this.eValuesTo[position]]}getModelAsString(model){return this.filterModelFormatter.getModelAsString(model)??""}hasInvalidInputs(){let invalidInputs=!1;return this.forEachInput((element=>{element.getInputElement().validity.valid||(invalidInputs=!0)})),invalidInputs}}},{name:"agDateColumnFilter",classImp:class extends ScalarFilter{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=Infinity,this.minValidDate=null,this.maxValidDate=null}wireBeans(beans){super.wireBeans(beans),this.context=beans.context,this.userComponentFactory=beans.userComponentFactory}afterGuiAttached(params){super.afterGuiAttached(params),this.dateConditionFromComps[0].afterGuiAttached(params)}mapValuesFromModel(filterModel){const{dateFrom,dateTo,type}=filterModel||{};return[dateFrom&&_parseDateTimeFromString(dateFrom)||null,dateTo&&_parseDateTimeFromString(dateTo)||null].slice(0,this.getNumberOfInputs(type))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(filterDate,cellValue){return null==cellValue||cellValue<filterDate?-1:cellValue>filterDate?1:0}setParams(params){this.dateFilterParams=params,super.setParams(params);const yearParser=(param,fallback)=>{if(null!=params[param]){if(!isNaN(params[param]))return null==params[param]?fallback:Number(params[param]);_warnOnce(`DateFilter ${param} is not a number`)}return fallback};this.minValidYear=yearParser("minValidYear",1e3),this.maxValidYear=yearParser("maxValidYear",Infinity),this.minValidYear>this.maxValidYear&&_warnOnce("DateFilter minValidYear should be <= maxValidYear"),params.minValidDate?this.minValidDate=params.minValidDate instanceof Date?params.minValidDate:_parseDateTimeFromString(params.minValidDate):this.minValidDate=null,params.maxValidDate?this.maxValidDate=params.maxValidDate instanceof Date?params.maxValidDate:_parseDateTimeFromString(params.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&_warnOnce("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new DateFilterModelFormatter(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(element){const dateCompWrapper=new DateCompWrapper(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},element);return this.addDestroyFunc((()=>dateCompWrapper.destroy())),dateCompWrapper}setElementValue(element,value){element.setDate(value)}setElementDisplayed(element,displayed){element.setDisplayed(displayed)}setElementDisabled(element,disabled){element.setDisabled(disabled)}getDefaultFilterOptions(){return DEFAULT_DATE_FILTER_OPTIONS}createValueElement(){const eCondition=this.gos.getDocument().createElement("div");return eCondition.classList.add("ag-filter-body"),this.createFromToElement(eCondition,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(eCondition,this.eConditionPanelsTo,this.dateConditionToComps,"to"),eCondition}createFromToElement(eCondition,eConditionPanels,dateConditionComps,fromTo){const eConditionPanel=this.gos.getDocument().createElement("div");eConditionPanel.classList.add(`ag-filter-${fromTo}`),eConditionPanel.classList.add(`ag-filter-date-${fromTo}`),eConditionPanels.push(eConditionPanel),eCondition.appendChild(eConditionPanel),dateConditionComps.push(this.createDateCompWrapper(eConditionPanel))}removeValueElements(startPosition,deleteCount){this.removeDateComps(this.dateConditionFromComps,startPosition,deleteCount),this.removeDateComps(this.dateConditionToComps,startPosition,deleteCount),this.removeItems(this.eConditionPanelsFrom,startPosition,deleteCount),this.removeItems(this.eConditionPanelsTo,startPosition,deleteCount)}removeDateComps(components,startPosition,deleteCount){this.removeItems(components,startPosition,deleteCount).forEach((comp=>comp.destroy()))}isValidDateValue(value){if(null===value)return!1;if(this.minValidDate){if(value<this.minValidDate)return!1}else if(value.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(value>this.maxValidDate)return!1}else if(value.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(position){if(!super.isConditionUiComplete(position))return!1;let valid=!0;return this.forEachInput(((element,index,elPosition,numberOfInputs)=>{elPosition!==position||!valid||index>=numberOfInputs||(valid=valid&&this.isValidDateValue(element.getDate()))})),valid}areSimpleModelsEqual(aSimple,bSimple){return aSimple.dateFrom===bSimple.dateFrom&&aSimple.dateTo===bSimple.dateTo&&aSimple.type===bSimple.type}getFilterType(){return"date"}createCondition(position){const type=this.getConditionType(position),model={},values=this.getValues(position);return values.length>0&&(model.dateFrom=_serialiseDate(values[0])),values.length>1&&(model.dateTo=_serialiseDate(values[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type,...model}}resetPlaceholder(){const globalTranslate=this.localeService.getLocaleTextFunc(),placeholder=this.translate("dateFormatOoo"),ariaLabel=globalTranslate("ariaFilterValue","Filter Value");this.forEachInput((element=>{element.setInputPlaceholder(placeholder),element.setInputAriaLabel(ariaLabel)}))}getInputs(position){return position>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[position],this.dateConditionToComps[position]]}getValues(position){const result=[];return this.forEachPositionInput(position,((element,index,_elPosition,numberOfInputs)=>{index<numberOfInputs&&result.push(element.getDate())})),result}translate(key){return"lessThan"===key?super.translate("before"):"greaterThan"===key?super.translate("after"):super.translate(key)}getModelAsString(model){return this.filterModelFormatter.getModelAsString(model)??""}}},{name:"agDateInput",classImp:class extends Component{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>\n            </div>',[AgInputTextFieldSelector]),this.eDateInput=null}destroy(){super.destroy()}init(params){this.params=params,this.setParams(params);const inputElement=this.eDateInput.getInputElement();this.addManagedListeners(inputElement,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||inputElement.focus()},input:e=>{e.target===this.gos.getActiveDomElement()&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(params){const inputElement=this.eDateInput.getInputElement(),shouldUseBrowserDatePicker=this.shouldUseBrowserDatePicker(params);this.usingSafariDatePicker=shouldUseBrowserDatePicker&&_isBrowserSafari(),inputElement.type=shouldUseBrowserDatePicker?"date":"text";const{minValidYear,maxValidYear,minValidDate,maxValidDate}=params.filterParams||{};if(minValidDate&&minValidYear&&_warnOnce("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),maxValidDate&&maxValidYear&&_warnOnce("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),minValidDate&&maxValidDate){const[parsedMinValidDate,parsedMaxValidDate]=[minValidDate,maxValidDate].map((v=>v instanceof Date?v:_parseDateTimeFromString(v)));parsedMinValidDate&&parsedMaxValidDate&&parsedMinValidDate.getTime()>parsedMaxValidDate.getTime()&&_warnOnce("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}minValidDate?minValidDate instanceof Date?inputElement.min=_dateToFormattedString(minValidDate):inputElement.min=minValidDate:minValidYear&&(inputElement.min=`${minValidYear}-01-01`),maxValidDate?maxValidDate instanceof Date?inputElement.max=_dateToFormattedString(maxValidDate):inputElement.max=maxValidDate:maxValidYear&&(inputElement.max=`${maxValidYear}-12-31`)}onParamsUpdated(params){this.refresh(params)}refresh(params){this.params=params,this.setParams(params)}getDate(){return _parseDateTimeFromString(this.eDateInput.getValue())}setDate(date){this.eDateInput.setValue(_serialiseDate(date,!1))}setInputPlaceholder(placeholder){this.eDateInput.setInputPlaceholder(placeholder)}setInputAriaLabel(ariaLabel){this.eDateInput.setAriaLabel(ariaLabel)}setDisabled(disabled){this.eDateInput.setDisabled(disabled)}afterGuiAttached(params){params&&params.suppressFocus||this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(params){return params.filterParams&&null!=params.filterParams.browserDatePicker?params.filterParams.browserDatePicker:_isBrowserChrome()||_isBrowserFirefox()||_isBrowserSafari()&&_getSafariVersion()>=14.1}}}]},FloatingFilterCoreModule],userComponents:[{name:"agTextColumnFloatingFilter",classImp:class extends TextInputFloatingFilter{init(params){super.init(params),this.filterModelFormatter=new TextFilterModelFormatter(this.localeService,this.optionsFactory)}onParamsUpdated(params){this.refresh(params)}refresh(params){super.refresh(params),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return DEFAULT_TEXT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new FloatingFilterTextInputService)}}},{name:"agNumberColumnFloatingFilter",classImp:class extends TextInputFloatingFilter{init(params){super.init(params),this.filterModelFormatter=new NumberFilterModelFormatter(this.localeService,this.optionsFactory,params.filterParams?.numberFormatter)}onParamsUpdated(params){this.refresh(params)}refresh(params){getAllowedCharPattern(params.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(params),super.refresh(params),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return DEFAULT_NUMBER_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(params){return this.allowedCharPattern=getAllowedCharPattern(params.filterParams),this.allowedCharPattern?this.createManagedBean(new FloatingFilterTextInputService({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new FloatingFilterNumberInputService)}}},{name:"agDateColumnFloatingFilter",classImp:class extends SimpleFloatingFilter{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>\n                <div data-ref="eDateWrapper" style="display: flex;"></div>\n            </div>',[AgInputTextFieldSelector]),this.eReadOnlyText=null,this.eDateWrapper=null}wireBeans(beans){super.wireBeans(beans),this.context=beans.context,this.userComponentFactory=beans.userComponentFactory}getDefaultFilterOptions(){return DEFAULT_DATE_FILTER_OPTIONS}init(params){super.init(params),this.params=params,this.filterParams=params.filterParams,this.createDateComponent(),this.filterModelFormatter=new DateFilterModelFormatter(this.filterParams,this.localeService,this.optionsFactory);const translate=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(translate("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(params){this.refresh(params)}refresh(params){super.refresh(params),this.params=params,this.filterParams=params.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(params.currentParentModel())}updateCompOnModelChange(model){const allowEditing=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(model);if(this.setEditable(allowEditing),allowEditing){if(model){const dateModel=model;this.dateComp.setDate(_parseDateTimeFromString(dateModel.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(model)),this.dateComp.setDate(null)}setEditable(editable){_setDisplayed(this.eDateWrapper,editable),_setDisplayed(this.eReadOnlyText.getGui(),!editable)}onParentModelChanged(model,event){this.isEventFromFloatingFilter(event)||this.isEventFromDataChange(event)||(super.setLastTypeFromModel(model),this.updateCompOnModelChange(model))}onDateChanged(){const filterValueText=_serialiseDate(this.dateComp.getDate());this.params.parentFilterInstance((filterInstance=>{if(filterInstance){const date=_parseDateTimeFromString(filterValueText);filterInstance.onFloatingFilterChanged(this.getLastType()||null,date)}}))}getDateComponentParams(){const debounceMs=getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:_debounce(this.onDateChanged.bind(this),debounceMs),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new DateCompWrapper(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,(dateComp=>{dateComp.setInputAriaLabel(this.getAriaLabel(this.params))})),this.addDestroyFunc((()=>this.dateComp.destroy()))}updateDateComponent(){const params=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(params)}getFilterModelFormatter(){return this.filterModelFormatter}}}]},QuickFilterCoreModule={version:VERSION,moduleName:"@ag-grid-community/quick-filter-core",beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(beans){this.valueService=beans.valueService,this.columnModel=beans.columnModel,this.rowModel=beans.rowModel,this.pivotResultColsService=beans.pivotResultColsService}postConstruct(){const resetListener=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:resetListener,newColumnsLoaded:resetListener,columnRowGroupChanged:resetListener,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",(e=>this.setQuickFilter(e.currentValue))),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],(()=>this.onQuickFilterColumnConfigChanged())),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],(()=>this.setQuickFilterParserAndMatcher()))}refreshQuickFilterCols(){const pivotMode=this.columnModel.isPivotMode(),groupAutoCols=this.columnModel.getAutoCols(),providedCols=this.columnModel.getColDefCols();let columnsForQuickFilter=(pivotMode&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.pivotResultColsService.getPivotResultCols()?.list:providedCols)??[];groupAutoCols&&(columnsForQuickFilter=columnsForQuickFilter.concat(groupAutoCols)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?columnsForQuickFilter:columnsForQuickFilter.filter((col=>col.isVisible()||col.isRowGroupActive()))}isQuickFilterPresent(){return null!==this.quickFilter}doesRowPassQuickFilter(node){const usingCache=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(usingCache,node):this.quickFilterParts.every((part=>usingCache?this.doesRowPassQuickFilterCache(node,part):this.doesRowPassQuickFilterNoCache(node,part)))}resetQuickFilterCache(){this.rowModel.forEachNode((node=>node.quickFilterAggregateText=null))}setQuickFilterParts(){const{quickFilter,parser}=this;this.quickFilterParts=quickFilter?parser?parser(quickFilter):quickFilter.split(" "):null}parseQuickFilter(newFilter){return _exists(newFilter)?this.gos.isRowModelType("clientSide")?newFilter.toUpperCase():(_warnOnce("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(newFilter){if(null!=newFilter&&"string"!=typeof newFilter)return void _warnOnce("Grid option quickFilterText only supports string inputs, received: "+typeof newFilter);const parsedFilter=this.parseQuickFilter(newFilter);this.quickFilter!==parsedFilter&&(this.quickFilter=parsedFilter,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const parser=this.gos.get("quickFilterParser"),matcher=this.gos.get("quickFilterMatcher"),hasChanged=parser!==this.parser||matcher!==this.matcher;this.parser=parser,this.matcher=matcher,hasChanged&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(node,filterPart){return this.colsForQuickFilter.some((column=>{const part=this.getQuickFilterTextForColumn(column,node);return _exists(part)&&part.indexOf(filterPart)>=0}))}doesRowPassQuickFilterCache(node,filterPart){return this.checkGenerateQuickFilterAggregateText(node),node.quickFilterAggregateText.indexOf(filterPart)>=0}doesRowPassQuickFilterMatcher(usingCache,node){let quickFilterAggregateText;usingCache?(this.checkGenerateQuickFilterAggregateText(node),quickFilterAggregateText=node.quickFilterAggregateText):quickFilterAggregateText=this.getQuickFilterAggregateText(node);const{quickFilterParts,matcher}=this;return matcher(quickFilterParts,quickFilterAggregateText)}checkGenerateQuickFilterAggregateText(node){node.quickFilterAggregateText||(node.quickFilterAggregateText=this.getQuickFilterAggregateText(node))}getQuickFilterTextForColumn(column,node){let value=this.valueService.getValue(column,node,!0);const colDef=column.getColDef();if(colDef.getQuickFilterText){const params=this.gos.addGridCommonParams({value,node,data:node.data,column,colDef});value=colDef.getQuickFilterText(params)}return _exists(value)?value.toString().toUpperCase():null}getQuickFilterAggregateText(node){const stringParts=[];return this.colsForQuickFilter.forEach((column=>{const part=this.getQuickFilterTextForColumn(column,node);_exists(part)&&stringParts.push(part)})),stringParts.join("\n")}}],dependantModules:[FilterCoreModule]},FilterModule={version:VERSION,moduleName:"@ag-grid-community/filter",dependantModules:[SimpleFloatingFilterModule,ReadOnlyFloatingFilterModule,{version:VERSION,moduleName:"@ag-grid-community/quick-filter",dependantModules:[QuickFilterCoreModule,{version:VERSION,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:function isQuickFilterPresent(beans){return!!beans.filterManager?.isQuickFilterPresent()},getQuickFilter:function getQuickFilter(beans){return beans.gos.get("quickFilterText")},resetQuickFilter:function resetQuickFilter(beans){beans.filterManager?.resetQuickFilterCache()}},dependantModules:[QuickFilterCoreModule]}]},ColumnFilterApiModule]},HeaderRowType=(HeaderRowType2=>(HeaderRowType2.COLUMN_GROUP="group",HeaderRowType2.COLUMN="column",HeaderRowType2.FLOATING_FILTER="filter",HeaderRowType2))(HeaderRowType||{}),HeaderNavigationService=class extends BeanStub{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(beans){this.focusService=beans.focusService,this.headerPositionUtils=beans.headerPositionUtils,this.ctrlsService=beans.ctrlsService,this.columnModel=beans.columnModel,this.visibleColService=beans.visibleColsService}postConstruct(){this.ctrlsService.whenReady((p=>{this.gridBodyCon=p.gridBodyCtrl}));const eDocument=this.gos.getDocument();this.addManagedElementListeners(eDocument,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){const centerHeaderContainer=this.ctrlsService.getHeaderRowContainerCtrl();return centerHeaderContainer?centerHeaderContainer.getRowCount():0}getHeaderPositionForColumn(colKey,floatingFilter){let column;if("string"==typeof colKey?(column=this.columnModel.getCol(colKey),column||(column=this.visibleColService.getColumnGroup(colKey))):column=colKey,!column)return null;const isFloatingFilterVisible="filter"===_last(this.ctrlsService.getHeaderRowContainerCtrl().getAllCtrls()).getType(),headerRowCount=this.getHeaderRowCount()-1;let row=-1,col=column;for(;col;)row++,col=col.getParent();let headerRowIndex=row;return floatingFilter&&isFloatingFilterVisible&&headerRowIndex===headerRowCount-1&&headerRowIndex++,-1===headerRowIndex?null:{headerRowIndex,column}}navigateVertically(direction,fromHeader,event){if(fromHeader||(fromHeader=this.focusService.getFocusedHeader()),!fromHeader)return!1;const{headerRowIndex}=fromHeader,column=fromHeader.column,rowLen=this.getHeaderRowCount(),isUp=0===direction;let{headerRowIndex:nextRow,column:nextFocusColumn,headerRowIndexWithoutSpan}=isUp?this.headerPositionUtils.getColumnVisibleParent(column,headerRowIndex):this.headerPositionUtils.getColumnVisibleChild(column,headerRowIndex),skipColumn=!1;return nextRow<0&&(nextRow=0,nextFocusColumn=column,skipColumn=!0),nextRow>=rowLen?(nextRow=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==headerRowIndexWithoutSpan&&(this.currentHeaderRowWithoutSpan=headerRowIndexWithoutSpan),!(!skipColumn&&!nextFocusColumn)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:nextRow,column:nextFocusColumn},allowUserOverride:!0,event})}setCurrentHeaderRowWithoutSpan(row){this.currentHeaderRowWithoutSpan=row}navigateHorizontally(direction,fromTab=!1,event){const focusedHeader=this.focusService.getFocusedHeader(),isLeft=2===direction,isRtl=this.gos.get("enableRtl");let nextHeader,normalisedDirection;if(-1!==this.currentHeaderRowWithoutSpan?focusedHeader.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=focusedHeader.headerRowIndex,isLeft!==isRtl?(normalisedDirection="Before",nextHeader=this.headerPositionUtils.findHeader(focusedHeader,normalisedDirection)):(normalisedDirection="After",nextHeader=this.headerPositionUtils.findHeader(focusedHeader,normalisedDirection)),nextHeader||!fromTab)return this.focusService.focusHeaderPosition({headerPosition:nextHeader,direction:normalisedDirection,fromTab,allowUserOverride:!0,event});if(fromTab){const userFunc=this.gos.getCallback("tabToNextHeader");if(userFunc)return this.focusService.focusHeaderPositionFromUserFunc({userFunc,headerPosition:nextHeader,direction:normalisedDirection})}return this.focusNextHeaderRow(focusedHeader,normalisedDirection,event)}focusNextHeaderRow(focusedHeader,direction,event){const currentIndex=focusedHeader.headerRowIndex;let nextRowIndex,nextPosition=null;if("Before"===direction?currentIndex>0&&(nextRowIndex=currentIndex-1,this.currentHeaderRowWithoutSpan-=1,nextPosition=this.headerPositionUtils.findColAtEdgeForHeaderRow(nextRowIndex,"end")):(nextRowIndex=currentIndex+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),nextPosition=this.headerPositionUtils.findColAtEdgeForHeaderRow(nextRowIndex,"start")),!nextPosition)return!1;const{column,headerRowIndex}=this.headerPositionUtils.getHeaderIndexToFocus(nextPosition.column,nextPosition?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column,headerRowIndex},direction,fromTab:!0,allowUserOverride:!0,event})}scrollToColumn(column,direction="After"){if(column.getPinned())return;let columnToScrollTo;if(isColumnGroup(column)){const columns=column.getDisplayedLeafColumns();columnToScrollTo="Before"===direction?_last(columns):columns[0]}else columnToScrollTo=column;this.gridBodyCon.getScrollFeature().ensureColumnVisible(columnToScrollTo)}},GridHeaderCtrl=class extends BeanStub{wireBeans(beans){this.headerNavigationService=beans.headerNavigationService,this.focusService=beans.focusService,this.columnModel=beans.columnModel,this.visibleColsService=beans.visibleColsService,this.ctrlsService=beans.ctrlsService,this.filterManager=beans.filterManager,this.menuService=beans.menuService}setComp(comp,eGui,eFocusableElement){this.comp=comp,this.eGui=eGui,this.createManagedBean(new ManagedFocusFeature(eFocusableElement,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const listener=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:listener}),this.mockContextMenuForIPad(listener),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const listener=this.setHeaderHeight.bind(this);listener(),this.addManagedPropertyListener("headerHeight",listener),this.addManagedPropertyListener("pivotHeaderHeight",listener),this.addManagedPropertyListener("groupHeaderHeight",listener),this.addManagedPropertyListener("pivotGroupHeaderHeight",listener),this.addManagedPropertyListener("floatingFiltersHeight",listener),this.addManagedEventListeners({displayedColumnsChanged:listener,columnHeaderHeightChanged:listener,gridStylesChanged:listener,advancedFilterEnabledChanged:listener})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel}=this;let totalHeaderHeight,numberOfFloating=0,headerRowCount=columnModel.getHeaderRowCount();const hasFloatingFilters=this.filterManager?.hasFloatingFilters();hasFloatingFilters&&(headerRowCount++,numberOfFloating=1);const groupHeight=this.columnModel.getColumnGroupHeaderRowHeight(),headerHeight=this.columnModel.getColumnHeaderRowHeight(),numberOfGroups=headerRowCount-(1+numberOfFloating);if(totalHeaderHeight=numberOfFloating*columnModel.getFloatingFiltersHeight(),totalHeaderHeight+=numberOfGroups*groupHeight,totalHeaderHeight+=headerHeight,this.headerHeight===totalHeaderHeight)return;this.headerHeight=totalHeaderHeight;const px=`${totalHeaderHeight+1}px`;this.comp.setHeightAndMinHeight(px),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const pivotMode=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",pivotMode),this.comp.addOrRemoveCssClass("ag-pivot-off",!pivotMode)}onDisplayedColumnsChanged(){const shouldAllowOverflow=this.visibleColsService.getAllCols().some((col=>col.isSpanHeaderHeight()));this.comp.addOrRemoveCssClass("ag-header-allow-overflow",shouldAllowOverflow)}onTabKeyDown(e){const isRtl=this.gos.get("enableRtl"),direction=e.shiftKey!==isRtl?2:3;(this.headerNavigationService.navigateHorizontally(direction,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let direction=null;switch(e.key){case KeyCode.LEFT:direction=2;case KeyCode.RIGHT:_exists(direction)||(direction=3),this.headerNavigationService.navigateHorizontally(direction,!1,e);break;case KeyCode.UP:direction=0;case KeyCode.DOWN:_exists(direction)||(direction=1),this.headerNavigationService.navigateVertically(direction,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const{relatedTarget}=e;!relatedTarget&&this.eGui.contains(this.gos.getActiveDomElement())||this.eGui.contains(relatedTarget)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(mouseEvent,touch,touchEvent){if(!mouseEvent&&!touchEvent||!this.menuService.isHeaderContextMenuEnabled())return;const{target}=mouseEvent??touch;target!==this.eGui&&target!==this.ctrlsService.getHeaderRowContainerCtrl().getViewport()||this.menuService.showHeaderContextMenu(void 0,mouseEvent,touchEvent)}mockContextMenuForIPad(listener){if(!_isIOSUserAgent())return;const touchListener=new TouchListener(this.eGui);this.addManagedListeners(touchListener,{longTap:event=>{listener(void 0,event.touchStart,event.touchEvent)}}),this.addDestroyFunc((()=>touchListener.destroy()))}},CenterWidthFeature=class extends BeanStub{constructor(callback,addSpacer=!1){super(),this.callback=callback,this.addSpacer=addSpacer}wireBeans(beans){this.visibleColsService=beans.visibleColsService,this.scrollVisibleService=beans.scrollVisibleService}postConstruct(){const listener=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",listener),this.addManagedEventListeners({columnContainerWidthChanged:listener,displayedColumnsChanged:listener,leftPinnedWidthChanged:listener}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:listener,scrollVisibilityChanged:listener,scrollbarWidthChanged:listener}),this.setWidth()}setWidth(){const printLayout=this.gos.isDomLayout("print"),centerWidth=this.visibleColsService.getBodyContainerWidth(),leftWidth=this.visibleColsService.getColsLeftWidth(),rightWidth=this.visibleColsService.getDisplayedColumnsRightWidth();let totalWidth;if(printLayout)totalWidth=centerWidth+leftWidth+rightWidth;else if(totalWidth=centerWidth,this.addSpacer){0===(this.gos.get("enableRtl")?leftWidth:rightWidth)&&this.scrollVisibleService.isVerticalScrollShowing()&&(totalWidth+=this.gos.getScrollbarWidth())}this.callback(totalWidth)}},BodyDropPivotTarget=class extends BeanStub{constructor(pinned){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=pinned}wireBeans(beans){this.funcColsService=beans.funcColsService}onDragEnter(draggingEvent){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const dragColumns=draggingEvent.dragItem.columns;dragColumns&&dragColumns.forEach((column=>{column.isPrimary()&&(column.isAnyFunctionActive()||(column.isAllowValue()?this.columnsToAggregate.push(column):column.isAllowRowGroup()?this.columnsToGroup.push(column):column.isAllowPivot()&&this.columnsToPivot.push(column)))}))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(draggingEvent){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(draggingEvent){}onDragStop(draggingEvent){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};function attemptMoveColumns(params){const{isFromHeader,hDirection,xPosition,fromEnter,fakeEvent,pinned,gos,columnModel,columnMoveService,presentedColsService}=params,draggingLeft=0===hDirection,draggingRight=1===hDirection;let{allMovingColumns}=params;if(isFromHeader){const newCols=[];allMovingColumns.forEach((col=>{let movingGroup=null,parent=col.getParent();for(;null!=parent&&1===parent.getDisplayedLeafColumns().length;)movingGroup=parent,parent=parent.getParent();if(null!=movingGroup){(!!movingGroup.getColGroupDef()?.marryChildren?movingGroup.getProvidedColumnGroup().getLeafColumns():movingGroup.getLeafColumns()).forEach((newCol=>{newCols.includes(newCol)||newCols.push(newCol)}))}else newCols.includes(col)||newCols.push(col)})),allMovingColumns=newCols}const allMovingColumnsOrdered=allMovingColumns.slice();columnModel.sortColsLikeCols(allMovingColumnsOrdered);const validMoves=function calculateValidMoves(params){const{movingCols,draggingRight,xPosition,pinned,gos,columnModel,presentedColsService}=params,isMoveBlocked=gos.get("suppressMovableColumns")||movingCols.some((col=>col.getColDef().suppressMovable));if(isMoveBlocked)return[];const allDisplayedCols=function getDisplayedColumns(presentedColsService,type){switch(type){case"left":return presentedColsService.getLeftCols();case"right":return presentedColsService.getRightCols();default:return presentedColsService.getCenterCols()}}(presentedColsService,pinned),allGridCols=columnModel.getCols(),movingDisplayedCols=allDisplayedCols.filter((col=>_includes(movingCols,col))),otherDisplayedCols=allDisplayedCols.filter((col=>!_includes(movingCols,col))),otherGridCols=allGridCols.filter((col=>!_includes(movingCols,col)));let firstValidMove,displayIndex=0,availableWidth=xPosition;if(draggingRight){let widthOfMovingDisplayedCols=0;movingDisplayedCols.forEach((col=>widthOfMovingDisplayedCols+=col.getActualWidth())),availableWidth-=widthOfMovingDisplayedCols}if(availableWidth>0){for(let i=0;i<otherDisplayedCols.length;i++){if(availableWidth-=otherDisplayedCols[i].getActualWidth(),availableWidth<0)break;displayIndex++}draggingRight&&displayIndex++}if(displayIndex>0){const leftColumn=otherDisplayedCols[displayIndex-1];firstValidMove=otherGridCols.indexOf(leftColumn)+1}else firstValidMove=otherGridCols.indexOf(otherDisplayedCols[0]),-1===firstValidMove&&(firstValidMove=0);const validMoves=[firstValidMove],numberComparator=(a,b)=>a-b;if(draggingRight){let pointer=firstValidMove+1;const lastIndex=allGridCols.length-1;for(;pointer<=lastIndex;)validMoves.push(pointer),pointer++;validMoves.sort(numberComparator)}else{let pointer=firstValidMove;const lastIndex=allGridCols.length-1;let displacedCol=allGridCols[pointer];for(;pointer<=lastIndex&&allDisplayedCols.indexOf(displacedCol)<0;)pointer++,validMoves.push(pointer),displacedCol=allGridCols[pointer];pointer=firstValidMove-1;const firstDisplayIndex=0;for(;pointer>=firstDisplayIndex;)validMoves.push(pointer),pointer--;validMoves.sort(numberComparator).reverse()}return validMoves}({movingCols:allMovingColumnsOrdered,draggingRight,xPosition,pinned,gos,columnModel,presentedColsService}),oldIndex=function calculateOldIndex(movingCols,columnModel){const gridCols=columnModel.getCols(),indexes=function _sortNumerically(array){return array.sort(((a,b)=>a-b))}(movingCols.map((col=>gridCols.indexOf(col)))),firstIndex=indexes[0],lastIndex=_last(indexes);return lastIndex-firstIndex!=indexes.length-1?null:firstIndex}(allMovingColumnsOrdered,columnModel);if(0===validMoves.length)return;const firstValidMove=validMoves[0];let constrainDirection=null!==oldIndex&&!fromEnter;if(isFromHeader&&(constrainDirection=null!==oldIndex),constrainDirection&&!fakeEvent){if(draggingLeft&&firstValidMove>=oldIndex)return;if(draggingRight&&firstValidMove<=oldIndex)return}const displayedCols=presentedColsService.getAllCols(),potentialMoves=[];let targetOrder=null;for(let i=0;i<validMoves.length;i++){const move=validMoves[i],order=columnMoveService.getProposedColumnOrder(allMovingColumnsOrdered,move);if(!columnMoveService.doesOrderPassRules(order))continue;const displayedOrder=order.filter((col=>displayedCols.includes(col)));if(null===targetOrder)targetOrder=displayedOrder;else if(!_areEqual(displayedOrder,targetOrder))break;const fragCount=groupFragCount(order);potentialMoves.push({move,fragCount})}return 0!==potentialMoves.length?(potentialMoves.sort(((a,b)=>a.fragCount-b.fragCount)),moveColumns(allMovingColumns,potentialMoves[0].move,"uiColumnMoved",!1,columnMoveService)):void 0}function moveColumns(columns,toIndex,source,finished,columnMoveService){return columnMoveService.moveColumns(columns,toIndex,source,finished),finished?null:{columns,toIndex}}function groupFragCount(columns){function parents(col){const result=[];let parent=col.getOriginalParent();for(;null!=parent;)result.push(parent),parent=parent.getOriginalParent();return result}let count=0;for(let i=0;i<columns.length-1;i++){let a=parents(columns[i]),b=parents(columns[i+1]);[a,b]=a.length>b.length?[a,b]:[b,a],a.forEach((parent=>{-1===b.indexOf(parent)&&count++}))}return count}function normaliseX(x,pinned,fromKeyboard,gos,ctrlsService){const eViewport=ctrlsService.getHeaderRowContainerCtrl(pinned).getViewport();if(fromKeyboard&&(x-=eViewport.getBoundingClientRect().left),gos.get("enableRtl")){x=eViewport.clientWidth-x}return null==pinned&&(x+=ctrlsService.get("center").getCenterViewportScrollLeft()),x}var MoveColumnFeature=class extends BeanStub{constructor(pinned){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=pinned,this.isCenterContainer=!_exists(pinned)}wireBeans(beans){this.columnModel=beans.columnModel,this.visibleColsService=beans.visibleColsService,this.columnMoveService=beans.columnMoveService,this.dragAndDropService=beans.dragAndDropService,this.ctrlsService=beans.ctrlsService}postConstruct(){this.ctrlsService.whenReady((p=>{this.gridBodyCon=p.gridBodyCtrl}))}getIconName(){return this.pinned?"pinned":"move"}onDragEnter(draggingEvent){const columns=draggingEvent.dragItem.columns;if(0===draggingEvent.dragSource.type)this.setColumnsVisible(columns,!0,"uiColumnDragged");else{const visibleState=draggingEvent.dragItem.visibleState,visibleColumns=(columns||[]).filter((column=>visibleState[column.getId()]));this.setColumnsVisible(visibleColumns,!0,"uiColumnDragged")}this.setColumnsPinned(columns,this.pinned,"uiColumnDragged"),this.onDragging(draggingEvent,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(columns,visible,source){if(columns){const allowedCols=columns.filter((c=>!c.getColDef().lockVisible));this.columnModel.setColsVisible(allowedCols,visible,source)}}setColumnsPinned(columns,pinned,source){if(columns){const allowedCols=columns.filter((c=>!c.getColDef().lockPinned));this.columnModel.setColsPinned(allowedCols,pinned,source)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(xAdjustedForScroll){if(this.isCenterContainer){const centerCtrl=this.ctrlsService.get("center"),firstVisiblePixel=centerCtrl.getCenterViewportScrollLeft(),lastVisiblePixel=firstVisiblePixel+centerCtrl.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=xAdjustedForScroll<firstVisiblePixel+50,this.needToMoveLeft=xAdjustedForScroll>lastVisiblePixel-50):(this.needToMoveLeft=xAdjustedForScroll<firstVisiblePixel+50,this.needToMoveRight=xAdjustedForScroll>lastVisiblePixel-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(draggingEvent=this.lastDraggingEvent,fromEnter=!1,fakeEvent=!1,finished=!1){if(finished){if(this.lastMovedInfo){const{columns,toIndex}=this.lastMovedInfo;moveColumns(columns,toIndex,"uiColumnMoved",!0,this.columnMoveService)}return}if(this.lastDraggingEvent=draggingEvent,_missing(draggingEvent.hDirection))return;const mouseX=normaliseX(draggingEvent.x,this.pinned,!1,this.gos,this.ctrlsService);fromEnter||this.checkCenterForScrolling(mouseX);const hDirection=this.normaliseDirection(draggingEvent.hDirection),dragSourceType=draggingEvent.dragSource.type,lastMovedInfo=attemptMoveColumns({allMovingColumns:draggingEvent.dragSource.getDragItem().columns?.filter((col=>!col.getColDef().lockPinned||col.getPinned()==this.pinned))||[],isFromHeader:1===dragSourceType,hDirection,xPosition:mouseX,pinned:this.pinned,fromEnter,fakeEvent,gos:this.gos,columnModel:this.columnModel,columnMoveService:this.columnMoveService,presentedColsService:this.visibleColsService});lastMovedInfo&&(this.lastMovedInfo=lastMovedInfo)}normaliseDirection(hDirection){if(!this.gos.get("enableRtl"))return hDirection;switch(hDirection){case 0:return 1;case 1:return 0;default:_errorOnce(`Unknown direction ${hDirection}`)}}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon("move"))}moveInterval(){let pixelsToMove;this.intervalCount++,pixelsToMove=10+5*this.intervalCount,pixelsToMove>100&&(pixelsToMove=100);let pixelsMoved=null;const scrollFeature=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?pixelsMoved=scrollFeature.scrollHorizontally(-pixelsToMove):this.needToMoveRight&&(pixelsMoved=scrollFeature.scrollHorizontally(pixelsToMove)),0!==pixelsMoved)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const columnsThatCanPin=this.lastDraggingEvent.dragItem.columns.filter((c=>!c.getColDef().lockPinned));if(columnsThatCanPin.length>0&&(this.dragAndDropService.setGhostIcon("pinned"),this.failedMoveAttempts>7)){const pinType=this.needToMoveLeft?"left":"right";this.setColumnsPinned(columnsThatCanPin,pinType,"uiColumnDragged"),this.dragAndDropService.nudge()}}}},BodyDropTarget=class extends BeanStub{wireBeans(beans){this.dragAndDropService=beans.dragAndDropService,this.columnModel=beans.columnModel,this.ctrlsService=beans.ctrlsService}constructor(pinned,eContainer){super(),this.pinned=pinned,this.eContainer=eContainer}postConstruct(){this.ctrlsService.whenReady((p=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[p.gridBodyCtrl.getBodyViewportElement(),p.left.getContainerElement()],[p.bottomLeft.getContainerElement()],[p.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[p.gridBodyCtrl.getBodyViewportElement(),p.right.getContainerElement()],[p.bottomRight.getContainerElement()],[p.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[p.gridBodyCtrl.getBodyViewportElement(),p.center.getViewportElement()],[p.bottomCenter.getViewportElement()],[p.topCenter.getViewportElement()]]}})),this.moveColumnFeature=this.createManagedBean(new MoveColumnFeature(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new BodyDropPivotTarget(this.pinned)),this.dragAndDropService.addDropTarget(this)}isInterestedIn(type){return 1===type||0===type&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(draggingEvent){return this.columnModel.isPivotMode()&&0===draggingEvent.dragSource.type}onDragEnter(draggingEvent){this.currentDropListener=this.isDropColumnInPivotMode(draggingEvent)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(draggingEvent)}onDragLeave(params){this.currentDropListener.onDragLeave(params)}onDragging(params){this.currentDropListener.onDragging(params)}onDragStop(params){this.currentDropListener.onDragStop(params)}},ResizeFeature=class extends BeanStub{wireBeans(beans){this.horizontalResizeService=beans.horizontalResizeService,this.pinnedWidthService=beans.pinnedWidthService,this.ctrlsService=beans.ctrlsService,this.columnSizeService=beans.columnSizeService,this.columnAutosizeService=beans.columnAutosizeService}constructor(pinned,column,eResize,comp,ctrl){super(),this.pinned=pinned,this.column=column,this.eResize=eResize,this.comp=comp,this.ctrl=ctrl}postConstruct(){const destroyResizeFuncs=[];let canResize,canAutosize;const addResize=()=>{if(_setDisplayed(this.eResize,canResize),!canResize)return;const finishedWithResizeFunc=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(destroyResizeFuncs.push(finishedWithResizeFunc),canAutosize){const skipHeaderOnAutoSize=this.gos.get("skipHeaderOnAutoSize"),autoSizeColListener=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",skipHeaderOnAutoSize)};this.eResize.addEventListener("dblclick",autoSizeColListener);const touchListener=new TouchListener(this.eResize);touchListener.addEventListener("doubleTap",autoSizeColListener),destroyResizeFuncs.push((()=>{this.eResize.removeEventListener("dblclick",autoSizeColListener),touchListener.removeEventListener("doubleTap",autoSizeColListener),touchListener.destroy()}))}},removeResize=()=>{destroyResizeFuncs.forEach((f=>f())),destroyResizeFuncs.length=0},refresh=()=>{const resize=this.column.isResizable(),autoSize=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(resize!==canResize||autoSize!==canAutosize)&&(canResize=resize,canAutosize=autoSize,removeResize(),addResize())};refresh(),this.addDestroyFunc(removeResize),this.ctrl.addRefreshFunction(refresh)}onResizing(finished,resizeAmount){const{column:key,lastResizeAmount,resizeStartWidth}=this,resizeAmountNormalised=this.normaliseResizeAmount(resizeAmount),columnWidths=[{key,newWidth:resizeStartWidth+resizeAmountNormalised}];if(this.column.getPinned()){if(this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(resizeAmountNormalised-lastResizeAmount)>_getInnerWidth(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50)return}this.lastResizeAmount=resizeAmountNormalised,this.columnSizeService.setColumnWidths(columnWidths,this.resizeWithShiftKey,finished,"uiColumnResized"),finished&&this.toggleColumnResizing(!1)}onResizeStart(shiftKey){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=shiftKey,this.toggleColumnResizing(!0)}toggleColumnResizing(resizing){this.comp.addOrRemoveCssClass("ag-column-resizing",resizing)}normaliseResizeAmount(dragChange){let result=dragChange;const notPinningLeft="left"!==this.pinned,pinningRight="right"===this.pinned;return this.gos.get("enableRtl")?notPinningLeft&&(result*=-1):pinningRight&&(result*=-1),result}},SelectAllFeature=class extends BeanStub{constructor(column){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=column}wireBeans(beans){this.rowModel=beans.rowModel,this.selectionService=beans.selectionService}onSpaceKeyDown(e){const checkbox=this.cbSelectAll;checkbox.isDisplayed()&&!checkbox.getGui().contains(this.gos.getActiveDomElement())&&(e.preventDefault(),checkbox.setValue(!checkbox.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(ctrl){this.headerCellCtrl=ctrl,this.cbSelectAll=this.createManagedBean(new AgCheckbox),this.cbSelectAll.addCssClass("ag-header-select-all"),_setAriaRole(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),_setAriaHidden(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const allSelected=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(allSelected);const hasNodesToSelect=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!hasNodesToSelect),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const translate=this.localeService.getLocaleTextFunc(),ariaStatus=this.cbSelectAll.getValue()?translate("ariaChecked","checked"):translate("ariaUnchecked","unchecked"),ariaLabel=translate("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${ariaLabel} (${ariaStatus})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${ariaLabel} (${ariaStatus})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(feature){return!("multiple"!==this.gos.get("rowSelection"))||(_warnOnce(`${feature} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(feature){const rowModelType=this.rowModel.getType();return!("clientSide"!==rowModelType&&"serverSide"!==rowModelType)||(_warnOnce(`${feature} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${rowModelType}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox)return;if(!this.cbSelectAllVisible)return;const value=this.cbSelectAll.getValue(),justFiltered=this.isFilteredOnly(),justCurrentPage=this.isCurrentPageOnly();let source="uiSelectAll";justCurrentPage?source="uiSelectAllCurrentPage":justFiltered&&(source="uiSelectAllFiltered");const params={source,justFiltered,justCurrentPage};value?this.selectionService.selectAllRowNodes(params):this.selectionService.deselectAllRowNodes(params)}isCheckboxSelection(){let result=this.column.getColDef().headerCheckboxSelection;if("function"==typeof result){result=result(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()}))}return!!result&&(this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"))}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},HeaderCellCtrl=class extends AbstractHeaderCellCtrl{constructor(column,beans,parentRowCtrl){super(column,beans,parentRowCtrl),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=column}setComp(comp,eGui,eResize,eHeaderCompWrapper){this.comp=comp,this.setGui(eGui),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(eHeaderCompWrapper),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new ResizeFeature(this.getPinned(),this.column,eResize,comp,this)),this.createManagedBean(new HoverFeature([this.column],eGui)),this.createManagedBean(new SetLeftFeature(this.column,eGui,this.beans)),this.createManagedBean(new ManagedFocusFeature(eGui,{shouldStopEventPropagation:e=>this.shouldStopEventPropagation(e),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListeners(this.column,{colDefChanged:this.refresh.bind(this)}),this.addManagedEventListeners({columnValueChanged:this.onColumnValueChanged.bind(this),columnRowGroupChanged:this.onColumnRowGroupChanged.bind(this),columnPivotChanged:this.onColumnPivotChanged.bind(this),headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}resizeHeader(delta,shiftKey){if(!this.column.isResizable())return;const actualWidth=this.column.getActualWidth(),minWidth=this.column.getMinWidth(),maxWidth=this.column.getMaxWidth(),newWidth=Math.min(Math.max(actualWidth+delta,minWidth),maxWidth);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth}],shiftKey,!0,"uiColumnResized")}moveHeader(hDirection){const{eGui,column,gos,ctrlsService}=this,pinned=this.getPinned(),left=eGui.getBoundingClientRect().left,width=column.getActualWidth();attemptMoveColumns({allMovingColumns:[column],isFromHeader:!0,hDirection,xPosition:normaliseX(0===hDirection!==gos.get("enableRtl")?left-20:left+width+20,pinned,!0,gos,ctrlsService),pinned,fromEnter:!1,fakeEvent:!1,gos,columnModel:this.beans.columnModel,columnMoveService:this.beans.columnMoveService,presentedColsService:this.beans.visibleColsService}),ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(column,"auto")}setupUserComp(){const compDetails=this.lookupUserCompDetails();this.setCompDetails(compDetails)}setCompDetails(compDetails){this.userCompDetails=compDetails,this.comp.setUserCompDetails(compDetails)}lookupUserCompDetails(){const params=this.createParams(),colDef=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(colDef,params)}createParams(){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:buttonElement=>{this.menuService.showColumnMenu({column:this.column,buttonElement,positionBy:"button"})},showColumnMenuAfterMouseClick:mouseEvent=>{this.menuService.showColumnMenu({column:this.column,mouseEvent,positionBy:"mouse"})},showFilter:buttonElement=>{this.menuService.showFilterMenu({column:this.column,buttonElement,containerType:"columnFilter",positionBy:"button"})},progressSort:multiSort=>{this.beans.sortController.progressSort(this.column,!!multiSort,"uiColumnSorted")},setSort:(sort,multiSort)=>{this.beans.sortController.setSortForColumn(this.column,sort,!!multiSort,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(value,shouldDisplayTooltip)=>{this.setupTooltip(value,shouldDisplayTooltip)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new SelectAllFeature(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===KeyCode.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===KeyCode.ENTER&&this.onEnterKeyDown(e),e.key===KeyCode.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const multiSort=e.shiftKey;this.beans.sortController.progressSort(this.column,multiSort,"uiColumnSorted")}}showMenuOnKeyPress(e,isFilterShortcut){const headerComp=this.comp.getUserCompInstance();headerComp&&headerComp instanceof HeaderComp&&headerComp.onMenuKeyboardShortcut(isFilterShortcut)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const rowIndex=this.getRowIndex();this.focusService.setFocusedHeader(rowIndex,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(value,shouldDisplayTooltip){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const isTooltipWhenTruncated="whenTruncated"===this.gos.get("tooltipShowMode"),eGui=this.eGui,colDef=this.column.getColDef();shouldDisplayTooltip||!isTooltipWhenTruncated||colDef.headerComponent||(shouldDisplayTooltip=()=>{const textEl=eGui.querySelector(".ag-header-cell-text");return!textEl||textEl.scrollWidth>textEl.clientWidth});const tooltipCtrl={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>eGui,getLocation:()=>"header",getTooltipValue:()=>{if(null!=value)return value;return this.column.getColDef().headerTooltip},shouldDisplayTooltip},tooltipFeature=this.createManagedBean(new TooltipFeature(tooltipCtrl));this.refreshFunctions.push((()=>tooltipFeature.refreshToolTip()))}setupClassesFromColDef(){const refreshHeaderClasses=()=>{const classes=_getHeaderClassesFromColDef(this.column.getColDef(),this.gos,this.column,null),oldClasses=this.userHeaderClasses;this.userHeaderClasses=new Set(classes),classes.forEach((c=>{oldClasses.has(c)?oldClasses.delete(c):this.comp.addOrRemoveCssClass(c,!0)})),oldClasses.forEach((c=>this.comp.addOrRemoveCssClass(c,!1)))};this.refreshFunctions.push(refreshHeaderClasses),refreshHeaderClasses()}setDragSource(eSource){if(this.dragSourceElement=eSource,this.removeDragSource(),!eSource||!this.draggable)return;const{column,beans,displayName,dragAndDropService,gos}=this,{columnModel}=beans;let hideColumnOnExit=!this.gos.get("suppressDragLeaveHidesColumns");const dragSource=this.dragSource={type:1,eElement:eSource,getDefaultIconName:()=>hideColumnOnExit?"hide":"notAllowed",getDragItem:()=>this.createDragItem(column),dragItemName:displayName,onDragStarted:()=>{hideColumnOnExit=!gos.get("suppressDragLeaveHidesColumns"),column.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>column.setMoving(!1,"uiColumnMoved"),onGridEnter:dragItem=>{if(hideColumnOnExit){const unlockedColumns=dragItem?.columns?.filter((col=>!col.getColDef().lockVisible))||[];columnModel.setColsVisible(unlockedColumns,!0,"uiColumnMoved")}},onGridExit:dragItem=>{if(hideColumnOnExit){const unlockedColumns=dragItem?.columns?.filter((col=>!col.getColDef().lockVisible))||[];columnModel.setColsVisible(unlockedColumns,!1,"uiColumnMoved")}}};dragAndDropService.addDragSource(dragSource,!0)}createDragItem(column){const visibleState={};return visibleState[column.getId()]=column.isVisible(),{columns:[column],visibleState}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(func){this.refreshFunctions.push(func)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach((f=>f()))}refreshHeaderComp(){const newCompDetails=this.lookupUserCompDetails();!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==newCompDetails.componentClass)&&this.attemptHeaderCompRefresh(newCompDetails.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(newCompDetails)}attemptHeaderCompRefresh(params){const headerComp=this.comp.getUserCompInstance();if(!headerComp)return!1;if(!headerComp.refresh)return!1;return headerComp.refresh(params)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const colDef=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!colDef.suppressMovable&&!colDef.lockPosition)||!!colDef.enableRowGroup||!!colDef.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const listener=()=>{const columnWidth=this.column.getActualWidth();this.comp.setWidth(`${columnWidth}px`)};this.addManagedListeners(this.column,{widthChanged:listener}),listener()}setupMovingCss(){const listener=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListeners(this.column,{movingChanged:listener}),listener()}setupMenuClass(){const listener=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListeners(this.column,{menuVisibleChanged:listener}),listener()}setupSortableClass(){const updateSortableCssClass=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};updateSortableCssClass(),this.addRefreshFunction(updateSortableCssClass),this.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(){const listener=()=>{const isFilterActive=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",isFilterActive),this.refreshAria()};this.addManagedListeners(this.column,{filterActiveChanged:listener}),listener()}setupWrapTextClass(){const listener=()=>{const wrapText=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",wrapText)};listener(),this.addRefreshFunction(listener)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui,column,comp,beans}=this;if(!column.isSpanHeaderHeight())return eGui.style.removeProperty("top"),eGui.style.removeProperty("height"),comp.addOrRemoveCssClass("ag-header-span-height",!1),void comp.addOrRemoveCssClass("ag-header-span-total",!1);const{numberOfParents,isSpanningTotal}=this.column.getColumnGroupPaddingInfo();comp.addOrRemoveCssClass("ag-header-span-height",numberOfParents>0);const{columnModel}=beans,headerHeight=columnModel.getColumnHeaderRowHeight();if(0===numberOfParents)return comp.addOrRemoveCssClass("ag-header-span-total",!1),eGui.style.setProperty("top","0px"),void eGui.style.setProperty("height",`${headerHeight}px`);comp.addOrRemoveCssClass("ag-header-span-total",isSpanningTotal);const extraHeight=numberOfParents*(columnModel.isPivotMode()?columnModel.getPivotGroupHeaderHeight():columnModel.getGroupHeaderHeight());eGui.style.setProperty("top",-extraHeight+"px"),eGui.style.setProperty("height",`${headerHeight+extraHeight}px`)}setupAutoHeight(wrapperElement){const{columnModel,resizeObserverService}=this.beans,measureHeight=timesCalled=>{if(!this.isAlive())return;const{paddingTop,paddingBottom,borderBottomWidth,borderTopWidth}=_getElementSize(this.getGui()),extraHeight=paddingTop+paddingBottom+borderBottomWidth+borderTopWidth,autoHeight=wrapperElement.offsetHeight+extraHeight;if(timesCalled<5){const doc=this.beans.gos.getDocument();if(!doc||!doc.contains(wrapperElement)||0==autoHeight)return void window.setTimeout((()=>measureHeight(timesCalled+1)),0)}columnModel.setColHeaderHeight(this.column,autoHeight)};let stopResizeObserver,isMeasuring=!1;const checkMeasuring=()=>{const newValue=this.column.isAutoHeaderHeight();newValue&&!isMeasuring&&startMeasuring(),!newValue&&isMeasuring&&stopMeasuring()},startMeasuring=()=>{isMeasuring=!0,measureHeight(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),stopResizeObserver=resizeObserverService.observeResize(wrapperElement,(()=>measureHeight(0)))},stopMeasuring=()=>{isMeasuring=!1,stopResizeObserver&&stopResizeObserver(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),stopResizeObserver=void 0};checkMeasuring(),this.addDestroyFunc((()=>stopMeasuring())),this.addManagedListeners(this.column,{widthChanged:()=>isMeasuring&&measureHeight(0)}),this.addManagedEventListeners({sortChanged:()=>{isMeasuring&&window.setTimeout((()=>measureHeight(0)))}}),this.addRefreshFunction(checkMeasuring)}refreshAriaSort(){if(this.sortable){const translate=this.localeService.getLocaleTextFunc(),sort=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(function _getAriaSortState(sortDirection){let sort;return sort="asc"===sortDirection?"ascending":"desc"===sortDirection?"descending":"mixed"===sortDirection?"other":"none",sort}(sort)),this.setAriaDescriptionProperty("sort",translate("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const translate=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",translate("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const translate=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",translate("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const translate=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",translate("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(property,value){null!=value?this.ariaDescriptionProperties.set(property,value):this.ariaDescriptionProperties.delete(property)}announceAriaDescription(){if(!this.eGui.contains(this.beans.gos.getActiveDomElement()))return;const ariaDescription=Array.from(this.ariaDescriptionProperties.keys()).sort(((a,b)=>"filter"===a?-1:b.charCodeAt(0)-a.charCodeAt(0))).map((key=>this.ariaDescriptionProperties.get(key))).join(". ");this.beans.ariaAnnouncementService.announceValue(ariaDescription)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const listener=()=>{if(!this.gos.get("columnHoverHighlight"))return;const isHovered=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",isHovered)};this.addManagedEventListeners({columnHoverChanged:listener}),listener()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const listener=e=>this.handleMouseOverChange("mouseenter"===e.type);this.addManagedListeners(this.getGui(),{mouseenter:listener,mouseleave:listener,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),contextmenu:event=>this.handleContextMenuMouseEvent(event,void 0,this.column)})}handleMouseOverChange(isMouseOver){this.setActiveHeader(isMouseOver);const event={type:isMouseOver?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column};this.eventService.dispatchEvent(event)}setActiveHeader(active){this.comp.addOrRemoveCssClass("ag-header-active",active)}getAnchorElementForMenu(isFilter){const headerComp=this.comp.getUserCompInstance();return headerComp instanceof HeaderComp?headerComp.getAnchorElementForMenu(isFilter):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},GroupResizeFeature=class extends BeanStub{wireBeans(beans){this.horizontalResizeService=beans.horizontalResizeService,this.autoWidthCalculator=beans.autoWidthCalculator,this.visibleColsService=beans.visibleColsService,this.columnSizeService=beans.columnSizeService,this.columnAutosizeService=beans.columnAutosizeService}constructor(comp,eResize,pinned,columnGroup){super(),this.eResize=eResize,this.comp=comp,this.pinned=pinned,this.columnGroup=columnGroup}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const finishedWithResizeFunc=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(finishedWithResizeFunc),!this.gos.get("suppressAutoSize")){const skipHeaderOnAutoSize=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",(()=>{const keys=[];this.columnGroup.getDisplayedLeafColumns().forEach((column=>{column.getColDef().suppressAutoSize||keys.push(column.getColId())})),keys.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:keys,skipHeader:skipHeaderOnAutoSize,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")}))}}onResizeStart(shiftKey){const initialValues=this.getInitialValues(shiftKey);this.storeLocalValues(initialValues),this.toggleColumnResizing(!0)}onResizing(finished,resizeAmount,source="uiColumnResized"){const resizeAmountNormalised=this.normaliseDragChange(resizeAmount),width=this.resizeStartWidth+resizeAmountNormalised;this.resizeColumnsFromLocalValues(width,source,finished)}getInitialValues(shiftKey){const columnsToResize=this.getColumnsToResize(),resizeStartWidth=this.getInitialSizeOfColumns(columnsToResize),columnSizeAndRatios={columnsToResize,resizeStartWidth,resizeRatios:this.getSizeRatiosOfColumns(columnsToResize,resizeStartWidth)};let groupAfter=null;if(shiftKey&&(groupAfter=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),groupAfter){const takeFromLeafCols=groupAfter.getDisplayedLeafColumns(),groupAfterColumns=columnSizeAndRatios.groupAfterColumns=takeFromLeafCols.filter((col=>col.isResizable())),groupAfterStartWidth=columnSizeAndRatios.groupAfterStartWidth=this.getInitialSizeOfColumns(groupAfterColumns);columnSizeAndRatios.groupAfterRatios=this.getSizeRatiosOfColumns(groupAfterColumns,groupAfterStartWidth)}else columnSizeAndRatios.groupAfterColumns=void 0,columnSizeAndRatios.groupAfterStartWidth=void 0,columnSizeAndRatios.groupAfterRatios=void 0;return columnSizeAndRatios}storeLocalValues(initialValues){const{columnsToResize,resizeStartWidth,resizeRatios,groupAfterColumns,groupAfterStartWidth,groupAfterRatios}=initialValues;this.resizeCols=columnsToResize,this.resizeStartWidth=resizeStartWidth,this.resizeRatios=resizeRatios,this.resizeTakeFromCols=groupAfterColumns,this.resizeTakeFromStartWidth=groupAfterStartWidth,this.resizeTakeFromRatios=groupAfterRatios}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(source){const preferredSize=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),initialValues=this.getInitialValues();preferredSize>initialValues.resizeStartWidth&&this.resizeColumns(initialValues,preferredSize,source,!0)}resizeColumnsFromLocalValues(totalWidth,source,finished=!0){if(!this.resizeCols||!this.resizeRatios)return;const initialValues={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(initialValues,totalWidth,source,finished)}resizeColumns(initialValues,totalWidth,source,finished=!0){const{columnsToResize,resizeStartWidth,resizeRatios,groupAfterColumns,groupAfterStartWidth,groupAfterRatios}=initialValues,resizeSets=[];if(resizeSets.push({columns:columnsToResize,ratios:resizeRatios,width:totalWidth}),groupAfterColumns){const diff=totalWidth-resizeStartWidth;resizeSets.push({columns:groupAfterColumns,ratios:groupAfterRatios,width:groupAfterStartWidth-diff})}this.columnSizeService.resizeColumnSets({resizeSets,finished,source}),finished&&this.toggleColumnResizing(!1)}toggleColumnResizing(resizing){this.comp.addOrRemoveCssClass("ag-column-resizing",resizing)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter((col=>col.isResizable()))}getInitialSizeOfColumns(columns){return columns.reduce(((totalWidth,column)=>totalWidth+column.getActualWidth()),0)}getSizeRatiosOfColumns(columns,initialSizeOfColumns){return columns.map((column=>column.getActualWidth()/initialSizeOfColumns))}normaliseDragChange(dragChange){let result=dragChange;return this.gos.get("enableRtl")?"left"!==this.pinned&&(result*=-1):"right"===this.pinned&&(result*=-1),result}destroy(){super.destroy(),this.clearLocalValues()}},GroupWidthFeature=class extends BeanStub{constructor(comp,columnGroup){super(),this.removeChildListenersFuncs=[],this.columnGroup=columnGroup,this.comp=comp}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const widthChangedListener=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((column=>{column.addEventListener("widthChanged",widthChangedListener),column.addEventListener("visibleChanged",widthChangedListener),this.removeChildListenersFuncs.push((()=>{column.removeEventListener("widthChanged",widthChangedListener),column.removeEventListener("visibleChanged",widthChangedListener)}))}))}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach((func=>func())),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const columnWidth=this.columnGroup.getActualWidth();this.comp.setWidth(`${columnWidth}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===columnWidth)}},HeaderGroupCellCtrl=class extends AbstractHeaderCellCtrl{constructor(columnGroup,beans,parentRowCtrl){super(columnGroup,beans,parentRowCtrl),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const eGui=this.getGui();this.setDragSource(eGui)}},this.column=columnGroup}setComp(comp,eGui,eResize){this.comp=comp,this.setGui(eGui),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc((()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))})),this.setupUserComp(),this.addHeaderMouseListeners();const pinned=this.getParentRowCtrl().getPinned(),leafCols=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new HoverFeature(leafCols,eGui)),this.createManagedBean(new SetLeftFeature(this.column,eGui,this.beans)),this.createManagedBean(new GroupWidthFeature(comp,this.column)),this.resizeFeature=this.createManagedBean(new GroupResizeFeature(comp,eResize,pinned,this.column)),this.createManagedBean(new ManagedFocusFeature(eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(delta,shiftKey){if(!this.resizeFeature)return;const initialValues=this.resizeFeature.getInitialValues(shiftKey);this.resizeFeature.resizeColumns(initialValues,initialValues.resizeStartWidth+delta,"uiColumnResized",!0)}moveHeader(hDirection){const{beans,eGui,column,gos,ctrlsService}=this,isRtl=gos.get("enableRtl"),isLeft=0===hDirection,pinned=this.getPinned(),rect=eGui.getBoundingClientRect(),left=rect.left,width=rect.width,xPosition=normaliseX(isLeft!==isRtl?left-20:left+width+20,pinned,!0,gos,ctrlsService),id=column.getGroupId(),headerPosition=this.focusService.getFocusedHeader();attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection,xPosition,pinned,fromEnter:!1,fakeEvent:!1,gos,columnModel:beans.columnModel,columnMoveService:beans.columnMoveService,presentedColsService:beans.visibleColsService});const displayedLeafColumns=column.getDisplayedLeafColumns(),targetColumn=isLeft?displayedLeafColumns[0]:_last(displayedLeafColumns);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(targetColumn,"auto"),!this.isAlive()&&headerPosition&&this.restoreFocus(id,column,headerPosition)}restoreFocus(groupId,previousColumnGroup,previousPosition){const leafCols=previousColumnGroup.getLeafColumns();if(!leafCols.length)return;const parent=leafCols[0].getParent();if(!parent)return;const newColumnGroup=this.findGroupWidthId(parent,groupId);newColumnGroup&&this.focusService.focusHeaderPosition({headerPosition:{...previousPosition,column:newColumnGroup}})}findGroupWidthId(columnGroup,id){for(;columnGroup;){if(columnGroup.getGroupId()===id)return columnGroup;columnGroup=columnGroup.getParent()}return null}resizeLeafColumnsToFit(source){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(source)}setupUserComp(){const params=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:expanded=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),expanded,"gridInitializing")},setTooltip:(value,shouldDisplayTooltip)=>{this.setupTooltip(value,shouldDisplayTooltip)}}),compDetails=this.userComponentFactory.getHeaderGroupCompDetails(params);this.comp.setUserCompDetails(compDetails)}addHeaderMouseListeners(){const listener=e=>this.handleMouseOverChange("mouseenter"===e.type);this.addManagedListeners(this.getGui(),{mouseenter:listener,mouseleave:listener,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),contextmenu:event=>this.handleContextMenuMouseEvent(event,void 0,this.column.getProvidedColumnGroup())})}handleMouseOverChange(isMouseOver){const event={type:isMouseOver?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(event)}setupTooltip(value,shouldDisplayTooltip){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const colGroupDef=this.column.getColGroupDef(),isTooltipWhenTruncated="whenTruncated"===this.gos.get("tooltipShowMode"),eGui=this.eGui;shouldDisplayTooltip||!isTooltipWhenTruncated||colGroupDef?.headerGroupComponent||(shouldDisplayTooltip=()=>{const textEl=eGui.querySelector(".ag-header-group-text");return!textEl||textEl.scrollWidth>textEl.clientWidth});const tooltipCtrl={getColumn:()=>this.column,getGui:()=>eGui,getLocation:()=>"headerGroup",getTooltipValue:()=>value??(colGroupDef&&colGroupDef.headerTooltip),shouldDisplayTooltip};colGroupDef&&(tooltipCtrl.getColDef=()=>colGroupDef),this.createManagedBean(new TooltipFeature(tooltipCtrl))}setupExpandable(){const providedColGroup=this.column.getProvidedColumnGroup();this.refreshExpanded();const listener=this.refreshExpanded.bind(this);this.addManagedListeners(providedColGroup,{expandedChanged:listener,expandableChanged:listener})}refreshExpanded(){const{column}=this;this.expandable=column.isExpandable();const expanded=column.isExpanded();this.expandable?this.comp.setAriaExpanded(expanded?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const classes=_getHeaderClassesFromColDef(this.column.getColGroupDef(),this.gos,null,this.column);if(this.column.isPadding()){classes.push("ag-header-group-cell-no-group");this.column.getLeafColumns().every((col=>col.isSpanHeaderHeight()))&&classes.push("ag-header-span-height")}else classes.push("ag-header-group-cell-with-group");classes.forEach((c=>this.comp.addOrRemoveCssClass(c,!0)))}setupMovingCss(){const leafColumns=this.column.getProvidedColumnGroup().getLeafColumns(),listener=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());leafColumns.forEach((col=>{this.addManagedListeners(col,{movingChanged:listener})})),listener()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const rowIndex=this.getRowIndex();this.beans.focusService.setFocusedHeader(rowIndex,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const wrapperHasFocus=this.getWrapperHasFocus();if(this.expandable&&wrapperHasFocus&&e.key===KeyCode.ENTER){const column=this.column,newExpandedValue=!column.isExpanded();this.beans.columnModel.setColumnGroupOpened(column.getProvidedColumnGroup(),newExpandedValue,"uiColumnExpanded")}}setDragSource(eHeaderGroup){if(!this.isAlive()||this.isSuppressMoving())return;if(this.removeDragSource(),!eHeaderGroup)return;const{beans,column,displayName,gos,dragAndDropService}=this,{columnModel}=beans,allLeafColumns=column.getProvidedColumnGroup().getLeafColumns();let hideColumnOnExit=!gos.get("suppressDragLeaveHidesColumns");const dragSource=this.dragSource={type:1,eElement:eHeaderGroup,getDefaultIconName:()=>hideColumnOnExit?"hide":"notAllowed",dragItemName:displayName,getDragItem:()=>this.getDragItemForGroup(column),onDragStarted:()=>{hideColumnOnExit=!gos.get("suppressDragLeaveHidesColumns"),allLeafColumns.forEach((col=>col.setMoving(!0,"uiColumnDragged")))},onDragStopped:()=>allLeafColumns.forEach((col=>col.setMoving(!1,"uiColumnDragged"))),onGridEnter:dragItem=>{if(hideColumnOnExit){const unlockedColumns=dragItem?.columns?.filter((col=>!col.getColDef().lockVisible))||[];columnModel.setColsVisible(unlockedColumns,!0,"uiColumnMoved")}},onGridExit:dragItem=>{if(hideColumnOnExit){const unlockedColumns=dragItem?.columns?.filter((col=>!col.getColDef().lockVisible))||[];columnModel.setColsVisible(unlockedColumns,!1,"uiColumnMoved")}}};dragAndDropService.addDragSource(dragSource,!0)}getDragItemForGroup(columnGroup){const allColumnsOriginalOrder=columnGroup.getProvidedColumnGroup().getLeafColumns(),visibleState={};allColumnsOriginalOrder.forEach((column=>visibleState[column.getId()]=column.isVisible()));const allColumnsCurrentOrder=[];return this.beans.visibleColsService.getAllCols().forEach((column=>{allColumnsOriginalOrder.indexOf(column)>=0&&(allColumnsCurrentOrder.push(column),_removeFromArray(allColumnsOriginalOrder,column))})),allColumnsOriginalOrder.forEach((column=>allColumnsCurrentOrder.push(column))),{columns:allColumnsCurrentOrder,visibleState}}isSuppressMoving(){let childSuppressesMoving=!1;this.column.getLeafColumns().forEach((column=>{(column.getColDef().suppressMovable||column.getColDef().lockPosition)&&(childSuppressesMoving=!0)}));return childSuppressesMoving||this.gos.get("suppressMovableColumns")}},instanceIdSequence3=0,HeaderRowCtrl=class extends BeanStub{constructor(rowIndex,pinned,type){super(),this.instanceId=instanceIdSequence3++,this.rowIndex=rowIndex,this.pinned=pinned,this.type=type;const typeClass="group"==type?"ag-header-row-column-group":"filter"==type?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${typeClass}`}wireBeans(beans){this.beans=beans}postConstruct(){this.isPrintLayout=this.gos.isDomLayout("print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}getInstanceId(){return this.instanceId}areCellsRendered(){return!!this.comp&&this.getHeaderCellCtrls().every((ctrl=>null!=ctrl.getGui()))}setComp(comp,initCompState=!0){this.comp=comp,initCompState&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){const onHeightChanged=this.onRowHeightChanged.bind(this);this.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:params=>this.onVirtualColumnsChanged(params.afterScroll),columnHeaderHeightChanged:onHeightChanged,gridStylesChanged:onHeightChanged,advancedFilterEnabledChanged:onHeightChanged}),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",(e=>this.isEnsureDomOrder=e.currentValue)),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],onHeightChanged)}getHeaderCellCtrl(column){if(this.headerCellCtrls)return _values(this.headerCellCtrls).find((cellCtrl=>cellCtrl.getColumnGroupChild()===column))}onDisplayedColumnsChanged(){this.isPrintLayout=this.gos.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const width=this.getWidthForRow();this.comp.setWidth(`${width}px`)}getWidthForRow(){const{visibleColsService:presentedColsService}=this.beans;if(this.isPrintLayout){return null!=this.pinned?0:presentedColsService.getContainerWidth("right")+presentedColsService.getContainerWidth("left")+presentedColsService.getContainerWidth(null)}return presentedColsService.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset,rowHeight}=this.getTopAndHeight();this.comp.setTop(topOffset+"px"),this.comp.setHeight(rowHeight+"px")}getTopAndHeight(){const{columnModel,filterManager}=this.beans;let headerRowCount=columnModel.getHeaderRowCount();const sizes=[];let numberOfFloating=0;filterManager?.hasFloatingFilters()&&(headerRowCount++,numberOfFloating=1);const groupHeight=columnModel.getColumnGroupHeaderRowHeight(),headerHeight=columnModel.getColumnHeaderRowHeight(),numberOfGroups=headerRowCount-(1+numberOfFloating);for(let i=0;i<numberOfGroups;i++)sizes.push(groupHeight);sizes.push(headerHeight);for(let i=0;i<numberOfFloating;i++)sizes.push(columnModel.getFloatingFiltersHeight());let topOffset=0;for(let i=0;i<this.rowIndex;i++)topOffset+=sizes[i];return{topOffset,rowHeight:sizes[this.rowIndex]}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(afterScroll=!1){const ctrlsToDisplay=this.getHeaderCtrls(),forceOrder=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(ctrlsToDisplay,forceOrder,afterScroll)}getHeaderCtrls(){const oldCtrls=this.headerCellCtrls;this.headerCellCtrls=new Map;const columns=this.getColumnsInViewport();for(const child of columns)this.recycleAndCreateHeaderCtrls(child,oldCtrls);const isFocusedAndDisplayed=ctrl=>{const{focusService,visibleColsService}=this.beans;if(!focusService.isHeaderWrapperFocused(ctrl))return!1;return visibleColsService.isVisible(ctrl.getColumnGroupChild())};if(oldCtrls)for(const[id,oldCtrl]of oldCtrls){isFocusedAndDisplayed(oldCtrl)?this.headerCellCtrls.set(id,oldCtrl):this.destroyBean(oldCtrl)}return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(headerColumn,oldCtrls){if(!this.headerCellCtrls)return;if(headerColumn.isEmptyGroup())return;const idOfChild=headerColumn.getUniqueId();let headerCtrl;oldCtrls&&(headerCtrl=oldCtrls.get(idOfChild),oldCtrls.delete(idOfChild));if(headerCtrl&&headerCtrl.getColumnGroupChild()!=headerColumn&&(this.destroyBean(headerCtrl),headerCtrl=void 0),null==headerCtrl)switch(this.type){case"filter":headerCtrl=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",headerColumn,this.beans,this));break;case"group":headerCtrl=this.createBean(new HeaderGroupCellCtrl(headerColumn,this.beans,this));break;default:headerCtrl=this.createBean(new HeaderCellCtrl(headerColumn,this.beans,this))}this.headerCellCtrls.set(idOfChild,headerCtrl)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let viewportColumns=[];const actualDepth=this.getActualDepth(),{columnViewportService}=this.beans;return["left",null,"right"].forEach((pinned=>{const items=columnViewportService.getHeadersToRender(pinned,actualDepth);viewportColumns=viewportColumns.concat(items)})),viewportColumns}getActualDepth(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(column){if(!this.headerCellCtrls)return;return this.getHeaderCellCtrls().find((ctrl2=>ctrl2.getColumnGroupChild()==column))}focusHeader(column,event){const ctrl=this.findHeaderCellCtrl(column);if(!ctrl)return!1;return ctrl.focus(event)}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach((ctrl=>{this.destroyBean(ctrl)})),this.headerCellCtrls=void 0,super.destroy()}},HeaderRowContainerCtrl=class extends BeanStub{constructor(pinned){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=pinned}wireBeans(beans){this.ctrlsService=beans.ctrlsService,this.scrollVisibleService=beans.scrollVisibleService,this.pinnedWidthService=beans.pinnedWidthService,this.columnModel=beans.columnModel,this.focusService=beans.focusService,this.filterManager=beans.filterManager}setComp(comp,eGui){this.comp=comp,this.eViewport=eGui,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const onDisplayedColsChanged=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:onDisplayedColsChanged,advancedFilterEnabledChanged:onDisplayedColsChanged}),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const res=[...this.groupsRowCtrls];return this.columnsRowCtrl&&res.push(this.columnsRowCtrl),this.filtersRowCtrl&&res.push(this.filtersRowCtrl),res}refresh(keepColumns=!1){const sequence=new NumberSequence,focusedHeaderPosition=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const groupRowCount=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let i=0;i<groupRowCount;i++){const ctrl=this.createBean(new HeaderRowCtrl(sequence.next(),this.pinned,"group"));this.groupsRowCtrls.push(ctrl)}})(),(()=>{const rowIndex=sequence.next(),needNewInstance=!(this.hidden||null!=this.columnsRowCtrl&&keepColumns&&this.columnsRowCtrl.getRowIndex()===rowIndex);(needNewInstance||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),needNewInstance&&(this.columnsRowCtrl=this.createBean(new HeaderRowCtrl(rowIndex,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=!!this.filterManager?.hasFloatingFilters()&&!this.hidden;const destroyPreviousComp=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void destroyPreviousComp();const rowIndex=sequence.next();if(this.filtersRowCtrl){const rowIndexMismatch=this.filtersRowCtrl.getRowIndex()!==rowIndex;keepColumns&&!rowIndexMismatch||destroyPreviousComp()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new HeaderRowCtrl(rowIndex,this.pinned,"filter")))})();const allCtrls=this.getAllCtrls();this.comp.setCtrls(allCtrls),this.restoreFocusOnHeader(focusedHeaderPosition)}getHeaderCtrlForColumn(column){if(isColumn(column)){if(!this.columnsRowCtrl)return;return this.columnsRowCtrl.getHeaderCellCtrl(column)}if(0!==this.groupsRowCtrls.length)for(let i=0;i<this.groupsRowCtrls.length;i++){const ctrl=this.groupsRowCtrls[i].getHeaderCellCtrl(column);if(ctrl)return ctrl}}getHtmlElementForColumnHeader(column){const cellCtrl=this.getHeaderCtrlForColumn(column);return cellCtrl?cellCtrl.getGui():null}getRowType(rowIndex){const ctrl=this.getAllCtrls()[rowIndex];return ctrl?ctrl.getType():void 0}focusHeader(rowIndex,column,event){const ctrl=this.getAllCtrls()[rowIndex];return!!ctrl&&ctrl.focusHeader(column,event)}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(offset){this.comp.setViewportScrollLeft(offset)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(dropContainer){const bodyDropTarget=new BodyDropTarget(this.pinned,dropContainer);this.createManagedBean(bodyDropTarget)}restoreFocusOnHeader(position){if(!position)return;const{column}=position;column.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:position})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const includeFloatingFilter=this.filterManager?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==includeFloatingFilter&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new CenterWidthFeature((width=>this.comp.setCenterWidth(`${width}px`)),!0))}setupPinnedWidth(){if(null==this.pinned)return;const pinningLeft="left"===this.pinned,pinningRight="right"===this.pinned;this.hidden=!0;const listener=()=>{const width=pinningLeft?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==width)return;const hidden=0==width,hiddenChanged=this.hidden!==hidden,isRtl=this.gos.get("enableRtl"),scrollbarWidth=this.gos.getScrollbarWidth(),widthWithPadding=this.scrollVisibleService.isVerticalScrollShowing()&&(isRtl&&pinningLeft||!isRtl&&pinningRight)?width+scrollbarWidth:width;this.comp.setPinnedContainerWidth(`${widthWithPadding}px`),this.comp.setDisplayed(!hidden),hiddenChanged&&(this.hidden=hidden,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:listener,rightPinnedWidthChanged:listener,scrollVisibilityChanged:listener,scrollbarWidthChanged:listener})}},LayoutFeature=class extends BeanStub{constructor(view){super(),this.view=view}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const domLayout=this.getDomLayout(),params={autoHeight:"autoHeight"===domLayout,normal:"normal"===domLayout,print:"print"===domLayout},cssClass=params.autoHeight?"ag-layout-auto-height":params.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(cssClass,params)}getDomLayout(){const domLayout=this.gos.get("domLayout")??"normal";return-1===["normal","print","autoHeight"].indexOf(domLayout)?(_warnOnce(`${domLayout} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):domLayout}},OverlayWrapperComponent=class extends Component{constructor(){super('\n            <div class="ag-overlay" role="presentation">\n                <div class="ag-overlay-panel" role="presentation">\n                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>\n                </div>\n            </div>'),this.eOverlayWrapper=null,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null}wireBeans(beans){this.overlayService=beans.overlayService}updateLayoutClasses(cssClass,params){const overlayWrapperClassList=this.eOverlayWrapper.classList;overlayWrapperClassList.toggle("ag-layout-auto-height",params.autoHeight),overlayWrapperClassList.toggle("ag-layout-normal",params.normal),overlayWrapperClassList.toggle("ag-layout-print",params.print)}postConstruct(){this.createManagedBean(new LayoutFeature(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(overlayWrapperCssClass){const overlayWrapperClassList=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&overlayWrapperClassList.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=overlayWrapperCssClass,overlayWrapperClassList.toggle(overlayWrapperCssClass,!0)}showOverlay(overlayComponentPromise,overlayWrapperCssClass,gridOption){this.setWrapperTypeClass(overlayWrapperCssClass),this.destroyActiveOverlay(),this.activePromise=overlayComponentPromise,overlayComponentPromise?.then((comp=>{if(this.activePromise===overlayComponentPromise){if(this.activePromise=null,comp&&this.activeOverlay!=comp&&(this.eOverlayWrapper.appendChild(comp.getGui()),this.activeOverlay=comp,gridOption)){const component=comp;this.updateListenerDestroyFunc=this.addManagedPropertyListener(gridOption,(({currentValue})=>{component.refresh?.(this.gos.addGridCommonParams({...currentValue??{}}))}))}}else this.activeOverlay!==comp&&(this.destroyBean(comp),comp=null)})),this.setDisplayed(!0,{skipAriaHidden:!0})}destroyActiveOverlay(){this.activePromise=null;const activeOverlay=this.activeOverlay;if(!activeOverlay)return;this.activeOverlay=null;const updateListenerDestroyFunc=this.updateListenerDestroyFunc;updateListenerDestroyFunc&&(updateListenerDestroyFunc(),this.updateListenerDestroyFunc=null),this.destroyBean(activeOverlay),_clearElement(this.eOverlayWrapper)}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}},AbstractFakeScrollComp=class extends Component{constructor(template,direction){super(),this.direction=direction,this.eViewport=null,this.eContainer=null,this.hideTimeout=null,this.setTemplate(template)}wireBeans(beans){this.animationFrameService=beans.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",_isMacOsUserAgent()||_isIOSUserAgent())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=_isInvisibleScrollbar(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const eGui=this.getGui(),onActivate=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),onDeactivate=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(eGui,{mouseenter:onActivate,mousedown:onActivate,touchstart:onActivate,mouseleave:onDeactivate,touchend:onDeactivate})}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame((()=>this.setScrollVisible()))}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:params=>{params.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout((()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null}),400)}})}attemptSettingScrollPosition(value){const viewport=this.getViewport();!function _waitUntil(condition,callback,timeout=100,timeoutMessage){const timeStamp=(new Date).getTime();let interval=null,executed=!1;const internalCallback=()=>{const reachedTimeout=(new Date).getTime()-timeStamp>timeout;(condition()||reachedTimeout)&&(callback(),executed=!0,null!=interval&&(window.clearInterval(interval),interval=null),reachedTimeout&&timeoutMessage&&_warnOnce(timeoutMessage))};internalCallback(),executed||(interval=window.setInterval(internalCallback,10))}((()=>_isVisible(viewport)),(()=>this.setScrollPosition(value)),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(fn){this.addManagedElementListeners(this.getViewport(),{scroll:fn})}},FakeHScrollComp=class extends AbstractFakeScrollComp{constructor(){super('<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>\n        </div>',"horizontal"),this.eLeftSpacer=null,this.eRightSpacer=null}wireBeans(beans){super.wireBeans(beans),this.visibleColsService=beans.visibleColsService,this.pinnedRowModel=beans.pinnedRowModel,this.ctrlsService=beans.ctrlsService,this.scrollVisibleService=beans.scrollVisibleService}postConstruct(){super.postConstruct();const spacerWidthsListener=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:spacerWidthsListener,displayedColumnsWidthChanged:spacerWidthsListener,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",spacerWidthsListener),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new CenterWidthFeature((width=>this.eContainer.style.width=`${width}px`))),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const bottomPinnedHeight=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${bottomPinnedHeight}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const vScrollShowing=this.scrollVisibleService.isVerticalScrollShowing();let rightSpacing=this.visibleColsService.getDisplayedColumnsRightWidth();const scrollOnRight=!this.enableRtl&&vScrollShowing,scrollbarWidth=this.gos.getScrollbarWidth();scrollOnRight&&(rightSpacing+=scrollbarWidth),_setFixedWidth(this.eRightSpacer,rightSpacing),this.eRightSpacer.classList.toggle("ag-scroller-corner",rightSpacing<=scrollbarWidth);let leftSpacing=this.visibleColsService.getColsLeftWidth();this.enableRtl&&vScrollShowing&&(leftSpacing+=scrollbarWidth),_setFixedWidth(this.eLeftSpacer,leftSpacing),this.eLeftSpacer.classList.toggle("ag-scroller-corner",leftSpacing<=scrollbarWidth)}setScrollVisible(){const hScrollShowing=this.scrollVisibleService.isHorizontalScrollShowing(),invisibleScrollbar2=this.invisibleScrollbar,isSuppressHorizontalScroll=this.gos.get("suppressHorizontalScroll"),scrollbarWidth=hScrollShowing&&this.gos.getScrollbarWidth()||0,scrollContainerSize=isSuppressHorizontalScroll?0:0===scrollbarWidth&&invisibleScrollbar2?16:scrollbarWidth;this.addOrRemoveCssClass("ag-scrollbar-invisible",invisibleScrollbar2),_setFixedHeight(this.getGui(),scrollContainerSize),_setFixedHeight(this.eViewport,scrollContainerSize),_setFixedHeight(this.eContainer,scrollContainerSize),this.setDisplayed(hScrollShowing,{skipAriaHidden:!0})}getScrollPosition(){return _getScrollLeft(this.getViewport(),this.enableRtl)}setScrollPosition(value){_isVisible(this.getViewport())||this.attemptSettingScrollPosition(value),_setScrollLeft(this.getViewport(),value,this.enableRtl)}},SetHeightFeature=class extends BeanStub{wireBeans(beans){this.maxDivHeightScaler=beans.rowContainerHeightService}constructor(eContainer,eViewport){super(),this.eContainer=eContainer,this.eViewport=eViewport}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const height=this.maxDivHeightScaler.getUiContainerHeight(),heightString=null!=height?`${height}px`:"";this.eContainer.style.height=heightString,this.eViewport&&(this.eViewport.style.height=heightString)}},FakeVScrollComp=class extends AbstractFakeScrollComp{wireBeans(beans){super.wireBeans(beans),this.ctrlsService=beans.ctrlsService,this.scrollVisibleService=beans.scrollVisibleService}constructor(){super('<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>\n            </div>\n        </div>',"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new SetHeightFeature(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const vScrollShowing=this.scrollVisibleService.isVerticalScrollShowing(),invisibleScrollbar2=this.invisibleScrollbar,scrollbarWidth=vScrollShowing&&this.gos.getScrollbarWidth()||0,adjustedScrollbarWidth=0===scrollbarWidth&&invisibleScrollbar2?16:scrollbarWidth;this.addOrRemoveCssClass("ag-scrollbar-invisible",invisibleScrollbar2),_setFixedWidth(this.getGui(),adjustedScrollbarWidth),_setFixedWidth(this.eViewport,adjustedScrollbarWidth),_setFixedWidth(this.eContainer,adjustedScrollbarWidth),this.setDisplayed(vScrollShowing,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService}=this,gridBodyViewportEl=ctrlsService.getGridBodyCtrl().getBodyViewportElement(),eViewportScrollTop=this.getScrollPosition(),gridBodyViewportScrollTop=gridBodyViewportEl.scrollTop;eViewportScrollTop!=gridBodyViewportScrollTop&&this.setScrollPosition(gridBodyViewportScrollTop,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(value,force){force||_isVisible(this.getViewport())||this.attemptSettingScrollPosition(value),this.getViewport().scrollTop=value}},GridBodyScrollFeature=class extends BeanStub{constructor(eBodyViewport){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=eBodyViewport,this.resetLastHScrollDebounced=_debounce((()=>this.lastScrollSource[1]=null),500),this.resetLastVScrollDebounced=_debounce((()=>this.lastScrollSource[0]=null),500)}wireBeans(beans){this.ctrlsService=beans.ctrlsService,this.animationFrameService=beans.animationFrameService,this.paginationService=beans.paginationService,this.pageBoundsService=beans.pageBoundsService,this.rowModel=beans.rowModel,this.heightScaler=beans.rowContainerHeightService,this.rowRenderer=beans.rowRenderer,this.columnModel=beans.columnModel,this.visibleColsService=beans.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady((p=>{this.centerRowsCtrl=p.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()}))}addScrollListener(){const{fakeHScrollComp,fakeVScrollComp}=this.ctrlsService.getParams();this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this)}),fakeHScrollComp.onScrollCallback(this.onFakeHScroll.bind(this));const isDebounce=this.gos.get("debounceVerticalScrollbar"),onVScroll=isDebounce?_debounce(this.onVScroll.bind(this),100):this.onVScroll.bind(this),onFakeVScroll=isDebounce?_debounce(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedElementListeners(this.eBodyViewport,{scroll:onVScroll}),fakeVScrollComp.onScrollCallback(onFakeVScroll)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(scrollLeft){if(null==this.centerRowsCtrl)return;void 0===scrollLeft&&(scrollLeft=this.centerRowsCtrl.getCenterViewportScrollLeft());const offset=this.enableRtl?scrollLeft:-scrollLeft,{topCenter,stickyTopCenter,stickyBottomCenter,centerHeader,bottomCenter,fakeHScrollComp}=this.ctrlsService.getParams();centerHeader.setHorizontalScroll(-offset),bottomCenter.setContainerTranslateX(offset),topCenter.setContainerTranslateX(offset),stickyTopCenter.setContainerTranslateX(offset),stickyBottomCenter.setContainerTranslateX(offset);const centerViewport=this.centerRowsCtrl.getViewportElement(),isCenterViewportLastHorizontal=0===this.lastScrollSource[1];scrollLeft=Math.abs(scrollLeft),isCenterViewportLastHorizontal?fakeHScrollComp.setScrollPosition(scrollLeft):_setScrollLeft(centerViewport,scrollLeft,this.enableRtl)}isControllingScroll(source,direction){return null==this.lastScrollSource[direction]?(this.lastScrollSource[direction]=source,!0):this.lastScrollSource[direction]===source}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(source){const centerContainerViewport=this.centerRowsCtrl.getViewportElement(),{scrollLeft}=centerContainerViewport;if(this.shouldBlockScrollUpdate(1,scrollLeft,!0))return;let newScrollLeft;newScrollLeft=0===source?_getScrollLeft(centerContainerViewport,this.enableRtl):this.ctrlsService.get("fakeHScrollComp").getScrollPosition(),this.doHorizontalScroll(Math.round(newScrollLeft)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(source){let scrollTop;scrollTop=0===source?this.eBodyViewport.scrollTop:this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,scrollTop,!0)||(this.animationFrameService.setScrollTop(scrollTop),this.nextScrollTop=scrollTop,0===source?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(scrollTop):this.eBodyViewport.scrollTop=scrollTop,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(scrollLeft){const fakeScrollLeft=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===scrollLeft&&scrollLeft===fakeScrollLeft||(this.scrollLeft=scrollLeft,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(scrollLeft),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(direction){const bodyScrollEvent={type:"bodyScroll",direction:1===direction?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(bodyScrollEvent),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout((()=>{const bodyScrollEndEvent={...bodyScrollEvent,type:"bodyScrollEnd"};this.eventService.dispatchEvent(bodyScrollEndEvent)}),100)}shouldBlockScrollUpdate(direction,scrollTo,touchOnly=!1){return!(touchOnly&&!_isIOSUserAgent())&&(0===direction?this.shouldBlockVerticalScroll(scrollTo):this.shouldBlockHorizontalScroll(scrollTo))}shouldBlockVerticalScroll(scrollTo){const clientHeight=_getInnerHeight(this.eBodyViewport),{scrollHeight}=this.eBodyViewport;return scrollTo<0||scrollTo+clientHeight>scrollHeight}shouldBlockHorizontalScroll(scrollTo){const clientWidth=this.centerRowsCtrl.getCenterWidth(),{scrollWidth}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&_isRtlNegativeScroll()){if(scrollTo>0)return!0}else if(scrollTo<0)return!0;return Math.abs(scrollTo)+clientWidth>scrollWidth}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){const frameNeeded=this.scrollTop!=this.nextScrollTop;return frameNeeded&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),frameNeeded}setHorizontalScrollPosition(hScrollPosition,fromAlignedGridsService=!1){const maxScrollLeft=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!fromAlignedGridsService&&this.shouldBlockScrollUpdate(1,hScrollPosition)&&(hScrollPosition=this.enableRtl&&_isRtlNegativeScroll()?hScrollPosition>0?0:maxScrollLeft:Math.min(Math.max(hScrollPosition,0),maxScrollLeft)),_setScrollLeft(this.centerRowsCtrl.getViewportElement(),Math.abs(hScrollPosition),this.enableRtl),this.doHorizontalScroll(hScrollPosition)}setVerticalScrollPosition(vScrollPosition){this.eBodyViewport.scrollTop=vScrollPosition}getVScrollPosition(){this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight;return{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(pixels){const oldScrollPosition=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(oldScrollPosition+pixels),this.centerRowsCtrl.getViewportElement().scrollLeft-oldScrollPosition}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(comparator,position=null){const rowCount=this.rowModel.getRowCount();let indexToSelect=-1;for(let i=0;i<rowCount;i++){const node=this.rowModel.getRow(i);if("function"==typeof comparator){if(node&&comparator(node)){indexToSelect=i;break}}else if(comparator===node||comparator===node.data){indexToSelect=i;break}}indexToSelect>=0&&this.ensureIndexVisible(indexToSelect,position)}ensureIndexVisible(index,position){if(this.gos.isDomLayout("print"))return;const rowCount=this.rowModel.getRowCount();if("number"!=typeof index||index<0||index>=rowCount)return void _warnOnce("Invalid row index for ensureIndexVisible: "+index);const paginationPanelEnabled=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming((()=>{paginationPanelEnabled||this.paginationService?.goToPageWithIndex(index);const gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),stickyTopHeight=gridBodyCtrl.getStickyTopHeight(),stickyBottomHeight=gridBodyCtrl.getStickyBottomHeight(),rowNode=this.rowModel.getRow(index);let rowGotShiftedDuringOperation;do{const startingRowTop=rowNode.rowTop,startingRowHeight=rowNode.rowHeight,paginationOffset=this.pageBoundsService.getPixelOffset(),rowTopPixel=rowNode.rowTop-paginationOffset,rowBottomPixel=rowTopPixel+rowNode.rowHeight,scrollPosition=this.getVScrollPosition(),heightOffset=this.heightScaler.getDivStretchOffset(),vScrollTop=scrollPosition.top+heightOffset,vScrollBottom=scrollPosition.bottom+heightOffset,viewportHeight=vScrollBottom-vScrollTop,pxTop=this.heightScaler.getScrollPositionForPixel(rowTopPixel),pxBottom=this.heightScaler.getScrollPositionForPixel(rowBottomPixel-viewportHeight),pxMiddle=Math.min((pxTop+pxBottom)/2,rowTopPixel);let newScrollPosition=null;"top"===position?newScrollPosition=pxTop:"bottom"===position?newScrollPosition=pxBottom:"middle"===position?newScrollPosition=pxMiddle:vScrollTop+stickyTopHeight>rowTopPixel?newScrollPosition=pxTop-stickyTopHeight:vScrollBottom-stickyBottomHeight<rowBottomPixel&&(newScrollPosition=pxBottom+stickyBottomHeight),null!==newScrollPosition&&(this.setVerticalScrollPosition(newScrollPosition),this.rowRenderer.redraw({afterScroll:!0})),rowGotShiftedDuringOperation=startingRowTop!==rowNode.rowTop||startingRowHeight!==rowNode.rowHeight}while(rowGotShiftedDuringOperation);this.animationFrameService.flushAllFrames()}))}ensureColumnVisible(key,position="auto"){const column=this.columnModel.getCol(key);if(!column)return;if(column.isPinned())return;if(!this.visibleColsService.isColDisplayed(column))return;const newHorizontalScroll=this.getPositionedHorizontalScroll(column,position);this.getFrameworkOverrides().wrapIncoming((()=>{null!==newHorizontalScroll&&this.centerRowsCtrl.setCenterViewportScrollLeft(newHorizontalScroll),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}))}setScrollPosition(top,left){this.getFrameworkOverrides().wrapIncoming((()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(left),this.setVerticalScrollPosition(top),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()}))}getPositionedHorizontalScroll(column,position){const{columnBeforeStart,columnAfterEnd}=this.isColumnOutsideViewport(column),viewportTooSmallForColumn=this.centerRowsCtrl.getCenterWidth()<column.getActualWidth(),viewportWidth=this.centerRowsCtrl.getCenterWidth(),isRtl=this.enableRtl;let alignColToStart=(isRtl?columnBeforeStart:columnAfterEnd)||viewportTooSmallForColumn,alignColToEnd=isRtl?columnAfterEnd:columnBeforeStart;"auto"!==position&&(alignColToStart="start"===position,alignColToEnd="end"===position);const isMiddle="middle"===position;if(alignColToStart||alignColToEnd||isMiddle){const{colLeft,colMiddle,colRight}=this.getColumnBounds(column);return isMiddle?colMiddle-viewportWidth/2:alignColToStart?isRtl?colRight:colLeft:isRtl?colLeft-viewportWidth:colRight-viewportWidth}return null}isColumnOutsideViewport(column){const{start:viewportStart,end:viewportEnd}=this.getViewportBounds(),{colLeft,colRight}=this.getColumnBounds(column),isRtl=this.enableRtl;return{columnBeforeStart:isRtl?viewportStart>colRight:viewportEnd<colRight,columnAfterEnd:isRtl?viewportEnd<colLeft:viewportStart>colLeft}}getColumnBounds(column){const isRtl=this.enableRtl,bodyWidth=this.visibleColsService.getBodyContainerWidth(),colWidth=column.getActualWidth(),colLeft=column.getLeft(),multiplier=isRtl?-1:1,colLeftPixel=isRtl?bodyWidth-colLeft:colLeft;return{colLeft:colLeftPixel,colMiddle:colLeftPixel+colWidth/2*multiplier,colRight:colLeftPixel+colWidth*multiplier}}getViewportBounds(){const viewportWidth=this.centerRowsCtrl.getCenterWidth(),scrollPosition=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:scrollPosition,end:viewportWidth+scrollPosition,width:viewportWidth}}},GridBodyCtrl=class extends BeanStub{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(beans){this.animationFrameService=beans.animationFrameService,this.rowContainerHeightService=beans.rowContainerHeightService,this.ctrlsService=beans.ctrlsService,this.columnModel=beans.columnModel,this.columnSizeService=beans.columnSizeService,this.scrollVisibleService=beans.scrollVisibleService,this.menuService=beans.menuService,this.headerNavigationService=beans.headerNavigationService,this.dragAndDropService=beans.dragAndDropService,this.pinnedRowModel=beans.pinnedRowModel,this.rowRenderer=beans.rowRenderer,this.popupService=beans.popupService,this.mouseEventService=beans.mouseEventService,this.rowModel=beans.rowModel,this.filterManager=beans.filterManager,this.environment=beans.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(comp,eGridBody,eBodyViewport,eTop,eBottom,eStickyTop,eStickyBottom){this.comp=comp,this.eGridBody=eGridBody,this.eBodyViewport=eBodyViewport,this.eTop=eTop,this.eBottom=eBottom,this.eStickyTop=eStickyTop,this.eStickyBottom=eStickyBottom,this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",(props=>this.setCellTextSelection(props.currentValue))),this.createManagedBean(new LayoutFeature(this.comp)),this.bodyScrollFeature=this.createManagedBean(new GridBodyScrollFeature(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([eTop,eBodyViewport,eBottom,eStickyTop,eStickyBottom]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager?.setupAdvancedFilterHeaderComp(eTop),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),pinnedRowDataChanged:this.setFloatingHeights.bind(this),pinnedHeightChanged:this.setFloatingHeights.bind(this),headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(elements){elements.forEach((element=>{this.addManagedElementListeners(element,{focusin:e=>{const{target}=e,isFocusedElementNested=_isElementChildOfClass(target,"ag-root",element);element.classList.toggle("ag-has-focus",!isFocusedElementNested)},focusout:e=>{const{target,relatedTarget}=e,gridContainRelatedTarget=element.contains(relatedTarget),isNestedRelatedTarget=_isElementChildOfClass(relatedTarget,"ag-root",element);_isElementChildOfClass(target,"ag-root",element)||gridContainRelatedTarget&&!isNestedRelatedTarget||element.classList.remove("ag-has-focus")}})}))}setColumnMovingCss(moving){this.comp.setColumnMovingCss("ag-column-moving",moving)}setCellTextSelection(selectable=!1){this.comp.setCellSelectableCss("ag-selectable",selectable)}onScrollVisibilityChanged(){const visible=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(visible),this.setStickyWidth(visible),this.setStickyBottomOffsetBottom();const width=`calc(100% + ${(visible&&this.gos.getScrollbarWidth()||0)+(_isInvisibleScrollbar()?16:0)}px)`;this.animationFrameService.requestAnimationFrame((()=>this.comp.setBodyViewportWidth(width)))}onGridColumnsChanged(){const columns=this.columnModel.getCols();this.comp.setColumnCount(columns.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:event=>{if(event.target instanceof HTMLImageElement)return event.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const focusOutListener=event=>{const elementWithFocus=event.relatedTarget;if(null===_getTabIndex(elementWithFocus))return void this.rowRenderer.stopEditing();let clickInsideGrid=viewports.some((viewport=>viewport.contains(elementWithFocus)))&&this.mouseEventService.isElementInThisGrid(elementWithFocus);if(!clickInsideGrid){const popupService=this.popupService;clickInsideGrid=popupService.getActivePopups().some((popup=>popup.contains(elementWithFocus)))||popupService.isElementWithinCustomPopup(elementWithFocus)}clickInsideGrid||this.rowRenderer.stopEditing()},viewports=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];viewports.forEach((viewport=>this.addManagedElementListeners(viewport,{focusout:focusOutListener})))}updateRowCount(){const headerCount=this.headerNavigationService.getHeaderRowCount()+(this.filterManager?.getHeaderRowCount()??0),rowCount=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,total=-1===rowCount?-1:headerCount+rowCount;this.comp.setRowCount(total)}registerBodyViewportResizeListener(listener){this.comp.registerBodyViewportResizeListener(listener)}setVerticalScrollPaddingVisible(visible){const overflowY=visible?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(overflowY)}isVerticalScrollShowing(){const show=this.gos.get("alwaysShowVerticalScroll"),cssClass=show?"ag-force-vertical-scroll":null,allowVerticalScroll=this.gos.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(cssClass,show),show||allowVerticalScroll&&function _isVerticalScrollShowing(element){return element.clientHeight<element.scrollHeight}(this.eBodyViewport)}setupRowAnimationCssClass(){let initialSizeMeasurementComplete=this.environment.hasMeasuredSizes();const updateAnimationClass=()=>{const animateRows=initialSizeMeasurementComplete&&this.gos.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),animateRowsCssClass=animateRows?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(animateRowsCssClass,animateRows)};updateAnimationClass(),this.addManagedEventListeners({heightScaleChanged:updateAnimationClass}),this.addManagedPropertyListener("animateRows",updateAnimationClass),this.addManagedEventListeners({gridStylesChanged:()=>{!initialSizeMeasurementComplete&&this.environment.hasMeasuredSizes()&&(initialSizeMeasurementComplete=!0,updateAnimationClass())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const listener=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:listener}),this.mockContextMenuForIPad(listener),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const fullWidthContainer=this.eBodyViewport.querySelector(".ag-full-width-container"),eCenterColsViewport=this.eBodyViewport.querySelector(".ag-center-cols-viewport");fullWidthContainer&&eCenterColsViewport&&this.addManagedElementListeners(fullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e,eCenterColsViewport)})}onFullWidthContainerWheel(e,eCenterColsViewport){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),eCenterColsViewport.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(mouseEvent,touch,touchEvent){if(!mouseEvent&&!touchEvent)return;if(this.gos.get("preventDefaultOnContextMenu")){(mouseEvent||touchEvent).preventDefault()}const{target}=mouseEvent||touch;target!==this.eBodyViewport&&target!==this.ctrlsService.get("center").getViewportElement()||this.menuService.showContextMenu({mouseEvent,touchEvent,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(listener){if(!_isIOSUserAgent())return;const touchListener=new TouchListener(this.eBodyViewport);this.addManagedListeners(touchListener,{longTap:event=>{listener(void 0,event.touchStart,event.touchEvent)}}),this.addDestroyFunc((()=>touchListener.destroy()))}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(pixels){const oldScrollPosition=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(oldScrollPosition+pixels),this.eBodyViewport.scrollTop-oldScrollPosition}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new RowDragFeature(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel}=this,floatingTopHeight=pinnedRowModel.getPinnedTopTotalHeight(),floatingBottomHeight=pinnedRowModel.getPinnedBottomTotalHeight();this.comp.setTopHeight(floatingTopHeight),this.comp.setBottomHeight(floatingBottomHeight),this.comp.setTopDisplay(floatingTopHeight?"inherit":"none"),this.comp.setBottomDisplay(floatingBottomHeight?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(height=0){this.comp.setStickyTopHeight(`${height}px`),this.stickyTopHeight=height}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(height=0){this.comp.setStickyBottomHeight(`${height}px`),this.stickyBottomHeight=height}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(vScrollVisible){if(vScrollVisible){const scrollbarWidth=this.gos.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${scrollbarWidth}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${scrollbarWidth}px)`)}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const headerHeight=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(this.filterManager?.getHeaderHeight()??0),pinnedTopHeight=this.pinnedRowModel.getPinnedTopTotalHeight();let height=0;headerHeight>0&&(height+=headerHeight),pinnedTopHeight>0&&(height+=pinnedTopHeight),height>0&&(height+=1),this.comp.setStickyTopTop(`${height}px`)}setStickyBottomOffsetBottom(){const height=this.pinnedRowModel.getPinnedBottomTotalHeight()+(this.scrollVisibleService.isHorizontalScrollShowing()&&this.gos.getScrollbarWidth()||0);this.comp.setStickyBottomBottom(`${height}px`)}sizeColumnsToFit(params,nextTimeout){const scrollWidthToRemove=this.isVerticalScrollShowing()?this.gos.getScrollbarWidth():0,availableWidth=_getInnerWidth(this.eGridBody)-scrollWidthToRemove;availableWidth>0?this.columnSizeService.sizeColumnsToFit(availableWidth,"sizeColumnsToFit",!1,params):void 0===nextTimeout?window.setTimeout((()=>{this.sizeColumnsToFit(params,100)}),0):100===nextTimeout?window.setTimeout((()=>{this.sizeColumnsToFit(params,500)}),100):500===nextTimeout?window.setTimeout((()=>{this.sizeColumnsToFit(params,-1)}),500):_warnOnce("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(listener){this.eBodyViewport.addEventListener("scroll",listener,{passive:!0})}removeScrollEventListener(listener){this.eBodyViewport.removeEventListener("scroll",listener)}},ViewportSizeFeature=class extends BeanStub{wireBeans(beans){this.ctrlsService=beans.ctrlsService,this.pinnedWidthService=beans.pinnedWidthService,this.columnModel=beans.columnModel,this.visibleColsService=beans.visibleColsService,this.columnSizeService=beans.columnSizeService,this.scrollVisibleService=beans.scrollVisibleService,this.columnViewportService=beans.columnViewportService}constructor(centerContainerCtrl){super(),this.centerContainerCtrl=centerContainerCtrl}postConstruct(){this.ctrlsService.whenReady((p=>{this.gridBodyCtrl=p.gridBodyCtrl,this.listenForResize()})),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],(()=>{this.checkViewportAndScrolls()}))}listenForResize(){const listener=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(listener),this.gridBodyCtrl.registerBodyViewportResizeListener(listener)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const newWidth=this.centerContainerCtrl.getCenterWidth();newWidth!==this.centerWidth&&(this.centerWidth=newWidth,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const bodyWidth=_getInnerWidth(this.gridBodyCtrl.getBodyViewportElement());if(bodyWidth<=50)return;let columnsToRemove=this.getPinnedColumnsOverflowingViewport(bodyWidth-50);const processUnpinnedColumns=this.gos.getCallback("processUnpinnedColumns");if(columnsToRemove.length){if(processUnpinnedColumns){columnsToRemove=processUnpinnedColumns({columns:columnsToRemove,viewportWidth:bodyWidth})}this.columnModel.setColsPinned(columnsToRemove,null,"viewportSizeFeature")}}getPinnedColumnsOverflowingViewport(viewportWidth){const totalPinnedWidth=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(totalPinnedWidth<viewportWidth)return[];const pinnedLeftColumns=[...this.visibleColsService.getLeftCols()],pinnedRightColumns=[...this.visibleColsService.getRightCols()];let indexRight=0,indexLeft=0;const columnsToRemove=[];let spaceNecessary=totalPinnedWidth-0-viewportWidth;for(;(indexLeft<pinnedLeftColumns.length||indexRight<pinnedRightColumns.length)&&spaceNecessary>0;){if(indexRight<pinnedRightColumns.length){const currentColumn=pinnedRightColumns[indexRight++];spaceNecessary-=currentColumn.getActualWidth(),columnsToRemove.push(currentColumn)}if(indexLeft<pinnedLeftColumns.length&&spaceNecessary>0){const currentColumn=pinnedLeftColumns[indexLeft++];spaceNecessary-=currentColumn.getActualWidth(),columnsToRemove.push(currentColumn)}}return columnsToRemove}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const bodyHeight=_getInnerHeight(this.gridBodyCtrl.getBodyViewportElement());if(this.bodyHeight!==bodyHeight){this.bodyHeight=bodyHeight;const event={type:"bodyHeightChanged"};this.eventService.dispatchEvent(event)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const params={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(params)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const scrollWidth=this.centerContainerCtrl.getCenterWidth(),scrollPosition=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(scrollWidth,scrollPosition)}},DragListenerFeature=class extends BeanStub{wireBeans(beans){this.dragService=beans.dragService,this.rangeService=beans.rangeService}constructor(eContainer){super(),this.eContainer=eContainer}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",(props=>{props.currentValue?this.enableFeature():this.disableFeature()})),this.addDestroyFunc((()=>this.disableFeature()));this.gos.get("enableRangeSelection")&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},CheckboxSelectionComponent=class extends Component{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[AgCheckboxSelector]),this.eCheckbox=null}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const translate=this.localeService.getLocaleTextFunc(),state=this.rowNode.isSelected(),stateName=_getAriaCheckboxStateName(translate,state),[ariaKey,ariaLabel]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],translatedLabel=translate(ariaKey,ariaLabel);this.eCheckbox.setValue(state,!0),this.eCheckbox.setInputAriaLabel(`${translatedLabel} (${stateName})`)}onClicked(newValue,groupSelectsFiltered,event){return this.rowNode.setSelectedParams({newValue,rangeSelect:event.shiftKey,groupSelectsFiltered,event,source:"checkboxSelected"})}init(params){this.rowNode=params.rowNode,this.column=params.column,this.overrides=params.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:event=>_stopPropagationForAgGrid(event),click:event=>{_stopPropagationForAgGrid(event);const groupSelectsFiltered=this.gos.get("groupSelectsFiltered"),isSelected=this.eCheckbox.getValue();if(this.shouldHandleIndeterminateState(isSelected,groupSelectsFiltered)){0===this.onClicked(!0,groupSelectsFiltered,event||{})&&this.onClicked(!1,groupSelectsFiltered,event)}else isSelected?this.onClicked(!1,groupSelectsFiltered,event):this.onClicked(!0,groupSelectsFiltered,event||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)});if(this.gos.get("isRowSelectable")||"function"==typeof this.getIsVisible()){const showOrHideSelectListener=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:showOrHideSelectListener}),this.addManagedListeners(this.rowNode,{dataChanged:showOrHideSelectListener,cellChanged:showOrHideSelectListener}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(isSelected,groupSelectsFiltered){return groupSelectsFiltered&&(void 0===this.eCheckbox.getPreviousValue()||void 0===isSelected)&&this.gos.isRowModelType("clientSide")}showOrHideSelect(){let selectable=this.rowNode.selectable;const isVisible=this.getIsVisible();if(selectable)if("function"==typeof isVisible){const extraParams=this.overrides?.callbackParams;if(this.column){const params=this.column.createColumnFunctionCallbackParams(this.rowNode);selectable=isVisible({...extraParams,...params})}else selectable=isVisible({...extraParams,node:this.rowNode,data:this.rowNode.data})}else selectable=isVisible??!1;const disableInsteadOfHide=this.column?.getColDef().showDisabledCheckboxes;if(disableInsteadOfHide)return this.eCheckbox.setDisabled(!selectable),this.setVisible(!0),void this.setDisplayed(!0);this.overrides?.removeHidden?this.setDisplayed(selectable):this.setVisible(selectable)}getIsVisible(){return this.overrides?this.overrides.isVisible:this.column?.getColDef()?.checkboxSelection}},DndSourceComp=class extends Component{constructor(rowNode,column,eCell){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=rowNode,this.column=column,this.eCell=eCell}postConstruct(){this.getGui().appendChild(_createIconNoSpan("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",(e=>{e.stopPropagation()})),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(dragEvent){const providedOnRowDrag=this.column.getColDef().dndSourceOnRowDrag;dragEvent.dataTransfer.setDragImage(this.eCell,0,0);const defaultOnRowDrag=()=>{try{const jsonData=JSON.stringify(this.rowNode.data);dragEvent.dataTransfer.setData("application/json",jsonData),dragEvent.dataTransfer.setData("text/plain",jsonData)}catch(e){}};if(providedOnRowDrag){providedOnRowDrag(this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent}))}else defaultOnRowDrag()}checkVisibility(){const visible=this.column.isDndSource(this.rowNode);this.setDisplayed(visible)}},CellCustomStyleFeature=class extends BeanStub{constructor(ctrl,beans){super(),this.staticClasses=[],this.cellCtrl=ctrl,this.beans=beans,this.column=ctrl.getColumn(),this.rowNode=ctrl.getRowNode()}setComp(comp){this.cellComp=comp,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const colDef=this.column.getColDef(),{cellClassRules}=colDef,cellClassParams=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(cellClassRules===this.cellClassRules?void 0:this.cellClassRules,cellClassRules,cellClassParams,(className=>this.cellComp.addOrRemoveCssClass(className,!0)),(className=>this.cellComp.addOrRemoveCssClass(className,!1))),this.cellClassRules=cellClassRules}applyUserStyles(){const colDef=this.column.getColDef();if(!colDef.cellStyle)return;let styles;if("function"==typeof colDef.cellStyle){const cellStyleParams=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});styles=(0,colDef.cellStyle)(cellStyleParams)}else styles=colDef.cellStyle;styles&&this.cellComp.setUserStyles(styles)}applyClassesFromColDef(){const colDef=this.column.getColDef(),cellClassParams=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach((className=>this.cellComp.addOrRemoveCssClass(className,!1))),this.staticClasses=this.beans.stylingService.getStaticCellClasses(colDef,cellClassParams),this.staticClasses.length&&this.staticClasses.forEach((className=>this.cellComp.addOrRemoveCssClass(className,!0)))}destroy(){super.destroy()}},CellKeyboardListenerFeature=class extends BeanStub{constructor(ctrl,beans,column,rowNode,rowCtrl){super(),this.cellCtrl=ctrl,this.beans=beans,this.rowNode=rowNode,this.rowCtrl=rowCtrl}setComp(eGui){this.eGui=eGui}onKeyDown(event){const key=event.key;switch(key){case KeyCode.ENTER:this.onEnterKeyDown(event);break;case KeyCode.F2:this.onF2KeyDown(event);break;case KeyCode.ESCAPE:this.onEscapeKeyDown(event);break;case KeyCode.TAB:this.onTabKeyDown(event);break;case KeyCode.BACKSPACE:case KeyCode.DELETE:this.onBackspaceOrDeleteKeyDown(key,event);break;case KeyCode.DOWN:case KeyCode.UP:case KeyCode.RIGHT:case KeyCode.LEFT:this.onNavigationKeyDown(event,key)}}onNavigationKeyDown(event,key){this.cellCtrl.isEditing()||(event.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(event):this.beans.navigationService.navigateToNextCell(event,key,this.cellCtrl.getCellPosition(),!0),event.preventDefault())}onShiftRangeSelect(event){if(!this.beans.rangeService)return;const endCell=this.beans.rangeService.extendLatestRangeInDirection(event);endCell&&this.beans.navigationService.ensureCellVisible(endCell)}onTabKeyDown(event){this.beans.navigationService.onTabKeyDown(this.cellCtrl,event)}onBackspaceOrDeleteKeyDown(key,event){const{cellCtrl,beans,rowNode}=this,{gos,rangeService,eventService}=beans;if(!cellCtrl.isEditing()){if(eventService.dispatchEvent({type:"keyShortcutChangedCellStart"}),function _isDeleteKey(key,alwaysReturnFalseOnBackspace=!1){return key===KeyCode.DELETE||!alwaysReturnFalseOnBackspace&&key===KeyCode.BACKSPACE&&_isMacOsUserAgent()}(key,gos.get("enableCellEditingOnBackspace"))){if(rangeService&&gos.get("enableRangeSelection"))rangeService.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(cellCtrl.isCellEditable()){const column=cellCtrl.getColumn(),emptyValue=this.beans.valueService.parseValue(column,rowNode,"",rowNode.getValueFromValueService(column))??null;rowNode.setDataValue(column,emptyValue,"cellClear")}}else cellCtrl.startRowOrCellEdit(key,event);eventService.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const key=e.shiftKey?KeyCode.UP:KeyCode.DOWN;this.beans.navigationService.navigateToNextCell(null,key,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(KeyCode.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(event){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(KeyCode.F2,event)}onEscapeKeyDown(event){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(event){if(event.target!==this.eGui||this.cellCtrl.isEditing())return;const key=event.key;" "===key?this.onSpaceKeyDown(event):(this.cellCtrl.startRowOrCellEdit(key,event),event.preventDefault())}onSpaceKeyDown(event){const{gos}=this.beans;if(!this.cellCtrl.isEditing()&&gos.isRowSelection()){const currentSelection=this.rowNode.isSelected(),newSelection=!currentSelection;if(newSelection||!gos.get("suppressRowDeselection")){const groupSelectsFiltered=this.beans.gos.get("groupSelectsFiltered"),updatedCount=this.rowNode.setSelectedParams({newValue:newSelection,rangeSelect:event.shiftKey,groupSelectsFiltered,event,source:"spaceKey"});void 0===currentSelection&&0===updatedCount&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:event.shiftKey,groupSelectsFiltered,event,source:"spaceKey"})}}event.preventDefault()}destroy(){super.destroy()}},CellMouseListenerFeature=class extends BeanStub{constructor(ctrl,beans,column){super(),this.cellCtrl=ctrl,this.beans=beans,this.column=column}onMouseEvent(eventName,mouseEvent){if(!_isStopPropagationForAgGrid(mouseEvent))switch(eventName){case"click":this.onCellClicked(mouseEvent);break;case"mousedown":case"touchstart":this.onMouseDown(mouseEvent);break;case"dblclick":this.onCellDoubleClicked(mouseEvent);break;case"mouseout":this.onMouseOut(mouseEvent);break;case"mouseover":this.onMouseOver(mouseEvent)}}onCellClicked(mouseEvent){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(mouseEvent),void mouseEvent.preventDefault();const{eventService,rangeService,gos}=this.beans,isMultiKey=mouseEvent.ctrlKey||mouseEvent.metaKey;rangeService&&isMultiKey&&rangeService.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&rangeService.intersectLastRange(!0);const cellClickedEvent=this.cellCtrl.createEvent(mouseEvent,"cellClicked");eventService.dispatchEvent(cellClickedEvent);const colDef=this.column.getColDef();colDef.onCellClicked&&window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{colDef.onCellClicked(cellClickedEvent)}))}),0);!((gos.get("singleClickEdit")||colDef.singleClickEdit)&&!gos.get("suppressClickEdit"))||mouseEvent.shiftKey&&0!=rangeService?.getCellRanges().length||this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!_isIOSUserAgent()||_isEventSupported("dblclick"))return!1;const nowMillis=(new Date).getTime(),res=nowMillis-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=nowMillis,res}onCellDoubleClicked(mouseEvent){const{column,beans,cellCtrl}=this,{eventService,frameworkOverrides,gos}=beans,colDef=column.getColDef(),cellDoubleClickedEvent=cellCtrl.createEvent(mouseEvent,"cellDoubleClicked");eventService.dispatchEvent(cellDoubleClickedEvent),"function"==typeof colDef.onCellDoubleClicked&&window.setTimeout((()=>{frameworkOverrides.wrapOutgoing((()=>{colDef.onCellDoubleClicked(cellDoubleClickedEvent)}))}),0);!gos.get("singleClickEdit")&&!gos.get("suppressClickEdit")&&cellCtrl.startRowOrCellEdit(null,mouseEvent)}onMouseDown(mouseEvent){const{ctrlKey,metaKey,shiftKey}=mouseEvent,target=mouseEvent.target,{cellCtrl,beans}=this,{eventService,rangeService,focusService,gos}=beans;if(this.isRightClickInExistingRange(mouseEvent))return;const ranges=rangeService&&0!=rangeService.getCellRanges().length;if(!shiftKey||!ranges){const shouldFocus=gos.get("enableCellTextSelection")&&mouseEvent.defaultPrevented,forceBrowserFocus=(_isBrowserSafari()||shouldFocus)&&!cellCtrl.isEditing()&&!_isFocusableFormField(target);cellCtrl.focusCell(forceBrowserFocus)}if(shiftKey&&ranges&&!focusService.isCellFocused(cellCtrl.getCellPosition())){mouseEvent.preventDefault();const focusedCellPosition=focusService.getFocusedCell();if(focusedCellPosition){const{column,rowIndex,rowPinned}=focusedCellPosition,focusedRowCtrl=beans.rowRenderer.getRowByPosition({rowIndex,rowPinned}),focusedCellCtrl=focusedRowCtrl?.getCellCtrl(column);focusedCellCtrl?.isEditing()&&focusedCellCtrl.stopEditing(),focusService.setFocusedCell({column,rowIndex,rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(target)){if(rangeService){const thisCell=this.cellCtrl.getCellPosition();if(shiftKey)rangeService.extendLatestRangeToCell(thisCell);else{const isMultiKey=ctrlKey||metaKey;rangeService.setRangeToCell(thisCell,isMultiKey)}}eventService.dispatchEvent(this.cellCtrl.createEvent(mouseEvent,"cellMouseDown"))}}isRightClickInExistingRange(mouseEvent){const{rangeService}=this.beans;if(rangeService){const cellInRange=rangeService.isCellInAnyRange(this.cellCtrl.getCellPosition()),isRightClick=2===mouseEvent.button||mouseEvent.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(cellInRange&&isRightClick)return!0}return!1}containsWidget(target){return _isElementChildOfClass(target,"ag-selection-checkbox",3)}onMouseOut(mouseEvent){if(this.mouseStayingInsideCell(mouseEvent))return;const cellMouseOutEvent=this.cellCtrl.createEvent(mouseEvent,"cellMouseOut");this.beans.eventService.dispatchEvent(cellMouseOutEvent),this.beans.columnHoverService.clearMouseOver()}onMouseOver(mouseEvent){if(this.mouseStayingInsideCell(mouseEvent))return;const cellMouseOverEvent=this.cellCtrl.createEvent(mouseEvent,"cellMouseOver");this.beans.eventService.dispatchEvent(cellMouseOverEvent),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const eGui=this.cellCtrl.getGui(),cellContainsTarget=eGui.contains(e.target),cellContainsRelatedTarget=eGui.contains(e.relatedTarget);return cellContainsTarget&&cellContainsRelatedTarget}destroy(){super.destroy()}},CellPositionFeature=class extends BeanStub{constructor(ctrl,beans){super(),this.cellCtrl=ctrl,this.beans=beans,this.column=ctrl.getColumn(),this.rowNode=ctrl.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(eGui){this.eGui=eGui,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const rowSpan=this.column.getRowSpan(this.rowNode);this.rowSpan!==rowSpan&&(this.rowSpan=rowSpan,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const colsSpanning=this.getColSpanningList();_areEqual(this.colsSpanning,colsSpanning)||(this.colsSpanning=colsSpanning,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const width=this.getCellWidth();this.eGui.style.width=`${width}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce(((width,col)=>width+col.getActualWidth()),0):this.column.getActualWidth()}getColSpanningList(){const colSpan=this.column.getColSpan(this.rowNode),colsSpanning=[];if(1===colSpan)colsSpanning.push(this.column);else{let pointer=this.column;const pinned=this.column.getPinned();for(let i=0;pointer&&i<colSpan&&(colsSpanning.push(pointer),pointer=this.beans.visibleColsService.getColAfter(pointer),pointer&&!_missing(pointer))&&pinned===pointer.getPinned();i++);}return colsSpanning}onLeftChanged(){if(!this.eGui)return;const left=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=left+"px"}getCellLeft(){let mostLeftCol;return mostLeftCol=this.beans.gos.get("enableRtl")&&this.colsSpanning?_last(this.colsSpanning):this.column,mostLeftCol.getLeft()}modifyLeftForPrintLayout(leftPosition){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return leftPosition;const leftWidth=this.beans.visibleColsService.getColsLeftWidth();if("right"===this.column.getPinned()){return leftWidth+this.beans.visibleColsService.getBodyContainerWidth()+(leftPosition||0)}return leftWidth+(leftPosition||0)}applyRowSpan(force){if(1===this.rowSpan&&!force)return;const totalRowHeight=this.beans.gos.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${totalRowHeight}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},CellRangeFeature=class{constructor(beans,ctrl){this.beans=beans,this.rangeService=beans.rangeService,this.selectionHandleFactory=beans.selectionHandleFactory,this.cellCtrl=ctrl}setComp(cellComp,eGui){this.cellComp=cellComp,this.eGui=eGui,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected",0!==this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass("ag-cell-range-selected-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),_setAriaSelected(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const rangeBorders=this.getRangeBorders(),isSingleCell=this.isSingleCell(),isTop=!isSingleCell&&rangeBorders.top,isRight=!isSingleCell&&rangeBorders.right,isBottom=!isSingleCell&&rangeBorders.bottom,isLeft=!isSingleCell&&rangeBorders.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",isTop),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",isRight),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",isBottom),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",isLeft)}isSingleCell(){const{rangeService}=this.beans;return 1===this.rangeCount&&!!rangeService&&!rangeService.isMoreThanOneCell()}getHasChartRange(){const{rangeService}=this.beans;if(!this.rangeCount||!rangeService)return!1;const cellRanges=rangeService.getCellRanges();return cellRanges.length>0&&cellRanges.every((range=>_includes([1,0],range.type)))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const isRtl=this.beans.gos.get("enableRtl");let top=!1,right=!1,bottom=!1,left=!1;const thisCol=this.cellCtrl.getCellPosition().column,presentedColsService=this.beans.visibleColsService;let leftCol,rightCol;isRtl?(leftCol=presentedColsService.getColAfter(thisCol),rightCol=presentedColsService.getColBefore(thisCol)):(leftCol=presentedColsService.getColBefore(thisCol),rightCol=presentedColsService.getColAfter(thisCol));const ranges=this.rangeService.getCellRanges().filter((range=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),range)));leftCol||(left=!0),rightCol||(right=!0);for(let i=0;i<ranges.length&&!(top&&right&&bottom&&left);i++){const range=ranges[i],startRow=this.rangeService.getRangeStartRow(range),endRow=this.rangeService.getRangeEndRow(range);!top&&this.beans.rowPositionUtils.sameRow(startRow,this.cellCtrl.getCellPosition())&&(top=!0),!bottom&&this.beans.rowPositionUtils.sameRow(endRow,this.cellCtrl.getCellPosition())&&(bottom=!0),!left&&leftCol&&range.columns.indexOf(leftCol)<0&&(left=!0),!right&&rightCol&&range.columns.indexOf(rightCol)<0&&(right=!0)}return{top,right,bottom,left}}refreshHandle(){if(this.beans.context.isDestroyed())return;const shouldHaveSelectionHandle=this.shouldHaveSelectionHandle();this.selectionHandle&&!shouldHaveSelectionHandle&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),shouldHaveSelectionHandle&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const gos=this.beans.gos,cellRanges=this.rangeService.getCellRanges(),rangesLen=cellRanges.length;if(this.rangeCount<1||rangesLen<1)return!1;const cellRange=_last(cellRanges),cellPosition=this.cellCtrl.getCellPosition(),isFillHandleAvailable=gos.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),isRangeHandleAvailable=gos.get("enableRangeHandle");let handleIsAvailable=1===rangesLen&&!this.cellCtrl.isEditing()&&(isFillHandleAvailable||isRangeHandleAvailable);if(this.hasChartRange){const isCategoryCell=1===cellRanges[0].type&&this.rangeService.isCellInSpecificRange(cellPosition,cellRanges[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",isCategoryCell),handleIsAvailable=0===cellRange.type}return handleIsAvailable&&null!=cellRange.endRow&&this.rangeService.isContiguousRange(cellRange)&&this.rangeService.isBottomRightCell(cellRange,cellPosition)}addSelectionHandle(){const gos=this.beans.gos,cellRangeType=_last(this.rangeService.getCellRanges()).type,type=gos.get("enableFillHandle")&&_missing(cellRangeType)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==type&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(type)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},instanceIdSequence4=0,_CellCtrl=class _CellCtrl extends BeanStub{constructor(column,rowNode,beans,rowCtrl){super(),this.column=column,this.rowNode=rowNode,this.beans=beans,this.rowCtrl=rowCtrl,this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.instanceId=column.getId()+"-"+instanceIdSequence4++,this.colIdSanitised=_escapeString(this.column.getId()),beans.gos.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new CellPositionFeature(this,this.beans),this.addDestroyFunc((()=>{this.cellPositionFeature?.destroy(),this.cellPositionFeature=null})),this.cellCustomStyleFeature=new CellCustomStyleFeature(this,this.beans),this.addDestroyFunc((()=>{this.cellCustomStyleFeature?.destroy(),this.cellCustomStyleFeature=null})),this.cellMouseListenerFeature=new CellMouseListenerFeature(this,this.beans,this.column),this.addDestroyFunc((()=>{this.cellMouseListenerFeature?.destroy(),this.cellMouseListenerFeature=null})),this.cellKeyboardListenerFeature=new CellKeyboardListenerFeature(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc((()=>{this.cellKeyboardListenerFeature?.destroy(),this.cellKeyboardListenerFeature=null})),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc((()=>{this.disableTooltipFeature()})));this.beans.rangeService&&this.beans.gos.get("enableRangeSelection")&&(this.cellRangeFeature=new CellRangeFeature(this.beans,this),this.addDestroyFunc((()=>{this.cellRangeFeature?.destroy(),this.cellRangeFeature=null})))}enableTooltipFeature(value,shouldDisplayTooltip){const isTooltipWhenTruncated="whenTruncated"===this.beans.gos.get("tooltipShowMode");shouldDisplayTooltip||!isTooltipWhenTruncated||this.isCellRenderer()||(shouldDisplayTooltip=()=>{const eGui=this.getGui(),textEl=0===eGui.children.length?eGui:eGui.querySelector(".ag-cell-value");return!textEl||textEl.scrollWidth>textEl.clientWidth});const tooltipCtrl={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:null!=value?()=>value:()=>{const colDef=this.column.getColDef(),data=this.rowNode.data;if(colDef.tooltipField&&_exists(data))return _getValueUsingField(data,colDef.tooltipField,this.column.isTooltipFieldContainsDots());const valueGetter=colDef.tooltipValueGetter;return valueGetter?valueGetter(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip};this.tooltipFeature=new TooltipFeature(tooltipCtrl,this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(comp,eGui,eCellWrapper,printLayout,startEditing){this.cellComp=comp,this.eGui=eGui,this.printLayout=printLayout,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(eCellWrapper),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.cellPositionFeature?.setComp(eGui),this.cellCustomStyleFeature?.setComp(comp),this.tooltipFeature?.refreshToolTip(),this.cellKeyboardListenerFeature?.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(comp,eGui),startEditing&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach((func=>func())),this.onCellCompAttachedFuncs=[])}setupAutoHeight(eCellWrapper){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!eCellWrapper)return;const eParentCell=eCellWrapper.parentElement,minRowHeight=this.beans.gos.getRowHeightForNode(this.rowNode).height,measureHeight=timesCalled=>{if(this.editing)return;if(!this.isAlive())return;const{paddingTop,paddingBottom,borderBottomWidth,borderTopWidth}=_getElementSize(eParentCell),extraHeight=paddingTop+paddingBottom+borderBottomWidth+borderTopWidth,autoHeight=eCellWrapper.offsetHeight+extraHeight;if(timesCalled<5){const doc=this.beans.gos.getDocument();if(!doc||!doc.contains(eCellWrapper)||0==autoHeight)return void window.setTimeout((()=>measureHeight(timesCalled+1)),0)}const newHeight=Math.max(autoHeight,minRowHeight);this.rowNode.setRowAutoHeight(newHeight,this.column)},listener=()=>measureHeight(0);listener();const destroyResizeObserver=this.beans.resizeObserverService.observeResize(eCellWrapper,listener);this.addDestroyFunc((()=>{destroyResizeObserver(),this.rowNode.setRowAutoHeight(void 0,this.column)}))}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}getInstanceId(){return this.instanceId}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){const colDef=this.column.getColDef();return null!=colDef.cellRenderer||null!=colDef.cellRendererSelector}getValueToDisplay(){return this.valueFormatted??this.value}showValue(forceNewCellRendererInstance=!1){const valueToDisplay=this.getValueToDisplay();let compDetails;if(this.rowNode.stub){const params=this.createCellRendererParams();compDetails=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),params)}else if(this.isCellRenderer()){const params=this.createCellRendererParams();compDetails=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),params)}this.cellComp.setRenderDetails(compDetails,valueToDisplay,forceNewCellRendererInstance),this.cellRangeFeature?.refreshHandle()}setupControlComps(){const colDef=this.column.getColDef();this.includeSelection=this.isIncludeControl(colDef.checkboxSelection),this.includeRowDrag=this.isIncludeControl(colDef.rowDrag),this.includeDndSource=this.isIncludeControl(colDef.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(value){return!(null!=this.rowNode.rowPinned)&&("function"==typeof value||!0===value)}refreshShouldDestroy(){const colDef=this.column.getColDef(),selectionChanged=this.includeSelection!=this.isIncludeControl(colDef.checkboxSelection),rowDragChanged=this.includeRowDrag!=this.isIncludeControl(colDef.rowDrag),dndSourceChanged=this.includeDndSource!=this.isIncludeControl(colDef.dndSource),autoHeightChanged=this.isAutoHeight!=this.column.isAutoHeight();return selectionChanged||rowDragChanged||dndSourceChanged||autoHeightChanged}startEditing(key=null,cellStartedEdit=!1,event=null){const{editService}=this.beans;this.isCellEditable()&&!this.editing&&editService&&(this.cellComp?editService.startEditing(this,key,cellStartedEdit,event):this.onCellCompAttachedFuncs.push((()=>{this.startEditing(key,cellStartedEdit,event)})))}setEditing(editing,compDetails){this.editCompDetails=compDetails,this.editing!==editing&&(this.editing=editing,this.cellRangeFeature?.refreshHandle())}stopRowOrCellEdit(cancel=!1){"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.stopEditing(cancel):this.stopEditing(cancel)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(cancel=!1){const{editService}=this.beans;return!(!this.editing||!editService)&&editService.stopEditing(this,cancel)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:value=>this.beans.valueService.setValue(this.rowNode,this.column,value),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(rowDraggerElement,dragStartPixels,value,suppressVisibilityChange)=>this.registerRowDragger(rowDraggerElement,dragStartPixels,suppressVisibilityChange),setTooltip:(value,shouldDisplayTooltip)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(value,shouldDisplayTooltip),this.tooltipFeature?.refreshToolTip()}})}setFocusOutOnEditor(){this.editing&&this.beans.editService?.setFocusOutOnEditor(this)}setFocusInOnEditor(){this.editing&&this.beans.editService?.setFocusInOnEditor(this)}onCellChanged(event){event.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(params){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(params)}refreshCell(params){if(this.suppressRefreshCell||this.editing)return;const colDef=this.column.getColDef(),newData=null!=params&&!!params.newData,suppressFlash=null!=params&&!!params.suppressFlash||!!colDef.suppressCellFlash,noValueProvided=null==colDef.field&&null==colDef.valueGetter&&null==colDef.showRowGroup,forceRefresh=params&&params.forceRefresh||noValueProvided||newData,isCellCompReady=!!this.cellComp,valuesDifferent=this.updateAndFormatValue(isCellCompReady);if(isCellCompReady){if(forceRefresh||valuesDifferent){this.showValue(newData);const processingFilterChange=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!suppressFlash&&!processingFilterChange&&(this.beans.gos.get("enableCellChangeFlash")||colDef.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature?.applyUserStyles(),this.cellCustomStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshToolTip(),this.cellCustomStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(suppressNavigateAfterEdit=!1,shiftKey=!1){this.beans.editService?.stopEditingAndFocus(this,suppressNavigateAfterEdit,shiftKey)}flashCell(delays){const flashDuration=delays?.flashDuration??delays?.flashDelay,fadeDuration=delays?.fadeDuration??delays?.fadeDelay;this.animateCell("data-changed",flashDuration,fadeDuration)}animateCell(cssName,flashDuration,fadeDuration){if(!this.cellComp)return;const fullName=`ag-cell-${cssName}`,animationFullName=`ag-cell-${cssName}-animation`,{gos}=this.beans;flashDuration||(flashDuration=gos.get("cellFlashDuration")),_exists(fadeDuration)||(fadeDuration=gos.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(fullName,!0),this.cellComp.addOrRemoveCssClass(animationFullName,!1),this.beans.frameworkOverrides.wrapIncoming((()=>{window.setTimeout((()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(fullName,!1),this.cellComp.addOrRemoveCssClass(animationFullName,!0),this.eGui.style.transition=`background-color ${fadeDuration}ms`,window.setTimeout((()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(animationFullName,!1),this.eGui.style.transition="")}),fadeDuration))}),flashDuration)}))}onFlashCells(event){if(!this.cellComp)return;const cellId=this.beans.cellPositionUtils.createId(this.getCellPosition());event.cells[cellId]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(value){return this.callValueFormatter(value)??value}callValueFormatter(value){return this.beans.valueService.formatValue(this.column,this.rowNode,value)}updateAndFormatValue(compareValues){const oldValue=this.value,oldValueFormatted=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),!compareValues||(!this.valuesAreEqual(oldValue,this.value)||this.valueFormatted!=oldValueFormatted)}valuesAreEqual(val1,val2){const colDef=this.column.getColDef();return colDef.equals?colDef.equals(val1,val2):val1===val2}getComp(){return this.cellComp}getValue(){return this.value}addDomData(){const element=this.getGui();this.beans.gos.setDomData(element,_CellCtrl.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc((()=>this.beans.gos.setDomData(element,_CellCtrl.DOM_DATA_KEY_CELL_CTRL,null)))}createEvent(domEvent,eventType){return this.beans.gos.addGridCommonParams({type:eventType,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:domEvent,rowIndex:this.rowNode.rowIndex})}processCharacter(event){this.cellKeyboardListenerFeature?.processCharacter(event)}onKeyDown(event){this.cellKeyboardListenerFeature?.onKeyDown(event)}onMouseEvent(eventName,mouseEvent){this.cellMouseListenerFeature?.onMouseEvent(eventName,mouseEvent)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){this.cellComp&&this.cellPositionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp,column,beans}=this;refreshFirstAndLastStyles(cellComp,column,beans.visibleColsService)}refreshAriaColIndex(){const colIdx=this.beans.visibleColsService.getAriaColIndex(this.column);_setAriaColIndex(this.getGui(),colIdx)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){return this.cellPositionFeature?.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(key,event=null){this.cellComp?"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.startRowEditing(key,this):this.startEditing(key,!0,event):this.onCellCompAttachedFuncs.push((()=>{this.startRowOrCellEdit(key,event)}))}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(forceBrowserFocus=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const firstRightPinned=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",firstRightPinned)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const lastLeftPinned=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",lastLeftPinned)}onCellFocused(event){if(this.beans.gos.get("suppressCellFocus"))return;const cellFocused=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(cellFocused&&event?.forceBrowserFocus&&(this.focusEventToRestore=event));if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",cellFocused),cellFocused&&event&&event.forceBrowserFocus){let focusEl=this.cellComp.getFocusableElement();if(this.editing){const focusableEls=this.beans.focusService.findFocusableElements(focusEl,null,!0);focusableEls.length&&(focusEl=focusableEls[0])}focusEl.focus({preventScroll:!!event.preventScrollOnBrowserFocus})}const fullRowEdit="fullRow"===this.beans.gos.get("editType");cellFocused||fullRowEdit||!this.editing||this.stopRowOrCellEdit(),cellFocused&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:_makeNull(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const autoHeight=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",autoHeight),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!autoHeight)}onColumnHover(){if(!this.cellComp)return;if(!this.beans.gos.get("columnHoverHighlight"))return;const isHovered=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",isHovered)}onColDefChanged(){if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editService?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const value=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",value)}dispatchCellContextMenuEvent(event){const colDef=this.column.getColDef(),cellContextMenuEvent=this.createEvent(event,"cellContextMenu");this.beans.eventService.dispatchEvent(cellContextMenuEvent),colDef.onCellContextMenu&&window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{colDef.onCellContextMenu(cellContextMenuEvent)}))}),0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const cbSelectionComponent=new CheckboxSelectionComponent;return this.beans.context.createBean(cbSelectionComponent),cbSelectionComponent.init({rowNode:this.rowNode,column:this.column}),cbSelectionComponent}createDndSource(){const dndSourceComp=new DndSourceComp(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(dndSourceComp),dndSourceComp}registerRowDragger(customElement,dragStartPixels,suppressVisibilityChange){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(customElement,dragStartPixels);const newComp=this.createRowDragComp(customElement,dragStartPixels,suppressVisibilityChange);newComp&&(this.customRowDragComp=newComp,this.addDestroyFunc((()=>{this.beans.context.destroyBean(newComp),this.customRowDragComp=null})))}createRowDragComp(customElement,dragStartPixels,suppressVisibilityChange){const pagination=this.beans.gos.get("pagination"),rowDragManaged=this.beans.gos.get("rowDragManaged"),clientSideRowModelActive=this.beans.gos.isRowModelType("clientSide");if(rowDragManaged){if(!clientSideRowModelActive)return void _warnOnce("managed row dragging is only allowed in the Client Side Row Model");if(pagination)return void _warnOnce("managed row dragging is not possible when doing pagination")}const rowDragComp=new RowDragComp((()=>this.value),this.rowNode,this.column,customElement,dragStartPixels,suppressVisibilityChange);return this.beans.context.createBean(rowDragComp),rowDragComp}setSuppressRefreshCell(suppressRefreshCell){this.suppressRefreshCell=suppressRefreshCell}getEditCompDetails(){return this.editCompDetails}};_CellCtrl.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var CellCtrl=_CellCtrl,instanceIdSequence5=0,_RowCtrl=class _RowCtrl extends BeanStub{constructor(rowNode,beans,animateIn,useAnimationFrameForCreate,printLayout){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=beans,this.gos=beans.gos,this.rowNode=rowNode,this.paginationPage=beans.paginationService?.getCurrentPage()??0,this.useAnimationFrameForCreate=useAnimationFrameForCreate,this.printLayout=printLayout,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=rowNode.id+"-"+instanceIdSequence5++,this.rowId=_escapeString(rowNode.id),this.initRowBusinessKey(),this.rowFocused=beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=beans.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(animateIn),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gos.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!=typeof this.businessKeyForNodeFunc)return;const businessKey=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=_escapeString(businessKey)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getInstanceId(){return this.instanceId}updateGui(containerType,gui){"left"===containerType?this.leftGui=gui:"right"===containerType?this.rightGui=gui:"fullWidth"===containerType?this.fullWidthGui=gui:this.centerGui=gui}setComp(rowComp,element,containerType){const gui={rowComp,element,containerType};this.allRowGuis.push(gui),this.updateGui(containerType,gui),this.initialiseRowComp(gui),"FullWidthLoading"===this.rowType||this.rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(containerType){this.allRowGuis=this.allRowGuis.filter((rowGui=>rowGui.containerType!==containerType)),this.updateGui(containerType,void 0)}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}setCached(cached){const displayValue=cached?"none":"";this.allRowGuis.forEach((rg=>rg.element.style.display=displayValue))}initialiseRowComp(gui){const gos=this.gos;this.listenOnDomOrder(gui),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(gui),this.updateRowIndexes(gui),this.setFocusedClasses(gui),this.setStylesFromGridOptions(!1,gui),gos.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(gui),this.updateColumnLists(!this.useAnimationFrameForCreate);const comp=gui.rowComp;this.getInitialRowClasses(gui.containerType).forEach((name=>comp.addOrRemoveCssClass(name,!0))),this.executeSlideAndFadeAnimations(gui),this.rowNode.group&&_setAriaExpanded(gui.element,1==this.rowNode.expanded),this.setRowCompRowId(comp),this.setRowCompRowBusinessKey(comp),gos.setDomData(gui.element,_RowCtrl.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc((()=>gos.setDomData(gui.element,_RowCtrl.DOM_DATA_KEY_ROW_CTRL,null))),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,gui.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(gui.element),this.isFullWidth()&&this.setupFullWidth(gui),gos.get("rowDragEntireRow")&&this.addRowDraggerToRow(gui),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask((()=>{this.isAlive()&&gui.rowComp.addOrRemoveCssClass("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(comp){null!=this.businessKeySanitised&&comp.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(comp){this.rowId=_escapeString(this.rowNode.id),null!=this.rowId&&comp.setRowId(this.rowId)}executeSlideAndFadeAnimations(gui){const{containerType}=gui;this.slideInAnimation[containerType]&&(_executeNextVMTurn((()=>{this.onTopChanged()})),this.slideInAnimation[containerType]=!1);this.fadeInAnimation[containerType]&&(_executeNextVMTurn((()=>{gui.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})),this.fadeInAnimation[containerType]=!1)}addRowDraggerToRow(gui){if(this.gos.get("enableRangeSelection"))return void _warnOnce("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");const translate=this.beans.localeService.getLocaleTextFunc(),rowDragComp=new RowDragComp((()=>`1 ${translate("rowDragRow","row")}`),this.rowNode,void 0,gui.element,void 0,!0),rowDragBean=this.createBean(rowDragComp,this.beans.context);this.rowDragComps.push(rowDragBean)}setupFullWidth(gui){const pinned=this.getPinnedForContainer(gui.containerType);if("FullWidthDetail"==this.rowType&&!ModuleRegistry.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const compDetails=this.createFullWidthCompDetails(gui.element,pinned);gui.rowComp.showFullWidth(compDetails)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map((gui=>gui?.rowComp?.getFullWidthCellRenderer())):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}getCellElement(column){const cellCtrl=this.getCellCtrl(column);return cellCtrl?cellCtrl.getGui():null}executeProcessRowPostCreateFunc(){const func=this.gos.getCallback("processRowPostCreate");if(!func||!this.areAllContainersReady())return;func({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const isLeftReady=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),isCenterReady=!!this.centerGui,isRightReady=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return isLeftReady&&isCenterReady&&isRightReady}setRowType(){const isStub=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow"),isFullWidthCell=this.rowNode.isFullWidthCell(),isDetailCell=this.gos.get("masterDetail")&&this.rowNode.detail,pivotMode=this.beans.columnModel.isPivotMode(),isFullWidthGroup=!!this.rowNode.group&&!this.rowNode.footer&&this.gos.isGroupUseEntireRow(pivotMode);this.rowType=isStub?"FullWidthLoading":isDetailCell?"FullWidthDetail":isFullWidthCell?"FullWidth":isFullWidthGroup?"FullWidthGroup":"Normal"}updateColumnLists(suppressAnimationFrame=!1,useFlushSync=!1){if(this.isFullWidth())return;suppressAnimationFrame||this.gos.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(useFlushSync):this.updateColumnListsPending||(this.beans.animationFrameService.createTask((()=>{this.active&&this.updateColumnListsImpl(!0)}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(prev,cols,pinned=null){const res={list:[],map:{}},addCell=(colInstanceId,cellCtrl)=>{res.list.push(cellCtrl),res.map[colInstanceId]=cellCtrl};return cols.forEach((col=>{const colInstanceId=col.getInstanceId();let cellCtrl=prev.map[colInstanceId];cellCtrl||(cellCtrl=new CellCtrl(col,this.rowNode,this.beans,this)),addCell(colInstanceId,cellCtrl)})),prev.list.forEach((prevCellCtrl=>{if(null!=res.map[prevCellCtrl.getColumn().getInstanceId()])return;this.isCellEligibleToBeRemoved(prevCellCtrl,pinned)?prevCellCtrl.destroy():addCell(prevCellCtrl.getColumn().getInstanceId(),prevCellCtrl)})),res}updateColumnListsImpl(useFlushSync){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(useFlushSync)}setCellCtrls(useFlushSync){this.allRowGuis.forEach((item=>{const cellControls=this.getCellCtrlsForContainer(item.containerType);item.rowComp.setCellCtrls(cellControls,useFlushSync)}))}getCellCtrlsForContainer(containerType){switch(containerType){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const columnViewportService=this.beans.columnViewportService,presentedColsService=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,presentedColsService.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const centerCols=columnViewportService.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,centerCols);const leftCols=presentedColsService.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,leftCols,"left");const rightCols=presentedColsService.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,rightCols,"right")}}isCellEligibleToBeRemoved(cellCtrl,nextContainerPinned){if(cellCtrl.getColumn().getPinned()!=nextContainerPinned)return true;const editing=cellCtrl.isEditing(),focused=this.beans.focusService.isCellFocused(cellCtrl.getCellPosition());if(editing||focused){const column2=cellCtrl.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(column2)>=0)}return true}getDomOrder(){return this.gos.get("ensureDomOrder")||this.gos.isDomLayout("print")}listenOnDomOrder(gui){const listener=()=>{gui.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",listener),this.addManagedPropertyListener("ensureDomOrder",listener)}setAnimateFlags(animateIn){if(this.isSticky()||!animateIn)return;const oldRowTopExists=_exists(this.rowNode.oldRowTop),pinningLeft=this.beans.visibleColsService.isPinningLeft(),pinningRight=this.beans.visibleColsService.isPinningRight();if(oldRowTopExists){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=pinningLeft,this.slideInAnimation.right=pinningRight}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=pinningLeft,this.fadeInAnimation.right=pinningRight}}isEditing(){return this.editingRow}isFullWidth(){return"Normal"!==this.rowType}refreshFullWidth(){const tryRefresh=(gui,pinned)=>!gui||gui.rowComp.refreshFullWidth((()=>this.createFullWidthCompDetails(gui.element,pinned).params)),fullWidthSuccess=tryRefresh(this.fullWidthGui,null),centerSuccess=tryRefresh(this.centerGui,null),leftSuccess=tryRefresh(this.leftGui,"left"),rightSuccess=tryRefresh(this.rightGui,"right");return fullWidthSuccess&&centerSuccess&&leftSuccess&&rightSuccess}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc((()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))})),this.addManagedPropertyListeners(["rowDragEntireRow"],(()=>{this.gos.get("rowDragEntireRow")?this.allRowGuis.forEach((gui=>{this.addRowDraggerToRow(gui)})):this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)})),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onRowIndexChanged()))},cellChanged:event=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onCellChanged(event)))}})}onRowNodeDataChanged(event){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell())this.beans.rowRenderer.redrawRow(this.rowNode);else if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode)}else this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.refreshCell({suppressFlash:!event.update,newData:!event.update}))),this.allRowGuis.forEach((gui=>{this.setRowCompRowId(gui.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(gui.rowComp)})),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const highlighted=this.rowNode.highlighted;this.allRowGuis.forEach((gui=>{const aboveOn=0===highlighted,belowOn=1===highlighted;gui.rowComp.addOrRemoveCssClass("ag-row-highlight-above",aboveOn),gui.rowComp.addOrRemoveCssClass("ag-row-highlight-below",belowOn)}))}postProcessRowDragging(){const dragging=this.rowNode.dragging;this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass("ag-row-dragging",dragging)))}updateExpandedCss(){const expandable=this.rowNode.isExpandable(),expanded=1==this.rowNode.expanded;this.allRowGuis.forEach((gui=>{gui.rowComp.addOrRemoveCssClass("ag-row-group",expandable),gui.rowComp.addOrRemoveCssClass("ag-row-group-expanded",expandable&&expanded),gui.rowComp.addOrRemoveCssClass("ag-row-group-contracted",expandable&&!expanded),_setAriaExpanded(gui.element,expandable&&expanded)}))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:_makeNull(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(keyboardEvent){const currentFullWidthComp=this.allRowGuis.find((c=>c.element.contains(keyboardEvent.target)));if(!((currentFullWidthComp?currentFullWidthComp.element:null)===keyboardEvent.target))return;const node=this.rowNode,lastFocusedCell=this.beans.focusService.getFocusedCell(),cellPosition={rowIndex:node.rowIndex,rowPinned:node.rowPinned,column:lastFocusedCell&&lastFocusedCell.column};this.beans.navigationService.navigateToNextCell(keyboardEvent,keyboardEvent.key,cellPosition,!0),keyboardEvent.preventDefault()}onTabKeyDown(keyboardEvent){if(keyboardEvent.defaultPrevented||_isStopPropagationForAgGrid(keyboardEvent))return;const currentFullWidthComp=this.allRowGuis.find((c=>c.element.contains(keyboardEvent.target))),currentFullWidthContainer=currentFullWidthComp?currentFullWidthComp.element:null,isFullWidthContainerFocused=currentFullWidthContainer===keyboardEvent.target;let nextEl=null;isFullWidthContainerFocused||(nextEl=this.beans.focusService.findNextFocusableElement(currentFullWidthContainer,!1,keyboardEvent.shiftKey)),(this.isFullWidth()&&isFullWidthContainerFocused||!nextEl)&&this.beans.navigationService.onTabKeyDown(this,keyboardEvent)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const displayedEl=this.allRowGuis.find((el=>_isVisible(el.element)))?.element;return displayedEl?displayedEl.getBoundingClientRect().top:0}onFullWidthRowFocused(event){const node=this.rowNode,isFocused=!!event&&(this.isFullWidth()&&event.rowIndex===node.rowIndex&&event.rowPinned==node.rowPinned),element=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;element&&(element.classList.toggle("ag-full-width-focus",isFocused),isFocused&&event?.forceBrowserFocus&&element.focus({preventScroll:!0}))}recreateCell(cellCtrl){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,cellCtrl),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,cellCtrl),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,cellCtrl),cellCtrl.destroy(),this.updateColumnLists()}removeCellCtrl(prev,cellCtrlToRemove){const res={list:[],map:{}};return prev.list.forEach((cellCtrl=>{cellCtrl!==cellCtrlToRemove&&(res.list.push(cellCtrl),res.map[cellCtrl.getColumn().getInstanceId()]=cellCtrl)})),res}onMouseEvent(eventName,mouseEvent){switch(eventName){case"dblclick":this.onRowDblClick(mouseEvent);break;case"click":this.onRowClick(mouseEvent);break;case"touchstart":case"mousedown":this.onRowMouseDown(mouseEvent)}}createRowEvent(type,domEvent){return this.gos.addGridCommonParams({type,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:domEvent})}createRowEventWithSource(type,domEvent){const event=this.createRowEvent(type,domEvent);return event.source=this,event}onRowDblClick(mouseEvent){if(_isStopPropagationForAgGrid(mouseEvent))return;const agEvent=this.createRowEventWithSource("rowDoubleClicked",mouseEvent);this.beans.eventService.dispatchEvent(agEvent)}onRowMouseDown(mouseEvent){if(this.lastMouseDownOnDragger=_isElementChildOfClass(mouseEvent.target,"ag-row-drag",3),!this.isFullWidth())return;const node=this.rowNode,presentedColsService=this.beans.visibleColsService;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const element=this.getFullWidthElement(),target=mouseEvent.target;let forceBrowserFocus=!0;element&&element.contains(target)&&_isFocusableFormField(target)&&(forceBrowserFocus=!1),this.beans.focusService.setFocusedCell({rowIndex:node.rowIndex,column:presentedColsService.getAllCols()[0],rowPinned:node.rowPinned,forceBrowserFocus})}onRowClick(mouseEvent){if(_isStopPropagationForAgGrid(mouseEvent)||this.lastMouseDownOnDragger)return;const agEvent=this.createRowEventWithSource("rowClicked",mouseEvent);this.beans.eventService.dispatchEvent(agEvent);const isMultiKey=mouseEvent.ctrlKey||mouseEvent.metaKey,isShiftKey=mouseEvent.shiftKey;if(this.gos.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gos.get("suppressRowClickSelection"))return;const multiSelectOnClick=this.gos.get("rowMultiSelectWithClick"),rowDeselectionWithCtrl=!this.gos.get("suppressRowDeselection"),source="rowClicked";if(this.rowNode.isSelected())multiSelectOnClick?this.rowNode.setSelectedParams({newValue:!1,event:mouseEvent,source}):isMultiKey?rowDeselectionWithCtrl&&this.rowNode.setSelectedParams({newValue:!1,event:mouseEvent,source}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!isShiftKey,rangeSelect:isShiftKey,event:mouseEvent,source});else{const clearSelection=!multiSelectOnClick&&!isMultiKey;this.rowNode.setSelectedParams({newValue:!0,clearSelection,rangeSelect:isShiftKey,event:mouseEvent,source})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gos.isRowSelection()}setupDetailRowAutoHeight(eDetailGui){if("FullWidthDetail"!==this.rowType)return;if(!this.gos.get("detailRowAutoHeight"))return;const checkRowSizeFunc=()=>{const clientHeight=eDetailGui.clientHeight;if(null!=clientHeight&&clientHeight>0){const updateRowHeightFunc=()=>{this.rowNode.setRowHeight(clientHeight),("clientSide"===this.beans.rowModel.getType()||"serverSide"===this.beans.rowModel.getType())&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(updateRowHeightFunc,0)}},resizeObserverDestroyFunc=this.beans.resizeObserverService.observeResize(eDetailGui,checkRowSizeFunc);this.addDestroyFunc(resizeObserverDestroyFunc),checkRowSizeFunc()}createFullWidthCompDetails(eRow,pinned){const{gos,rowNode}=this,params=gos.addGridCommonParams({fullWidth:!0,data:rowNode.data,node:rowNode,value:rowNode.key,valueFormatted:rowNode.key,eGridCell:eRow,eParentOfValue:eRow,pinned,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(rowDraggerElement,dragStartPixels,value,suppressVisibilityChange)=>this.addFullWidthRowDragging(rowDraggerElement,dragStartPixels,value,suppressVisibilityChange),setTooltip:(value,shouldDisplayTooltip)=>this.refreshRowTooltip(value,shouldDisplayTooltip)}),compFactory=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return compFactory.getFullWidthDetailCellRendererDetails(params);case"FullWidthGroup":return compFactory.getFullWidthGroupCellRendererDetails(params);case"FullWidthLoading":return compFactory.getFullWidthLoadingCellRendererDetails(params);default:return compFactory.getFullWidthCellRendererDetails(params)}}refreshRowTooltip(value,shouldDisplayTooltip){if(!this.fullWidthGui)return;const tooltipParams={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>value,getLocation:()=>"fullWidthRow",shouldDisplayTooltip};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new TooltipFeature(tooltipParams,this.beans))}addFullWidthRowDragging(rowDraggerElement,dragStartPixels,value="",suppressVisibilityChange){if(!this.isFullWidth())return;const rowDragComp=new RowDragComp((()=>value),this.rowNode,void 0,rowDraggerElement,dragStartPixels,suppressVisibilityChange);this.createBean(rowDragComp,this.beans.context),this.addDestroyFunc((()=>{this.destroyBean(rowDragComp,this.beans.context)}))}onUiLevelChanged(){const newLevel=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=newLevel){const classToAdd="ag-row-level-"+newLevel,classToRemove="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((gui=>{gui.rowComp.addOrRemoveCssClass(classToAdd,!0),gui.rowComp.addOrRemoveCssClass(classToRemove,!1)}))}this.rowLevel=newLevel}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const newFirst=this.isFirstRowOnPage(),newLast=this.isLastRowOnPage();this.firstRowOnPage!==newFirst&&(this.firstRowOnPage=newFirst,this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass("ag-row-first",newFirst)))),this.lastRowOnPage!==newLast&&(this.lastRowOnPage=newLast,this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass("ag-row-last",newLast))))}stopEditing(cancel=!1){this.stoppingRowEdit||this.beans.rowEditService?.stopEditing(this,cancel)}setInlineEditingCss(editing){this.allRowGuis.forEach((gui=>{gui.rowComp.addOrRemoveCssClass("ag-row-inline-editing",editing),gui.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!editing)}))}setEditingRow(value){this.editingRow=value}startRowEditing(key=null,sourceRenderedCell=null,event=null){this.editingRow||this.beans.rowEditService?.startEditing(this,key,sourceRenderedCell,event)}getAllCellCtrls(){if(0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length)return this.centerCellCtrls.list;return[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const cssClasses=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);cssClasses&&cssClasses.length&&cssClasses.forEach((classStr=>{this.allRowGuis.forEach((c=>c.rowComp.addOrRemoveCssClass(classStr,!0)))}))}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(className=>{this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass(className,!0)))}),(className=>{this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass(className,!1)))}))}setStylesFromGridOptions(updateStyles,gui){updateStyles&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(gui,(gui2=>gui2.rowComp.setUserStyles(this.rowStyles)))}getPinnedForContainer(rowContainerType){return"left"===rowContainerType||"right"===rowContainerType?rowContainerType:null}getInitialRowClasses(rowContainerType){const pinned=this.getPinnedForContainer(rowContainerType),params={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[rowContainerType],rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned};return this.beans.rowCssClassCalculator.getInitialRowClasses(params)}processStylesFromGridOptions(){const rowStyle=this.gos.get("rowStyle");if(rowStyle&&"function"==typeof rowStyle)return void _warnOnce("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const rowStyleFunc=this.gos.getCallback("getRowStyle");let rowStyleFuncResult;if(rowStyleFunc){rowStyleFuncResult=rowStyleFunc({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})}return rowStyleFuncResult||rowStyle?Object.assign({},rowStyle,rowStyleFuncResult):this.emptyStyle}onRowSelected(gui){const selected=!!this.rowNode.isSelected();this.forEachGui(gui,(gui2=>{gui2.rowComp.addOrRemoveCssClass("ag-row-selected",selected),_setAriaSelected(gui2.element,selected);!gui2.element.contains(this.gos.getActiveDomElement())||gui2!==this.centerGui&&gui2!==this.fullWidthGui||this.announceDescription()}))}announceDescription(){if(this.isRowSelectionBlocked())return;const selected=this.rowNode.isSelected();if(selected&&this.gos.get("suppressRowDeselection"))return;const label=this.beans.localeService.getLocaleTextFunc()(selected?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${selected?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(label)}addHoverFunctionality(eRow){if(!this.active)return;const{rowNode,beans,gos}=this;this.addManagedListeners(eRow,{mouseenter:()=>rowNode.onMouseEnter(),mouseleave:()=>rowNode.onMouseLeave()}),this.addManagedListeners(rowNode,{mouseEnter:()=>{beans.dragService.isDragging()||gos.get("suppressRowHoverHighlight")||(eRow.classList.add("ag-row-hover"),rowNode.setHovered(!0))},mouseLeave:()=>{eRow.classList.remove("ag-row-hover"),rowNode.setHovered(!1)}})}roundRowTopToBounds(rowTop){const range=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),minPixel=this.applyPaginationOffset(range.top,!0)-100,maxPixel=this.applyPaginationOffset(range.bottom,!0)+100;return Math.min(Math.max(minPixel,rowTop),maxPixel)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(gui,callback){gui?callback(gui):this.allRowGuis.forEach(callback)}onRowHeightChanged(gui){if(null==this.rowNode.rowHeight)return;const rowHeight=this.rowNode.rowHeight,defaultRowHeight=this.beans.environment.getDefaultRowHeight(),heightFromFunc=this.gos.isGetRowHeightFunction()?this.gos.getRowHeightForNode(this.rowNode).height:void 0,lineHeight=heightFromFunc?Math.min(defaultRowHeight,heightFromFunc)-2+"px":void 0;this.forEachGui(gui,(gui2=>{gui2.element.style.height=`${rowHeight}px`,lineHeight&&gui2.element.style.setProperty("--ag-line-height",lineHeight)}))}addEventListener(eventType,listener){super.addEventListener(eventType,listener)}removeEventListener(eventType,listener){super.removeEventListener(eventType,listener)}destroyFirstPass(suppressAnimation=!1){if(this.active=!1,!suppressAnimation&&this.gos.isAnimateRows()&&!this.isSticky()){if(null!=this.rowNode.rowTop){const rowTop=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(rowTop)}else this.allRowGuis.forEach((gui=>gui.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)))}this.rowNode.setHovered(!1);const event=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(event),this.beans.eventService.dispatchEvent(event),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const destroyCellCtrls=ctrls=>(ctrls.list.forEach((c=>c.destroy())),{list:[],map:{}});this.centerCellCtrls=destroyCellCtrls(this.centerCellCtrls),this.leftCellCtrls=destroyCellCtrls(this.leftCellCtrls),this.rightCellCtrls=destroyCellCtrls(this.rightCellCtrls)}setFocusedClasses(gui){this.forEachGui(gui,(gui2=>{gui2.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),gui2.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)}))}onCellFocusChanged(){const rowFocused=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);rowFocused!==this.rowFocused&&(this.rowFocused=rowFocused,this.setFocusedClasses()),!rowFocused&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const currentPage=this.beans.paginationService?.getCurrentPage()??0;this.paginationPage!==currentPage&&(this.paginationPage=currentPage,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(topPx,reverse=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return topPx;return topPx+this.beans.pageBoundsService.getPixelOffset()*(reverse?1:-1)}setRowTop(pixels){if(!this.printLayout&&_exists(pixels)){const afterPaginationPixels=this.applyPaginationOffset(pixels),topPx=`${this.rowNode.isRowPinned()||this.rowNode.sticky?afterPaginationPixels:this.beans.rowContainerHeightService.getRealPixelPosition(afterPaginationPixels)}px`;this.setRowTopStyle(topPx)}}getInitialRowTop(rowContainerType){return this.suppressRowTransform?this.getInitialRowTopShared(rowContainerType):void 0}getInitialTransform(rowContainerType){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(rowContainerType)})`}getInitialRowTopShared(rowContainerType){if(this.printLayout)return"";const rowNode=this.rowNode;let rowTop;if(this.isSticky())rowTop=rowNode.stickyRowTop;else{const pixels=this.slideInAnimation[rowContainerType]?this.roundRowTopToBounds(rowNode.oldRowTop):rowNode.rowTop,afterPaginationPixels=this.applyPaginationOffset(pixels);rowTop=rowNode.isRowPinned()?afterPaginationPixels:this.beans.rowContainerHeightService.getRealPixelPosition(afterPaginationPixels)}return rowTop+"px"}setRowTopStyle(topPx){this.allRowGuis.forEach((gui=>this.suppressRowTransform?gui.rowComp.setTop(topPx):gui.rowComp.setTransform(`translateY(${topPx})`)))}getRowNode(){return this.rowNode}getCellCtrl(column){let res=null;return this.getAllCellCtrls().forEach((cellCtrl=>{cellCtrl.getColumn()==column&&(res=cellCtrl)})),null!=res||this.getAllCellCtrls().forEach((cellCtrl=>{cellCtrl.getColSpanningList().indexOf(column)>=0&&(res=cellCtrl)})),res}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(gui){const rowIndexStr=this.rowNode.getRowIndexString();if(null===rowIndexStr)return;const headerRowCount=this.beans.headerNavigationService.getHeaderRowCount()+(this.beans.filterManager?.getHeaderRowCount()??0),rowIsEven=this.rowNode.rowIndex%2==0,ariaRowIndex=headerRowCount+this.rowNode.rowIndex+1;this.forEachGui(gui,(c=>{c.rowComp.setRowIndex(rowIndexStr),c.rowComp.addOrRemoveCssClass("ag-row-even",rowIsEven),c.rowComp.addOrRemoveCssClass("ag-row-odd",!rowIsEven),_setAriaRowIndex(c.element,ariaRowIndex)}))}setStoppingRowEdit(stoppingRowEdit){this.stoppingRowEdit=stoppingRowEdit}};_RowCtrl.DOM_DATA_KEY_ROW_CTRL="renderedRow";var RowCtrl=_RowCtrl,RowContainerEventsFeature=class extends BeanStub{wireBeans(beans){this.mouseEventService=beans.mouseEventService,this.valueService=beans.valueService,this.menuService=beans.menuService,this.ctrlsService=beans.ctrlsService,this.navigationService=beans.navigationService,this.focusService=beans.focusService,this.undoRedoService=beans.undoRedoService,this.visibleColsService=beans.visibleColsService,this.rowModel=beans.rowModel,this.pinnedRowModel=beans.pinnedRowModel,this.rangeService=beans.rangeService,this.clipboardService=beans.clipboardService}constructor(element){super(),this.element=element}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const eventName="keydown",listener=this.processKeyboardEvent.bind(this,"keydown");this.addManagedElementListeners(this.element,{[eventName]:listener})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",_isEventSupported("touchstart")?"touchstart":"mousedown"].forEach((eventName=>{const listener=this.processMouseEvent.bind(this,eventName);this.addManagedElementListeners(this.element,{[eventName]:listener})}))}processMouseEvent(eventName,mouseEvent){if(!this.mouseEventService.isEventFromThisGrid(mouseEvent)||_isStopPropagationForAgGrid(mouseEvent))return;const rowComp=this.getRowForEvent(mouseEvent),cellCtrl=this.mouseEventService.getRenderedCellForEvent(mouseEvent);"contextmenu"===eventName?this.handleContextMenuMouseEvent(mouseEvent,void 0,rowComp,cellCtrl):(cellCtrl&&cellCtrl.onMouseEvent(eventName,mouseEvent),rowComp&&rowComp.onMouseEvent(eventName,mouseEvent))}mockContextMenuForIPad(){if(!_isIOSUserAgent())return;const touchListener=new TouchListener(this.element);this.addManagedListeners(touchListener,{longTap:event=>{const rowComp=this.getRowForEvent(event.touchEvent),cellComp=this.mouseEventService.getRenderedCellForEvent(event.touchEvent);this.handleContextMenuMouseEvent(void 0,event.touchEvent,rowComp,cellComp)}}),this.addDestroyFunc((()=>touchListener.destroy()))}getRowForEvent(event){let sourceElement=event.target;for(;sourceElement;){const rowCon=this.gos.getDomData(sourceElement,RowCtrl.DOM_DATA_KEY_ROW_CTRL);if(rowCon)return rowCon;sourceElement=sourceElement.parentElement}return null}handleContextMenuMouseEvent(mouseEvent,touchEvent,rowComp,cellCtrl){const rowNode=rowComp?rowComp.getRowNode():null,column=cellCtrl?cellCtrl.getColumn():null;let value=null;if(column){const event=mouseEvent||touchEvent;cellCtrl.dispatchCellContextMenuEvent(event??null),value=this.valueService.getValue(column,rowNode)}const gridBodyCon=this.ctrlsService.getGridBodyCtrl(),anchorToElement=cellCtrl?cellCtrl.getGui():gridBodyCon.getGridBodyElement();this.menuService.showContextMenu({mouseEvent,touchEvent,rowNode,column,value,anchorToElement})}getControlsForEventTarget(target){return{cellCtrl:_getCtrlForEventTarget(this.gos,target,CellCtrl.DOM_DATA_KEY_CELL_CTRL),rowCtrl:_getCtrlForEventTarget(this.gos,target,RowCtrl.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(eventName,keyboardEvent){const{cellCtrl,rowCtrl}=this.getControlsForEventTarget(keyboardEvent.target);keyboardEvent.defaultPrevented||(cellCtrl?this.processCellKeyboardEvent(cellCtrl,eventName,keyboardEvent):rowCtrl&&rowCtrl.isFullWidth()&&this.processFullWidthRowKeyboardEvent(rowCtrl,eventName,keyboardEvent))}processCellKeyboardEvent(cellCtrl,eventName,keyboardEvent){const rowNode=cellCtrl.getRowNode(),column=cellCtrl.getColumn(),editing=cellCtrl.isEditing();if(!_isUserSuppressingKeyboardEvent(this.gos,keyboardEvent,rowNode,column,editing)&&"keydown"===eventName){!editing&&this.navigationService.handlePageScrollingKey(keyboardEvent)||cellCtrl.onKeyDown(keyboardEvent),this.doGridOperations(keyboardEvent,cellCtrl.isEditing()),_isEventFromPrintableCharacter(keyboardEvent)&&cellCtrl.processCharacter(keyboardEvent)}if("keydown"===eventName){const cellKeyDownEvent=cellCtrl.createEvent(keyboardEvent,"cellKeyDown");this.eventService.dispatchEvent(cellKeyDownEvent)}}processFullWidthRowKeyboardEvent(rowComp,eventName,keyboardEvent){const rowNode=rowComp.getRowNode(),focusedCell=this.focusService.getFocusedCell(),column=focusedCell&&focusedCell.column;if(!_isUserSuppressingKeyboardEvent(this.gos,keyboardEvent,rowNode,column,!1)){const key=keyboardEvent.key;if("keydown"===eventName)switch(key){case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:case KeyCode.PAGE_UP:case KeyCode.PAGE_DOWN:this.navigationService.handlePageScrollingKey(keyboardEvent,!0);break;case KeyCode.UP:case KeyCode.DOWN:rowComp.onKeyboardNavigate(keyboardEvent);break;case KeyCode.TAB:rowComp.onTabKeyDown(keyboardEvent)}}if("keydown"===eventName){const cellKeyDownEvent=rowComp.createRowEvent("cellKeyDown",keyboardEvent);this.eventService.dispatchEvent(cellKeyDownEvent)}}doGridOperations(keyboardEvent,editing){if(!keyboardEvent.ctrlKey&&!keyboardEvent.metaKey)return;if(editing)return;if(!this.mouseEventService.isEventFromThisGrid(keyboardEvent))return;const keyCode=function _normaliseQwertyAzerty(keyboardEvent){const{keyCode}=keyboardEvent;let code;switch(keyCode){case 65:code=KeyCode.A;break;case 67:code=KeyCode.C;break;case 86:code=KeyCode.V;break;case 68:code=KeyCode.D;break;case 90:code=KeyCode.Z;break;case 89:code=KeyCode.Y;break;default:code=keyboardEvent.code}return code}(keyboardEvent);return keyCode===KeyCode.A?this.onCtrlAndA(keyboardEvent):keyCode===KeyCode.C?this.onCtrlAndC(keyboardEvent):keyCode===KeyCode.D?this.onCtrlAndD(keyboardEvent):keyCode===KeyCode.V?this.onCtrlAndV(keyboardEvent):keyCode===KeyCode.X?this.onCtrlAndX(keyboardEvent):keyCode===KeyCode.Y?this.onCtrlAndY():keyCode===KeyCode.Z?this.onCtrlAndZ(keyboardEvent):void 0}onCtrlAndA(event){const{pinnedRowModel,rowModel,rangeService}=this;if(rangeService&&rowModel.isRowsToRender()){const[isEmptyPinnedTop,isEmptyPinnedBottom]=[pinnedRowModel.isEmpty("top"),pinnedRowModel.isEmpty("bottom")],floatingStart=isEmptyPinnedTop?null:"top";let floatingEnd,rowEnd;isEmptyPinnedBottom?(floatingEnd=null,rowEnd=rowModel.getRowCount()-1):(floatingEnd="bottom",rowEnd=pinnedRowModel.getPinnedBottomRowNodes().length-1);const allDisplayedColumns=this.visibleColsService.getAllCols();if(_missingOrEmpty(allDisplayedColumns))return;rangeService.setCellRange({rowStartIndex:0,rowStartPinned:floatingStart,rowEndIndex:rowEnd,rowEndPinned:floatingEnd,columnStart:allDisplayedColumns[0],columnEnd:_last(allDisplayedColumns)})}event.preventDefault()}onCtrlAndC(event){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl,rowCtrl}=this.getControlsForEventTarget(event.target);cellCtrl?.isEditing()||rowCtrl?.isEditing()||(event.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(event){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl,rowCtrl}=this.getControlsForEventTarget(event.target);cellCtrl?.isEditing()||rowCtrl?.isEditing()||(event.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(event){const{cellCtrl,rowCtrl}=this.getControlsForEventTarget(event.target);cellCtrl?.isEditing()||rowCtrl?.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(event){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),event.preventDefault()}onCtrlAndZ(event){this.gos.get("undoRedoCellEditing")&&this.undoRedoService&&(event.preventDefault(),event.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService?.redo("ui")}},SetPinnedLeftWidthFeature=class extends BeanStub{wireBeans(beans){this.pinnedWidthService=beans.pinnedWidthService}constructor(element){super(),this.element=element}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const leftWidth=this.pinnedWidthService.getPinnedLeftWidth(),displayed=leftWidth>0;_setDisplayed(this.element,displayed),_setFixedWidth(this.element,leftWidth)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},SetPinnedRightWidthFeature=class extends BeanStub{wireBeans(beans){this.pinnedWidthService=beans.pinnedWidthService}constructor(element){super(),this.element=element}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const rightWidth=this.pinnedWidthService.getPinnedRightWidth(),displayed=rightWidth>0;_setDisplayed(this.element,displayed),_setFixedWidth(this.element,rightWidth)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},getTopRowCtrls=r=>r.getTopRowCtrls(),getStickyTopRowCtrls=r=>r.getStickyTopRowCtrls(),getStickyBottomRowCtrls=r=>r.getStickyBottomRowCtrls(),getBottomRowCtrls=r=>r.getBottomRowCtrls(),getCentreRowCtrls=r=>r.getCentreRowCtrls(),ContainerCssClasses={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:getCentreRowCtrls},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:getCentreRowCtrls},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:getCentreRowCtrls},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:getCentreRowCtrls},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:getTopRowCtrls},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:getTopRowCtrls},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:getTopRowCtrls},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:getTopRowCtrls},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:getStickyTopRowCtrls},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:getStickyTopRowCtrls},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:getStickyTopRowCtrls},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:getStickyTopRowCtrls},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:getStickyBottomRowCtrls},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:getStickyBottomRowCtrls},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:getStickyBottomRowCtrls},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:getStickyBottomRowCtrls},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:getBottomRowCtrls},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:getBottomRowCtrls},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:getBottomRowCtrls},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:getBottomRowCtrls}};function _getRowContainerOptions(name){return ContainerCssClasses[name]}var allMiddle=["center","left","right","fullWidth"],allCenter=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],allLeft=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],allRight=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],allStickyTopNoFW=["stickyTopCenter","stickyTopLeft","stickyTopRight"],allStickyBottomNoFW=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],allStickyContainers=[...allStickyTopNoFW,"stickyTopFullWidth",...allStickyBottomNoFW,"stickyBottomFullWidth"],allNoFW=["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right",...allStickyTopNoFW,...allStickyBottomNoFW],RowContainerCtrl=class extends BeanStub{constructor(name){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=name,this.options=_getRowContainerOptions(name)}wireBeans(beans){this.dragService=beans.dragService,this.ctrlsService=beans.ctrlsService,this.columnViewportService=beans.columnViewportService,this.resizeObserverService=beans.resizeObserverService,this.rowRenderer=beans.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],(()=>{this.viewportSizeFeature=this.createManagedBean(new ViewportSizeFeature(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})}))}onStickyTopOffsetChanged(event){this.comp.setOffsetTop(`${event.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(names,callback){names.indexOf(this.name)>=0&&callback()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(view,eContainer,eViewport){this.comp=view,this.eContainer=eContainer,this.eViewport=eViewport,this.createManagedBean(new RowContainerEventsFeature(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows(),this.forContainers(allLeft,(()=>{this.pinnedWidthFeature=this.createManagedBean(new SetPinnedLeftWidthFeature(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:()=>this.onPinnedWidthChanged()})})),this.forContainers(allRight,(()=>{this.pinnedWidthFeature=this.createManagedBean(new SetPinnedRightWidthFeature(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:()=>this.onPinnedWidthChanged()})})),this.forContainers(allMiddle,(()=>this.createManagedBean(new SetHeightFeature(this.eContainer,"center"===this.name?eViewport:void 0)))),this.forContainers(allNoFW,(()=>this.createManagedBean(new DragListenerFeature(this.eContainer)))),this.forContainers(allCenter,(()=>this.createManagedBean(new CenterWidthFeature((width=>this.comp.setContainerWidth(`${width}px`)))))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:params=>this.onDisplayedRowsChanged(params.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(allStickyContainers.indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const listener=()=>{const isEnsureDomOrder=this.gos.get("ensureDomOrder"),isPrintLayout=this.gos.isDomLayout("print");this.comp.setDomOrder(isEnsureDomOrder||isPrintLayout)};this.addManagedPropertyListener("domLayout",listener),listener()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter","stickyBottomCenter"],(()=>{this.addManagedElementListeners(this.eViewport,{scroll:()=>this.eViewport.scrollLeft=0})}))}onDisplayedColumnsChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}addPreventScrollWhileDragging(){const preventScroll=e=>{this.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",preventScroll,{passive:!1}),this.addDestroyFunc((()=>this.eContainer.removeEventListener("touchmove",preventScroll)))}onHorizontalViewportChanged(afterScroll=!1){const scrollWidth=this.getCenterWidth(),scrollPosition=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(scrollWidth,scrollPosition,afterScroll)}getCenterWidth(){return _getInnerWidth(this.eViewport)}getCenterViewportScrollLeft(){return _getScrollLeft(this.eViewport,this.enableRtl)}registerViewportResizeListener(listener){const unsubscribeFromResize=this.resizeObserverService.observeResize(this.eViewport,listener);this.addDestroyFunc((()=>unsubscribeFromResize()))}isViewportInTheDOMTree(){return _isInDOM(this.eViewport)}getViewportScrollLeft(){return _getScrollLeft(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||function _isHorizontalScrollShowing(element){return element.clientWidth<element.scrollWidth}(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(amount){this.eContainer.style.transform=`translateX(${amount}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(value){_setScrollLeft(this.eViewport,value,this.enableRtl)}isContainerVisible(){return!(null!=this.options.pinnedType)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const visible=this.isContainerVisible();this.visible!=visible&&(this.visible=visible,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(afterScroll=!1){const rows=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||0===rows.length)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const printLayout=this.gos.isDomLayout("print"),embedFW=this.gos.get("embedFullWidthRows")||printLayout,rowsThisContainer=rows.filter((rowCtrl=>{const fullWidthRow=rowCtrl.isFullWidth();return this.options.fullWidth?!embedFW&&fullWidthRow:embedFW||!fullWidthRow}));this.comp.setRowCtrls({rowCtrls:rowsThisContainer,useFlushSync:afterScroll})}};function makeRowContainers(names){return names.map((name=>`<ag-row-container name="${name}"></ag-row-container>`)).join("")}makeRowContainers(["topLeft","topCenter","topRight","topFullWidth"]),makeRowContainers(["left","center","right","fullWidth"]),makeRowContainers(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]),makeRowContainers(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]),makeRowContainers(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]);var ScrollVisibleService=class extends BeanStub{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(beans){this.ctrlsService=beans.ctrlsService,this.columnAnimationService=beans.columnAnimationService}postConstruct(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn((()=>{this.columnAnimationService.executeLaterVMTurn((()=>this.updateImpl()))})):this.updateImpl()}updateImpl(){const centerRowCtrl=this.ctrlsService.get("center");if(!centerRowCtrl||this.columnAnimationService.isActive())return;const params={horizontalScrollShowing:centerRowCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(params)}setScrollsVisible(params){if(this.horizontalScrollShowing!==params.horizontalScrollShowing||this.verticalScrollShowing!==params.verticalScrollShowing){this.horizontalScrollShowing=params.horizontalScrollShowing,this.verticalScrollShowing=params.verticalScrollShowing;const event={type:"scrollVisibilityChanged"};this.eventService.dispatchEvent(event)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}},_MouseEventService=class _MouseEventService extends BeanStub{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=_MouseEventService.gridInstanceSequence.next()}wireBeans(beans){this.ctrlsService=beans.ctrlsService}stampTopLevelGridCompWithGridInstance(eGridDiv){eGridDiv.__ag_grid_instance=this.gridInstanceId}getRenderedCellForEvent(event){return _getCtrlForEventTarget(this.gos,event.target,CellCtrl.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(event){return this.isElementInThisGrid(event.target)}isElementInThisGrid(element){let pointer=element;for(;pointer;){const instanceId=pointer.__ag_grid_instance;if(_exists(instanceId)){return instanceId===this.gridInstanceId}pointer=pointer.parentElement}return!1}getCellPositionForEvent(event){const cellComp=this.getRenderedCellForEvent(event);return cellComp?cellComp.getCellPosition():null}getNormalisedPosition(event){const gridPanelHasScrolls=this.gos.isDomLayout("normal"),e=event;let x,y;if(null!=e.clientX||null!=e.clientY?(x=e.clientX,y=e.clientY):(x=e.x,y=e.y),gridPanelHasScrolls){const gridBodyCon=this.ctrlsService.getGridBodyCtrl(),vRange=gridBodyCon.getScrollFeature().getVScrollPosition();x+=gridBodyCon.getScrollFeature().getHScrollPosition().left,y+=vRange.top}return{x,y}}};_MouseEventService.gridInstanceSequence=new NumberSequence;var MouseEventService=_MouseEventService,NavigationService=class extends BeanStub{constructor(){super(),this.beanName="navigationService",this.onPageDown=_throttle(this.onPageDown,100),this.onPageUp=_throttle(this.onPageUp,100)}wireBeans(beans){this.mouseEventService=beans.mouseEventService,this.pageBoundsService=beans.pageBoundsService,this.focusService=beans.focusService,this.columnModel=beans.columnModel,this.visibleColsService=beans.visibleColsService,this.rowModel=beans.rowModel,this.ctrlsService=beans.ctrlsService,this.rowRenderer=beans.rowRenderer,this.headerNavigationService=beans.headerNavigationService,this.rowPositionUtils=beans.rowPositionUtils,this.cellNavigationService=beans.cellNavigationService,this.pinnedRowModel=beans.pinnedRowModel,this.rangeService=beans.rangeService}postConstruct(){this.ctrlsService.whenReady((p=>{this.gridBodyCon=p.gridBodyCtrl}))}handlePageScrollingKey(event,fromFullWidth=!1){const key=event.key,alt=event.altKey,ctrl=event.ctrlKey||event.metaKey,rangeServiceShouldHandleShift=!!this.rangeService&&event.shiftKey,currentCell=this.mouseEventService.getCellPositionForEvent(event);let processed=!1;switch(key){case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:ctrl||alt||(this.onHomeOrEndKey(key),processed=!0);break;case KeyCode.LEFT:case KeyCode.RIGHT:case KeyCode.UP:case KeyCode.DOWN:if(!currentCell)return!1;!ctrl||alt||rangeServiceShouldHandleShift||(this.onCtrlUpDownLeftRight(key,currentCell),processed=!0);break;case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:ctrl||alt||(processed=this.handlePageUpDown(key,currentCell,fromFullWidth))}return processed&&event.preventDefault(),processed}handlePageUpDown(key,currentCell,fromFullWidth){return fromFullWidth&&(currentCell=this.focusService.getFocusedCell()),!!currentCell&&(key===KeyCode.PAGE_UP?this.onPageUp(currentCell):this.onPageDown(currentCell),!0)}navigateTo(navigateParams){const{scrollIndex,scrollType,scrollColumn,focusIndex,focusColumn}=navigateParams;_exists(scrollColumn)&&!scrollColumn.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(scrollColumn),_exists(scrollIndex)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(scrollIndex,scrollType),navigateParams.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(focusIndex),this.focusService.setFocusedCell({rowIndex:focusIndex,column:focusColumn,rowPinned:null,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:focusIndex,rowPinned:null,column:focusColumn})}onPageDown(gridCell){const scrollPosition=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),pixelsInOnePage=this.getViewportHeight(),pagingPixelOffset=this.pageBoundsService.getPixelOffset(),currentPageBottomPixel=scrollPosition.top+pixelsInOnePage,currentPageBottomRow=this.rowModel.getRowIndexAtPixel(currentPageBottomPixel+pagingPixelOffset);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(gridCell,currentPageBottomRow):this.navigateToNextPage(gridCell,currentPageBottomRow)}onPageUp(gridCell){const scrollPosition=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),pagingPixelOffset=this.pageBoundsService.getPixelOffset(),currentPageTopPixel=scrollPosition.top,currentPageTopRow=this.rowModel.getRowIndexAtPixel(currentPageTopPixel+pagingPixelOffset);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(gridCell,currentPageTopRow,!0):this.navigateToNextPage(gridCell,currentPageTopRow,!0)}navigateToNextPage(gridCell,scrollIndex,up=!1){const pixelsInOnePage=this.getViewportHeight(),firstRow=this.pageBoundsService.getFirstRow(),lastRow=this.pageBoundsService.getLastRow(),pagingPixelOffset=this.pageBoundsService.getPixelOffset(),currentRowNode=this.rowModel.getRow(gridCell.rowIndex),rowPixelDiff=up?currentRowNode?.rowHeight-pixelsInOnePage-pagingPixelOffset:pixelsInOnePage-pagingPixelOffset,nextCellPixel=currentRowNode?.rowTop+rowPixelDiff;let scrollType,focusIndex=this.rowModel.getRowIndexAtPixel(nextCellPixel+pagingPixelOffset);if(focusIndex===gridCell.rowIndex){const diff=up?-1:1;scrollIndex=focusIndex=gridCell.rowIndex+diff}up?(scrollType="bottom",focusIndex<firstRow&&(focusIndex=firstRow),scrollIndex<firstRow&&(scrollIndex=firstRow)):(scrollType="top",focusIndex>lastRow&&(focusIndex=lastRow),scrollIndex>lastRow&&(scrollIndex=lastRow)),this.isRowTallerThanView(focusIndex)&&(scrollIndex=focusIndex,scrollType="top"),this.navigateTo({scrollIndex,scrollType,scrollColumn:null,focusIndex,focusColumn:gridCell.column})}navigateToNextPageWithAutoHeight(gridCell,scrollIndex,up=!1){this.navigateTo({scrollIndex,scrollType:up?"bottom":"top",scrollColumn:null,focusIndex:scrollIndex,focusColumn:gridCell.column}),setTimeout((()=>{const focusIndex=this.getNextFocusIndexForAutoHeight(gridCell,up);this.navigateTo({scrollIndex,scrollType:up?"bottom":"top",scrollColumn:null,focusIndex,focusColumn:gridCell.column,isAsync:!0})}),50)}getNextFocusIndexForAutoHeight(gridCell,up=!1){const step=up?-1:1,pixelsInOnePage=this.getViewportHeight(),lastRowIndex=this.pageBoundsService.getLastRow();let pixelSum=0,currentIndex=gridCell.rowIndex;for(;currentIndex>=0&&currentIndex<=lastRowIndex;){const currentCell=this.rowModel.getRow(currentIndex);if(currentCell){const currentCellHeight=currentCell.rowHeight??0;if(pixelSum+currentCellHeight>pixelsInOnePage)break;pixelSum+=currentCellHeight}currentIndex+=step}return Math.max(0,Math.min(currentIndex,lastRowIndex))}getViewportHeight(){const{gridBodyCtrl,center}=this.ctrlsService.getParams(),scrollPosition=gridBodyCtrl.getScrollFeature().getVScrollPosition(),scrollbarWidth=this.gos.getScrollbarWidth();let pixelsInOnePage=scrollPosition.bottom-scrollPosition.top;return center.isHorizontalScrollShowing()&&(pixelsInOnePage-=scrollbarWidth),pixelsInOnePage}isRowTallerThanView(rowIndex){const rowNode=this.rowModel.getRow(rowIndex);if(!rowNode)return!1;const rowHeight=rowNode.rowHeight;return"number"==typeof rowHeight&&rowHeight>this.getViewportHeight()}onCtrlUpDownLeftRight(key,gridCell){const cellToFocus=this.cellNavigationService.getNextCellToFocus(key,gridCell,!0),{rowIndex}=cellToFocus,column=cellToFocus.column;this.navigateTo({scrollIndex:rowIndex,scrollType:null,scrollColumn:column,focusIndex:rowIndex,focusColumn:column})}onHomeOrEndKey(key){const homeKey=key===KeyCode.PAGE_HOME,allColumns=this.visibleColsService.getAllCols(),columnToSelect=homeKey?allColumns[0]:_last(allColumns),scrollIndex=homeKey?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex,scrollType:null,scrollColumn:columnToSelect,focusIndex:scrollIndex,focusColumn:columnToSelect})}onTabKeyDown(previous,keyboardEvent){const backwards=keyboardEvent.shiftKey,movedToNextCell=this.tabToNextCellCommon(previous,backwards,keyboardEvent);if(!1===movedToNextCell)if(backwards){const{rowIndex,rowPinned}=previous.getRowPosition();(rowPinned?0===rowIndex:rowIndex===this.pageBoundsService.getFirstRow())&&(0===this.gos.get("headerHeight")||this.gos.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(keyboardEvent.preventDefault(),this.focusService.focusPreviousFromFirstCell(keyboardEvent)))}else previous instanceof CellCtrl&&previous.focusCell(!0),this.focusService.focusNextGridCoreContainer(backwards)&&keyboardEvent.preventDefault();else movedToNextCell&&keyboardEvent.preventDefault()}tabToNextCell(backwards,event){const focusedCell=this.focusService.getFocusedCell();if(!focusedCell)return!1;let cellOrRow=this.getCellByPosition(focusedCell);return!!(cellOrRow||(cellOrRow=this.rowRenderer.getRowByPosition(focusedCell),cellOrRow&&cellOrRow.isFullWidth()))&&!!this.tabToNextCellCommon(cellOrRow,backwards,event)}tabToNextCellCommon(previous,backwards,event){let res,editing=previous.isEditing();if(!editing&&previous instanceof CellCtrl){const row=previous.getRowCtrl();row&&(editing=row.isEditing())}return res=editing?"fullRow"===this.gos.get("editType")?this.moveToNextEditingRow(previous,backwards,event):this.moveToNextEditingCell(previous,backwards,event):this.moveToNextCellNotEditing(previous,backwards),null===res?res:res||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(previousCell,backwards,event=null){const previousPos=previousCell.getCellPosition();previousCell.getGui().focus(),previousCell.stopEditing();const nextCell=this.findNextCellToFocusOn(previousPos,backwards,!0);return!1===nextCell?null:null!=nextCell&&(nextCell.startEditing(null,!0,event),nextCell.focusCell(!1),!0)}moveToNextEditingRow(previousCell,backwards,event=null){const previousPos=previousCell.getCellPosition(),nextCell=this.findNextCellToFocusOn(previousPos,backwards,!0);if(!1===nextCell)return null;if(null==nextCell)return!1;const nextPos=nextCell.getCellPosition(),previousEditable=this.isCellEditable(previousPos),nextEditable=this.isCellEditable(nextPos),rowsMatch=nextPos&&previousPos.rowIndex===nextPos.rowIndex&&previousPos.rowPinned===nextPos.rowPinned;if(previousEditable&&previousCell.setFocusOutOnEditor(),!rowsMatch){previousCell.getRowCtrl().stopEditing();nextCell.getRowCtrl().startRowEditing(void 0,void 0,event)}return nextEditable?(nextCell.setFocusInOnEditor(),nextCell.focusCell()):nextCell.focusCell(!0),!0}moveToNextCellNotEditing(previousCell,backwards){const displayedColumns=this.visibleColsService.getAllCols();let cellPos;cellPos=previousCell instanceof RowCtrl?{...previousCell.getRowPosition(),column:backwards?displayedColumns[0]:_last(displayedColumns)}:previousCell.getCellPosition();const nextCell=this.findNextCellToFocusOn(cellPos,backwards,!1);if(!1===nextCell)return null;if(nextCell instanceof CellCtrl)nextCell.focusCell(!0);else if(nextCell)return this.tryToFocusFullWidthRow(nextCell.getRowPosition(),backwards);return _exists(nextCell)}findNextCellToFocusOn(previousPosition,backwards,startEditing){let nextPosition=previousPosition;for(;;){previousPosition!==nextPosition&&(previousPosition=nextPosition),backwards||(nextPosition=this.getLastCellOfColSpan(nextPosition)),nextPosition=this.cellNavigationService.getNextTabbedCell(nextPosition,backwards);const userFunc=this.gos.getCallback("tabToNextCell");if(_exists(userFunc)){const userResult=userFunc({backwards,editing:startEditing,previousCellPosition:previousPosition,nextCellPosition:nextPosition||null});if(!0===userResult||null===userResult)null===userResult&&_warnOnce("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),nextPosition=previousPosition;else{if(!1===userResult)return!1;nextPosition={rowIndex:userResult.rowIndex,column:userResult.column,rowPinned:userResult.rowPinned}}}if(!nextPosition)return null;if(nextPosition.rowIndex<0){const headerLen=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:headerLen+nextPosition.rowIndex,column:nextPosition.column},fromCell:!0}),null}const fullRowEdit="fullRow"===this.gos.get("editType");if(startEditing&&!fullRowEdit){if(!this.isCellEditable(nextPosition))continue}this.ensureCellVisible(nextPosition);const nextCell=this.getCellByPosition(nextPosition);if(!nextCell){const row=this.rowRenderer.getRowByPosition(nextPosition);if(!row||!row.isFullWidth()||startEditing)continue;return row}if(!nextCell.isSuppressNavigable())return this.rangeService?.setRangeToCell(nextPosition),nextCell}}isCellEditable(cell){const rowNode=this.lookupRowNodeForCell(cell);return!!rowNode&&cell.column.isCellEditable(rowNode)}getCellByPosition(cellPosition){const rowCtrl=this.rowRenderer.getRowByPosition(cellPosition);return rowCtrl?rowCtrl.getCellCtrl(cellPosition.column):null}lookupRowNodeForCell(cell){return"top"===cell.rowPinned?this.pinnedRowModel.getPinnedTopRow(cell.rowIndex):"bottom"===cell.rowPinned?this.pinnedRowModel.getPinnedBottomRow(cell.rowIndex):this.rowModel.getRow(cell.rowIndex)}navigateToNextCell(event,key,currentCell,allowUserOverride){let nextCell=currentCell,hitEdgeOfGrid=!1;for(;nextCell&&(nextCell===currentCell||!this.isValidNavigateCell(nextCell));)this.gos.get("enableRtl")?key===KeyCode.LEFT&&(nextCell=this.getLastCellOfColSpan(nextCell)):key===KeyCode.RIGHT&&(nextCell=this.getLastCellOfColSpan(nextCell)),nextCell=this.cellNavigationService.getNextCellToFocus(key,nextCell),hitEdgeOfGrid=_missing(nextCell);if(hitEdgeOfGrid&&event&&event.key===KeyCode.UP&&(nextCell={rowIndex:-1,rowPinned:null,column:currentCell.column}),allowUserOverride){const userFunc=this.gos.getCallback("navigateToNextCell");if(_exists(userFunc)){const userCell=userFunc({key,previousCellPosition:currentCell,nextCellPosition:nextCell||null,event});nextCell=_exists(userCell)?{rowPinned:userCell.rowPinned,rowIndex:userCell.rowIndex,column:userCell.column}:null}}if(!nextCell)return;if(nextCell.rowIndex<0){const headerLen=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:headerLen+nextCell.rowIndex,column:currentCell.column},event:event||void 0,fromCell:!0})}const normalisedPosition=this.getNormalisedPosition(nextCell);normalisedPosition?this.focusPosition(normalisedPosition):this.tryToFocusFullWidthRow(nextCell)}getNormalisedPosition(cellPosition){this.ensureCellVisible(cellPosition);const cellCtrl=this.getCellByPosition(cellPosition);return cellCtrl?(cellPosition=cellCtrl.getCellPosition(),this.ensureCellVisible(cellPosition),cellPosition):null}tryToFocusFullWidthRow(position,backwards=!1){const displayedColumns=this.visibleColsService.getAllCols(),rowComp=this.rowRenderer.getRowByPosition(position);if(!rowComp||!rowComp.isFullWidth())return!1;const currentCellFocused=this.focusService.getFocusedCell(),cellPosition={rowIndex:position.rowIndex,rowPinned:position.rowPinned,column:position.column||(backwards?_last(displayedColumns):displayedColumns[0])};this.focusPosition(cellPosition);const fromBelow=null!=currentCellFocused&&this.rowPositionUtils.before(cellPosition,currentCellFocused),focusEvent={type:"fullWidthRowFocused",rowIndex:cellPosition.rowIndex,rowPinned:cellPosition.rowPinned,column:cellPosition.column,isFullWidthCell:!0,fromBelow};return this.eventService.dispatchEvent(focusEvent),!0}focusPosition(cellPosition){this.focusService.setFocusedCell({rowIndex:cellPosition.rowIndex,column:cellPosition.column,rowPinned:cellPosition.rowPinned,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell(cellPosition)}isValidNavigateCell(cell){return!!this.rowPositionUtils.getRowNode(cell)}getLastCellOfColSpan(cell){const cellCtrl=this.getCellByPosition(cell);if(!cellCtrl)return cell;const colSpanningList=cellCtrl.getColSpanningList();return 1===colSpanningList.length?cell:{rowIndex:cell.rowIndex,column:_last(colSpanningList),rowPinned:cell.rowPinned}}ensureCellVisible(gridCell){const isGroupStickyEnabled=this.gos.isGroupRowsSticky(),rowNode=this.rowModel.getRow(gridCell.rowIndex);!(isGroupStickyEnabled&&rowNode?.sticky)&&_missing(gridCell.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(gridCell.rowIndex),gridCell.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(gridCell.column)}},HorizontalResizeService=class extends BeanStub{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(beans){this.dragService=beans.dragService,this.ctrlsService=beans.ctrlsService}addResizeBar(params){const dragSource={dragStartPixels:params.dragStartPixels||0,eElement:params.eResizeBar,onDragStart:this.onDragStart.bind(this,params),onDragStop:this.onDragStop.bind(this,params),onDragging:this.onDragging.bind(this,params),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(dragSource);return()=>this.dragService.removeDragSource(dragSource)}onDragStart(params,mouseEvent){this.dragStartX=mouseEvent.clientX,this.setResizeIcons();const shiftKey=mouseEvent instanceof MouseEvent&&!0===mouseEvent.shiftKey;params.onResizeStart(shiftKey)}setResizeIcons(){const ctrl=this.ctrlsService.get("gridCtrl");ctrl.setResizeCursor(!0),ctrl.disableUserSelect(!0)}onDragStop(params,mouseEvent){params.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const ctrl=this.ctrlsService.get("gridCtrl");ctrl.setResizeCursor(!1),ctrl.disableUserSelect(!1)}onDragging(params,mouseEvent){this.resizeAmount=mouseEvent.clientX-this.dragStartX,params.onResizing(this.resizeAmount)}},StandardMenuFactory=class extends BeanStub{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(beans){this.popupService=beans.popupService,this.focusService=beans.focusService,this.ctrlsService=beans.ctrlsService,this.menuService=beans.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(column,mouseEvent,containerType){this.showPopup(column,(eMenu=>{this.popupService.positionPopupUnderMouseEvent({column,type:containerType,mouseEvent,ePopup:eMenu})}),containerType,mouseEvent.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(column,eventSource,containerType){let multiplier=-1,alignSide="left";const isLegacyMenuEnabled=this.menuService.isLegacyMenuEnabled();!isLegacyMenuEnabled&&this.gos.get("enableRtl")&&(multiplier=1,alignSide="right");const nudgeX=isLegacyMenuEnabled?void 0:4*multiplier,nudgeY=isLegacyMenuEnabled?void 0:4;this.showPopup(column,(eMenu=>{this.popupService.positionPopupByComponent({type:containerType,eventSource,ePopup:eMenu,nudgeX,nudgeY,alignSide,keepWithinBounds:!0,position:"under",column})}),containerType,eventSource,isLegacyMenuEnabled)}showPopup(column,positionCallback,containerType,eventSource,isLegacyMenuEnabled){const comp=column?this.createBean(new FilterWrapperComp(column,"COLUMN_MENU")):void 0;if(this.activeMenu=comp,!comp?.hasFilter()||!column)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const eMenu=document.createElement("div");let hidePopup;_setAriaRole(eMenu,"presentation"),eMenu.classList.add("ag-menu"),isLegacyMenuEnabled||eMenu.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(eMenu,{keydown:e=>this.trapFocusWithin(e,eMenu)}),eMenu.appendChild(comp?.getGui());const anchorToElement=this.menuService.isColumnMenuAnchoringEnabled()?eventSource??this.ctrlsService.getGridBodyCtrl().getGui():void 0,translate=this.localeService.getLocaleTextFunc(),ariaLabel=isLegacyMenuEnabled&&"columnFilter"!==containerType?translate("ariaLabelColumnMenu","Column Menu"):translate("ariaLabelColumnFilter","Column Filter"),addPopupRes=this.popupService.addPopup({modal:!0,eChild:eMenu,closeOnEsc:!0,closedCallback:e=>{column.setMenuVisible(!1,"contextMenu");const isKeyboardEvent=e instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),isKeyboardEvent&&eventSource&&_isVisible(eventSource)){const focusableEl=this.focusService.findTabbableParent(eventSource);focusableEl&&focusableEl.focus()}comp?.afterGuiDetached(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,containerType,column)},positionCallback:()=>positionCallback(eMenu),anchorToElement,ariaLabel});addPopupRes&&(this.hidePopup=hidePopup=addPopupRes.hideFunc),comp.afterInit().then((()=>{positionCallback(eMenu),comp.afterGuiAttached({container:containerType,hidePopup})})),column.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,containerType,column)}trapFocusWithin(e,menu){e.key!==KeyCode.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(menu,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(menu,e.shiftKey))}dispatchVisibleChangedEvent(visible,containerType,column){const displayedEvent={type:"columnMenuVisibleChanged",visible,switchingTab:!1,key:containerType,column:column??null};this.eventService.dispatchEvent(displayedEvent)}isMenuEnabled(column){return column.isFilterAllowed()&&(column.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},ResizeObserverService=class extends BeanStub{constructor(){super(...arguments),this.beanName="resizeObserverService",this.polyfillFunctions=[]}observeResize(element,callback){const win=this.gos.getWindow(),usePolyfill=()=>{let widthLastTime=element?.clientWidth??0,heightLastTime=element?.clientHeight??0,running=!0;const periodicallyCheckWidthAndHeight=()=>{if(running){const newWidth=element?.clientWidth??0,newHeight=element?.clientHeight??0;(newWidth!==widthLastTime||newHeight!==heightLastTime)&&(widthLastTime=newWidth,heightLastTime=newHeight,callback()),this.doNextPolyfillTurn(periodicallyCheckWidthAndHeight)}};return periodicallyCheckWidthAndHeight(),()=>running=!1},suppressResize=this.gos.get("suppressBrowserResizeObserver");return!!win.ResizeObserver&&!suppressResize?(()=>{const resizeObserver=new win.ResizeObserver(callback);return resizeObserver.observe(element),()=>resizeObserver.disconnect()})():this.getFrameworkOverrides().wrapIncoming((()=>usePolyfill()),"resize-observer")}doNextPolyfillTurn(func){this.polyfillFunctions.push(func),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;this.polyfillScheduled=!0,window.setTimeout((()=>{const funcs=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],funcs.forEach((f=>f()))}),50)}},AnimationFrameService=class extends BeanStub{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(beans){this.ctrlsService=beans.ctrlsService,this.paginationService=beans.paginationService}setScrollTop(scrollTop){const isPaginationActive=this.gos.get("pagination");if(this.scrollGoingDown=scrollTop>=this.lastScrollTop,isPaginationActive&&0===scrollTop){const currentPage=this.paginationService?.getCurrentPage()??0;currentPage!==this.lastPage&&(this.lastPage=currentPage,this.scrollGoingDown=!0)}this.lastScrollTop=scrollTop}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(methodName){!1===this.useAnimationFrame&&_warnOnce(`AnimationFrameService.${methodName} called but animation frames are off`)}createTask(task,index,list){this.verifyAnimationFrameOn(list);const taskItem={task,index,createOrder:++this.taskCount};this.addTaskToList(this[list],taskItem),this.schedule()}cancelTask(task){this.cancelledTasks.add(task)}addTaskToList(taskList,task){taskList.list.push(task),taskList.sorted=!1}sortTaskList(taskList){if(taskList.sorted)return;const sortDirection=this.scrollGoingDown?1:-1;taskList.list.sort(((a,b)=>a.index!==b.index?sortDirection*(b.index-a.index):b.createOrder-a.createOrder)),taskList.sorted=!0}addDestroyTask(task){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(task),this.schedule()}executeFrame(millis){this.verifyAnimationFrameOn("executeFrame");const p1TaskList=this.createTasksP1,p1Tasks=p1TaskList.list,p2TaskList=this.createTasksP2,p2Tasks=p2TaskList.list,destroyTasks=this.destroyTasks,frameStart=(new Date).getTime();let duration=(new Date).getTime()-frameStart;const noMaxMillis=millis<=0,gridBodyCon=this.ctrlsService.getGridBodyCtrl();for(;noMaxMillis||duration<millis;){if(!gridBodyCon.getScrollFeature().scrollGridIfNeeded()){let task;if(p1Tasks.length)this.sortTaskList(p1TaskList),task=p1Tasks.pop().task;else if(p2Tasks.length)this.sortTaskList(p2TaskList),task=p2Tasks.pop().task;else{if(!destroyTasks.length){this.cancelledTasks.clear();break}task=destroyTasks.pop()}this.cancelledTasks.has(task)||task()}duration=(new Date).getTime()-frameStart}p1Tasks.length||p2Tasks.length||destroyTasks.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const callback=this.executeFrame.bind(this,60);this.requestAnimationFrame(callback)}requestAnimationFrame(callback){const win=this.gos.getWindow();win.requestAnimationFrame?win.requestAnimationFrame(callback):win.webkitRequestAnimationFrame?win.webkitRequestAnimationFrame(callback):win.setTimeout(callback,0)}isQueueEmpty(){return!this.ticking}debounce(func){let pending=!1;return()=>{this.isOn()?pending||(pending=!0,this.addDestroyTask((()=>{pending=!1,func()}))):window.setTimeout(func,0)}}},ExpansionService=class extends BeanStub{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(beans){this.rowModel=beans.rowModel}postConstruct(){this.isClientSideRowModel="clientSide"===this.rowModel.getType()}expandRows(rowIds){if(!this.isClientSideRowModel)return;const rowIdSet=new Set(rowIds);this.rowModel.forEachNode((node=>{node.id&&rowIdSet.has(node.id)&&(node.expanded=!0)})),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const expandedRows=[];return this.rowModel.forEachNode((({expanded,id})=>{expanded&&id&&expandedRows.push(id)})),expandedRows}expandAll(value){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(value)}setRowNodeExpanded(rowNode,expanded,expandParents,forceSync){rowNode&&(expandParents&&rowNode.parent&&-1!==rowNode.parent.level&&this.setRowNodeExpanded(rowNode.parent,expanded,expandParents,forceSync),rowNode.setExpanded(expanded,void 0,forceSync))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},MenuService=class extends BeanStub{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(beans){this.filterMenuFactory=beans.filterMenuFactory,this.ctrlsService=beans.ctrlsService,this.animationFrameService=beans.animationFrameService,this.filterManager=beans.filterManager,this.rowRenderer=beans.rowRenderer,this.columnChooserFactory=beans.columnChooserFactory,this.contextMenuFactory=beans.contextMenuFactory,this.enterpriseMenuFactory=beans.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(params){this.showColumnMenuCommon(this.activeMenuFactory,params,"columnMenu")}showFilterMenu(params){const menuFactory=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(menuFactory,params,params.containerType,!0)}showHeaderContextMenu(column,mouseEvent,touchEvent){this.activeMenuFactory.showMenuAfterContextMenuEvent(column,mouseEvent,touchEvent)}getContextMenuPosition(rowNode,column){const rowCtrl=this.getRowCtrl(rowNode),eGui=this.getCellGui(rowCtrl,column);if(!eGui)return rowCtrl?{x:0,y:rowCtrl.getRowYPosition()}:{x:0,y:0};const rect=eGui.getBoundingClientRect();return{x:rect.x+rect.width/2,y:rect.y+rect.height/2}}showContextMenu(params){const{rowNode}=params,column=params.column;let{anchorToElement,value}=params;rowNode&&column&&null==value&&(value=rowNode.getValueFromValueService(column)),null==anchorToElement&&(anchorToElement=this.getContextMenuAnchorElement(rowNode,column)),this.contextMenuFactory?.onContextMenu(params.mouseEvent??null,params.touchEvent??null,rowNode??null,column??null,value,anchorToElement)}showColumnChooser(params){this.columnChooserFactory?.showColumnChooser(params)}hidePopupMenu(){this.contextMenuFactory?.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){this.columnChooserFactory?.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(column){const{suppressMenu,suppressHeaderMenuButton}=column.getColDef();return!(suppressHeaderMenuButton??suppressMenu)&&this.activeMenuFactory.isMenuEnabled(column)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(column){return!column.getColDef().suppressHeaderFilterButton&&!!this.filterManager?.isFilterAllowed(column)}isHeaderContextMenuEnabled(column){return!column?.getColDef().suppressHeaderContextMenu&&"new"===this.getColumnMenuType()}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const menuHides=!this.isSuppressMenuHide();return!(_isIOSUserAgent()&&menuHides)}isHeaderFilterButtonEnabled(column){return this.isFilterMenuInHeaderEnabled(column)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(column)}isFilterMenuItemEnabled(column){return!(!this.filterManager?.isFilterAllowed(column)||this.isLegacyMenuEnabled()||this.isFilterMenuInHeaderEnabled(column)||this.isFloatingFilterButtonDisplayed(column))}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return"new"===this.getColumnMenuType()}isLegacyMenuEnabled(){return"legacy"===this.getColumnMenuType()}isFloatingFilterButtonEnabled(column){const colDef=column.getColDef(),legacySuppressFilterButton=colDef.floatingFilterComponentParams?.suppressFilterButton;return null!=legacySuppressFilterButton&&_warnOnce("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==colDef.suppressFloatingFilterButton?!legacySuppressFilterButton:!colDef.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(column){return!!column.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(column)}isSuppressMenuHide(){const suppressMenuHide=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?!!this.gos.exists("suppressMenuHide")&&suppressMenuHide:suppressMenuHide}showColumnMenuCommon(menuFactory,params,containerType,filtersOnly){const{positionBy}=params,column=params.column;if("button"===positionBy){const{buttonElement}=params;menuFactory.showMenuAfterButtonClick(column,buttonElement,containerType,filtersOnly)}else if("mouse"===positionBy){const{mouseEvent}=params;menuFactory.showMenuAfterMouseEvent(column,mouseEvent,containerType,filtersOnly)}else column&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(column,"auto"),this.animationFrameService.requestAnimationFrame((()=>{const headerCellCtrl=this.ctrlsService.getHeaderRowContainerCtrl(column.getPinned()).getHeaderCtrlForColumn(column);menuFactory.showMenuAfterButtonClick(column,headerCellCtrl.getAnchorElementForMenu(filtersOnly),containerType,!0)})))}getRowCtrl(rowNode){const{rowIndex,rowPinned}=rowNode||{};if(null!=rowIndex)return this.rowRenderer.getRowByPosition({rowIndex,rowPinned})||void 0}getCellGui(rowCtrl,column){if(!rowCtrl||!column)return;const cellCtrl=rowCtrl.getCellCtrl(column);return cellCtrl?.getGui()||void 0}getContextMenuAnchorElement(rowNode,column){const gridBodyEl=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),rowCtrl=this.getRowCtrl(rowNode);if(!rowCtrl)return gridBodyEl;const cellGui=this.getCellGui(rowCtrl,column);return cellGui||(rowCtrl.isFullWidth()?rowCtrl.getFullWidthElement():gridBodyEl)}},AgInputTextAreaSelector={selector:"AG-INPUT-TEXT-AREA",component:class extends AgAbstractInputField{constructor(config){super(config,"ag-text-area",null,"textarea")}setValue(value,silent){const ret=super.setValue(value,silent);return this.eInput.value=value,ret}setCols(cols){return this.eInput.cols=cols,this}setRows(rows){return this.eInput.rows=rows,this}}},PopupEditorWrapper=class extends PopupComponent{constructor(params){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=params}postConstruct(){this.gos.setDomData(this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const eGui=this.getGui(),params=this.params;this.addManagedElementListeners(eGui,{keydown:event=>{_isUserSuppressingKeyboardEvent(this.gos,event,params.node,params.column,!0)||params.onKeyDown(event)}})}},SimpleCellEditor=class extends PopupComponent{constructor(cellEditorInput){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${cellEditorInput.getTemplate()}\n            </div>`,cellEditorInput.getAgComponents()),this.cellEditorInput=cellEditorInput,this.eInput=null}init(params){this.params=params;const eInput=this.eInput;let startValue;if(this.cellEditorInput.init(eInput,params),params.cellStartedEdit){this.focusAfterAttached=!0;const eventKey=params.eventKey;eventKey===KeyCode.BACKSPACE||params.eventKey===KeyCode.DELETE?startValue="":eventKey&&1===eventKey.length?startValue=eventKey:(startValue=this.cellEditorInput.getStartValue(),eventKey!==KeyCode.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,startValue=this.cellEditorInput.getStartValue();null!=startValue&&eInput.setStartValue(startValue),this.addManagedElementListeners(eInput.getGui(),{keydown:event=>{const{key}=event;key!==KeyCode.PAGE_UP&&key!==KeyCode.PAGE_DOWN||event.preventDefault()}})}afterGuiAttached(){const translate=this.localeService.getLocaleTextFunc(),eInput=this.eInput;if(eInput.setInputAriaLabel(translate("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;_isBrowserSafari()||eInput.getFocusableElement().focus();const inputEl=eInput.getInputElement();this.highlightAllOnFocus?inputEl.select():this.cellEditorInput.setCaret?.()}focusIn(){const eInput=this.eInput,focusEl=eInput.getFocusableElement(),inputEl=eInput.getInputElement();focusEl.focus(),inputEl.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},TextCellEditorInput=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[AgInputTextFieldSelector]}init(eInput,params){this.eInput=eInput,this.params=params,null!=params.maxLength&&eInput.setMaxLength(params.maxLength)}getValue(){const value=this.eInput.getValue();return _exists(value)||_exists(this.params.value)?this.params.parseValue(value):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const value=this.eInput.getValue(),len=_exists(value)&&value.length||0;len&&this.eInput.getInputElement().setSelectionRange(len,len)}},TextCellEditor=class extends SimpleCellEditor{constructor(){super(new TextCellEditorInput)}},NumberCellEditorInput=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[AgInputNumberFieldSelector]}init(eInput,params){this.eInput=eInput,this.params=params,null!=params.max&&eInput.setMax(params.max),null!=params.min&&eInput.setMin(params.min),null!=params.precision&&eInput.setPrecision(params.precision),null!=params.step&&eInput.setStep(params.step);const inputEl=eInput.getInputElement();params.preventStepping?eInput.addManagedElementListeners(inputEl,{keydown:this.preventStepping}):params.showStepperButtons&&inputEl.classList.add("ag-number-field-input-stepper")}preventStepping(e){e.key!==KeyCode.UP&&e.key!==KeyCode.DOWN||e.preventDefault()}getValue(){const value=this.eInput.getValue();if(!_exists(value)&&!_exists(this.params.value))return this.params.value;let parsedValue=this.params.parseValue(value);if(null==parsedValue)return parsedValue;if("string"==typeof parsedValue){if(""===parsedValue)return null;parsedValue=Number(parsedValue)}return isNaN(parsedValue)?null:parsedValue}getStartValue(){return this.params.value}},AgInputDateFieldSelector={selector:"AG-INPUT-DATE-FIELD",component:class extends AgInputTextField{constructor(config){super(config,"ag-date-field","date")}postConstruct(){super.postConstruct();const usingSafari=_isBrowserSafari();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||usingSafari||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}setMin(minDate){const min=minDate instanceof Date?_serialiseDate(minDate??null,!1)??void 0:minDate;return this.min===min||(this.min=min,_addOrRemoveAttribute(this.eInput,"min",min)),this}setMax(maxDate){const max=maxDate instanceof Date?_serialiseDate(maxDate??null,!1)??void 0:maxDate;return this.max===max||(this.max=max,_addOrRemoveAttribute(this.eInput,"max",max)),this}setStep(step){return this.step===step||(this.step=step,_addOrRemoveAttribute(this.eInput,"step",step)),this}getDate(){if(this.eInput.validity.valid)return _parseDateTimeFromString(this.getValue())??void 0}setDate(date,silent){this.setValue(_serialiseDate(date??null,!1),silent)}}},DateCellEditorInput=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[AgInputDateFieldSelector]}init(eInput,params){this.eInput=eInput,this.params=params,null!=params.min&&eInput.setMin(params.min),null!=params.max&&eInput.setMax(params.max),null!=params.step&&eInput.setStep(params.step)}getValue(){const value=this.eInput.getDate();return _exists(value)||_exists(this.params.value)?value??null:this.params.value}getStartValue(){const{value}=this.params;if(value instanceof Date)return _serialiseDate(value,!1)}},DateStringCellEditorInput=class{constructor(getDataTypeService){this.getDataTypeService=getDataTypeService}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[AgInputDateFieldSelector]}init(eInput,params){this.eInput=eInput,this.params=params,null!=params.min&&eInput.setMin(params.min),null!=params.max&&eInput.setMax(params.max),null!=params.step&&eInput.setStep(params.step)}getValue(){const value=this.formatDate(this.eInput.getDate());return _exists(value)||_exists(this.params.value)?this.params.parseValue(value??""):this.params.value}getStartValue(){return _serialiseDate(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(value){const dataTypeService=this.getDataTypeService();return dataTypeService?dataTypeService.getDateParserFunction(this.params.column)(value):_parseDateTimeFromString(value)??void 0}formatDate(value){const dataTypeService=this.getDataTypeService();return dataTypeService?dataTypeService.getDateFormatterFunction(this.params.column)(value):_serialiseDate(value??null,!1)??void 0}},UndoRedoAction=class{constructor(cellValueChanges){this.cellValueChanges=cellValueChanges}},RangeUndoRedoAction=class extends UndoRedoAction{constructor(cellValueChanges,initialRange,finalRange,ranges){super(cellValueChanges),this.initialRange=initialRange,this.finalRange=finalRange,this.ranges=ranges}},UndoRedoStack=class{constructor(maxStackSize){this.actionStack=[],this.maxStackSize=maxStackSize||10,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(item){item.cellValueChanges&&item.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(item))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};function ensureColumnVisible(beans,key,position="auto"){beans.frameworkOverrides.wrapIncoming((()=>beans.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(key,position)),"ensureVisible")}function ensureIndexVisible(beans,index,position){beans.frameworkOverrides.wrapIncoming((()=>beans.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(index,position)),"ensureVisible")}var EditCoreModule={version:VERSION,moduleName:"@ag-grid-community/edit-core",beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="editService"}wireBeans(beans){this.navigationService=beans.navigationService,this.userComponentFactory=beans.userComponentFactory,this.valueService=beans.valueService}startEditing(cellCtrl,key=null,cellStartedEdit=!1,event=null){const editorParams=this.createCellEditorParams(cellCtrl,key,cellStartedEdit),colDef=cellCtrl.getColumn().getColDef(),compDetails=this.userComponentFactory.getCellEditorDetails(colDef,editorParams),popup=null!=compDetails?.popupFromSelector?compDetails.popupFromSelector:!!colDef.cellEditorPopup,position=null!=compDetails?.popupPositionFromSelector?compDetails.popupPositionFromSelector:colDef.cellEditorPopupPosition;cellCtrl.setEditing(!0,compDetails),cellCtrl.getComp().setEditDetails(compDetails,popup,position,this.gos.get("reactiveCustomComponents"));const e=cellCtrl.createEvent(event,"cellEditingStarted");this.eventService.dispatchEvent(e)}stopEditing(cellCtrl,cancel){const cellComp=cellCtrl.getComp(),{newValue,newValueExists}=this.takeValueFromCellEditor(cancel,cellComp),rowNode=cellCtrl.getRowNode(),column=cellCtrl.getColumn(),oldValue=rowNode.getValueFromValueService(column);let valueChanged=!1;newValueExists&&(valueChanged=this.saveNewValue(cellCtrl,oldValue,newValue,rowNode,column)),cellCtrl.setEditing(!1,void 0),cellComp.setEditDetails(),cellCtrl.updateAndFormatValue(!1),cellCtrl.refreshCell({forceRefresh:!0,suppressFlash:!0});const event={...cellCtrl.createEvent(null,"cellEditingStopped"),oldValue,newValue,valueChanged};return this.eventService.dispatchEvent(event),valueChanged}handleColDefChanged(cellCtrl){const cellEditor=cellCtrl.getCellEditor();if(cellEditor?.refresh){const{eventKey,cellStartedEdit}=cellCtrl.getEditCompDetails().params,editorParams=this.createCellEditorParams(cellCtrl,eventKey,cellStartedEdit),colDef=cellCtrl.getColumn().getColDef(),compDetails=this.userComponentFactory.getCellEditorDetails(colDef,editorParams);cellEditor.refresh(compDetails.params)}}setFocusOutOnEditor(cellCtrl){const cellEditor=cellCtrl.getComp().getCellEditor();cellEditor&&cellEditor.focusOut&&cellEditor.focusOut()}setFocusInOnEditor(cellCtrl){const cellEditor=cellCtrl.getComp().getCellEditor();cellEditor&&cellEditor.focusIn?cellEditor.focusIn():cellCtrl.focusCell(!0)}stopEditingAndFocus(cellCtrl,suppressNavigateAfterEdit=!1,shiftKey=!1){cellCtrl.stopRowOrCellEdit(),cellCtrl.focusCell(!0),suppressNavigateAfterEdit||this.navigateAfterEdit(shiftKey,cellCtrl.getCellPosition())}createPopupEditorWrapper(params){return new PopupEditorWrapper(params)}takeValueFromCellEditor(cancel,cellComp){const noValueResult={newValueExists:!1};if(cancel)return noValueResult;const cellEditor=cellComp.getCellEditor();if(!cellEditor)return noValueResult;if(cellEditor.isCancelAfterEnd&&cellEditor.isCancelAfterEnd())return noValueResult;return{newValue:cellEditor.getValue(),newValueExists:!0}}saveNewValue(cellCtrl,oldValue,newValue,rowNode,column){if(newValue===oldValue)return!1;cellCtrl.setSuppressRefreshCell(!0);const valueChanged=rowNode.setDataValue(column,newValue,"edit");return cellCtrl.setSuppressRefreshCell(!1),valueChanged}createCellEditorParams(cellCtrl,key,cellStartedEdit){const column=cellCtrl.getColumn(),rowNode=cellCtrl.getRowNode();return this.gos.addGridCommonParams({value:rowNode.getValueFromValueService(column),eventKey:key,column,colDef:column.getColDef(),rowIndex:cellCtrl.getCellPosition().rowIndex,node:rowNode,data:rowNode.data,cellStartedEdit,onKeyDown:cellCtrl.onKeyDown.bind(cellCtrl),stopEditing:cellCtrl.stopEditingAndFocus.bind(cellCtrl),eGridCell:cellCtrl.getGui(),parseValue:newValue=>this.valueService.parseValue(column,rowNode,newValue,cellCtrl.getValue()),formatValue:cellCtrl.formatValue.bind(cellCtrl)})}navigateAfterEdit(shiftKey,cellPosition){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const key=shiftKey?KeyCode.UP:KeyCode.DOWN;this.navigationService.navigateToNextCell(null,key,cellPosition,!1)}}}]},EditApiModule={version:VERSION,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:function undoCellEditing(beans){beans.undoRedoService?.undo("api")},redoCellEditing:function redoCellEditing(beans){beans.undoRedoService?.redo("api")},getCellEditorInstances:function getCellEditorInstances(beans,params={}){return beans.rowRenderer.getCellEditorInstances(params).map(_unwrapUserComp)},getEditingCells:function getEditingCells(beans){return beans.rowRenderer.getEditingCells()},stopEditing:function stopEditing(beans,cancel=!1){beans.rowRenderer.stopEditing(cancel)},startEditingCell:function startEditingCell(beans,params){const column=beans.columnModel.getCol(params.colKey);if(!column)return void _warnOnce(`no column found for ${params.colKey}`);const cellPosition={rowIndex:params.rowIndex,rowPinned:params.rowPinned||null,column};null==params.rowPinned&&ensureIndexVisible(beans,params.rowIndex),ensureColumnVisible(beans,params.colKey);const cell=beans.navigationService.getCellByPosition(cellPosition);cell&&(beans.focusService.isCellFocused(cellPosition)||beans.focusService.setFocusedCell(cellPosition),cell.startRowOrCellEdit(params.key))},getCurrentUndoSize:function getCurrentUndoSize(beans){return beans.undoRedoService?.getCurrentUndoStackSize()??0},getCurrentRedoSize:function getCurrentRedoSize(beans){return beans.undoRedoService?.getCurrentRedoStackSize()??0}},dependantModules:[EditCoreModule]},DefaultEditorModule={version:VERSION,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:TextCellEditor}],dependantModules:[EditCoreModule]},EditModule={version:VERSION,moduleName:"@ag-grid-community/editing",dependantModules:[EditCoreModule,{version:VERSION,moduleName:"@ag-grid-community/undo-redo-edit",beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=event=>{const eventCell={column:event.column,rowIndex:event.rowIndex,rowPinned:event.rowPinned},isCellEditing=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,eventCell),isRowEditing=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,eventCell);if(!(isCellEditing||isRowEditing||this.isPasting||this.isRangeInAction))return;const{rowPinned,rowIndex,column,oldValue,value}=event,cellValueChange={rowPinned,rowIndex,columnId:column.getColId(),newValue:value,oldValue};this.cellValueChanges.push(cellValueChange)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(beans){this.focusService=beans.focusService,this.ctrlsService=beans.ctrlsService,this.cellPositionUtils=beans.cellPositionUtils,this.rowPositionUtils=beans.rowPositionUtils,this.columnModel=beans.columnModel,this.rangeService=beans.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const undoRedoLimit=this.gos.get("undoRedoCellEditingLimit");if(undoRedoLimit<=0)return;this.undoStack=new UndoRedoStack(undoRedoLimit),this.redoStack=new UndoRedoStack(undoRedoLimit),this.addListeners();const listener=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:e=>{e.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:listener,newColumnsLoaded:listener,columnGroupOpened:listener,columnRowGroupChanged:listener,columnMoved:listener,columnPinned:listener,columnVisible:listener,rowDragEnd:listener}),this.ctrlsService.whenReady((p=>{this.gridBodyCtrl=p.gridBodyCtrl}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(source){const startEvent={type:"undoStarted",source};this.eventService.dispatchEvent(startEvent);const endEvent={type:"undoEnded",source,operationPerformed:this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo")};this.eventService.dispatchEvent(endEvent)}redo(source){const startEvent={type:"redoStarted",source};this.eventService.dispatchEvent(startEvent);const endEvent={type:"redoEnded",source,operationPerformed:this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo")};this.eventService.dispatchEvent(endEvent)}undoRedo(undoRedoStack,opposingUndoRedoStack,rangeProperty,cellValueChangeProperty,source){if(!undoRedoStack)return!1;const undoRedoAction=undoRedoStack.pop();return!(!undoRedoAction||!undoRedoAction.cellValueChanges)&&(this.processAction(undoRedoAction,(cellValueChange=>cellValueChange[cellValueChangeProperty]),source),undoRedoAction instanceof RangeUndoRedoAction?this.processRange(this.rangeService,undoRedoAction.ranges||[undoRedoAction[rangeProperty]]):this.processCell(undoRedoAction.cellValueChanges),opposingUndoRedoStack.push(undoRedoAction),!0)}processAction(action,valueExtractor,source){action.cellValueChanges.forEach((cellValueChange=>{const{rowIndex,rowPinned,columnId}=cellValueChange,rowPosition={rowIndex,rowPinned},currentRow=this.rowPositionUtils.getRowNode(rowPosition);currentRow.displayed&&currentRow.setDataValue(columnId,valueExtractor(cellValueChange),source)}))}processRange(rangeService,ranges){let lastFocusedCell;rangeService.removeAllCellRanges(!0),ranges.forEach(((range,idx)=>{if(!range)return;const startRow=range.startRow,endRow=range.endRow;idx===ranges.length-1&&(lastFocusedCell={rowPinned:startRow.rowPinned,rowIndex:startRow.rowIndex,columnId:range.startColumn.getColId()},this.setLastFocusedCell(lastFocusedCell));const cellRangeParams={rowStartIndex:startRow.rowIndex,rowStartPinned:startRow.rowPinned,rowEndIndex:endRow.rowIndex,rowEndPinned:endRow.rowPinned,columnStart:range.startColumn,columns:range.columns};rangeService.addCellRange(cellRangeParams)}))}processCell(cellValueChanges){const cellValueChange=cellValueChanges[0],{rowIndex,rowPinned}=cellValueChange,rowPosition={rowIndex,rowPinned},row=this.rowPositionUtils.getRowNode(rowPosition),lastFocusedCell={rowPinned:cellValueChange.rowPinned,rowIndex:row.rowIndex,columnId:cellValueChange.columnId};this.setLastFocusedCell(lastFocusedCell,this.rangeService)}setLastFocusedCell(lastFocusedCell,rangeService){const{rowIndex,columnId,rowPinned}=lastFocusedCell,scrollFeature=this.gridBodyCtrl.getScrollFeature(),column=this.columnModel.getCol(columnId);if(!column)return;scrollFeature.ensureIndexVisible(rowIndex),scrollFeature.ensureColumnVisible(column);const cellPosition={rowIndex,column,rowPinned};this.focusService.setFocusedCell({...cellPosition,forceBrowserFocus:!0}),rangeService?.setRangeToCell(cellPosition)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const action=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(action),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{this.activeCellEdit=null;if(e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const action=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(action)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const action=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(action),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:event=>{const action=new RangeUndoRedoAction(this.cellValueChanges,event.initialRange,event.finalRange);this.pushActionsToUndoStack(action),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let action;action=this.rangeService&&this.gos.get("enableRangeSelection")?new RangeUndoRedoAction(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new UndoRedoAction(this.cellValueChanges),this.pushActionsToUndoStack(action),this.isRangeInAction=!1}})}pushActionsToUndoStack(action){this.undoStack.push(action),this.cellValueChanges=[],this.redoStack.clear()}}],dependantModules:[EditCoreModule]},{version:VERSION,moduleName:"@ag-grid-community/full-row-edit",beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(rowCtrl,key=null,sourceRenderedCell=null,event=null){rowCtrl.getAllCellCtrls().reduce(((prev,cellCtrl)=>{const cellStartedEdit=cellCtrl===sourceRenderedCell;return cellStartedEdit?cellCtrl.startEditing(key,cellStartedEdit,event):cellCtrl.startEditing(null,cellStartedEdit,event),!!prev||cellCtrl.isEditing()}),!1)&&this.setEditing(rowCtrl,!0)}stopEditing(rowCtrl,cancel=!1){const cellControls=rowCtrl.getAllCellCtrls(),isRowEdit=rowCtrl.isEditing();rowCtrl.setStoppingRowEdit(!0);let fireRowEditEvent=!1;for(const ctrl of cellControls){const valueChanged=ctrl.stopEditing(cancel);isRowEdit&&!cancel&&!fireRowEditEvent&&valueChanged&&(fireRowEditEvent=!0)}if(fireRowEditEvent){const event=rowCtrl.createRowEvent("rowValueChanged");this.eventService.dispatchEvent(event)}isRowEdit&&this.setEditing(rowCtrl,!1),rowCtrl.setStoppingRowEdit(!1)}setEditing(rowCtrl,value){rowCtrl.setEditingRow(value),rowCtrl.forEachGui(void 0,(gui=>gui.rowComp.addOrRemoveCssClass("ag-row-editing",value)));const event=value?rowCtrl.createRowEvent("rowEditingStarted"):rowCtrl.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(event)}}],dependantModules:[EditCoreModule]},{version:VERSION,moduleName:"@ag-grid-community/all-editors",dependantModules:[DefaultEditorModule,{version:VERSION,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:TextCellEditor},{name:"agNumberCellEditor",classImp:class extends SimpleCellEditor{constructor(){super(new NumberCellEditorInput)}}},{name:"agDateCellEditor",classImp:class extends SimpleCellEditor{constructor(){super(new DateCellEditorInput)}}},{name:"agDateStringCellEditor",classImp:class extends SimpleCellEditor{wireBeans(beans){this.dataTypeService=beans.dataTypeService}constructor(){super(new DateStringCellEditorInput((()=>this.dataTypeService)))}}},{name:"agCheckboxCellEditor",classImp:class extends PopupComponent{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[AgCheckboxSelector]),this.eCheckbox=null}init(params){this.params=params;const isSelected=params.value??void 0;this.eCheckbox.setValue(isSelected);this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(isSelected),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:event=>this.setAriaLabel(event.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(isSelected){const translate=this.localeService.getLocaleTextFunc(),stateName=_getAriaCheckboxStateName(translate,isSelected),ariaLabel=translate("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${ariaLabel} (${stateName})`)}}}],dependantModules:[DefaultEditorModule]},{version:VERSION,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:class extends PopupComponent{constructor(){super('<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>\n            </div>',[AgSelectSelector]),this.eSelect=null,this.startedByEnter=!1}wireBeans(beans){this.valueService=beans.valueService}init(params){this.focusAfterAttached=params.cellStartedEdit;const{eSelect,valueService,gos}=this,{values,value,eventKey}=params;if(_missing(values))return void _warnOnce("no values found for select cellEditor");this.startedByEnter=null!=eventKey&&eventKey===KeyCode.ENTER;let hasValue=!1;values.forEach((currentValue=>{const option={value:currentValue},valueFormatted=valueService.formatValue(params.column,null,currentValue),valueFormattedExits=null!=valueFormatted;option.text=valueFormattedExits?valueFormatted:currentValue,eSelect.addOption(option),hasValue=hasValue||value===currentValue})),hasValue?eSelect.setValue(params.value,!0):params.values.length&&eSelect.setValue(params.values[0],!0);const{valueListGap,valueListMaxWidth,valueListMaxHeight}=params;null!=valueListGap&&eSelect.setPickerGap(valueListGap),null!=valueListMaxHeight&&eSelect.setPickerMaxHeight(valueListMaxHeight),null!=valueListMaxWidth&&eSelect.setPickerMaxWidth(valueListMaxWidth),"fullRow"!==gos.get("editType")&&this.addManagedListeners(this.eSelect,{selectedItem:()=>params.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout((()=>{this.isAlive()&&this.eSelect.showPicker()}))}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}}}],dependantModules:[EditCoreModule]},{version:VERSION,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:class extends PopupComponent{constructor(){super('<div class="ag-large-text">\n        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',[AgInputTextAreaSelector]),this.eTextArea=null}init(params){this.params=params,this.focusAfterAttached=params.cellStartedEdit,this.eTextArea.setMaxLength(params.maxLength||200).setCols(params.cols||60).setRows(params.rows||10),_exists(params.value,!0)&&this.eTextArea.setValue(params.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(event){const key=event.key;(key===KeyCode.LEFT||key===KeyCode.UP||key===KeyCode.RIGHT||key===KeyCode.DOWN||event.shiftKey&&key===KeyCode.ENTER)&&event.stopPropagation()}afterGuiAttached(){const translate=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(translate("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const value=this.eTextArea.getValue();return _exists(value)||_exists(this.params.value)?this.params.parseValue(value):this.params.value}}}],dependantModules:[EditCoreModule]}]},EditApiModule]},AutoWidthCalculator=class extends BeanStub{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(beans){this.rowRenderer=beans.rowRenderer,this.ctrlsService=beans.ctrlsService}postConstruct(){this.ctrlsService.whenReady((p=>{this.centerRowContainerCtrl=p.center}))}getPreferredWidthForColumn(column,skipHeader){const eHeaderCell=this.getHeaderCellForColumn(column);if(!eHeaderCell)return-1;const elements=this.rowRenderer.getAllCellsForColumn(column);return skipHeader||elements.push(eHeaderCell),this.addElementsToContainerAndGetWidth(elements)}getPreferredWidthForColumnGroup(columnGroup){const eHeaderCell=this.getHeaderCellForColumn(columnGroup);return eHeaderCell?this.addElementsToContainerAndGetWidth([eHeaderCell]):-1}addElementsToContainerAndGetWidth(elements){const eDummyContainer=document.createElement("form");eDummyContainer.style.position="fixed";const eBodyContainer=this.centerRowContainerCtrl.getContainerElement();elements.forEach((el=>this.cloneItemIntoDummy(el,eDummyContainer))),eBodyContainer.appendChild(eDummyContainer);const dummyContainerWidth=eDummyContainer.offsetWidth;eBodyContainer.removeChild(eDummyContainer);return dummyContainerWidth+this.getAutoSizePadding()}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(column){let element=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach((container=>{const res=container.getHtmlElementForColumnHeader(column);null!=res&&(element=res)})),element}cloneItemIntoDummy(eCell,eDummyContainer){const eCellClone=eCell.cloneNode(!0);eCellClone.style.width="",eCellClone.style.position="static",eCellClone.style.left="";const eCloneParent=document.createElement("div"),eCloneParentClassList=eCloneParent.classList;["ag-header-cell","ag-header-group-cell"].some((cls=>eCellClone.classList.contains(cls)))?(eCloneParentClassList.add("ag-header","ag-header-row"),eCloneParent.style.position="static"):eCloneParentClassList.add("ag-row");let pointer=eCell.parentElement;for(;pointer;){if(["ag-header-row","ag-row"].some((cls=>pointer.classList.contains(cls)))){for(let i=0;i<pointer.classList.length;i++){const item=pointer.classList[i];"ag-row-position-absolute"!=item&&eCloneParentClassList.add(item)}break}pointer=pointer.parentElement}eCloneParent.appendChild(eCellClone),eDummyContainer.appendChild(eCloneParent)}},StickyRowFeature=class extends BeanStub{constructor(createRowCon,destroyRowCtrls){super(),this.createRowCon=createRowCon,this.destroyRowCtrls=destroyRowCtrls,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.topContainerHeight=0,this.bottomContainerHeight=0,this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(beans){this.rowModel=beans.rowModel,this.rowRenderer=beans.rowRenderer,this.ctrlsService=beans.ctrlsService,this.pageBoundsService=beans.pageBoundsService}postConstruct(){this.isClientSide="clientSide"===this.rowModel.getType(),this.ctrlsService.whenReady((params=>{this.gridBodyCtrl=params.gridBodyCtrl}))}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(offset){if(this.extraTopHeight===offset)return;this.extraTopHeight=offset;const event={type:"stickyTopOffsetChanged",offset};this.eventService.dispatchEvent(event)}setOffsetBottom(offset){this.extraBottomHeight!==offset&&(this.extraBottomHeight=offset)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(row){return this.isClientSide?this.getClientSideLastPixelOfGroup(row):this.getServerSideLastPixelOfGroup(row)}getFirstPixelOfGroup(row){return row.footer?row.sibling.rowTop+row.sibling.rowHeight-1:row.hasChildren()?row.rowTop-1:0}getServerSideLastPixelOfGroup(row){if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(row.isExpandable()||row.footer){if(row.master)return row.detailNode.rowTop+row.detailNode.rowHeight;if(!row.sibling||1===Math.abs(row.sibling.rowIndex-row.rowIndex)){let storeBounds=row.childStore?.getStoreBounds();return row.footer&&(storeBounds=row.sibling.childStore?.getStoreBounds()),(storeBounds?.heightPx??0)+(storeBounds?.topPx??0)}return row.footer?row.rowTop+row.rowHeight:row.sibling.rowTop+row.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(row){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(row.isExpandable()||row.footer){if(row.footer&&0===row.rowIndex)return Number.MAX_SAFE_INTEGER;if(!row.sibling||1===Math.abs(row.sibling.rowIndex-row.rowIndex)){let lastAncestor=row.footer?row.sibling:row;for(;lastAncestor.isExpandable()&&lastAncestor.expanded;)if(lastAncestor.master)lastAncestor=lastAncestor.detailNode;else if(lastAncestor.childrenAfterSort){if(0===lastAncestor.childrenAfterSort.length)break;lastAncestor=_last(lastAncestor.childrenAfterSort)}return lastAncestor.rowTop+lastAncestor.rowHeight}return row.footer?row.rowTop+row.rowHeight:row.sibling.rowTop+row.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(container){const isTop="top"===container;let newStickyContainerHeight=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(container,new Set,newStickyContainerHeight);const pixelAtContainerBoundary=isTop?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,newStickyRows=new Set,addStickyRow=stickyRow=>{if(newStickyRows.add(stickyRow),isTop){const lastChildBottom=this.getLastPixelOfGroup(stickyRow),stickRowBottom=pixelAtContainerBoundary+newStickyContainerHeight+stickyRow.rowHeight;stickyRow.stickyRowTop=lastChildBottom<stickRowBottom?newStickyContainerHeight+(lastChildBottom-stickRowBottom):newStickyContainerHeight}else{const lastChildBottom=this.getFirstPixelOfGroup(stickyRow),stickRowTop=pixelAtContainerBoundary-(newStickyContainerHeight+stickyRow.rowHeight);stickyRow.stickyRowTop=lastChildBottom>stickRowTop?newStickyContainerHeight-(lastChildBottom-stickRowTop):newStickyContainerHeight}newStickyContainerHeight=0,newStickyRows.forEach((rowNode=>{const thisRowLastPx=rowNode.stickyRowTop+rowNode.rowHeight;newStickyContainerHeight<thisRowLastPx&&(newStickyContainerHeight=thisRowLastPx)}))},suppressFootersSticky=this.areFooterRowsStickySuppressed(),suppressGroupsSticky=this.gos.get("suppressGroupRowsSticky"),isRowSticky=row=>{if(!row.displayed)return!1;if(row.footer){if(!0===suppressFootersSticky)return!1;if("grand"===suppressFootersSticky&&-1===row.level)return!1;if("group"===suppressFootersSticky&&row.level>-1)return!1;return!newStickyRows.has(row)}if(row.isExpandable()){if(!0===suppressGroupsSticky)return!1;return!newStickyRows.has(row)&&row.expanded}return!1};for(let i=0;i<100;i++){let firstPixelAfterStickyRows=pixelAtContainerBoundary+newStickyContainerHeight;isTop||(firstPixelAfterStickyRows=pixelAtContainerBoundary-newStickyContainerHeight);const firstIndex=this.rowModel.getRowIndexAtPixel(firstPixelAfterStickyRows),firstRow=this.rowModel.getRow(firstIndex);if(null==firstRow)break;const firstMissingParent=this.getStickyAncestors(firstRow).find((parent=>(isTop?parent.rowIndex<firstIndex:parent.rowIndex>firstIndex)&&isRowSticky(parent)));if(firstMissingParent){addStickyRow(firstMissingParent);continue}if(!(isTop?firstRow.rowTop<firstPixelAfterStickyRows:firstRow.rowTop+firstRow.rowHeight>firstPixelAfterStickyRows)||!isRowSticky(firstRow))break;addStickyRow(firstRow)}return isTop||newStickyRows.forEach((rowNode=>{rowNode.stickyRowTop=newStickyContainerHeight-(rowNode.stickyRowTop+rowNode.rowHeight)})),this.refreshNodesAndContainerHeight(container,newStickyRows,newStickyContainerHeight)}areFooterRowsStickySuppressed(){const suppressFootersSticky=this.gos.get("suppressStickyTotalRow");if(!0===suppressFootersSticky)return!0;const suppressGroupRows=!!this.gos.get("groupIncludeFooter")||"group"===suppressFootersSticky,suppressGrandRows=!!this.gos.get("groupIncludeTotalFooter")||"grand"===suppressFootersSticky;return!(!suppressGroupRows||!suppressGrandRows)||(suppressGrandRows?"grand":!!suppressGroupRows&&"group")}canRowsBeSticky(){const isStickyEnabled=this.gos.isGroupRowsSticky(),suppressFootersSticky=this.areFooterRowsStickySuppressed(),suppressGroupsSticky=this.gos.get("suppressGroupRowsSticky");return isStickyEnabled&&(!suppressFootersSticky||!suppressGroupsSticky)}getStickyAncestors(rowNode){const ancestors=[];let p=rowNode.footer?rowNode.sibling:rowNode.parent;for(;p;)p.sibling&&ancestors.push(p.sibling),ancestors.push(p),p=p.parent;return ancestors.reverse()}checkStickyRows(){const hasTopUpdated=this.updateStickyRows("top"),hasBottomUpdated=this.updateStickyRows("bottom");return hasTopUpdated||hasBottomUpdated}destroyStickyCtrls(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(stickRowNode){const allStickyNodes=new Set;if(this.stickyTopRowCtrls.some((ctrl=>ctrl.getRowNode()===stickRowNode))){for(let i=0;i<this.stickyTopRowCtrls.length;i++){const currentNode=this.stickyTopRowCtrls[i].getRowNode();currentNode!==stickRowNode&&allStickyNodes.add(currentNode)}this.refreshNodesAndContainerHeight("top",allStickyNodes,this.topContainerHeight)&&this.checkStickyRows()}else{for(let i=0;i<this.stickyBottomRowCtrls.length;i++){const currentNode=this.stickyBottomRowCtrls[i].getRowNode();currentNode!==stickRowNode&&allStickyNodes.add(currentNode)}this.refreshNodesAndContainerHeight("bottom",allStickyNodes,this.bottomContainerHeight)&&this.checkStickyRows()}}refreshNodesAndContainerHeight(container,newStickyNodes,height){const isTop="top"===container,previousCtrls=isTop?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,removedCtrlsMap={},remainingCtrls=[];for(let i=0;i<previousCtrls.length;i++){const node=previousCtrls[i].getRowNode();!newStickyNodes.has(node)?(removedCtrlsMap[node.id]=previousCtrls[i],node.sticky=!1):remainingCtrls.push(previousCtrls[i])}const existingNodes=new Set;for(let i=0;i<remainingCtrls.length;i++)existingNodes.add(remainingCtrls[i].getRowNode());const newCtrls=[];newStickyNodes.forEach((node=>{existingNodes.has(node)||(node.sticky=!0,newCtrls.push(this.createRowCon(node,!1,!1)))}));let hasSomethingChanged=!!newCtrls.length||remainingCtrls.length!==previousCtrls.length;isTop?this.topContainerHeight!==height&&(this.topContainerHeight=height,this.gridBodyCtrl.setStickyTopHeight(height),hasSomethingChanged=!0):this.bottomContainerHeight!==height&&(this.bottomContainerHeight=height,this.gridBodyCtrl.setStickyBottomHeight(height),hasSomethingChanged=!0),this.destroyRowCtrls(removedCtrlsMap,!1);const newCtrlsList=[...remainingCtrls,...newCtrls];newCtrlsList.sort(((a,b)=>b.getRowNode().rowIndex-a.getRowNode().rowIndex)),isTop||newCtrlsList.reverse(),newCtrlsList.forEach((ctrl=>ctrl.setRowTop(ctrl.getRowNode().stickyRowTop)));let extraHeight=0;return isTop?(newStickyNodes.forEach((node=>{node.rowIndex<this.pageBoundsService.getFirstRow()&&(extraHeight+=node.rowHeight)})),extraHeight>this.topContainerHeight&&(extraHeight=this.topContainerHeight),this.setOffsetTop(extraHeight)):(newStickyNodes.forEach((node=>{node.rowIndex>this.pageBoundsService.getLastRow()&&(extraHeight+=node.rowHeight)})),extraHeight>this.bottomContainerHeight&&(extraHeight=this.bottomContainerHeight),this.setOffsetBottom(extraHeight)),!!hasSomethingChanged&&(isTop?this.stickyTopRowCtrls=newCtrlsList:this.stickyBottomRowCtrls=newCtrlsList,!0)}ensureRowHeightsValid(){let anyChange=!1;const updateRowHeight=ctrl=>{const rowNode=ctrl.getRowNode();if(rowNode.rowHeightEstimated){const rowHeight=this.gos.getRowHeightForNode(rowNode);rowNode.setRowHeight(rowHeight.height),anyChange=!0}};return this.stickyTopRowCtrls.forEach(updateRowHeight),this.stickyBottomRowCtrls.forEach(updateRowHeight),anyChange}},RowRenderer=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const onRangeSelectionChanged=()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onRangeSelectionChanged()))},onColumnMovedPinnedVisible=()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.updateRangeBordersIfRangeCount()))},addRangeSelectionListeners=()=>{this.eventService.addEventListener("rangeSelectionChanged",onRangeSelectionChanged),this.eventService.addEventListener("columnMoved",onColumnMovedPinnedVisible),this.eventService.addEventListener("columnPinned",onColumnMovedPinnedVisible),this.eventService.addEventListener("columnVisible",onColumnMovedPinnedVisible)},removeRangeSelectionListeners=()=>{this.eventService.removeEventListener("rangeSelectionChanged",onRangeSelectionChanged),this.eventService.removeEventListener("columnMoved",onColumnMovedPinnedVisible),this.eventService.removeEventListener("columnPinned",onColumnMovedPinnedVisible),this.eventService.removeEventListener("columnVisible",onColumnMovedPinnedVisible)};this.addDestroyFunc((()=>removeRangeSelectionListeners())),this.addManagedPropertyListener("enableRangeSelection",(params=>{params.currentValue?addRangeSelectionListeners():removeRangeSelectionListeners()}));this.gos.get("enableRangeSelection")&&addRangeSelectionListeners()}}wireBeans(beans){this.animationFrameService=beans.animationFrameService,this.paginationService=beans.paginationService,this.pageBoundsService=beans.pageBoundsService,this.columnModel=beans.columnModel,this.visibleColsService=beans.visibleColsService,this.pinnedRowModel=beans.pinnedRowModel,this.rowModel=beans.rowModel,this.focusService=beans.focusService,this.beans=beans,this.rowContainerHeightService=beans.rowContainerHeightService,this.ctrlsService=beans.ctrlsService,this.environment=beans.environment}postConstruct(){this.ctrlsService.whenReady((p=>{this.gridBodyCtrl=p.gridBodyCtrl,this.initialise()}))}initialise(){if(this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this)}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],(()=>this.onDomLayoutChanged())),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],(()=>this.redraw())),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],(()=>this.redrawRows())),this.gos.isGroupRowsSticky()){const rowModelType=this.rowModel.getType();"clientSide"!==rowModelType&&"serverSide"!==rowModelType||(this.stickyRowFeature=this.createManagedBean(new StickyRowFeature(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gos.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const countProp=this.getKeepDetailRowsCount(),count=null!=countProp?countProp:3;this.cachedRowCtrls=new RowCtrlCache(count)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const liveList=_getAllValuesInObject(this.rowCtrlsByRowIndex),zombieList=_getAllValuesInObject(this.zombieRowCtrls),cachedList=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];zombieList.length>0||cachedList.length>0?this.allRowCtrls=[...liveList,...zombieList,...cachedList]:this.allRowCtrls=liveList}onCellFocusChanged(event){this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onCellFocused(event))),this.getFullWidthRowCtrls().forEach((rowCtrl=>rowCtrl.onFullWidthRowFocused(event)))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:event=>{this.onCellFocusChanged(event)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:event=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onFlashCells(event)))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onColumnHover()))},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onDisplayedColumnsChanged()))},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach((cellCtrl=>cellCtrl.onLeftChanged()))}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach((func=>func())),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();this.columnModel.getCols().forEach((col=>{const forEachCellWithThisCol=callback=>{this.getAllCellCtrls().forEach((cellCtrl=>{cellCtrl.getColumn()===col&&callback(cellCtrl)}))},leftChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onLeftChanged()))},widthChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onWidthChanged()))},firstRightPinnedChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onFirstRightPinnedChanged()))},lastLeftPinnedChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onLastLeftPinnedChanged()))},colDefChangedListener=()=>{forEachCellWithThisCol((cellCtrl=>cellCtrl.onColDefChanged()))};col.addEventListener("leftChanged",leftChangedListener),col.addEventListener("widthChanged",widthChangedListener),col.addEventListener("firstRightPinnedChanged",firstRightPinnedChangedListener),col.addEventListener("lastLeftPinnedChanged",lastLeftPinnedChangedListener),col.addEventListener("colDefChanged",colDefChangedListener),this.destroyFuncsForColumnListeners.push((()=>{col.removeEventListener("leftChanged",leftChangedListener),col.removeEventListener("widthChanged",widthChangedListener),col.removeEventListener("firstRightPinnedChanged",firstRightPinnedChangedListener),col.removeEventListener("lastLeftPinnedChanged",lastLeftPinnedChangedListener),col.removeEventListener("colDefChanged",colDefChangedListener)}))}))}onDomLayoutChanged(){const printLayout=this.gos.isDomLayout("print"),embedFullWidthRows=printLayout||this.gos.get("embedFullWidthRows"),destroyRows=embedFullWidthRows!==this.embedFullWidthRows||this.printLayout!==printLayout;this.printLayout=printLayout,this.embedFullWidthRows=embedFullWidthRows,destroyRows&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const rowIndexesToRemove=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(rowIndexesToRemove)}onPageLoaded(event){const params={recycleRows:event.keepRenderedRows,animate:event.animate,newData:event.newData,newPage:event.newPage,onlyBody:!0};this.redrawAfterModelUpdate(params)}getAllCellsForColumn(column){const res=[];return this.getAllRowCtrls().forEach((rowCtrl=>{const eCell=rowCtrl.getCellElement(column);eCell&&res.push(eCell)})),res}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowNodes()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowNodes())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(rowCtrls,rowNodes){const nodeMap=Object.fromEntries(rowNodes.map((node=>[node.id,node]))),rowCtrlMap=Object.fromEntries(rowCtrls.map((ctrl=>[ctrl.getRowNode().id,ctrl])));for(let i=0;i<rowNodes.length;i++){const node=rowNodes[i],rowCtrl=rowCtrls[i];rowCtrl&&void 0===nodeMap[rowCtrl.getRowNode().id]&&(rowCtrl.destroyFirstPass(),rowCtrl.destroySecondPass()),node.id in rowCtrlMap?(rowCtrls[i]=rowCtrlMap[node.id],delete rowCtrlMap[node.id]):rowCtrls[i]=new RowCtrl(node,this.beans,!1,!1,this.printLayout)}rowCtrls.length=rowNodes.length}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(rowNode,suppressEvent=!1){if(rowNode.sticky)this.stickyRowFeature.refreshStickyNode(rowNode);else{if(this.cachedRowCtrls?.has(rowNode))return void this.cachedRowCtrls.removeRow(rowNode);{const destroyAndRecreateCtrl=dataStruct=>{const ctrl=dataStruct[rowNode.rowIndex];ctrl&&ctrl.getRowNode()===rowNode&&(ctrl.destroyFirstPass(),ctrl.destroySecondPass(),dataStruct[rowNode.rowIndex]=this.createRowCon(rowNode,!1,!1))};switch(rowNode.rowPinned){case"top":destroyAndRecreateCtrl(this.topRowCtrls);break;case"bottom":destroyAndRecreateCtrl(this.bottomRowCtrls);break;default:destroyAndRecreateCtrl(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}suppressEvent||this.dispatchDisplayedRowsChanged(!1)}redrawRows(rowNodes){if(null!=rowNodes)return rowNodes?.forEach((node=>this.redrawRow(node,!0))),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(params){const focusedCell=params?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==focusedCell)return null;const activeElement=this.gos.getActiveDomElement(),cellDomData=this.gos.getDomData(activeElement,CellCtrl.DOM_DATA_KEY_CELL_CTRL),rowDomData=this.gos.getDomData(activeElement,RowCtrl.DOM_DATA_KEY_ROW_CTRL);return cellDomData||rowDomData?focusedCell:null}redrawAfterModelUpdate(params={}){this.getLockOnRefresh();const focusedCell=this.getCellToRestoreFocusToAfterRefresh(params);this.updateContainerHeights(),this.scrollToTopIfNewData(params);const recycleRows=!params.domLayoutChanged&&!!params.recycleRows,animate=params.animate&&this.gos.isAnimateRows(),rowsToRecycle=recycleRows?this.getRowsToRecycle():null;if(recycleRows||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const extraHeight=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();extraHeight&&this.updateContainerHeights(extraHeight)}this.recycleRows(rowsToRecycle,animate),this.gridBodyCtrl.updateRowCount(),params.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=focusedCell&&this.restoreFocusedCell(focusedCell),this.releaseLockOnRefresh()}scrollToTopIfNewData(params){const scrollToTop=params.newData||params.newPage,suppressScrollToTop=this.gos.get("suppressScrollOnNewData");scrollToTop&&!suppressScrollToTop&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(additionalHeight=0){if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let containerHeight=this.pageBoundsService.getCurrentPageHeight();0===containerHeight&&(containerHeight=1),this.rowContainerHeightService.setModelHeight(containerHeight+additionalHeight)}getLockOnRefresh(){if(this.refreshInProgress){const frameworkMessage=this.frameworkOverrides.getLockOnRefreshError?.()??"";throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace."+frameworkMessage)}this.refreshInProgress=!0,this.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(cellPosition){cellPosition&&setTimeout((()=>{this.focusService.setRestoreFocusedCell(cellPosition),this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:cellPosition.rowIndex,column:cellPosition.column,rowPinned:cellPosition.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}))}stopEditing(cancel=!1){this.getAllRowCtrls().forEach((rowCtrl=>{rowCtrl.stopEditing(cancel)}))}getAllCellCtrls(){const res=[],rowCtrls=this.getAllRowCtrls(),rowCtrlsLength=rowCtrls.length;for(let i=0;i<rowCtrlsLength;i++){const cellCtrls=rowCtrls[i].getAllCellCtrls(),cellCtrlsLength=cellCtrls.length;for(let j=0;j<cellCtrlsLength;j++)res.push(cellCtrls[j])}return res}getAllRowCtrls(){const stickyTopRowCtrls=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],stickyBottomRowCtrls=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],res=[...this.topRowCtrls,...this.bottomRowCtrls,...stickyTopRowCtrls,...stickyBottomRowCtrls];for(const key in this.rowCtrlsByRowIndex)res.push(this.rowCtrlsByRowIndex[key]);return res}addRenderedRowListener(eventName,rowIndex,callback){const rowComp=this.rowCtrlsByRowIndex[rowIndex];rowComp&&rowComp.addEventListener(eventName,callback)}flashCells(params={}){this.getCellCtrls(params.rowNodes,params.columns).forEach((cellCtrl=>cellCtrl.flashCell(params)))}refreshCells(params={}){const refreshCellParams={forceRefresh:params.force,newData:!1,suppressFlash:params.suppressFlash};for(const cellCtrl of this.getCellCtrls(params.rowNodes,params.columns))cellCtrl.refreshOrDestroyCell(refreshCellParams);this.refreshFullWidth(params.rowNodes)}refreshFullWidth(rowNodes){if(!rowNodes)return;let cellFocused=null;this.stickyRowFeature&&_browserSupportsPreventScroll()&&(cellFocused=this.getCellToRestoreFocusToAfterRefresh()||null);for(const rowCtrl of this.getRowCtrls(rowNodes)){if(!rowCtrl.isFullWidth())continue;rowCtrl.refreshFullWidth()||this.redrawRow(rowCtrl.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),cellFocused&&this.restoreFocusedCell(cellFocused)}getCellRendererInstances(params){const cellRenderers=this.getCellCtrls(params.rowNodes,params.columns).map((cellCtrl=>cellCtrl.getCellRenderer())).filter((renderer=>null!=renderer));if(params.columns?.length)return cellRenderers;const fullWidthRenderers=[],rowIdMap=this.mapRowNodes(params.rowNodes);return this.getAllRowCtrls().forEach((rowCtrl=>{if(rowIdMap&&!this.isRowInMap(rowCtrl.getRowNode(),rowIdMap))return;if(!rowCtrl.isFullWidth())return;const renderers=rowCtrl.getFullWidthCellRenderers();for(let i=0;i<renderers.length;i++){const renderer=renderers[i];null!=renderer&&fullWidthRenderers.push(renderer)}})),[...fullWidthRenderers,...cellRenderers]}getCellEditorInstances(params){const res=[];return this.getCellCtrls(params.rowNodes,params.columns).forEach((cellCtrl=>{const cellEditor=cellCtrl.getCellEditor();cellEditor&&res.push(cellEditor)})),res}getEditingCells(){const res=[];return this.getAllCellCtrls().forEach((cellCtrl=>{if(cellCtrl.isEditing()){const cellPosition=cellCtrl.getCellPosition();res.push(cellPosition)}})),res}mapRowNodes(rowNodes){if(!rowNodes)return;const res={top:{},bottom:{},normal:{}};return rowNodes.forEach((rowNode=>{const id=rowNode.id;switch(rowNode.rowPinned){case"top":res.top[id]=rowNode;break;case"bottom":res.bottom[id]=rowNode;break;default:res.normal[id]=rowNode}})),res}isRowInMap(rowNode,rowIdsMap){const id=rowNode.id;switch(rowNode.rowPinned){case"top":return null!=rowIdsMap.top[id];case"bottom":return null!=rowIdsMap.bottom[id];default:return null!=rowIdsMap.normal[id]}}getRowCtrls(rowNodes){const rowIdsMap=this.mapRowNodes(rowNodes),allRowCtrls=this.getAllRowCtrls();return rowNodes&&rowIdsMap?allRowCtrls.filter((rowCtrl=>{const rowNode=rowCtrl.getRowNode();return this.isRowInMap(rowNode,rowIdsMap)})):allRowCtrls}getCellCtrls(rowNodes,columns){let colIdsMap;_exists(columns)&&(colIdsMap={},columns.forEach((colKey=>{const column=this.columnModel.getCol(colKey);_exists(column)&&(colIdsMap[column.getId()]=!0)})));const res=[];return this.getRowCtrls(rowNodes).forEach((rowCtrl=>{rowCtrl.getAllCellCtrls().forEach((cellCtrl=>{const colId=cellCtrl.getColumn().getId();colIdsMap&&!colIdsMap[colId]||res.push(cellCtrl)}))})),res}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const rowIndexesToRemove=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(rowIndexesToRemove),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const stubNodeIndexes=[];_iterateObject(this.rowCtrlsByRowIndex,((index,rowCtrl)=>{null==rowCtrl.getRowNode().id&&stubNodeIndexes.push(index)})),this.removeRowCtrls(stubNodeIndexes);const ctrlsByIdMap={};return _iterateObject(this.rowCtrlsByRowIndex,((_,rowCtrl)=>{const rowNode=rowCtrl.getRowNode();ctrlsByIdMap[rowNode.id]=rowCtrl})),this.rowCtrlsByRowIndex={},ctrlsByIdMap}removeRowCtrls(rowsToRemove,suppressAnimation=!1){rowsToRemove.forEach((indexToRemove=>{const rowCtrl=this.rowCtrlsByRowIndex[indexToRemove];rowCtrl&&(rowCtrl.destroyFirstPass(suppressAnimation),rowCtrl.destroySecondPass()),delete this.rowCtrlsByRowIndex[indexToRemove]}))}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(params={}){const{afterScroll}=params;let cellFocused;this.stickyRowFeature&&_browserSupportsPreventScroll()&&(cellFocused=this.getCellToRestoreFocusToAfterRefresh()||void 0);const oldFirstRow=this.firstRenderedRow,oldLastRow=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let hasStickyRowChanges=!1;if(this.stickyRowFeature){hasStickyRowChanges=this.stickyRowFeature.checkStickyRows();const extraHeight=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();extraHeight&&this.updateContainerHeights(extraHeight)}const rangeChanged=this.firstRenderedRow!==oldFirstRow||this.lastRenderedRow!==oldLastRow;if((!afterScroll||hasStickyRowChanges||rangeChanged)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,afterScroll),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(afterScroll&&!hasStickyRowChanges),null!=cellFocused)){const newFocusedCell=this.getCellToRestoreFocusToAfterRefresh();null!=cellFocused&&null==newFocusedCell&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(cellFocused))}}removeRowCompsNotToDraw(indexesToDraw,suppressAnimation){const indexesToDrawMap={};indexesToDraw.forEach((index=>indexesToDrawMap[index]=!0));const indexesNotToDraw=Object.keys(this.rowCtrlsByRowIndex).filter((index=>!indexesToDrawMap[index]));this.removeRowCtrls(indexesNotToDraw,suppressAnimation)}calculateIndexesToDraw(rowsToRecycle){const indexesToDraw=function _createArrayOfNumbers(first,last){const result=[];for(let i=first;i<=last;i++)result.push(i);return result}(this.firstRenderedRow,this.lastRenderedRow),checkRowToDraw=(indexStr,rowComp)=>{const index=rowComp.getRowNode().rowIndex;null!=index&&(index<this.firstRenderedRow||index>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(rowComp)&&indexesToDraw.push(index)};_iterateObject(this.rowCtrlsByRowIndex,checkRowToDraw),_iterateObject(rowsToRecycle,checkRowToDraw),indexesToDraw.sort(((a,b)=>a-b));const ret=[];for(let i=0;i<indexesToDraw.length;i++){const currRow=indexesToDraw[i],rowNode=this.rowModel.getRow(currRow);rowNode&&!rowNode.sticky&&ret.push(currRow)}return ret}recycleRows(rowsToRecycle,animate=!1,afterScroll=!1){const indexesToDraw=this.calculateIndexesToDraw(rowsToRecycle);(this.printLayout||afterScroll)&&(animate=!1),this.removeRowCompsNotToDraw(indexesToDraw,!animate);const rowCtrls=[];if(indexesToDraw.forEach((rowIndex=>{const rowCtrl=this.createOrUpdateRowCtrl(rowIndex,rowsToRecycle,animate,afterScroll);_exists(rowCtrl)&&rowCtrls.push(rowCtrl)})),rowsToRecycle){afterScroll&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask((()=>{this.destroyRowCtrls(rowsToRecycle,animate),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(rowsToRecycle,animate)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(afterScroll=!1){const event={type:"displayedRowsChanged",afterScroll};this.eventService.dispatchEvent(event)}onDisplayedColumnsChanged(){const pinningLeft=this.visibleColsService.isPinningLeft(),pinningRight=this.visibleColsService.isPinningRight();(this.pinningLeft!==pinningLeft||pinningRight!==this.pinningRight)&&(this.pinningLeft=pinningLeft,this.pinningRight=pinningRight,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const rowsToRemove=[];this.getFullWidthRowCtrls().forEach((fullWidthCtrl=>{const rowIndex=fullWidthCtrl.getRowNode().rowIndex;rowsToRemove.push(rowIndex.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(rowsToRemove),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(rowNodes){const rowNodesMap=this.mapRowNodes(rowNodes);return this.getAllRowCtrls().filter((rowCtrl=>{if(!rowCtrl.isFullWidth())return!1;const rowNode=rowCtrl.getRowNode();return!(null!=rowNodesMap&&!this.isRowInMap(rowNode,rowNodesMap))}))}createOrUpdateRowCtrl(rowIndex,rowsToRecycle,animate,afterScroll){let rowNode,rowCtrl=this.rowCtrlsByRowIndex[rowIndex];rowCtrl||(rowNode=this.rowModel.getRow(rowIndex),_exists(rowNode)&&_exists(rowsToRecycle)&&rowsToRecycle[rowNode.id]&&rowNode.alreadyRendered&&(rowCtrl=rowsToRecycle[rowNode.id],rowsToRecycle[rowNode.id]=null));if(!rowCtrl){if(rowNode||(rowNode=this.rowModel.getRow(rowIndex)),!_exists(rowNode))return;rowCtrl=this.createRowCon(rowNode,animate,afterScroll)}return rowNode&&(rowNode.alreadyRendered=!0),this.rowCtrlsByRowIndex[rowIndex]=rowCtrl,rowCtrl}destroyRowCtrls(rowCtrlsMap,animate){const executeInAWhileFuncs=[];_iterateObject(rowCtrlsMap,((nodeId,rowCtrl)=>{rowCtrl&&(this.cachedRowCtrls&&rowCtrl.isCacheable()?this.cachedRowCtrls.addRow(rowCtrl):(rowCtrl.destroyFirstPass(!animate),animate?(this.zombieRowCtrls[rowCtrl.getInstanceId()]=rowCtrl,executeInAWhileFuncs.push((()=>{rowCtrl.destroySecondPass(),delete this.zombieRowCtrls[rowCtrl.getInstanceId()]}))):rowCtrl.destroySecondPass()))})),animate&&(executeInAWhileFuncs.push((()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),_executeInAWhile(executeInAWhileFuncs))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*this.gos.getRowHeightAsNumber()}workOutFirstAndLastRowsToRender(){let newFirst,newLast;if(this.rowContainerHeightService.updateOffset(),this.rowModel.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),newFirst=this.pageBoundsService.getFirstRow(),newLast=this.pageBoundsService.getLastRow();else{const bufferPixels=this.getRowBufferInPixels(),gridBodyCtrl=this.ctrlsService.getGridBodyCtrl(),suppressRowVirtualisation=this.gos.get("suppressRowVirtualisation");let firstPixel,lastPixel,rowHeightsChanged=!1;do{const paginationOffset=this.pageBoundsService.getPixelOffset(),{pageFirstPixel,pageLastPixel}=this.pageBoundsService.getCurrentPagePixelRange(),divStretchOffset=this.rowContainerHeightService.getDivStretchOffset(),bodyVRange=gridBodyCtrl.getScrollFeature().getVScrollPosition(),bodyTopPixel=bodyVRange.top,bodyBottomPixel=bodyVRange.bottom;suppressRowVirtualisation?(firstPixel=pageFirstPixel+divStretchOffset,lastPixel=pageLastPixel+divStretchOffset):(firstPixel=Math.max(bodyTopPixel+paginationOffset-bufferPixels,pageFirstPixel)+divStretchOffset,lastPixel=Math.min(bodyBottomPixel+paginationOffset+bufferPixels,pageLastPixel)+divStretchOffset),this.firstVisibleVPixel=Math.max(bodyTopPixel+paginationOffset,pageFirstPixel)+divStretchOffset,this.lastVisibleVPixel=Math.min(bodyBottomPixel+paginationOffset,pageLastPixel)+divStretchOffset,rowHeightsChanged=this.ensureAllRowsInRangeHaveHeightsCalculated(firstPixel,lastPixel)}while(rowHeightsChanged);let firstRowIndex=this.rowModel.getRowIndexAtPixel(firstPixel),lastRowIndex=this.rowModel.getRowIndexAtPixel(lastPixel);const pageFirstRow=this.pageBoundsService.getFirstRow(),pageLastRow=this.pageBoundsService.getLastRow();firstRowIndex<pageFirstRow&&(firstRowIndex=pageFirstRow),lastRowIndex>pageLastRow&&(lastRowIndex=pageLastRow),newFirst=firstRowIndex,newLast=lastRowIndex}else newFirst=0,newLast=-1;const rowLayoutNormal=this.gos.isDomLayout("normal"),suppressRowCountRestriction=this.gos.get("suppressMaxRenderedRowRestriction"),rowBufferMaxSize=Math.max(this.getRowBuffer(),500);rowLayoutNormal&&!suppressRowCountRestriction&&newLast-newFirst>rowBufferMaxSize&&(newLast=newFirst+rowBufferMaxSize);const firstDiffers=newFirst!==this.firstRenderedRow,lastDiffers=newLast!==this.lastRenderedRow;if(firstDiffers||lastDiffers){this.firstRenderedRow=newFirst,this.lastRenderedRow=newLast;const event={type:"viewportChanged",firstRow:newFirst,lastRow:newLast};this.eventService.dispatchEvent(event)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const event={type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame((()=>{this.beans.eventService.dispatchEvent(event)}))}ensureAllRowsInRangeHaveHeightsCalculated(topPixel,bottomPixel){const pinnedRowHeightsChanged=this.pinnedRowModel?.ensureRowHeightsValid(),stickyHeightsChanged=this.stickyRowFeature?.ensureRowHeightsValid(),rowModelHeightsChanged=this.rowModel.ensureRowHeightsValid(topPixel,bottomPixel,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(rowModelHeightsChanged||stickyHeightsChanged)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),!!(stickyHeightsChanged||rowModelHeightsChanged||pinnedRowHeightsChanged)&&(this.updateContainerHeights(),!0)}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(rowComp){const rowNode=rowComp.getRowNode(),rowHasFocus=this.focusService.isRowNodeFocused(rowNode),rowIsEditing=rowComp.isEditing(),rowIsDetail=rowNode.detail;if(!(rowHasFocus||rowIsEditing||rowIsDetail))return false;return!!this.isRowPresent(rowNode)}isRowPresent(rowNode){return!!this.rowModel.isRowPresent(rowNode)&&(!this.paginationService||this.paginationService.isRowPresent(rowNode))}createRowCon(rowNode,animate,afterScroll){const rowCtrlFromCache=this.cachedRowCtrls?this.cachedRowCtrls.getRow(rowNode):null;if(rowCtrlFromCache)return rowCtrlFromCache;const suppressAnimationFrame=this.gos.get("suppressAnimationFrame"),useAnimationFrameForCreate=afterScroll&&!suppressAnimationFrame&&!this.printLayout;return new RowCtrl(rowNode,this.beans,animate,useAnimationFrameForCreate,this.printLayout)}getRenderedNodes(){const renderedRows=this.rowCtrlsByRowIndex;return Object.values(renderedRows).map((rowCtrl=>rowCtrl.getRowNode()))}getRowByPosition(rowPosition){let rowCtrl;const{rowIndex}=rowPosition;switch(rowPosition.rowPinned){case"top":rowCtrl=this.topRowCtrls[rowIndex];break;case"bottom":rowCtrl=this.bottomRowCtrls[rowIndex];break;default:rowCtrl=this.rowCtrlsByRowIndex[rowIndex],rowCtrl||(rowCtrl=this.getStickyTopRowCtrls().find((ctrl=>ctrl.getRowNode().rowIndex===rowIndex))||null,rowCtrl||(rowCtrl=this.getStickyBottomRowCtrls().find((ctrl=>ctrl.getRowNode().rowIndex===rowIndex))||null))}return rowCtrl}isRangeInRenderedViewport(startIndex,endIndex){if(null==startIndex||null==endIndex)return!1;const blockAfterViewport=startIndex>this.lastRenderedRow;return!(endIndex<this.firstRenderedRow)&&!blockAfterViewport}},RowCtrlCache=class{constructor(maxCount){this.entriesMap={},this.entriesList=[],this.maxCount=maxCount}addRow(rowCtrl){if(this.entriesMap[rowCtrl.getRowNode().id]=rowCtrl,this.entriesList.push(rowCtrl),rowCtrl.setCached(!0),this.entriesList.length>this.maxCount){const rowCtrlToDestroy=this.entriesList[0];rowCtrlToDestroy.destroyFirstPass(),rowCtrlToDestroy.destroySecondPass(),this.removeFromCache(rowCtrlToDestroy)}}getRow(rowNode){if(null==rowNode||null==rowNode.id)return null;const res=this.entriesMap[rowNode.id];if(!res)return null;this.removeFromCache(res),res.setCached(!1);return res.getRowNode()!=rowNode?null:res}has(rowNode){return null!=this.entriesMap[rowNode.id]}removeRow(rowNode){const rowNodeId=rowNode.id,ctrl=this.entriesMap[rowNodeId];delete this.entriesMap[rowNodeId],_removeFromArray(this.entriesList,ctrl)}removeFromCache(rowCtrl){const rowNodeId=rowCtrl.getRowNode().id;delete this.entriesMap[rowNodeId],_removeFromArray(this.entriesList,rowCtrl)}getEntries(){return this.entriesList}},PinnedRowModel=class extends BeanStub{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0}wireBeans(beans){this.beans=beans}postConstruct(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",(()=>this.setPinnedTopRowData())),this.addManagedPropertyListener("pinnedBottomRowData",(()=>this.setPinnedBottomRowData())),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(floating){return _missingOrEmpty("top"===floating?this.pinnedTopRows:this.pinnedBottomRows)}isRowsToRender(floating){return!this.isEmpty(floating)}getRowAtPixel(pixel,floating){const rows="top"===floating?this.pinnedTopRows:this.pinnedBottomRows;if(_missingOrEmpty(rows))return 0;for(let i=0;i<rows.length;i++){const rowNode=rows[i];if(rowNode.rowTop+rowNode.rowHeight-1>=pixel)return i}return rows.length-1}onGridStylesChanges(e){if(e.rowHeightChanged){const estimateRowHeight=rowNode=>{rowNode.setRowHeight(rowNode.rowHeight,!0)};this.pinnedBottomRows.forEach(estimateRowHeight),this.pinnedTopRows.forEach(estimateRowHeight)}}ensureRowHeightsValid(){let anyChange=!1,rowTop=0;const updateRowHeight=rowNode=>{if(rowNode.rowHeightEstimated){const rowHeight=this.gos.getRowHeightForNode(rowNode);rowNode.setRowTop(rowTop),rowNode.setRowHeight(rowHeight.height),rowTop+=rowHeight.height,anyChange=!0}};this.pinnedBottomRows?.forEach(updateRowHeight),rowTop=0,this.pinnedTopRows?.forEach(updateRowHeight);return this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),anyChange}setPinnedTopRowData(){const rowData=this.gos.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(rowData,!0);this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}setPinnedBottomRowData(){const rowData=this.gos.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(rowData,!1);this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}createNodesFromData(allData,isTop){const rowNodes=[];if(allData){const getRowId=this.gos.getRowIdCallback(),idPrefix=isTop?RowNode.ID_PREFIX_TOP_PINNED:RowNode.ID_PREFIX_BOTTOM_PINNED;let nextRowTop=0;const pinned=isTop?"top":"bottom";allData.forEach(((dataItem,index)=>{const rowNode=new RowNode(this.beans);rowNode.data=dataItem,rowNode.id=getRowId?.({data:dataItem,level:0,rowPinned:pinned})??idPrefix+this.nextId++,rowNode.rowPinned=pinned,rowNode.setRowTop(nextRowTop),rowNode.setRowHeight(this.gos.getRowHeightForNode(rowNode).height),rowNode.setRowIndex(index),nextRowTop+=rowNode.rowHeight,rowNodes.push(rowNode)}))}return rowNodes}getPinnedTopRowNodes(){return this.pinnedTopRows}getPinnedBottomRowNodes(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(index){return this.pinnedTopRows[index]}getPinnedBottomRow(index){return this.pinnedBottomRows[index]}forEachPinnedTopRow(callback){_missingOrEmpty(this.pinnedTopRows)||this.pinnedTopRows.forEach(callback)}forEachPinnedBottomRow(callback){_missingOrEmpty(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(callback)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(rowNodes){if(!rowNodes||0===rowNodes.length)return 0;const lastNode=_last(rowNodes);return lastNode.rowTop+lastNode.rowHeight}},RowNodeBlock=class extends BeanStub{constructor(id){super(),this.state="needsLoading",this.version=0,this.id=id}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(version){this.isRequestMostRecentAndLive(version)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(version,params){this.successCommon(version,params)}pageLoaded(version,rows,lastRow){this.successCommon(version,{rowData:rows,rowCount:lastRow})}isRequestMostRecentAndLive(version){const thisIsMostRecentRequest=version===this.version,weAreNotDestroyed=this.isAlive();return thisIsMostRecentRequest&&weAreNotDestroyed}successCommon(version,params){this.dispatchLoadCompleted();this.isRequestMostRecentAndLive(version)&&(this.state="loaded",this.processServerResult(params))}dispatchLoadCompleted(success=!0){const event={type:"loadComplete",success,block:this};this.dispatchLocalEvent(event)}},RowNodeBlockModule={version:VERSION,moduleName:"@ag-grid-community/row-node-block",beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(beans){this.rowModel=beans.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const blockLoadDebounceMillis=this.gos.get("blockLoadDebounceMillis");blockLoadDebounceMillis&&blockLoadDebounceMillis>0&&(this.checkBlockToLoadDebounce=_debounce(this.performCheckBlocksToLoad.bind(this),blockLoadDebounceMillis))}getMaxConcurrentDatasourceRequests(){const res=this.gos.get("maxConcurrentDatasourceRequests");return null==res?2:res<=0?void 0:res}addBlock(block){this.blocks.push(block),block.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(block){_removeFromArray(this.blocks,block)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),0==this.activeBlockLoadsCount&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void(this.gos.get("debug")&&_log("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded"));const loadAvailability=this.getAvailableLoadingCount(),blocksToLoad=this.blocks.filter((block=>"needsLoading"===block.getState())).slice(0,loadAvailability);this.registerLoads(blocksToLoad.length),blocksToLoad.forEach((block=>block.load())),this.printCacheStatus()}getBlockState(){if(this.gos.isRowModelType("serverSide")){return this.rowModel.getBlockStates()}const result={};return this.blocks.forEach((block=>{const{id,state}=block.getBlockStateJson();result[id]=state})),result}printCacheStatus(){this.gos.get("debug")&&_log(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(count){this.activeBlockLoadsCount+=count}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}}]},RowRangeSelectionContext=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(rowModel){this.rowModel=rowModel}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(node){this.root=node,this.end=null,this.cachedRange.length=0}setEndRange(end){this.end=end,this.cachedRange.length=0}getRange(){if(0===this.cachedRange.length){const root=this.getRoot(),end=this.getEnd();if(null==root||null==end)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(root,end)}return this.cachedRange}isInRange(node){return null!==this.root&&this.getRange().some((nodeInRange=>nodeInRange.id===node.id))}getRoot(){return this.root&&null===this.root?.key&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){return this.end&&null===this.end?.key&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(node){const range=this.getRange();if(0===range.length)return{keep:[],discard:[]};const discardAfter=range[0].id===this.root.id,idx=range.findIndex((rowNode=>rowNode.id===node.id));if(idx>-1){const above=range.slice(0,idx),below=range.slice(idx+1);return this.setEndRange(node),discardAfter?{keep:above,discard:below}:{keep:below,discard:above}}return{keep:range,discard:[]}}extend(node,groupSelectsChildren=!1){const root=this.getRoot();if(null==root){const keep=this.getRange().slice();return groupSelectsChildren&&node.depthFirstSearch((node2=>!node2.group&&keep.push(node2))),keep.push(node),this.setRoot(node),{keep,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(root,node).find((newRangeNode=>newRangeNode.id===this.end?.id)))return this.setEndRange(node),{keep:this.getRange(),discard:[]};{const discard=this.getRange().slice();return this.setEndRange(node),{keep:this.getRange(),discard}}}},StylingService=class extends BeanStub{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(beans){this.expressionService=beans.expressionService}processAllCellClasses(colDef,params,onApplicableClass,onNotApplicableClass){this.processClassRules(void 0,colDef.cellClassRules,params,onApplicableClass,onNotApplicableClass),this.processStaticCellClasses(colDef,params,onApplicableClass)}processClassRules(previousClassRules,classRules,params,onApplicableClass,onNotApplicableClass){if(null==classRules&&null==previousClassRules)return;const classesToApply={},classesToRemove={},forEachSingleClass=(className,callback)=>{className.split(" ").forEach((singleClass=>{""!=singleClass.trim()&&callback(singleClass)}))};if(classRules){const classNames=Object.keys(classRules);for(let i=0;i<classNames.length;i++){const className=classNames[i],rule=classRules[className];let resultOfRule;"string"==typeof rule?resultOfRule=this.expressionService.evaluate(rule,params):"function"==typeof rule&&(resultOfRule=rule(params)),forEachSingleClass(className,(singleClass=>{resultOfRule?classesToApply[singleClass]=!0:classesToRemove[singleClass]=!0}))}}previousClassRules&&onNotApplicableClass&&Object.keys(previousClassRules).forEach((className=>forEachSingleClass(className,(singleClass=>{classesToApply[singleClass]||(classesToRemove[singleClass]=!0)})))),onNotApplicableClass&&Object.keys(classesToRemove).forEach(onNotApplicableClass),Object.keys(classesToApply).forEach(onApplicableClass)}getStaticCellClasses(colDef,params){const{cellClass}=colDef;if(!cellClass)return[];let classOrClasses;if("function"==typeof cellClass){classOrClasses=cellClass(params)}else classOrClasses=cellClass;return"string"==typeof classOrClasses&&(classOrClasses=[classOrClasses]),classOrClasses||[]}processStaticCellClasses(colDef,params,onApplicableClass){this.getStaticCellClasses(colDef,params).forEach((cssClassItem=>{onApplicableClass(cssClassItem)}))}},TabGuardClassNames=(TabGuardClassNames2=>(TabGuardClassNames2.TAB_GUARD="ag-tab-guard",TabGuardClassNames2.TAB_GUARD_TOP="ag-tab-guard-top",TabGuardClassNames2.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",TabGuardClassNames2))(TabGuardClassNames||{}),TabGuardCtrl=class extends BeanStub{constructor(params){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp,eTopGuard,eBottomGuard,focusTrapActive,forceFocusOutWhenTabGuardsAreEmpty,isFocusableContainer,focusInnerElement,onFocusIn,onFocusOut,shouldStopEventPropagation,onTabKeyDown,handleKeyDown,eFocusableElement}=params;this.comp=comp,this.eTopGuard=eTopGuard,this.eBottomGuard=eBottomGuard,this.providedFocusInnerElement=focusInnerElement,this.eFocusableElement=eFocusableElement,this.focusTrapActive=!!focusTrapActive,this.forceFocusOutWhenTabGuardsAreEmpty=!!forceFocusOutWhenTabGuardsAreEmpty,this.isFocusableContainer=!!isFocusableContainer,this.providedFocusIn=onFocusIn,this.providedFocusOut=onFocusOut,this.providedShouldStopEventPropagation=shouldStopEventPropagation,this.providedOnTabKeyDown=onTabKeyDown,this.providedHandleKeyDown=handleKeyDown}wireBeans(beans){this.focusService=beans.focusService}postConstruct(){this.createManagedBean(new ManagedFocusFeature(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((guard=>this.addManagedElementListeners(guard,{focus:this.onFocus.bind(this)})))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const tabIndex=this.gos.get("tabIndex");this.comp.setTabIndex(tabIndex.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty){if(0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const fromBottom=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(fromBottom):this.focusInnerElement(fromBottom)}findNextElementOutsideAndFocus(up){const eDocument=this.gos.getDocument(),focusableEls=this.focusService.findFocusableElements(eDocument.body,null,!0),index=focusableEls.indexOf(up?this.eTopGuard:this.eBottomGuard);if(-1===index)return;let start,end;up?(start=0,end=index):(start=index+1,end=focusableEls.length);const focusableRange=focusableEls.slice(start,end),targetTabIndex=this.gos.get("tabIndex");focusableRange.sort(((a,b)=>{const indexA=parseInt(a.getAttribute("tabindex")||"0"),indexB=parseInt(b.getAttribute("tabindex")||"0");return indexB===targetTabIndex?1:indexA===targetTabIndex?-1:0===indexA?1:0===indexB?-1:indexA-indexB})),focusableRange[up?focusableRange.length-1:0].focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(this.focusTrapActive)return;if(e.defaultPrevented)return;const tabGuardsAreActive=this.tabGuardsAreActive();tabGuardsAreActive&&this.deactivateTabGuards();const nextRoot=this.getNextFocusableElement(e.shiftKey);tabGuardsAreActive&&setTimeout((()=>this.activateTabGuards()),0),nextRoot&&(nextRoot.focus(),e.preventDefault())}focusInnerElement(fromBottom=!1){const focusable=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(focusable.splice(0,1),focusable.splice(focusable.length-1,1)),focusable.length&&focusable[fromBottom?focusable.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(backwards){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,backwards)}forceFocusOutOfContainer(up=!1){if(this.forcingFocusOut)return;const tabGuardToFocus=up?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,tabGuardToFocus.focus(),window.setTimeout((()=>{this.forcingFocusOut=!1,this.activateTabGuards()}))}isTabGuard(element,bottom){return element===this.eTopGuard&&!bottom||element===this.eBottomGuard&&(bottom??!0)}setAllowFocus(allowFocus){this.allowFocus=allowFocus}},TabGuardFeature=class extends BeanStub{constructor(comp){super(),this.comp=comp}initialiseTabGuard(params){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard,eBottomGuard,eFocusableElement}=this,tabGuards=[eTopGuard,eBottomGuard],compProxy={setTabIndex:tabIndex=>{tabGuards.forEach((tabGuard=>null!=tabIndex?tabGuard.setAttribute("tabindex",tabIndex):tabGuard.removeAttribute("tabindex")))}};this.addTabGuards(eTopGuard,eBottomGuard);const{focusTrapActive=!1,onFocusIn,onFocusOut,focusInnerElement,handleKeyDown,onTabKeyDown,shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty,isFocusableContainer}=params;this.tabGuardCtrl=this.createManagedBean(new TabGuardCtrl({comp:compProxy,focusTrapActive,eTopGuard,eBottomGuard,eFocusableElement,onFocusIn,onFocusOut,focusInnerElement,handleKeyDown,onTabKeyDown,shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty,isFocusableContainer}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(side){const tabGuard=this.gos.getDocument().createElement("div"),cls="top"===side?"ag-tab-guard-top":"ag-tab-guard-bottom";return tabGuard.classList.add("ag-tab-guard",cls),_setAriaRole(tabGuard,"presentation"),tabGuard}addTabGuards(topTabGuard,bottomTabGuard){this.eFocusableElement.insertAdjacentElement("afterbegin",topTabGuard),this.eFocusableElement.insertAdjacentElement("beforeend",bottomTabGuard)}removeAllChildrenExceptTabGuards(){const tabGuards=[this.eTopGuard,this.eBottomGuard];_clearElement(this.comp.getFocusableElement()),this.addTabGuards(...tabGuards)}forceFocusOutOfContainer(up=!1){this.tabGuardCtrl.forceFocusOutOfContainer(up)}appendChild(appendChild,newChild,container){_isNodeOrElement(newChild)||(newChild=newChild.getGui());const{eBottomGuard:bottomTabGuard}=this;bottomTabGuard?bottomTabGuard.insertAdjacentElement("beforebegin",newChild):appendChild(newChild,container)}},TabGuardComp=class extends Component{initialiseTabGuard(params){this.tabGuardFeature=this.createManagedBean(new TabGuardFeature(this)),this.tabGuardFeature.initialiseTabGuard(params)}forceFocusOutOfContainer(up=!1){this.tabGuardFeature.forceFocusOutOfContainer(up)}appendChild(newChild,container){this.tabGuardFeature.appendChild(super.appendChild.bind(this),newChild,container)}},instanceIdSeq=0,PopupService=class extends BeanStub{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(beans){this.ctrlsService=beans.ctrlsService,this.resizeObserverService=beans.resizeObserverService,this.environment=beans.environment}postConstruct(){this.ctrlsService.whenReady((p=>{this.gridCtrl=p.gridCtrl})),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const ePopupParent=this.gos.get("popupParent");return ePopupParent||this.gridCtrl.getGui()}positionPopupForMenu(params){const{eventSource,ePopup}=params,popupIdx=this.getPopupIndex(ePopup);if(-1!==popupIdx){this.popupList[popupIdx].alignedToElement=eventSource}const sourceRect=eventSource.getBoundingClientRect(),parentRect=this.getParentRect(),y=this.keepXYWithinBounds(ePopup,sourceRect.top-parentRect.top,0),minWidth=ePopup.clientWidth>0?ePopup.clientWidth:200;ePopup.style.minWidth=`${minWidth}px`;const maxX=parentRect.right-parentRect.left-minWidth;let x;function xRightPosition(){return sourceRect.right-parentRect.left-2}function xLeftPosition(){return sourceRect.left-parentRect.left-minWidth}this.gos.get("enableRtl")?(x=xLeftPosition(),x<0&&(x=xRightPosition(),this.setAlignedStyles(ePopup,"left")),x>maxX&&(x=0,this.setAlignedStyles(ePopup,"right"))):(x=xRightPosition(),x>maxX&&(x=xLeftPosition(),this.setAlignedStyles(ePopup,"right")),x<0&&(x=0,this.setAlignedStyles(ePopup,"left"))),ePopup.style.left=`${x}px`,ePopup.style.top=`${y}px`}positionPopupUnderMouseEvent(params){const{ePopup,nudgeX,nudgeY,skipObserver}=params;this.positionPopup({ePopup,nudgeX,nudgeY,keepWithinBounds:!0,skipObserver,updatePosition:()=>this.calculatePointerAlign(params.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(params.type,params.ePopup,null,params.mouseEvent,params.column,params.rowNode)})}calculatePointerAlign(e){const parentRect=this.getParentRect();return{x:e.clientX-parentRect.left,y:e.clientY-parentRect.top}}positionPopupByComponent(params){const{ePopup,nudgeX,nudgeY,keepWithinBounds,eventSource,alignSide="left",position="over",column,rowNode,type}=params,sourceRect=eventSource.getBoundingClientRect(),parentRect=this.getParentRect(),popupIdx=this.getPopupIndex(ePopup);if(-1!==popupIdx){this.popupList[popupIdx].alignedToElement=eventSource}this.positionPopup({ePopup,nudgeX,nudgeY,keepWithinBounds,updatePosition:()=>{let y,x=sourceRect.left-parentRect.left;if("right"===alignSide&&(x-=ePopup.offsetWidth-sourceRect.width),"over"===position)y=sourceRect.top-parentRect.top,this.setAlignedStyles(ePopup,"over");else{this.setAlignedStyles(ePopup,"under");y="under"===this.shouldRenderUnderOrAbove(ePopup,sourceRect,parentRect,params.nudgeY||0)?sourceRect.top-parentRect.top+sourceRect.height:sourceRect.top-ePopup.offsetHeight-2*(nudgeY||0)-parentRect.top}return{x,y}},postProcessCallback:()=>this.callPostProcessPopup(type,ePopup,eventSource,null,column,rowNode)})}shouldRenderUnderOrAbove(ePopup,targetCompRect,parentRect,nudgeY){const spaceAvailableUnder=parentRect.bottom-targetCompRect.bottom,spaceAvailableAbove=targetCompRect.top-parentRect.top,spaceRequired=ePopup.offsetHeight+nudgeY;return spaceAvailableUnder>spaceRequired?"under":spaceAvailableAbove>spaceRequired||spaceAvailableAbove>spaceAvailableUnder?"above":"under"}setAlignedStyles(ePopup,positioned){const popupIdx=this.getPopupIndex(ePopup);if(-1===popupIdx)return;const popup=this.popupList[popupIdx],{alignedToElement}=popup;if(!alignedToElement)return;["right","left","over","above","under"].forEach((position=>{alignedToElement.classList.remove(`ag-has-popup-positioned-${position}`),ePopup.classList.remove(`ag-popup-positioned-${position}`)})),positioned&&(alignedToElement.classList.add(`ag-has-popup-positioned-${positioned}`),ePopup.classList.add(`ag-popup-positioned-${positioned}`))}callPostProcessPopup(type,ePopup,eventSource,mouseEvent,column,rowNode){const callback=this.gos.getCallback("postProcessPopup");if(callback){callback({column,rowNode,ePopup,type,eventSource,mouseEvent})}}positionPopup(params){const{ePopup,keepWithinBounds,nudgeX,nudgeY,skipObserver,updatePosition}=params,lastSize={width:0,height:0},updatePopupPosition=(fromResizeObserver=!1)=>{let{x,y}=updatePosition();fromResizeObserver&&ePopup.clientWidth===lastSize.width&&ePopup.clientHeight===lastSize.height||(lastSize.width=ePopup.clientWidth,lastSize.height=ePopup.clientHeight,nudgeX&&(x+=nudgeX),nudgeY&&(y+=nudgeY),keepWithinBounds&&(x=this.keepXYWithinBounds(ePopup,x,1),y=this.keepXYWithinBounds(ePopup,y,0)),ePopup.style.left=`${x}px`,ePopup.style.top=`${y}px`,params.postProcessCallback&&params.postProcessCallback())};if(updatePopupPosition(),!skipObserver){const resizeObserverDestroyFunc=this.resizeObserverService.observeResize(ePopup,(()=>updatePopupPosition(!0)));setTimeout((()=>resizeObserverDestroyFunc()),200)}}getActivePopups(){return this.popupList.map((popup=>popup.element))}getPopupList(){return this.popupList}getParentRect(){const eDocument=this.gos.getDocument();let popupParent=this.getPopupParent();return popupParent===eDocument.body?popupParent=eDocument.documentElement:"static"===getComputedStyle(popupParent).position&&(popupParent=popupParent.offsetParent),_getElementRectWithOffset(popupParent)}keepXYWithinBounds(ePopup,position,direction){const isVertical=0===direction,sizeProperty=isVertical?"clientHeight":"clientWidth",anchorProperty=isVertical?"top":"left",offsetProperty=isVertical?"height":"width",scrollPositionProperty=isVertical?"scrollTop":"scrollLeft",eDocument=this.gos.getDocument(),docElement=eDocument.documentElement,popupParent=this.getPopupParent(),popupRect=ePopup.getBoundingClientRect(),parentRect=popupParent.getBoundingClientRect(),documentRect=eDocument.documentElement.getBoundingClientRect(),isBody=popupParent===eDocument.body,offsetSize=Math.ceil(popupRect[offsetProperty]);let sizeOfParent=isBody?(isVertical?_getAbsoluteHeight:_getAbsoluteWidth)(docElement)+docElement[scrollPositionProperty]:popupParent[sizeProperty];isBody&&(sizeOfParent-=Math.abs(documentRect[anchorProperty]-parentRect[anchorProperty]));const max=sizeOfParent-offsetSize;return Math.min(Math.max(position,0),Math.abs(max))}addPopup(params){const eDocument=this.gos.getDocument(),{eChild,ariaLabel,alwaysOnTop,positionCallback,anchorToElement}=params;if(!eDocument)return _warnOnce("could not find the document, document is empty"),{hideFunc:()=>{}};const pos=this.getPopupIndex(eChild);if(-1!==pos){return{hideFunc:this.popupList[pos].hideFunc}}this.initialisePopupPosition(eChild);const wrapperEl=this.createPopupWrapper(eChild,ariaLabel,!!alwaysOnTop),removeListeners=this.addEventListenersToPopup({...params,wrapperEl});return positionCallback&&positionCallback(),this.addPopupToPopupList(eChild,wrapperEl,removeListeners,anchorToElement),{hideFunc:removeListeners}}initialisePopupPosition(element){const ePopupParentRect=this.getPopupParent().getBoundingClientRect();_exists(element.style.top)||(element.style.top=-1*ePopupParentRect.top+"px"),_exists(element.style.left)||(element.style.left=-1*ePopupParentRect.left+"px")}createPopupWrapper(element,ariaLabel,alwaysOnTop){const ePopupParent=this.getPopupParent(),eWrapper=document.createElement("div");return this.environment.applyThemeClasses(eWrapper),eWrapper.classList.add("ag-popup"),element.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),element.hasAttribute("role")||_setAriaRole(element,"dialog"),_setAriaLabel(element,ariaLabel),eWrapper.appendChild(element),ePopupParent.appendChild(eWrapper),alwaysOnTop?this.setAlwaysOnTop(element,!0):this.bringPopupToFront(element),eWrapper}handleThemeChange(e){if(e.themeChanged)for(const popup of this.popupList)this.environment.applyThemeClasses(popup.wrapper)}addEventListenersToPopup(params){const eDocument=this.gos.getDocument(),ePopupParent=this.getPopupParent(),{wrapperEl,eChild:popupEl,closedCallback,afterGuiAttached,closeOnEsc,modal}=params;let popupHidden=!1;const hidePopupOnKeyboardEvent=event=>{if(!wrapperEl.contains(this.gos.getActiveDomElement()))return;event.key!==KeyCode.ESCAPE||_isStopPropagationForAgGrid(event)||removeListeners({keyboardEvent:event})},hidePopupOnMouseEvent=event=>removeListeners({mouseEvent:event}),hidePopupOnTouchEvent=event=>removeListeners({touchEvent:event}),removeListeners=(popupParams={})=>{const{mouseEvent,touchEvent,keyboardEvent,forceHide}=popupParams;(forceHide||!this.isEventFromCurrentPopup({mouseEvent,touchEvent},popupEl)&&!popupHidden)&&(popupHidden=!0,ePopupParent.removeChild(wrapperEl),eDocument.removeEventListener("keydown",hidePopupOnKeyboardEvent),eDocument.removeEventListener("mousedown",hidePopupOnMouseEvent),eDocument.removeEventListener("touchstart",hidePopupOnTouchEvent),eDocument.removeEventListener("contextmenu",hidePopupOnMouseEvent),this.eventService.removeEventListener("dragStarted",hidePopupOnMouseEvent),closedCallback&&closedCallback(mouseEvent||touchEvent||keyboardEvent),this.removePopupFromPopupList(popupEl))};return afterGuiAttached&&afterGuiAttached({hidePopup:removeListeners}),window.setTimeout((()=>{closeOnEsc&&eDocument.addEventListener("keydown",hidePopupOnKeyboardEvent),modal&&(eDocument.addEventListener("mousedown",hidePopupOnMouseEvent),this.eventService.addEventListener("dragStarted",hidePopupOnMouseEvent),eDocument.addEventListener("touchstart",hidePopupOnTouchEvent),eDocument.addEventListener("contextmenu",hidePopupOnMouseEvent))}),0),removeListeners}addPopupToPopupList(element,wrapperEl,removeListeners,anchorToElement){this.popupList.push({element,wrapper:wrapperEl,hideFunc:removeListeners,instanceId:instanceIdSeq++,isAnchored:!!anchorToElement}),anchorToElement&&this.setPopupPositionRelatedToElement(element,anchorToElement)}getPopupIndex(el){return this.popupList.findIndex((p=>p.element===el))}setPopupPositionRelatedToElement(popupEl,relativeElement){const popupIndex=this.getPopupIndex(popupEl);if(-1===popupIndex)return;const popup=this.popupList[popupIndex];if(popup.stopAnchoringPromise&&popup.stopAnchoringPromise.then((destroyFunc=>destroyFunc&&destroyFunc())),popup.stopAnchoringPromise=void 0,popup.isAnchored=!1,!relativeElement)return;const destroyPositionTracker=this.keepPopupPositionedRelativeTo({element:relativeElement,ePopup:popupEl,hidePopup:popup.hideFunc});return popup.stopAnchoringPromise=destroyPositionTracker,popup.isAnchored=!0,destroyPositionTracker}removePopupFromPopupList(element){this.setAlignedStyles(element,null),this.setPopupPositionRelatedToElement(element,null),this.popupList=this.popupList.filter((p=>p.element!==element))}keepPopupPositionedRelativeTo(params){const eParent=this.getPopupParent(),parentRect=eParent.getBoundingClientRect(),{element,ePopup}=params,sourceRect=element.getBoundingClientRect(),initialDiffTop=parentRect.top-sourceRect.top,initialDiffLeft=parentRect.left-sourceRect.left;let lastDiffTop=initialDiffTop,lastDiffLeft=initialDiffLeft;const topPx=ePopup.style.top,top=parseInt(topPx.substring(0,topPx.length-1),10),leftPx=ePopup.style.left,left=parseInt(leftPx.substring(0,leftPx.length-1),10),fwOverrides=this.getFrameworkOverrides();return new AgPromise((resolve=>{fwOverrides.wrapIncoming((()=>{fwOverrides.setInterval((()=>{const pRect=eParent.getBoundingClientRect(),sRect=element.getBoundingClientRect();if(0==sRect.top&&0==sRect.left&&0==sRect.height&&0==sRect.width)return void params.hidePopup();const currentDiffTop=pRect.top-sRect.top;if(currentDiffTop!=lastDiffTop){const newTop=this.keepXYWithinBounds(ePopup,top+initialDiffTop-currentDiffTop,0);ePopup.style.top=`${newTop}px`}lastDiffTop=currentDiffTop;const currentDiffLeft=pRect.left-sRect.left;if(currentDiffLeft!=lastDiffLeft){const newLeft=this.keepXYWithinBounds(ePopup,left+initialDiffLeft-currentDiffLeft,1);ePopup.style.left=`${newLeft}px`}lastDiffLeft=currentDiffLeft}),200).then((intervalId=>{resolve((()=>{null!=intervalId&&window.clearInterval(intervalId)}))}))}),"popupPositioning")}))}hasAnchoredPopup(){return this.popupList.some((popup=>popup.isAnchored))}isEventFromCurrentPopup(params,target){const{mouseEvent,touchEvent}=params,event=mouseEvent||touchEvent;if(!event)return!1;const indexOfThisChild=this.getPopupIndex(target);if(-1===indexOfThisChild)return!1;for(let i=indexOfThisChild;i<this.popupList.length;i++){if(_isElementInEventPath(this.popupList[i].element,event))return!0}return this.isElementWithinCustomPopup(event.target)}isElementWithinCustomPopup(el){const eDocument=this.gos.getDocument();for(;el&&el!==eDocument.body;){if(el.classList.contains("ag-custom-component-popup")||null===el.parentElement)return!0;el=el.parentElement}return!1}getWrapper(ePopup){for(;!ePopup.classList.contains("ag-popup")&&ePopup.parentElement;)ePopup=ePopup.parentElement;return ePopup.classList.contains("ag-popup")?ePopup:null}setAlwaysOnTop(ePopup,alwaysOnTop){const eWrapper=this.getWrapper(ePopup);eWrapper&&(eWrapper.classList.toggle("ag-always-on-top",!!alwaysOnTop),alwaysOnTop&&this.bringPopupToFront(eWrapper))}bringPopupToFront(ePopup){const parent=this.getPopupParent(),popupList=Array.prototype.slice.call(parent.querySelectorAll(".ag-popup")),popupLen=popupList.length,alwaysOnTopList=Array.prototype.slice.call(parent.querySelectorAll(".ag-popup.ag-always-on-top")),onTopLength=alwaysOnTopList.length,eWrapper=this.getWrapper(ePopup);if(!eWrapper||popupLen<=1||!parent.contains(ePopup))return!1;const pos=popupList.indexOf(eWrapper),innerEls=eWrapper.querySelectorAll("div"),innerElsScrollMap=[];innerEls.forEach((el=>{0!==el.scrollTop&&innerElsScrollMap.push([el,el.scrollTop])}));let result=!1;if(onTopLength){eWrapper.classList.contains("ag-always-on-top")?pos!==popupLen-1&&(_last(alwaysOnTopList).insertAdjacentElement("afterend",eWrapper),result=!0):pos!==popupLen-onTopLength-1&&(alwaysOnTopList[0].insertAdjacentElement("beforebegin",eWrapper),result=!0)}else pos!==popupLen-1&&(_last(popupList).insertAdjacentElement("afterend",eWrapper),result=!0);for(;innerElsScrollMap.length;){const currentEl=innerElsScrollMap.pop();currentEl[0].scrollTop=currentEl[1]}return result}},PASSIVE_EVENTS2=["touchstart","touchend","touchmove","touchcancel"],VanillaFrameworkOverrides=class{constructor(frameworkName="javascript"){this.frameworkName=frameworkName,this.renderingEngine="vanilla",this.wrapIncoming=callback=>callback(),this.wrapOutgoing=callback=>callback()}setInterval(action,timeout){return new AgPromise((resolve=>{resolve(window.setInterval(action,timeout))}))}addEventListener(element,type,listener,useCapture){const isPassive=_includes(PASSIVE_EVENTS2,type);element.addEventListener(type,listener,{capture:!!useCapture,passive:isPassive})}get shouldWrapOutgoing(){return!1}frameworkComponent(name){return null}isFrameworkComponent(comp){return!1}getDocLink(path){return`https://www.ag-grid.com/${"solid"===this.frameworkName?"react":this.frameworkName}-data-grid${path?`/${path}`:""}`}},CellNavigationService=class extends BeanStub{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(beans){this.visibleColsService=beans.visibleColsService,this.rowModel=beans.rowModel,this.rowRenderer=beans.rowRenderer,this.pinnedRowModel=beans.pinnedRowModel,this.paginationService=beans.paginationService,this.pageBoundsService=beans.pageBoundsService}getNextCellToFocus(key,focusedCell,ctrlPressed=!1){return ctrlPressed?this.getNextCellToFocusWithCtrlPressed(key,focusedCell):this.getNextCellToFocusWithoutCtrlPressed(key,focusedCell)}getNextCellToFocusWithCtrlPressed(key,focusedCell){const upKey=key===KeyCode.UP,downKey=key===KeyCode.DOWN,leftKey=key===KeyCode.LEFT;let column,rowIndex;if(upKey||downKey)rowIndex=upKey?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),column=focusedCell.column;else{const allColumns=this.visibleColsService.getAllCols(),isRtl=this.gos.get("enableRtl");rowIndex=focusedCell.rowIndex,column=leftKey!==isRtl?allColumns[0]:_last(allColumns)}return{rowIndex,rowPinned:null,column}}getNextCellToFocusWithoutCtrlPressed(key,focusedCell){let pointer=focusedCell,finished=!1;for(;!finished;){switch(key){case KeyCode.UP:pointer=this.getCellAbove(pointer);break;case KeyCode.DOWN:pointer=this.getCellBelow(pointer);break;case KeyCode.RIGHT:pointer=this.gos.get("enableRtl")?this.getCellToLeft(pointer):this.getCellToRight(pointer);break;case KeyCode.LEFT:pointer=this.gos.get("enableRtl")?this.getCellToRight(pointer):this.getCellToLeft(pointer);break;default:pointer=null,_warnOnce("unknown key for navigation ",key)}finished=!pointer||this.isCellGoodToFocusOn(pointer)}return pointer}isCellGoodToFocusOn(gridCell){const column=gridCell.column;let rowNode;switch(gridCell.rowPinned){case"top":rowNode=this.pinnedRowModel.getPinnedTopRow(gridCell.rowIndex);break;case"bottom":rowNode=this.pinnedRowModel.getPinnedBottomRow(gridCell.rowIndex);break;default:rowNode=this.rowModel.getRow(gridCell.rowIndex)}if(!rowNode)return!1;return!column.isSuppressNavigable(rowNode)}getCellToLeft(lastCell){if(!lastCell)return null;const colToLeft=this.visibleColsService.getColBefore(lastCell.column);return colToLeft?{rowIndex:lastCell.rowIndex,column:colToLeft,rowPinned:lastCell.rowPinned}:null}getCellToRight(lastCell){if(!lastCell)return null;const colToRight=this.visibleColsService.getColAfter(lastCell.column);return colToRight?{rowIndex:lastCell.rowIndex,column:colToRight,rowPinned:lastCell.rowPinned}:null}getRowBelow(rowPosition){const index=rowPosition.rowIndex,pinned=rowPosition.rowPinned;if(this.isLastRowInContainer(rowPosition))switch(pinned){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const rowNode=this.rowModel.getRow(rowPosition.rowIndex),nextStickyPosition=this.getNextStickyPosition(rowNode);return nextStickyPosition||{rowIndex:index+1,rowPinned:pinned}}getNextStickyPosition(rowNode,up){if(!this.gos.isGroupRowsSticky()||!rowNode||!rowNode.sticky)return;let stickyRowCtrls=[];stickyRowCtrls=this.rowRenderer.getStickyTopRowCtrls().some((ctrl=>ctrl.getRowNode().rowIndex===rowNode.rowIndex))?[...this.rowRenderer.getStickyTopRowCtrls()].sort(((a,b)=>a.getRowNode().rowIndex-b.getRowNode().rowIndex)):[...this.rowRenderer.getStickyBottomRowCtrls()].sort(((a,b)=>b.getRowNode().rowIndex-a.getRowNode().rowIndex));const diff=up?-1:1,idx=stickyRowCtrls.findIndex((ctrl=>ctrl.getRowNode().rowIndex===rowNode.rowIndex)),nextCtrl=stickyRowCtrls[idx+diff];return nextCtrl?{rowIndex:nextCtrl.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(lastCell){if(!lastCell)return null;const rowBelow=this.getRowBelow(lastCell);return rowBelow?{rowIndex:rowBelow.rowIndex,column:lastCell.column,rowPinned:rowBelow.rowPinned}:null}isLastRowInContainer(rowPosition){const pinned=rowPosition.rowPinned,index=rowPosition.rowIndex;if("top"===pinned){return this.pinnedRowModel.getPinnedTopRowNodes().length-1<=index}if("bottom"===pinned){return this.pinnedRowModel.getPinnedBottomRowNodes().length-1<=index}return this.pageBoundsService.getLastRow()<=index}getRowAbove(rowPosition){const index=rowPosition.rowIndex,pinned=rowPosition.rowPinned;if(pinned?0===index:index===this.pageBoundsService.getFirstRow())return"top"===pinned?null:pinned&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const rowNode=this.rowModel.getRow(rowPosition.rowIndex),nextStickyPosition=this.getNextStickyPosition(rowNode,!0);return nextStickyPosition||{rowIndex:index-1,rowPinned:pinned}}getCellAbove(lastCell){if(!lastCell)return null;const rowAbove=this.getRowAbove({rowIndex:lastCell.rowIndex,rowPinned:lastCell.rowPinned});return rowAbove?{rowIndex:rowAbove.rowIndex,column:lastCell.column,rowPinned:rowAbove.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowNodes().length-1,rowPinned:"top"}}getNextTabbedCell(gridCell,backwards){return backwards?this.getNextTabbedCellBackwards(gridCell):this.getNextTabbedCellForwards(gridCell)}getNextTabbedCellForwards(gridCell){const displayedColumns=this.visibleColsService.getAllCols();let newRowIndex=gridCell.rowIndex,newFloating=gridCell.rowPinned,newColumn=this.visibleColsService.getColAfter(gridCell.column);if(!newColumn){newColumn=displayedColumns[0];const rowBelow=this.getRowBelow(gridCell);if(_missing(rowBelow))return null;if(!rowBelow.rowPinned&&!(this.paginationService?.isRowInPage(rowBelow)??1))return null;newRowIndex=rowBelow?rowBelow.rowIndex:null,newFloating=rowBelow?rowBelow.rowPinned:null}return{rowIndex:newRowIndex,column:newColumn,rowPinned:newFloating}}getNextTabbedCellBackwards(gridCell){const displayedColumns=this.visibleColsService.getAllCols();let newRowIndex=gridCell.rowIndex,newFloating=gridCell.rowPinned,newColumn=this.visibleColsService.getColBefore(gridCell.column);if(!newColumn){newColumn=_last(displayedColumns);const rowAbove=this.getRowAbove({rowIndex:gridCell.rowIndex,rowPinned:gridCell.rowPinned});if(_missing(rowAbove))return null;if(!rowAbove.rowPinned&&!(this.paginationService?.isRowInPage(rowAbove)??1))return null;newRowIndex=rowAbove?rowAbove.rowIndex:null,newFloating=rowAbove?rowAbove.rowPinned:null}return{rowIndex:newRowIndex,column:newColumn,rowPinned:newFloating}}};function dispatchEvent(beans,event){beans.eventService.dispatchEvent(event)}var ApiFunctionService=class extends BeanStub{constructor(){super(...arguments),this.beanName="apiFunctionService",this.functions={dispatchEvent},this.isDestroyed=!1}wireBeans(beans){this.beans=beans}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}callFunction(functionName,args){const func=this.functions[functionName];return func?func.apply(func,[this.beans,...args]):this.isDestroyed?this.destroyedHandler(functionName):void(this.isFrameworkMethod(functionName)||this.beans.validationService?.warnMissingApiFunction(functionName))}addFunction(functionName,func){const{validationService}=this.beans;validationService&&(func=validationService.validateApiFunction(functionName,func)),this.functions[functionName]=func}destroy(){this.functions={},this.isDestroyed=!0,super.destroy()}destroyedHandler(functionName){if("isDestroyed"===functionName)return!0;"destroy"!==functionName&&_warnOnce(`Grid API function ${functionName}() cannot be called as the grid has been destroyed.\nEither clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\nTo run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${this.preDestroyLink}`)}isFrameworkMethod(functionName){return["preWireBeans","wireBeans","preConstruct","postConstruct"].includes(functionName)}};function createApi(context){const apiFunctionService=context.getBean("apiFunctionService");return new Proxy(apiFunctionService,{get(target,prop){if("then"!==prop)return(...args)=>target.callFunction(prop,args)}})}function createApiProxy(context){return{beanName:"gridApi",bean:createApi(context)}}var ColumnDefFactory=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(cols,rowGroupColumns,pivotColumns){const res=[],colGroupDefs={};return cols.forEach((col=>{let addToResult=!0,childDef=this.createDefFromColumn(col,rowGroupColumns,pivotColumns),pointer=col.getOriginalParent(),lastPointer=null;for(;pointer;){let parentDef=null;if(pointer.isPadding()){pointer=pointer.getOriginalParent();continue}const existingParentDef=colGroupDefs[pointer.getGroupId()];if(existingParentDef){existingParentDef.children.push(childDef),addToResult=!1;break}if(parentDef=this.createDefFromGroup(pointer),parentDef&&(parentDef.children=[childDef],colGroupDefs[parentDef.groupId]=parentDef,childDef=parentDef,pointer=pointer.getOriginalParent()),null!=pointer&&lastPointer===pointer){addToResult=!1;break}lastPointer=pointer}addToResult&&res.push(childDef)})),res}createDefFromGroup(group){const defCloned=_deepCloneDefinition(group.getColGroupDef(),["children"]);return defCloned&&(defCloned.groupId=group.getGroupId()),defCloned}createDefFromColumn(col,rowGroupColumns,pivotColumns){const colDefCloned=_deepCloneDefinition(col.getColDef());return colDefCloned.colId=col.getColId(),colDefCloned.width=col.getActualWidth(),colDefCloned.rowGroup=col.isRowGroupActive(),colDefCloned.rowGroupIndex=col.isRowGroupActive()?rowGroupColumns.indexOf(col):null,colDefCloned.pivot=col.isPivotActive(),colDefCloned.pivotIndex=col.isPivotActive()?pivotColumns.indexOf(col):null,colDefCloned.aggFunc=col.isValueActive()?col.getAggFunc():null,colDefCloned.hide=!col.isVisible()||void 0,colDefCloned.pinned=col.isPinned()?col.getPinned():null,colDefCloned.sort=col.getSort()?col.getSort():null,colDefCloned.sortIndex=null!=col.getSortIndex()?col.getSortIndex():null,colDefCloned}},ColumnEventDispatcher=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(){this.eventService.dispatchEvent({type:"displayedColumnsChanged"})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(col){const event={type:"columnHeaderHeightChanged",column:col,columns:[col],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(event)}groupOpened(impactedGroups){const event={type:"columnGroupOpened",columnGroup:1===impactedGroups.length?impactedGroups[0]:void 0,columnGroups:impactedGroups};this.eventService.dispatchEvent(event)}rowGroupChanged(impactedColumns,source){const event={type:"columnRowGroupChanged",columns:impactedColumns,column:1===impactedColumns.length?impactedColumns[0]:null,source};this.eventService.dispatchEvent(event)}genericColumnEvent(eventType,masterList,source){const event={type:eventType,columns:masterList,column:1===masterList.length?masterList[0]:null,source};this.eventService.dispatchEvent(event)}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(afterScroll){const event={type:"virtualColumnsChanged",afterScroll};this.eventService.dispatchEvent(event)}newColumnsLoaded(source){const newColumnsLoadedEvent={type:"newColumnsLoaded",source};this.eventService.dispatchEvent(newColumnsLoadedEvent)}everythingChanged(source){const eventEverythingChanged={type:"columnEverythingChanged",source};this.eventService.dispatchEvent(eventEverythingChanged)}columnMoved(params){const{movedColumns,source,toIndex,finished}=params,event={type:"columnMoved",columns:movedColumns,column:movedColumns&&1===movedColumns.length?movedColumns[0]:null,toIndex,finished,source};this.eventService.dispatchEvent(event)}columnPinned(changedColumns,source){if(!changedColumns.length)return;const column=1===changedColumns.length?changedColumns[0]:null,pinned=this.getCommonValue(changedColumns,(col=>col.getPinned())),event={type:"columnPinned",pinned:null!=pinned?pinned:null,columns:changedColumns,column,source};this.eventService.dispatchEvent(event)}columnVisible(changedColumns,source){if(!changedColumns.length)return;const column=1===changedColumns.length?changedColumns[0]:null,event={type:"columnVisible",visible:this.getCommonValue(changedColumns,(col=>col.isVisible())),columns:changedColumns,column,source};this.eventService.dispatchEvent(event)}getCommonValue(cols,valueGetter){if(!cols||0==cols.length)return;const firstValue=valueGetter(cols[0]);for(let i=1;i<cols.length;i++)if(firstValue!==valueGetter(cols[i]))return;return firstValue}columnChanged(type,columns,source){const event={type,columns,column:columns&&1==columns.length?columns[0]:null,source};this.eventService.dispatchEvent(event)}columnResized(columns,finished,source,flexColumns=null){if(columns&&columns.length){const event={type:"columnResized",columns,column:1===columns.length?columns[0]:null,flexColumns,finished,source};this.eventService.dispatchEvent(event)}}},ColumnGetStateService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(beans){this.columnModel=beans.columnModel,this.funcColsService=beans.funcColsService}getColumnState(){if(_missing(this.columnModel.getColDefCols())||!this.columnModel.isAlive())return[];const res=this.columnModel.getAllCols().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(res),res}createStateItemFromColumn(column){const rowGorupColumns=this.funcColsService.getRowGroupColumns(),pivotColumns=this.funcColsService.getPivotColumns(),rowGroupIndex=column.isRowGroupActive()?rowGorupColumns.indexOf(column):null,pivotIndex=column.isPivotActive()?pivotColumns.indexOf(column):null,aggFunc=column.isValueActive()?column.getAggFunc():null,sort=null!=column.getSort()?column.getSort():null,sortIndex=null!=column.getSortIndex()?column.getSortIndex():null,flex=null!=column.getFlex()&&column.getFlex()>0?column.getFlex():null;return{colId:column.getColId(),width:column.getActualWidth(),hide:!column.isVisible(),pinned:column.getPinned(),sort,sortIndex,aggFunc,rowGroup:column.isRowGroupActive(),rowGroupIndex,pivot:column.isPivotActive(),pivotIndex,flex}}orderColumnStateList(columnStateList){const gridColumns=this.columnModel.getCols(),colIdToGridIndexMap=new Map(gridColumns.map(((col,index)=>[col.getColId(),index])));columnStateList.sort(((itemA,itemB)=>(colIdToGridIndexMap.has(itemA.colId)?colIdToGridIndexMap.get(itemA.colId):-1)-(colIdToGridIndexMap.has(itemB.colId)?colIdToGridIndexMap.get(itemB.colId):-1)))}},ColumnGroupStateService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(beans){this.columnModel=beans.columnModel,this.columnAnimationService=beans.columnAnimationService,this.eventDispatcher=beans.columnEventDispatcher,this.visibleColsService=beans.visibleColsService}getColumnGroupState(){const columnGroupState=[];return depthFirstOriginalTreeSearch(null,this.columnModel.getColTree(),(node=>{isProvidedColumnGroup(node)&&columnGroupState.push({groupId:node.getGroupId(),open:node.isExpanded()})})),columnGroupState}resetColumnGroupState(source){const primaryColumnTree=this.columnModel.getColDefColTree();if(!primaryColumnTree)return;const stateItems=[];depthFirstOriginalTreeSearch(null,primaryColumnTree,(child=>{if(isProvidedColumnGroup(child)){const colGroupDef=child.getColGroupDef(),groupState={groupId:child.getGroupId(),open:colGroupDef?colGroupDef.openByDefault:void 0};stateItems.push(groupState)}})),this.setColumnGroupState(stateItems,source)}setColumnGroupState(stateItems,source){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const impactedGroups=[];stateItems.forEach((stateItem=>{const groupKey=stateItem.groupId,newValue=stateItem.open,providedColumnGroup=this.columnModel.getProvidedColGroup(groupKey);providedColumnGroup&&providedColumnGroup.isExpanded()!==newValue&&(providedColumnGroup.setExpanded(newValue),impactedGroups.push(providedColumnGroup))})),this.visibleColsService.refresh(source,!0),impactedGroups.length&&this.eventDispatcher.groupOpened(impactedGroups),this.columnAnimationService.finish()}},ColumnViewportService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(beans){this.visibleColsService=beans.visibleColsService,this.columnModel=beans.columnModel,this.eventDispatcher=beans.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(scrollWidth,scrollPosition,afterScroll=!1){const bodyWidthDirty=this.visibleColsService.isBodyWidthDirty();if(!(scrollWidth===this.scrollWidth&&scrollPosition===this.scrollPosition&&!bodyWidthDirty)){if(this.scrollWidth=scrollWidth,this.scrollPosition=scrollPosition,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const bodyWidth=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=bodyWidth-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(afterScroll)}}getHeadersToRender(type,dept){let result;switch(type){case"left":result=this.rowsOfHeadersToRenderLeft[dept];break;case"right":result=this.rowsOfHeadersToRenderRight[dept];break;default:result=this.rowsOfHeadersToRenderCenter[dept]}return result||[]}extractViewportColumns(){const displayedColumnsCenter=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=displayedColumnsCenter,this.headerColsWithinViewport=displayedColumnsCenter):(this.colsWithinViewport=displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(col){return!!col.isAutoHeaderHeight()||this.isColumnInRowViewport(col)}isColumnInRowViewport(col){if(col.isAutoHeight())return!0;const columnLeft=col.getLeft()||0,columnRight=columnLeft+col.getActualWidth(),leftBounds=this.viewportLeft-200,rightBounds=this.viewportRight+200;return!(columnLeft<leftBounds&&columnRight<leftBounds)&&!(columnLeft>rightBounds&&columnRight>rightBounds)}getViewportColumns(){const leftCols=this.visibleColsService.getLeftCols(),rightCols=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(leftCols).concat(rightCols)}getColsWithinViewport(rowNode){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const inViewportCallback=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this),displayedColumnsCenter=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(rowNode,displayedColumnsCenter,inViewportCallback,(col=>{const left=col.getLeft();return _exists(left)&&left>this.viewportLeft}))}checkViewportColumns(afterScroll=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(afterScroll)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const renderedColIds={},renderedColsLeft=this.visibleColsService.getLeftCols(),renderedColsRight=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(renderedColsLeft).concat(renderedColsRight).forEach((col=>renderedColIds[col.getId()]=!0));const testGroup=(children,result,dept)=>{let returnValue=!1;for(let i=0;i<children.length;i++){const child=children[i];let addThisItem=!1;if(isColumn(child))addThisItem=!0===renderedColIds[child.getId()];else{const displayedChildren=child.getDisplayedChildren();displayedChildren&&(addThisItem=testGroup(displayedChildren,result,dept+1))}addThisItem&&(returnValue=!0,result[dept]||(result[dept]=[]),result[dept].push(child))}return returnValue};testGroup(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),testGroup(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),testGroup(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){this.extractViewportColumns();const newHash=this.getViewportColumns().map((c=>`${c.getId()}-${c.getPinned()||"normal"}`)).join("#"),changed=this.colsWithinViewportHash!==newHash;return changed&&(this.colsWithinViewportHash=newHash,this.calculateHeaderRows()),changed}},AgComponentUtils=class extends BeanStub{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(beans){this.componentMetadataProvider=beans.componentMetadataProvider}adaptFunction(propertyName,jsCompFunc){const metadata=this.componentMetadataProvider.retrieve(propertyName);return metadata&&metadata.functionAdapter?metadata.functionAdapter(jsCompFunc):null}adaptCellRendererFunction(callback){return class Adapter{refresh(){return!1}getGui(){return this.eGui}init(params){const callbackResult=callback(params),type=typeof callbackResult;this.eGui="string"!==type&&"number"!==type&&"boolean"!==type?null!=callbackResult?callbackResult:_loadTemplate("<span></span>"):_loadTemplate("<span>"+callbackResult+"</span>")}}}doesImplementIComponent(candidate){return!!candidate&&(candidate.prototype&&"getGui"in candidate.prototype)}},ComponentMetadataProvider=class extends BeanStub{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(beans){this.agComponentUtils=beans.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(name){return this.componentMetaData[name]}},beanNamePosition=Object.fromEntries(["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"].map(((beanName,index)=>[beanName,index])));function gridBeanInitComparator(bean1,bean2){return((bean1.beanName?beanNamePosition[bean1.beanName]:void 0)??Number.MAX_SAFE_INTEGER)-((bean2.beanName?beanNamePosition[bean2.beanName]:void 0)??Number.MAX_SAFE_INTEGER)}function gridBeanDestroyComparator(bean1,bean2){return"gridDestroyService"===bean1?.beanName?-1:0}var CtrlsFactory=class extends BeanStub{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(meta){this.registry[meta.name]=meta.classImp}getInstance(name,...args){const ControllerClass=this.registry[name];if(null!=ControllerClass)return new ControllerClass(...args)}},CtrlsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={},this.ready=!1,this.readyCallbacks=[]}checkReady(){const params=this.params;this.ready=null!=params.gridCtrl&&null!=params.gridBodyCtrl&&null!=params.center&&null!=params.left&&null!=params.right&&null!=params.bottomCenter&&null!=params.bottomLeft&&null!=params.bottomRight&&null!=params.topCenter&&null!=params.topLeft&&null!=params.topRight&&null!=params.stickyTopCenter&&null!=params.stickyTopLeft&&null!=params.stickyTopRight&&null!=params.stickyBottomCenter&&null!=params.stickyBottomLeft&&null!=params.stickyBottomRight&&null!=params.centerHeader&&null!=params.leftHeader&&null!=params.rightHeader&&null!=params.fakeHScrollComp&&null!=params.fakeVScrollComp&&null!=params.gridHeaderCtrl,this.ready&&(this.readyCallbacks.forEach((c=>c(params))),this.readyCallbacks.length=0)}whenReady(callback){this.ready?callback(this.params):this.readyCallbacks.push(callback)}register(ctrlType,ctrl){this.params[ctrlType]=ctrl,this.checkReady()}registerHeaderContainer(ctrl,pinned){const params=this.params;switch(pinned){case"left":params.leftHeader=ctrl;break;case"right":params.rightHeader=ctrl;break;default:params.centerHeader=ctrl}this.checkReady()}get(ctrlType){return this.params[ctrlType]}getParams(){return this.params}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader,centerHeader,rightHeader}=this.params;return[leftHeader,rightHeader,centerHeader]}getHeaderRowContainerCtrl(pinned){const params=this.params;switch(pinned){case"left":return params.leftHeader;case"right":return params.rightHeader;default:return params.centerHeader}}},CellPositionUtils=class extends BeanStub{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(cellPosition){const{rowIndex,rowPinned,column}=cellPosition;return this.createIdFromValues({rowIndex,column,rowPinned})}createIdFromValues(cellPosition){const{rowIndex,rowPinned,column}=cellPosition;return`${rowIndex}.${null==rowPinned?"null":rowPinned}.${column.getId()}`}equals(cellA,cellB){const colsMatch=cellA.column===cellB.column,floatingMatch=cellA.rowPinned===cellB.rowPinned,indexMatch=cellA.rowIndex===cellB.rowIndex;return colsMatch&&floatingMatch&&indexMatch}},RowNodeEventThrottle=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(beans){this.animationFrameService=beans.animationFrameService,this.rowModel=beans.rowModel}postConstruct(){"clientSide"==this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(event,forceSync){if(null==this.clientSideRowModel)return void this.eventService.dispatchEvent(event);this.events.push(event);const func=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach((e=>this.eventService.dispatchEvent(e))),this.events=[]};forceSync?func():(null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(func)),this.dispatchExpandedDebounced())}},RowPositionUtils=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(beans){this.rowModel=beans.rowModel,this.pinnedRowModel=beans.pinnedRowModel,this.pageBoundsService=beans.pageBoundsService}getFirstRow(){let rowPinned,rowIndex=0;return this.pinnedRowModel.getPinnedTopRowCount()?rowPinned="top":this.rowModel.getRowCount()?(rowPinned=null,rowIndex=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(rowPinned="bottom"),void 0===rowPinned?null:{rowIndex,rowPinned}}getLastRow(){let rowIndex,rowPinned=null;const pinnedBottomCount=this.pinnedRowModel.getPinnedBottomRowCount(),pinnedTopCount=this.pinnedRowModel.getPinnedTopRowCount();return pinnedBottomCount?(rowPinned="bottom",rowIndex=pinnedBottomCount-1):this.rowModel.getRowCount()?(rowPinned=null,rowIndex=this.pageBoundsService.getLastRow()):pinnedTopCount&&(rowPinned="top",rowIndex=pinnedTopCount-1),void 0===rowIndex?null:{rowIndex,rowPinned}}getRowNode(gridRow){switch(gridRow.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowNodes()[gridRow.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowNodes()[gridRow.rowIndex];default:return this.rowModel.getRow(gridRow.rowIndex)}}sameRow(rowA,rowB){return!rowA&&!rowB||!(rowA&&!rowB||!rowA&&rowB)&&(rowA.rowIndex===rowB.rowIndex&&rowA.rowPinned==rowB.rowPinned)}before(rowA,rowB){switch(rowA.rowPinned){case"top":if("top"!==rowB.rowPinned)return!0;break;case"bottom":if("bottom"!==rowB.rowPinned)return!1;break;default:if(_exists(rowB.rowPinned))return"top"!==rowB.rowPinned}return rowA.rowIndex<rowB.rowIndex}},ROW_HEIGHT={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},HEADER_HEIGHT={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},LIST_ITEM_HEIGHT={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Environment=class extends BeanStub{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.themeClasses=[],this.eThemeAncestor=null,this.eMeasurementContainer=null,this.sizesMeasured=!1}wireBeans(beans){this.resizeObserverService=beans.resizeObserverService,this.eGridDiv=beans.eGridDiv}postConstruct(){this.addManagedPropertyListener("rowHeight",(()=>this.refreshRowHeightVariable())),this.themeClasses=this.getAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(ROW_HEIGHT),this.getSizeEl(HEADER_HEIGHT),this.getSizeEl(LIST_ITEM_HEIGHT)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(ROW_HEIGHT)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(HEADER_HEIGHT)}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(LIST_ITEM_HEIGHT)}hasMeasuredSizes(){return this.sizesMeasured}getThemeClasses(){return this.themeClasses}applyThemeClasses(el){for(const className of Array.from(el.classList))className.startsWith("ag-theme-")&&!this.themeClasses.includes(className)&&el.classList.remove(className);for(const className of this.themeClasses)el.classList.contains(className)||el.classList.add(className)}getThemeAncestorElement(){return this.eThemeAncestor}refreshRowHeightVariable(){const oldRowHeight=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),height=this.gos.get("rowHeight");if(null==height||isNaN(height)||!isFinite(height))return null!==oldRowHeight&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const newRowHeight=`${height}px`;return oldRowHeight!=newRowHeight?(this.eGridDiv.style.setProperty("--ag-line-height",newRowHeight),height):""!=oldRowHeight?parseFloat(oldRowHeight):-1}getCSSVariablePixelValue(variable){const cached=this.lastKnownValues.get(variable);if(null!=cached)return cached;const measurement=this.measureSizeEl(variable);return"detached"===measurement||"no-styles"===measurement?variable.defaultValue:(this.lastKnownValues.set(variable,measurement),measurement)}measureSizeEl(variable){const sizeEl=this.getSizeEl(variable);if(null==sizeEl.offsetParent)return"detached";const newSize=sizeEl.offsetWidth;return newSize===NO_VALUE_SENTINEL?"no-styles":(this.sizesMeasured=!0,newSize)}getSizeEl(variable){let sizeEl=this.sizeEls.get(variable);if(sizeEl)return sizeEl;let container=this.eMeasurementContainer;container||(container=this.eMeasurementContainer=document.createElement("div"),container.className="ag-measurement-container",this.eGridDiv.appendChild(container)),sizeEl=document.createElement("div"),sizeEl.style.width=`var(${variable.cssName}, ${NO_VALUE_SENTINEL}px)`,container.appendChild(sizeEl),this.sizeEls.set(variable,sizeEl);let lastMeasurement=this.measureSizeEl(variable);"no-styles"===lastMeasurement&&_warnOnce(`no value for ${variable.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${variable.defaultValue} will be used and updated when styles load.`);const unsubscribe=this.resizeObserverService.observeResize(sizeEl,(()=>{const newMeasurement=this.measureSizeEl(variable);"detached"!==newMeasurement&&"no-styles"!==newMeasurement&&(this.lastKnownValues.set(variable,newMeasurement),newMeasurement!==lastMeasurement&&(lastMeasurement=newMeasurement,this.fireGridStylesChangedEvent(variable.changeKey)))}));return this.addDestroyFunc((()=>unsubscribe())),sizeEl}fireGridStylesChangedEvent(change){const event={type:"gridStylesChanged",[change]:!0};this.eventService.dispatchEvent(event)}setUpThemeClassObservers(){const observer=new MutationObserver((()=>{const newThemeClasses=this.getAncestorThemeClasses();arraysEqual(newThemeClasses,this.themeClasses)||(this.themeClasses=newThemeClasses,this.fireGridStylesChangedEvent("themeChanged"))}));let node=this.eGridDiv;for(;node;)observer.observe(node||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),node=node.parentElement}getAncestorThemeClasses(){let el=this.eGridDiv;const allThemeClasses=[];for(this.eThemeAncestor=null;el;){const themeClasses=Array.from(el.classList).filter((c=>c.startsWith("ag-theme-")));for(const themeClass of themeClasses)this.eThemeAncestor=el,allThemeClasses.includes(themeClass)||allThemeClasses.unshift(themeClass);el=el.parentElement}return Object.freeze(allThemeClasses)}},arraysEqual=(a,b)=>a.length===b.length&&-1===a.findIndex(((_,i)=>a[i]!==b[i])),NO_VALUE_SENTINEL=15538,EventService=class extends BeanStub{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new LocalEventService}wireBeans(beans){this.globalEventListener=beans.globalEventListener,this.globalSyncEventListener=beans.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const async=this.gos.useAsyncEvents();this.addGlobalListener(this.globalEventListener,async)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(eventType,listener,async){this.globalEventService.addEventListener(eventType,listener,async)}removeEventListener(eventType,listener,async){this.globalEventService.removeEventListener(eventType,listener,async)}addGlobalListener(listener,async=!1){this.globalEventService.addGlobalListener(listener,async)}removeGlobalListener(listener,async=!1){this.globalEventService.removeGlobalListener(listener,async)}dispatchLocalEvent(){}dispatchEvent(event){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(event))}dispatchEventOnce(event){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(event))}},_FocusService=class _FocusService extends BeanStub{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(beans){this.eGridDiv=beans.eGridDiv,this.columnModel=beans.columnModel,this.visibleColsService=beans.visibleColsService,this.headerNavigationService=beans.headerNavigationService,this.headerPositionUtils=beans.headerPositionUtils,this.rowRenderer=beans.rowRenderer,this.rowPositionUtils=beans.rowPositionUtils,this.cellPositionUtils=beans.cellPositionUtils,this.navigationService=beans.navigationService,this.ctrlsService=beans.ctrlsService,this.filterManager=beans.filterManager,this.rangeService=beans.rangeService,this.advancedFilterService=beans.advancedFilterService}static addKeyboardModeEvents(doc){this.instanceCount>0||(doc.addEventListener("keydown",_FocusService.toggleKeyboardMode),doc.addEventListener("mousedown",_FocusService.toggleKeyboardMode))}static removeKeyboardModeEvents(doc){this.instanceCount>0||(doc.addEventListener("keydown",_FocusService.toggleKeyboardMode),doc.addEventListener("mousedown",_FocusService.toggleKeyboardMode))}static toggleKeyboardMode(event){const isKeyboardActive=_FocusService.keyboardModeActive,isKeyboardEvent="keydown"===event.type;isKeyboardEvent&&(event.ctrlKey||event.metaKey||event.altKey)||isKeyboardActive!==isKeyboardEvent&&(_FocusService.keyboardModeActive=isKeyboardEvent)}static unregisterGridCompController(doc){_FocusService.removeKeyboardModeEvents(doc)}postConstruct(){const clearFocusedCellListener=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:clearFocusedCellListener,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:clearFocusedCellListener,columnRowGroupChanged:clearFocusedCellListener}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady((p=>{this.gridCtrl=p.gridCtrl}))}registerKeyboardFocusEvents(){const eDocument=this.gos.getDocument();_FocusService.addKeyboardModeEvents(eDocument),_FocusService.instanceCount++,this.addDestroyFunc((()=>{_FocusService.instanceCount--,_FocusService.unregisterGridCompController(eDocument)}))}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const col=this.focusedCellPosition.column,colFromColumnModel=this.columnModel.getCol(col.getId());col!==colFromColumnModel&&this.clearFocusedCell()}isKeyboardMode(){return _FocusService.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),RowCtrl.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),AbstractHeaderCellCtrl.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(eBrowserCell,key){let ePointer=eBrowserCell;for(;ePointer;){if(this.gos.getDomData(ePointer,key))return!1;ePointer=ePointer.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(cell){return!!this.isCellRestoreFocused(cell)&&(setTimeout((()=>{this.restoredFocusedCellPosition=null}),0),!0)}isCellRestoreFocused(cellPosition){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(cellPosition,this.restoredFocusedCellPosition)}setRestoreFocusedCell(cellPosition){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=cellPosition)}getFocusEventParams(){const{rowIndex,rowPinned,column}=this.focusedCellPosition,params={rowIndex,rowPinned,column,isFullWidthCell:!1},rowCtrl=this.rowRenderer.getRowByPosition({rowIndex,rowPinned});return rowCtrl&&(params.isFullWidthCell=rowCtrl.isFullWidth()),params}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const event={type:"cellFocusCleared",...this.getFocusEventParams()};this.focusedCellPosition=null,this.eventService.dispatchEvent(event)}setFocusedCell(params){const{column,rowIndex,rowPinned,forceBrowserFocus=!1,preventScrollOnBrowserFocus=!1}=params,gridColumn=this.columnModel.getCol(column);if(!gridColumn)return void(this.focusedCellPosition=null);this.focusedCellPosition=gridColumn?{rowIndex,rowPinned:_makeNull(rowPinned),column:gridColumn}:null;const event={type:"cellFocused",...this.getFocusEventParams(),forceBrowserFocus,preventScrollOnBrowserFocus};this.eventService.dispatchEvent(event)}isCellFocused(cellPosition){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(cellPosition,this.focusedCellPosition)}isRowNodeFocused(rowNode){return this.isRowFocused(rowNode.rowIndex,rowNode.rowPinned)}isHeaderWrapperFocused(headerCtrl){if(null==this.focusedHeaderPosition)return!1;const column=headerCtrl.getColumnGroupChild(),headerRowIndex=headerCtrl.getRowIndex(),pinned=headerCtrl.getPinned(),{column:focusedColumn,headerRowIndex:focusedHeaderRowIndex}=this.focusedHeaderPosition;return column===focusedColumn&&headerRowIndex===focusedHeaderRowIndex&&pinned==focusedColumn.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(headerRowIndex,column){this.focusedHeaderPosition={headerRowIndex,column}}focusHeaderPosition(params){if(this.gos.get("suppressHeaderFocus"))return!1;const{direction,fromTab,allowUserOverride,event,fromCell,rowWithoutSpanValue}=params;let{headerPosition}=params;if(fromCell&&this.filterManager?.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(headerPosition);if(allowUserOverride){const currentPosition=this.getFocusedHeader(),headerRowCount=this.headerNavigationService.getHeaderRowCount();if(fromTab){const userFunc=this.gos.getCallback("tabToNextHeader");userFunc&&(headerPosition=this.getHeaderPositionFromUserFunc({userFunc,direction,currentPosition,headerPosition,headerRowCount}))}else{const userFunc=this.gos.getCallback("navigateToNextHeader");if(userFunc&&event){headerPosition=userFunc({key:event.key,previousHeaderPosition:currentPosition,nextHeaderPosition:headerPosition,headerRowCount,event})}}}return!!headerPosition&&this.focusProvidedHeaderPosition({headerPosition,direction,event,fromCell,rowWithoutSpanValue})}focusHeaderPositionFromUserFunc(params){if(this.gos.get("suppressHeaderFocus"))return!1;const{userFunc,headerPosition,direction,event}=params,currentPosition=this.getFocusedHeader(),headerRowCount=this.headerNavigationService.getHeaderRowCount(),newHeaderPosition=this.getHeaderPositionFromUserFunc({userFunc,direction,currentPosition,headerPosition,headerRowCount});return!!newHeaderPosition&&this.focusProvidedHeaderPosition({headerPosition:newHeaderPosition,direction,event})}getHeaderPositionFromUserFunc(params){const{userFunc,direction,currentPosition,headerPosition,headerRowCount}=params,userResult=userFunc({backwards:"Before"===direction,previousHeaderPosition:currentPosition,nextHeaderPosition:headerPosition,headerRowCount});return!0===userResult||null===userResult?(null===userResult&&_warnOnce("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),currentPosition):!1===userResult?null:userResult}focusProvidedHeaderPosition(params){const{headerPosition,direction,fromCell,rowWithoutSpanValue,event}=params,{column,headerRowIndex}=headerPosition;if(-1===headerRowIndex)return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(headerPosition):this.focusGridView(column);this.headerNavigationService.scrollToColumn(column,direction);const focusSuccess=this.ctrlsService.getHeaderRowContainerCtrl(column.getPinned()).focusHeader(headerPosition.headerRowIndex,column,event);return focusSuccess&&(null!=rowWithoutSpanValue||fromCell)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(rowWithoutSpanValue??-1),focusSuccess}focusFirstHeader(){let firstColumn=this.visibleColsService.getAllCols()[0];if(!firstColumn)return!1;firstColumn.getParent()&&(firstColumn=this.visibleColsService.getColGroupAtLevel(firstColumn,0));const headerPosition=this.headerPositionUtils.getHeaderIndexToFocus(firstColumn,0);return this.focusHeaderPosition({headerPosition,rowWithoutSpanValue:0})}focusLastHeader(event){const headerRowIndex=this.headerNavigationService.getHeaderRowCount()-1,column=_last(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex,column},rowWithoutSpanValue:-1,event})}focusPreviousFromFirstCell(event){return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(event)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(rowIndex,rowPinnedType){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===rowIndex&&this.focusedCellPosition.rowPinned===_makeNull(rowPinnedType))}findFocusableElements(rootNode,exclude,onlyUnmanaged=!1){let excludeString=FOCUSABLE_EXCLUDE;exclude&&(excludeString+=", "+exclude),onlyUnmanaged&&(excludeString+=', [tabindex="-1"]');const nodes=Array.prototype.slice.apply(rootNode.querySelectorAll("[tabindex], input, select, button, textarea, [href]")).filter((node=>_isVisible(node))),excludeNodes=Array.prototype.slice.apply(rootNode.querySelectorAll(excludeString));if(!excludeNodes.length)return nodes;return b=excludeNodes,nodes.filter((element=>-1===b.indexOf(element)));var b}focusInto(rootNode,up=!1,onlyUnmanaged=!1){const focusableElements=this.findFocusableElements(rootNode,null,onlyUnmanaged),toFocus=up?_last(focusableElements):focusableElements[0];return!!toFocus&&(toFocus.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(rootNode,referenceElement){if(!referenceElement)return null;const focusableElements=this.findFocusableElements(rootNode),referenceIndex=focusableElements.indexOf(referenceElement);if(-1===referenceIndex)return null;let lastTabGuardIndex=-1;for(let i=referenceIndex-1;i>=0;i--)if(focusableElements[i].classList.contains("ag-tab-guard-top")){lastTabGuardIndex=i;break}return lastTabGuardIndex<=0?null:focusableElements[lastTabGuardIndex-1]}findNextFocusableElement(rootNode=this.eGridDiv,onlyManaged,backwards){const focusable=this.findFocusableElements(rootNode,onlyManaged?':not([tabindex="-1"])':null),activeEl=this.gos.getActiveDomElement();let currentIndex;currentIndex=onlyManaged?focusable.findIndex((el=>el.contains(activeEl))):focusable.indexOf(activeEl);const nextIndex=currentIndex+(backwards?-1:1);return nextIndex<0||nextIndex>=focusable.length?null:focusable[nextIndex]}isTargetUnderManagedComponent(rootNode,target){if(!target)return!1;const managedContainers=rootNode.querySelectorAll(`.${ManagedFocusFeature.FOCUS_MANAGED_CLASS}`);if(!managedContainers.length)return!1;for(let i=0;i<managedContainers.length;i++)if(managedContainers[i].contains(target))return!0;return!1}findTabbableParent(node,limit=5){let counter=0;for(;node&&null===_getTabIndex(node)&&++counter<=limit;)node=node.parentElement;return null===_getTabIndex(node)?null:node}focusGridView(column,backwards){if(this.gos.get("suppressCellFocus"))return backwards?this.gos.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);const nextRow=backwards?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!nextRow)return!1;const{rowIndex,rowPinned}=nextRow,focusedHeader=this.getFocusedHeader();return!column&&focusedHeader&&(column=focusedHeader.column),!(null==rowIndex||!column)&&(this.navigationService.ensureCellVisible({rowIndex,column,rowPinned}),this.setFocusedCell({rowIndex,column,rowPinned:_makeNull(rowPinned),forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex,rowPinned,column}),!0)}focusNextGridCoreContainer(backwards,forceOut=!1){return!(forceOut||!this.gridCtrl.focusNextInnerContainer(backwards))||((forceOut||!backwards&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(backwards),!1)}focusAdvancedFilter(position){return this.advancedFilterFocusColumn=position?.column,this.advancedFilterService?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(backwards,forceFirstColumn){const column=(forceFirstColumn?void 0:this.advancedFilterFocusColumn)??this.visibleColsService.getAllCols()?.[0];return backwards?this.focusHeaderPosition({headerPosition:{column,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(column)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(container){this.gridCtrl.addFocusableContainer(container)}removeFocusableContainer(container){this.gridCtrl.removeFocusableContainer(container)}focusGridInnerElement(fromBottom){return this.gridCtrl.focusInnerElement(fromBottom)}};_FocusService.keyboardModeActive=!1,_FocusService.instanceCount=0;var FocusService=_FocusService,PinnedWidthService=class extends BeanStub{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(beans){this.visibleColsService=beans.visibleColsService}postConstruct(){const listener=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:listener,displayedColumnsWidthChanged:listener}),this.addManagedPropertyListener("domLayout",listener)}checkContainerWidths(){const printLayout=this.gos.isDomLayout("print"),newLeftWidth=printLayout?0:this.visibleColsService.getColsLeftWidth(),newRightWidth=printLayout?0:this.visibleColsService.getDisplayedColumnsRightWidth();newLeftWidth!=this.leftWidth&&(this.leftWidth=newLeftWidth,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),newRightWidth!=this.rightWidth&&(this.rightWidth=newRightWidth,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},GridCtrl=class extends BeanStub{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(beans){this.beans=beans,this.focusService=beans.focusService,this.visibleColsService=beans.visibleColsService}setComp(view,eGridDiv,eGui){this.view=view,this.eGridHostDiv=eGridDiv,this.eGui=eGui,this.eGui.setAttribute("grid-id",this.gridId);const{dragAndDropService,mouseEventService,ctrlsService,resizeObserverService}=this.beans;dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:type=>1===type||0===type,getIconName:()=>"notAllowed"}),mouseEventService.stampTopLevelGridCompWithGridInstance(eGridDiv),this.createManagedBean(new LayoutFeature(this.view)),this.addRtlSupport();const unsubscribeFromResize=resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((()=>unsubscribeFromResize())),ctrlsService.register("gridCtrl",this)}isDetailGrid(){const el=this.focusService.findTabbableParent(this.getGui());return el?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const beans=this.beans;return{paginationSelector:beans.paginationService?.getPaginationSelector(),gridHeaderDropZonesSelector:beans.columnDropZonesService?.getDropZoneSelector(),sideBarSelector:beans.sideBarService?.getSideBarSelector(),statusBarSelector:beans.statusBarService?.getStatusPanelSelector(),watermarkSelector:beans.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){const event={type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(event)}addRtlSupport(){const cssClass=this.gos.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(cssClass)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(on){this.view.setCursor(on?"ew-resize":null)}disableUserSelect(on){this.view.setUserSelect(on?"none":null)}focusNextInnerContainer(backwards){const focusableContainers=this.getFocusableContainers(),activeEl=this.gos.getActiveDomElement(),idxWithFocus=focusableContainers.findIndex((container=>container.getGui().contains(activeEl))),nextIdx=idxWithFocus+(backwards?-1:1);if(nextIdx<0||nextIdx>=focusableContainers.length)return!1;if(0===nextIdx){if(idxWithFocus>0){const lastColumn=_last(this.visibleColsService.getAllCols());if(this.focusService.focusGridView(lastColumn,!0))return!0}return!1}return this.focusContainer(focusableContainers[nextIdx],backwards)}focusInnerElement(fromBottom){const focusableContainers=this.getFocusableContainers(),allColumns=this.visibleColsService.getAllCols(),userCallbackFunction=this.gos.getCallback("focusGridInnerElement");if(userCallbackFunction&&userCallbackFunction({fromBottom:!!fromBottom}))return!0;if(fromBottom){if(focusableContainers.length>1)return this.focusContainer(_last(focusableContainers),!0);const lastColumn=_last(allColumns);if(this.focusService.focusGridView(lastColumn,!0))return!0}if(0===this.gos.get("headerHeight")||this.gos.get("suppressHeaderFocus")){if(this.focusService.focusGridView(allColumns[0]))return!0;for(let i=1;i<focusableContainers.length;i++)if(this.focusService.focusInto(focusableContainers[i].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(up=!1){this.view.forceFocusOutOfContainer(up)}addFocusableContainer(container){this.additionalFocusableContainers.add(container)}removeFocusableContainer(container){this.additionalFocusableContainers.delete(container)}focusContainer(comp,up){comp?.setAllowFocus?.(!0);const result=this.focusService.focusInto(comp.getGui(),up);return comp?.setAllowFocus?.(!1),result}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers.values()]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},AlignedGridsModule={version:VERSION,moduleName:"@ag-grid-community/aligned-grid",beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(beans){this.columnModel=beans.columnModel,this.columnSizeService=beans.columnSizeService,this.ctrlsService=beans.ctrlsService,this.columnApplyStateService=beans.columnApplyStateService}getAlignedGridApis(){let alignedGrids=this.gos.get("alignedGrids")??[];const isCallbackConfig="function"==typeof alignedGrids;"function"==typeof alignedGrids&&(alignedGrids=alignedGrids());const seeUrl=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return alignedGrids.map((alignedGrid=>{if(!alignedGrid)return _errorOnce("alignedGrids contains an undefined option."),isCallbackConfig||_errorOnce('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void _errorOnce(seeUrl());if(this.isGridApi(alignedGrid))return alignedGrid;const refOrComp=alignedGrid;return"current"in refOrComp?refOrComp.current?.api:(refOrComp.api||_errorOnce(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${seeUrl()}`),refOrComp.api)})).filter((api=>!!api&&!api.isDestroyed()))}isGridApi(ref){return!!ref&&!!ref.dispatchEvent}postConstruct(){const fireColumnEvent=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:fireColumnEvent,columnVisible:fireColumnEvent,columnPinned:fireColumnEvent,columnGroupOpened:fireColumnEvent,columnResized:fireColumnEvent,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event})=>this.onColumnEvent(event),alignedGridScroll:({event})=>this.onScrollEvent(event)})}fireEvent(event){this.consuming||this.getAlignedGridApis().forEach((api=>{api.isDestroyed()||api.dispatchEvent(event)}))}onEvent(callback){this.consuming=!0,callback(),this.consuming=!1}fireColumnEvent(columnEvent){const event={type:"alignedGridColumn",event:columnEvent};this.fireEvent(event)}fireScrollEvent(scrollEvent){if("horizontal"!==scrollEvent.direction)return;const event={type:"alignedGridScroll",event:scrollEvent};this.fireEvent(event)}onScrollEvent(event){this.onEvent((()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(event.left,!0)}))}getMasterColumns(event){const result=[];return event.columns?event.columns.forEach((column=>{result.push(column)})):event.column&&result.push(event.column),result}getColumnIds(event){const result=[];return event.columns?event.columns.forEach((column=>{result.push(column.getColId())})):event.column&&result.push(event.column.getColId()),result}onColumnEvent(event){this.onEvent((()=>{switch(event.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{const colEvent=event;this.processColumnEvent(colEvent);break}case"columnGroupOpened":{const groupOpenedEvent=event;this.processGroupOpenedEvent(groupOpenedEvent);break}case"columnPivotChanged":_warnOnce("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))}processGroupOpenedEvent(groupOpenedEvent){groupOpenedEvent.columnGroups.forEach((masterGroup=>{let otherColumnGroup=null;if(masterGroup){const groupId=masterGroup.getGroupId();otherColumnGroup=this.columnModel.getProvidedColGroup(groupId)}masterGroup&&!otherColumnGroup||this.columnModel.setColumnGroupOpened(otherColumnGroup,masterGroup.isExpanded(),"alignedGridChanged")}))}processColumnEvent(colEvent){const masterColumn=colEvent.column;let otherColumn=null;if(masterColumn&&(otherColumn=this.columnModel.getColDefCol(masterColumn.getColId())),masterColumn&&!otherColumn)return;const masterColumns=this.getMasterColumns(colEvent);switch(colEvent.type){case"columnMoved":{const destColState=colEvent.api.getColumnState().map((s=>({colId:s.colId})));this.columnApplyStateService.applyColumnState({state:destColState,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const destColState=colEvent.api.getColumnState().map((s=>({colId:s.colId,hide:s.hide})));this.columnApplyStateService.applyColumnState({state:destColState},"alignedGridChanged")}break;case"columnPinned":{const destColState=colEvent.api.getColumnState().map((s=>({colId:s.colId,pinned:s.pinned})));this.columnApplyStateService.applyColumnState({state:destColState},"alignedGridChanged")}break;case"columnResized":{const resizedEvent=colEvent,columnWidths={};masterColumns.forEach((column=>{columnWidths[column.getId()]={key:column.getColId(),newWidth:column.getActualWidth()}})),resizedEvent.flexColumns?.forEach((col=>{columnWidths[col.getId()]&&delete columnWidths[col.getId()]})),this.columnSizeService.setColumnWidths(Object.values(columnWidths),!1,resizedEvent.finished,"alignedGridChanged");break}}const isVerticalScrollShowing=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach((api=>{api.setGridOption("alwaysShowVerticalScroll",isVerticalScrollShowing)}))}}]};var MONTH_LOCALE_TEXT={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},MONTH_KEYS=["january","february","march","april","may","june","july","august","september","october","november","december"],DataTypeModule={version:VERSION,moduleName:"@ag-grid-community/data-type",beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(beans){this.rowModel=beans.rowModel,this.columnModel=beans.columnModel,this.funcColsService=beans.funcColsService,this.valueService=beans.valueService,this.columnApplyStateService=beans.columnApplyStateService}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",(()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")})),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",(event=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(convertSourceType(event.source))}))}processDataTypeDefinitions(){const defaultDataTypes=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const generateFormatValueFunc=dataTypeDefinition=>params=>{const{column,node,value}=params;let valueFormatter=column.getColDef().valueFormatter;return valueFormatter===dataTypeDefinition.groupSafeValueFormatter&&(valueFormatter=dataTypeDefinition.valueFormatter),this.valueService.formatValue(column,node,value,valueFormatter)};Object.entries(defaultDataTypes).forEach((([cellDataType,dataTypeDefinition])=>{const mergedDataTypeDefinition={...dataTypeDefinition,groupSafeValueFormatter:this.createGroupSafeValueFormatter(dataTypeDefinition)};this.dataTypeDefinitions[cellDataType]=mergedDataTypeDefinition,this.formatValueFuncs[cellDataType]=generateFormatValueFunc(mergedDataTypeDefinition)}));const dataTypeDefinitions=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(dataTypeDefinitions).forEach((([cellDataType,dataTypeDefinition])=>{const mergedDataTypeDefinition=this.processDataTypeDefinition(dataTypeDefinition,dataTypeDefinitions,[cellDataType],defaultDataTypes);mergedDataTypeDefinition&&(this.dataTypeDefinitions[cellDataType]=mergedDataTypeDefinition,dataTypeDefinition.dataTypeMatcher&&(this.dataTypeMatchers[cellDataType]=dataTypeDefinition.dataTypeMatcher),this.formatValueFuncs[cellDataType]=generateFormatValueFunc(mergedDataTypeDefinition))})),this.checkObjectValueHandlers(defaultDataTypes),["dateString","text","number","boolean","date"].forEach((cellDataType=>{const overriddenDataTypeMatcher=this.dataTypeMatchers[cellDataType];overriddenDataTypeMatcher&&delete this.dataTypeMatchers[cellDataType],this.dataTypeMatchers[cellDataType]=overriddenDataTypeMatcher??defaultDataTypes[cellDataType].dataTypeMatcher}))}mergeDataTypeDefinitions(parentDataTypeDefinition,childDataTypeDefinition){const mergedDataTypeDefinition={...parentDataTypeDefinition,...childDataTypeDefinition};return parentDataTypeDefinition.columnTypes&&childDataTypeDefinition.columnTypes&&childDataTypeDefinition.appendColumnTypes&&(mergedDataTypeDefinition.columnTypes=[...convertColumnTypes(parentDataTypeDefinition.columnTypes),...convertColumnTypes(childDataTypeDefinition.columnTypes)]),mergedDataTypeDefinition}processDataTypeDefinition(dataTypeDefinition,dataTypeDefinitions,alreadyProcessedDataTypes,defaultDataTypes){let mergedDataTypeDefinition;const extendsCellDataType=dataTypeDefinition.extendsDataType;if(dataTypeDefinition.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),dataTypeDefinition.extendsDataType===dataTypeDefinition.baseDataType){let baseDataTypeDefinition=defaultDataTypes[extendsCellDataType];const overriddenBaseDataTypeDefinition=dataTypeDefinitions[extendsCellDataType];if(baseDataTypeDefinition&&overriddenBaseDataTypeDefinition&&(baseDataTypeDefinition=overriddenBaseDataTypeDefinition),!this.validateDataTypeDefinition(dataTypeDefinition,baseDataTypeDefinition,extendsCellDataType))return;mergedDataTypeDefinition=this.mergeDataTypeDefinitions(baseDataTypeDefinition,dataTypeDefinition)}else{if(alreadyProcessedDataTypes.includes(extendsCellDataType))return void _warnOnce('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');const extendedDataTypeDefinition=dataTypeDefinitions[extendsCellDataType];if(!this.validateDataTypeDefinition(dataTypeDefinition,extendedDataTypeDefinition,extendsCellDataType))return;const mergedExtendedDataTypeDefinition=this.processDataTypeDefinition(extendedDataTypeDefinition,dataTypeDefinitions,[...alreadyProcessedDataTypes,extendsCellDataType],defaultDataTypes);if(!mergedExtendedDataTypeDefinition)return;mergedDataTypeDefinition=this.mergeDataTypeDefinitions(mergedExtendedDataTypeDefinition,dataTypeDefinition)}return{...mergedDataTypeDefinition,groupSafeValueFormatter:this.createGroupSafeValueFormatter(mergedDataTypeDefinition)}}validateDataTypeDefinition(dataTypeDefinition,parentDataTypeDefinition,parentCellDataType){return parentDataTypeDefinition?parentDataTypeDefinition.baseDataType===dataTypeDefinition.baseDataType||(_warnOnce('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(_warnOnce(`The data type definition ${parentCellDataType} does not exist.`),!1)}createGroupSafeValueFormatter(dataTypeDefinition){if(dataTypeDefinition.valueFormatter)return params=>{if(params.node?.group){const aggFunc=params.column.getAggFunc();if(aggFunc){if("first"===aggFunc||"last"===aggFunc)return dataTypeDefinition.valueFormatter(params);if("number"===dataTypeDefinition.baseDataType&&"count"!==aggFunc){if("number"==typeof params.value)return dataTypeDefinition.valueFormatter(params);if("object"==typeof params.value){if(!params.value)return;if("toNumber"in params.value)return dataTypeDefinition.valueFormatter({...params,value:params.value.toNumber()});if("value"in params.value)return dataTypeDefinition.valueFormatter({...params,value:params.value.value})}}}if(!this.gos.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&params.column.isRowGroupActive()){if("string"!=typeof params.value||dataTypeDefinition.dataTypeMatcher?.(params.value))return dataTypeDefinition.valueFormatter(params);if(!this.gos.get("suppressGroupMaintainValueType"))return}return dataTypeDefinition.valueFormatter(params)}}updateColDefAndGetColumnType(colDef,userColDef,colId){let{cellDataType}=userColDef;const{field}=userColDef;if(void 0===cellDataType&&(cellDataType=colDef.cellDataType),null!=cellDataType&&!0!==cellDataType||(cellDataType=!!this.canInferCellDataType(colDef,userColDef)&&this.inferCellDataType(field,colId)),!cellDataType)return void(colDef.cellDataType=!1);const dataTypeDefinition=this.dataTypeDefinitions[cellDataType];if(dataTypeDefinition)return colDef.cellDataType=cellDataType,dataTypeDefinition.groupSafeValueFormatter&&(colDef.valueFormatter=dataTypeDefinition.groupSafeValueFormatter),dataTypeDefinition.valueParser&&(colDef.valueParser=dataTypeDefinition.valueParser),dataTypeDefinition.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(colDef,cellDataType,dataTypeDefinition,colId),dataTypeDefinition.columnTypes;_warnOnce(`Missing data type definition - "${cellDataType}"`)}addColumnListeners(column){if(!this.isWaitingForRowData)return;const columnStateUpdates=this.columnStateUpdatesPendingInference[column.getColId()];if(!columnStateUpdates)return;const columnListener=event=>{columnStateUpdates.add(event.key)};column.addEventListener("columnStateUpdated",columnListener),this.columnStateUpdateListenerDestroyFuncs.push((()=>column.removeEventListener("columnStateUpdated",columnListener)))}canInferCellDataType(colDef,userColDef){if("clientSide"!==this.rowModel.getType())return!1;const propsToCheckForInference={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(userColDef,propsToCheckForInference))return!1;const columnTypes=null===userColDef.type?colDef.type:userColDef.type;if(columnTypes){const columnTypeDefs=this.gos.get("columnTypes")??{};if(convertColumnTypes(columnTypes).some((columnType=>{const columnTypeDef=columnTypeDefs[columnType.trim()];return columnTypeDef&&this.doColDefPropsPreventInference(columnTypeDef,propsToCheckForInference)})))return!1}return!this.doColDefPropsPreventInference(colDef,propsToCheckForInference)}doColDefPropsPreventInference(colDef,propsToCheckForInference){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some((([prop,comparisonValue])=>this.doesColDefPropPreventInference(colDef,propsToCheckForInference,prop,comparisonValue)))}doesColDefPropPreventInference(colDef,checkProps,prop,comparisonValue){if(!checkProps[prop])return!1;const value=colDef[prop];return null===value?(checkProps[prop]=!1,!1):void 0===comparisonValue?!!value:value===comparisonValue}inferCellDataType(field,colId){if(!field)return;let value;const initialData=this.getInitialData();if(initialData){const fieldContainsDots=field.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");value=_getValueUsingField(initialData,field,fieldContainsDots)}else this.initWaitForRowData(colId);if(null==value)return;const[cellDataType]=Object.entries(this.dataTypeMatchers).find((([_cellDataType,dataTypeMatcher])=>dataTypeMatcher(value)))??["object"];return cellDataType}getInitialData(){const rowData=this.gos.get("rowData");if(rowData?.length)return rowData[0];if(this.initialData)return this.initialData;{const rowNodes=this.rowModel.getRootNode().allLeafChildren;if(rowNodes?.length)return rowNodes[0].data}return null}initWaitForRowData(colId){if(this.columnStateUpdatesPendingInference[colId]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const columnTypeOverridesExist=this.isColumnTypeOverrideInDataTypeDefinitions;columnTypeOverridesExist&&this.columnModel.queueResizeOperations();const[destroyFunc]=this.addManagedEventListeners({rowDataUpdateStarted:event=>{const{firstRowData}=event;if(!firstRowData)return;destroyFunc?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(firstRowData,columnTypeOverridesExist),this.columnStateUpdatesPendingInference={},columnTypeOverridesExist&&this.columnModel.processResizeOperations();this.eventService.dispatchEvent({type:"dataTypesInferred"})}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(firstRowData,columnTypeOverridesExist){this.initialData=firstRowData;const state=[];this.destroyColumnStateUpdateListeners();const newRowGroupColumnStateWithoutIndex={},newPivotColumnStateWithoutIndex={};Object.entries(this.columnStateUpdatesPendingInference).forEach((([colId,columnStateUpdates])=>{const column=this.columnModel.getCol(colId);if(!column)return;const oldColDef=column.getColDef();if(!this.columnModel.resetColDefIntoCol(column,"cellDataTypeInferred"))return;const newColDef=column.getColDef();if(columnTypeOverridesExist&&newColDef.type&&newColDef.type!==oldColDef.type){const updatedColumnState=this.getUpdatedColumnState(column,columnStateUpdates);updatedColumnState.rowGroup&&null==updatedColumnState.rowGroupIndex&&(newRowGroupColumnStateWithoutIndex[colId]=updatedColumnState),updatedColumnState.pivot&&null==updatedColumnState.pivotIndex&&(newPivotColumnStateWithoutIndex[colId]=updatedColumnState),state.push(updatedColumnState)}})),columnTypeOverridesExist&&state.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(newRowGroupColumnStateWithoutIndex,newPivotColumnStateWithoutIndex)),state.length&&this.columnApplyStateService.applyColumnState({state},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(column,columnStateUpdates){const columnState=this.columnApplyStateService.getColumnStateFromColDef(column);return columnStateUpdates.forEach((key=>{delete columnState[key],"rowGroup"===key?delete columnState.rowGroupIndex:"pivot"===key&&delete columnState.pivotIndex})),columnState}checkObjectValueHandlers(defaultDataTypes){const resolvedObjectDataTypeDefinition=this.dataTypeDefinitions.object,defaultObjectDataTypeDefinition=defaultDataTypes.object;this.hasObjectValueParser=resolvedObjectDataTypeDefinition.valueParser!==defaultObjectDataTypeDefinition.valueParser,this.hasObjectValueFormatter=resolvedObjectDataTypeDefinition.valueFormatter!==defaultObjectDataTypeDefinition.valueFormatter}getDateStringTypeDefinition(column){return column?this.getDataTypeDefinition(column)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(column){return this.getDateStringTypeDefinition(column).dateParser}getDateFormatterFunction(column){return this.getDateStringTypeDefinition(column).dateFormatter}getDataTypeDefinition(column){const colDef=column.getColDef();if(colDef.cellDataType)return this.dataTypeDefinitions[colDef.cellDataType]}getBaseDataType(column){return this.getDataTypeDefinition(column)?.baseDataType}checkType(column,value){if(null==value)return!0;const dataTypeMatcher=this.getDataTypeDefinition(column)?.dataTypeMatcher;return!dataTypeMatcher||dataTypeMatcher(value)}validateColDef(colDef){"object"===colDef.cellDataType&&(colDef.valueFormatter!==this.dataTypeDefinitions.object.groupSafeValueFormatter||this.hasObjectValueFormatter||_warnOnce('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),colDef.editable&&colDef.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&_warnOnce('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}getFormatValue(cellDataType){return this.formatValueFuncs[cellDataType]}setColDefPropertiesForBaseDataType(colDef,cellDataType,dataTypeDefinition,colId){const formatValue=this.formatValueFuncs[cellDataType],usingSetFilter=ModuleRegistry.__isRegistered("@ag-grid-enterprise/set-filter",this.gridId),translate=this.localeService.getLocaleTextFunc(),mergeFilterParams=params=>{const{filterParams}=colDef;colDef.filterParams="object"==typeof filterParams?{...filterParams,...params}:params};switch(dataTypeDefinition.baseDataType){case"number":colDef.cellEditor="agNumberCellEditor",usingSetFilter&&mergeFilterParams({comparator:(a,b)=>{const valA=null==a?0:parseInt(a),valB=null==b?0:parseInt(b);return valA===valB?0:valA>valB?1:-1}});break;case"boolean":colDef.cellEditor="agCheckboxCellEditor",colDef.cellRenderer="agCheckboxCellRenderer",colDef.suppressKeyboardEvent=params=>!!params.colDef.editable&&params.event.key===KeyCode.SPACE,mergeFilterParams(usingSetFilter?{valueFormatter:params=>_exists(params.value)?translate(String(params.value),params.value?"True":"False"):translate("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(_filterValues,cellValue)=>cellValue,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(_filterValues,cellValue)=>!1===cellValue,numberOfInputs:0}]});break;case"date":colDef.cellEditor="agDateCellEditor",colDef.keyCreator=formatValue,usingSetFilter&&mergeFilterParams({valueFormatter:params=>{const valueFormatted=formatValue(params);return _exists(valueFormatted)?valueFormatted:translate("blanks","(Blanks)")},treeList:!0,treeListFormatter:(pathKey,level)=>{if(1===level&&null!=pathKey){const monthKey=MONTH_KEYS[Number(pathKey)-1];return translate(monthKey,MONTH_LOCALE_TEXT[monthKey])}return pathKey??translate("blanks","(Blanks)")}});break;case"dateString":{colDef.cellEditor="agDateStringCellEditor",colDef.keyCreator=formatValue;const convertToDate=dataTypeDefinition.dateParser;mergeFilterParams(usingSetFilter?{valueFormatter:params=>{const valueFormatted=formatValue(params);return _exists(valueFormatted)?valueFormatted:translate("blanks","(Blanks)")},treeList:!0,treeListPathGetter:value=>{const date=convertToDate(value??void 0);return date?[String(date.getFullYear()),String(date.getMonth()+1),String(date.getDate())]:null},treeListFormatter:(pathKey,level)=>{if(1===level&&null!=pathKey){const monthKey=MONTH_KEYS[Number(pathKey)-1];return translate(monthKey,MONTH_LOCALE_TEXT[monthKey])}return pathKey??translate("blanks","(Blanks)")}}:{comparator:(filterDate,cellValue)=>{const cellAsDate=convertToDate(cellValue);return null==cellValue||cellAsDate<filterDate?-1:cellAsDate>filterDate?1:0}});break}case"object":colDef.cellEditorParams={useFormatter:!0},colDef.comparator=(a,b)=>{const column=this.columnModel.getColDefCol(colId),colDef2=column?.getColDef();if(!column||!colDef2)return 0;const valA=null==a?"":formatValue({column,node:null,value:a}),valB=null==b?"":formatValue({column,node:null,value:b});return valA===valB?0:valA>valB?1:-1},colDef.keyCreator=formatValue,usingSetFilter?mergeFilterParams({valueFormatter:params=>{const valueFormatted=formatValue(params);return _exists(valueFormatted)?valueFormatted:translate("blanks","(Blanks)")}}):colDef.filterValueGetter=params=>formatValue({column:params.column,node:params.node,value:this.valueService.getValue(params.column,params.node)})}}getDefaultDataTypes(){const defaultDateFormatMatcher=value=>!!value.match("^\\d{4}-\\d{2}-\\d{2}$"),translate=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:params=>""===params.newValue?.trim?.()?null:Number(params.newValue),valueFormatter:params=>null==params.value?"":"number"!=typeof params.value||isNaN(params.value)?translate("invalidNumber","Invalid Number"):String(params.value),dataTypeMatcher:value=>"number"==typeof value},text:{baseDataType:"text",valueParser:params=>""===params.newValue?null:_toStringOrNull(params.newValue),dataTypeMatcher:value=>"string"==typeof value},boolean:{baseDataType:"boolean",valueParser:params=>null==params.newValue?params.newValue:""===params.newValue?.trim?.()?null:"true"===String(params.newValue).toLowerCase(),valueFormatter:params=>null==params.value?"":String(params.value),dataTypeMatcher:value=>"boolean"==typeof value},date:{baseDataType:"date",valueParser:params=>_parseDateTimeFromString(null==params.newValue?null:String(params.newValue)),valueFormatter:params=>null==params.value?"":params.value instanceof Date&&!isNaN(params.value.getTime())?_serialiseDate(params.value,!1)??"":translate("invalidDate","Invalid Date"),dataTypeMatcher:value=>value instanceof Date},dateString:{baseDataType:"dateString",dateParser:value=>_parseDateTimeFromString(value)??void 0,dateFormatter:value=>_serialiseDate(value??null,!1)??void 0,valueParser:params=>defaultDateFormatMatcher(String(params.newValue))?params.newValue:null,valueFormatter:params=>defaultDateFormatMatcher(String(params.value))?params.value:"",dataTypeMatcher:value=>"string"==typeof value&&defaultDateFormatMatcher(value)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:params=>_toStringOrNull(params.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach((destroyFunc=>destroyFunc())),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}}]};function getCellValue(beans,params){const{colKey,rowNode,useFormatter}=params,column=beans.columnModel.getColDefCol(colKey)??beans.columnModel.getCol(colKey);if(_missing(column))return null;const value=beans.valueService.getValue(column,rowNode);if(useFormatter){return beans.valueService.formatValue(column,rowNode,value)??_escapeString(value,!0)}return value}function updateGridOptions(beans,options){beans.gos.updateGridOptions({options})}function getFirstDisplayedRowIndex(beans){return beans.rowRenderer.getFirstVirtualRenderedRow()}function getLastDisplayedRowIndex(beans){return beans.rowRenderer.getLastVirtualRenderedRow()}var CommunityApiModule={version:VERSION,moduleName:"@ag-grid-community/api",dependantModules:[{version:VERSION,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:function getGridId(beans){return beans.context.getGridId()},destroy:function destroy(beans){beans.gridDestroyService.destroy()},isDestroyed:function isDestroyed(beans){return beans.gridDestroyService.isDestroyCalled()},getGridOption:function getGridOption(beans,key){return beans.gos.get(key)},setGridOption:function setGridOption(beans,key,value){updateGridOptions(beans,{[key]:value})},updateGridOptions}},{version:VERSION,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:function getPinnedTopRowCount(beans){return beans.pinnedRowModel.getPinnedTopRowCount()},getPinnedBottomRowCount:function getPinnedBottomRowCount(beans){return beans.pinnedRowModel.getPinnedBottomRowCount()},getPinnedTopRow:function getPinnedTopRow(beans,index){return beans.pinnedRowModel.getPinnedTopRow(index)},getPinnedBottomRow:function getPinnedBottomRow(beans,index){return beans.pinnedRowModel.getPinnedBottomRow(index)}}},{version:VERSION,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:function setNodesSelected(beans,params){if(!params.nodes.every((node=>node.rowPinned?(_warnOnce("cannot select pinned rows"),!1):void 0!==node.id||(_warnOnce("cannot select node until id for node is known"),!1))))return;const{nodes,source,newValue}=params,nodesAsRowNode=nodes;beans.selectionService.setNodesSelected({nodes:nodesAsRowNode,source:source??"api",newValue})},selectAll:function selectAll(beans,source="apiSelectAll"){beans.selectionService.selectAllRowNodes({source})},deselectAll:function deselectAll(beans,source="apiSelectAll"){beans.selectionService.deselectAllRowNodes({source})},selectAllFiltered:function selectAllFiltered(beans,source="apiSelectAllFiltered"){beans.selectionService.selectAllRowNodes({source,justFiltered:!0})},deselectAllFiltered:function deselectAllFiltered(beans,source="apiSelectAllFiltered"){beans.selectionService.deselectAllRowNodes({source,justFiltered:!0})},selectAllOnCurrentPage:function selectAllOnCurrentPage(beans,source="apiSelectAllCurrentPage"){beans.selectionService.selectAllRowNodes({source,justCurrentPage:!0})},deselectAllOnCurrentPage:function deselectAllOnCurrentPage(beans,source="apiSelectAllCurrentPage"){beans.selectionService.deselectAllRowNodes({source,justCurrentPage:!0})},getSelectedNodes:function getSelectedNodes(beans){return beans.selectionService.getSelectedNodes()},getSelectedRows:function getSelectedRows(beans){return beans.selectionService.getSelectedRows()}}},{version:VERSION,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:function getColumnDef(beans,key){const column=beans.columnModel.getColDefCol(key);return column?column.getColDef():null},getColumnDefs:function getColumnDefs(beans){return beans.columnModel.getColumnDefs()},sizeColumnsToFit:function sizeColumnsToFit(beans,paramsOrGridWidth){"number"==typeof paramsOrGridWidth?beans.columnSizeService.sizeColumnsToFit(paramsOrGridWidth,"api"):beans.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(paramsOrGridWidth)},setColumnGroupOpened:function setColumnGroupOpened(beans,group,newValue){beans.columnModel.setColumnGroupOpened(group,newValue,"api")},getColumnGroup:function getColumnGroup(beans,name,instanceId){return beans.visibleColsService.getColumnGroup(name,instanceId)},getProvidedColumnGroup:function getProvidedColumnGroup(beans,name){return beans.columnModel.getProvidedColGroup(name)},getDisplayNameForColumn:function getDisplayNameForColumn(beans,column,location){return beans.columnNameService.getDisplayNameForColumn(column,location)||""},getDisplayNameForColumnGroup:function getDisplayNameForColumnGroup(beans,columnGroup,location){return beans.columnNameService.getDisplayNameForColumnGroup(columnGroup,location)||""},getColumn:function getColumn(beans,key){return beans.columnModel.getColDefCol(key)},getColumns:function getColumns(beans){return beans.columnModel.getColDefCols()},applyColumnState:function applyColumnState(beans,params){return beans.columnApplyStateService.applyColumnState(params,"api")},getColumnState:function getColumnState(beans){return beans.columnGetStateService.getColumnState()},resetColumnState:function resetColumnState(beans){beans.columnApplyStateService.resetColumnState("api")},getColumnGroupState:function getColumnGroupState(beans){return beans.columnGroupStateService.getColumnGroupState()},setColumnGroupState:function setColumnGroupState(beans,stateItems){beans.columnGroupStateService.setColumnGroupState(stateItems,"api")},resetColumnGroupState:function resetColumnGroupState(beans){beans.columnGroupStateService.resetColumnGroupState("api")},isPinning:function isPinning(beans){return beans.visibleColsService.isPinningLeft()||beans.visibleColsService.isPinningRight()},isPinningLeft:function isPinningLeft(beans){return beans.visibleColsService.isPinningLeft()},isPinningRight:function isPinningRight(beans){return beans.visibleColsService.isPinningRight()},getDisplayedColAfter:function getDisplayedColAfter(beans,col){return beans.visibleColsService.getColAfter(col)},getDisplayedColBefore:function getDisplayedColBefore(beans,col){return beans.visibleColsService.getColBefore(col)},setColumnVisible:function setColumnVisible(beans,key,visible){beans.columnModel.setColsVisible([key],visible,"api")},setColumnsVisible:function setColumnsVisible(beans,keys,visible){beans.columnModel.setColsVisible(keys,visible,"api")},setColumnPinned:function setColumnPinned(beans,key,pinned){beans.columnModel.setColsPinned([key],pinned,"api")},setColumnsPinned:function setColumnsPinned(beans,keys,pinned){beans.columnModel.setColsPinned(keys,pinned,"api")},getAllGridColumns:function getAllGridColumns(beans){return beans.columnModel.getCols()},getDisplayedLeftColumns:function getDisplayedLeftColumns(beans){return beans.visibleColsService.getLeftCols()},getDisplayedCenterColumns:function getDisplayedCenterColumns(beans){return beans.visibleColsService.getCenterCols()},getDisplayedRightColumns:function getDisplayedRightColumns(beans){return beans.visibleColsService.getRightCols()},getAllDisplayedColumns:function getAllDisplayedColumns(beans){return beans.visibleColsService.getAllCols()},getAllDisplayedVirtualColumns:function getAllDisplayedVirtualColumns(beans){return beans.columnViewportService.getViewportColumns()},moveColumn:function moveColumn(beans,key,toIndex){beans.columnMoveService.moveColumns([key],toIndex,"api")},moveColumnByIndex:function moveColumnByIndex(beans,fromIndex,toIndex){beans.columnMoveService.moveColumnByIndex(fromIndex,toIndex,"api")},moveColumns:function moveColumns2(beans,columnsToMoveKeys,toIndex){beans.columnMoveService.moveColumns(columnsToMoveKeys,toIndex,"api")},setColumnWidth:function setColumnWidth(beans,key,newWidth,finished=!0,source="api"){beans.columnSizeService.setColumnWidths([{key,newWidth}],!1,finished,source)},setColumnWidths:function setColumnWidths(beans,columnWidths,finished=!0,source="api"){beans.columnSizeService.setColumnWidths(columnWidths,!1,finished,source)},getLeftDisplayedColumnGroups:function getLeftDisplayedColumnGroups(beans){return beans.visibleColsService.getTreeLeft()},getCenterDisplayedColumnGroups:function getCenterDisplayedColumnGroups(beans){return beans.visibleColsService.getTreeCenter()},getRightDisplayedColumnGroups:function getRightDisplayedColumnGroups(beans){return beans.visibleColsService.getTreeRight()},getAllDisplayedColumnGroups:function getAllDisplayedColumnGroups(beans){return beans.visibleColsService.getAllTrees()},autoSizeColumn:function autoSizeColumn(beans,key,skipHeader){return beans.columnAutosizeService.autoSizeCols({colKeys:[key],skipHeader,source:"api"})},autoSizeColumns:function autoSizeColumns(beans,keys,skipHeader){beans.columnAutosizeService.autoSizeCols({colKeys:keys,skipHeader,source:"api"})},autoSizeAllColumns:function autoSizeAllColumns(beans,skipHeader){beans.columnAutosizeService.autoSizeAllColumns("api",skipHeader)}}},{version:VERSION,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:function redrawRows(beans,params={}){const rowNodes=params?params.rowNodes:void 0;beans.frameworkOverrides.wrapIncoming((()=>beans.rowRenderer.redrawRows(rowNodes)))},setRowNodeExpanded:function setRowNodeExpanded(beans,rowNode,expanded,expandParents,forceSync){beans.expansionService.setRowNodeExpanded(rowNode,expanded,expandParents,forceSync)},getRowNode:function getRowNode(beans,id){return beans.rowModel.getRowNode(id)},addRenderedRowListener:function addRenderedRowListener(beans,eventName,rowIndex,callback){beans.rowRenderer.addRenderedRowListener(eventName,rowIndex,callback)},getRenderedNodes:function getRenderedNodes(beans){return beans.rowRenderer.getRenderedNodes()},forEachNode:function forEachNode(beans,callback,includeFooterNodes){beans.rowModel.forEachNode(callback,includeFooterNodes)},getFirstDisplayedRow:function getFirstDisplayedRow(beans){return getFirstDisplayedRowIndex(beans)},getFirstDisplayedRowIndex,getLastDisplayedRow:function getLastDisplayedRow(beans){return getLastDisplayedRowIndex(beans)},getLastDisplayedRowIndex,getDisplayedRowAtIndex:function getDisplayedRowAtIndex(beans,index){return beans.rowModel.getRow(index)},getDisplayedRowCount:function getDisplayedRowCount(beans){return beans.rowModel.getRowCount()},getModel:function getModel(beans){return beans.rowModel}}},{version:VERSION,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:function addRowDropZone(beans,params){beans.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(params)},removeRowDropZone:function removeRowDropZone(beans,params){const activeDropTarget=beans.dragAndDropService.findExternalZone(params);activeDropTarget&&beans.dragAndDropService.removeDropTarget(activeDropTarget)},getRowDropZoneParams:function getRowDropZoneParams(beans,events){return beans.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(events)}}},{version:VERSION,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:function getVerticalPixelRange(beans){return beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()},getHorizontalPixelRange:function getHorizontalPixelRange(beans){return beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()},ensureColumnVisible,ensureIndexVisible,ensureNodeVisible:function ensureNodeVisible(beans,nodeSelector,position=null){beans.frameworkOverrides.wrapIncoming((()=>beans.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(nodeSelector,position)),"ensureVisible")}}},{version:VERSION,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:function showLoadingOverlay(beans){beans.overlayService.showLoadingOverlay()},showNoRowsOverlay:function showNoRowsOverlay(beans){beans.overlayService.showNoRowsOverlay()},hideOverlay:function hideOverlay(beans){beans.overlayService.hideOverlay()}}},{version:VERSION,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:function getFocusedCell(beans){return beans.focusService.getFocusedCell()},clearFocusedCell:function clearFocusedCell(beans){return beans.focusService.clearFocusedCell()},setFocusedCell:function setFocusedCell(beans,rowIndex,colKey,rowPinned){beans.focusService.setFocusedCell({rowIndex,column:colKey,rowPinned,forceBrowserFocus:!0})},setFocusedHeader:function setFocusedHeader(beans,colKey,floatingFilter=!1){const headerPosition=beans.headerNavigationService.getHeaderPositionForColumn(colKey,floatingFilter);headerPosition&&beans.focusService.focusHeaderPosition({headerPosition})},tabToNextCell:function tabToNextCell(beans,event){return beans.navigationService.tabToNextCell(!1,event)},tabToPreviousCell:function tabToPreviousCell(beans,event){return beans.navigationService.tabToNextCell(!0,event)}}},{version:VERSION,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:function addEventListener(beans,eventType,listener){beans.apiEventService.addEventListener(eventType,listener)},addGlobalListener:function addGlobalListener(beans,listener){beans.apiEventService.addGlobalListener(listener)},removeEventListener:function removeEventListener(beans,eventType,listener){beans.apiEventService.removeEventListener(eventType,listener)},removeGlobalListener:function removeGlobalListener(beans,listener){beans.apiEventService.removeGlobalListener(listener)}}},{version:VERSION,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:function setGridAriaProperty(beans,property,value){if(!property)return;const eGrid=beans.ctrlsService.getGridBodyCtrl().getGui(),ariaProperty=`aria-${property}`;null===value?eGrid.removeAttribute(ariaProperty):eGrid.setAttribute(ariaProperty,value)},refreshCells:function refreshCells(beans,params={}){beans.frameworkOverrides.wrapIncoming((()=>beans.rowRenderer.refreshCells(params)))},flashCells:function flashCells(beans,params={}){const warning=prop=>_warnOnce(`Since v31.1 api.flashCells parameter '${prop}Delay' is deprecated. Please use '${prop}Duration' instead.`);_exists(params.fadeDelay)&&warning("fade"),_exists(params.flashDelay)&&warning("flash"),beans.frameworkOverrides.wrapIncoming((()=>beans.rowRenderer.flashCells(params)))},refreshHeader:function refreshHeader(beans){beans.frameworkOverrides.wrapIncoming((()=>beans.ctrlsService.getHeaderRowContainerCtrls().forEach((c=>c.refresh()))))},isAnimationFrameQueueEmpty:function isAnimationFrameQueueEmpty(beans){return beans.animationFrameService.isQueueEmpty()},flushAllAnimationFrames:function flushAllAnimationFrames(beans){beans.animationFrameService.flushAllFrames()},getSizesForCurrentTheme:function getSizesForCurrentTheme(beans){return{rowHeight:beans.gos.getRowHeightAsNumber(),headerHeight:beans.columnModel.getHeaderHeight()}},getCellRendererInstances:function getCellRendererInstances(beans,params={}){return beans.rowRenderer.getCellRendererInstances(params).map(_unwrapUserComp)}}},{version:VERSION,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:function expireValueCache(beans){beans.valueCache.expire()},getValue:function getValue(beans,colKey,rowNode){return getCellValue(beans,{colKey,rowNode})},getCellValue}},{version:VERSION,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:function showColumnMenuAfterButtonClick(beans,colKey,buttonElement){const column=beans.columnModel.getCol(colKey);beans.menuService.showColumnMenu({column,buttonElement,positionBy:"button"})},showColumnMenuAfterMouseClick:function showColumnMenuAfterMouseClick(beans,colKey,mouseEvent){let column=beans.columnModel.getCol(colKey);column||(column=beans.columnModel.getColDefCol(colKey)),column?beans.menuService.showColumnMenu({column,mouseEvent,positionBy:"mouse"}):_errorOnce(`column '${colKey}' not found`)},showColumnMenu:function showColumnMenu(beans,colKey){const column=beans.columnModel.getCol(colKey);column?beans.menuService.showColumnMenu({column,positionBy:"auto"}):_errorOnce(`column '${colKey}' not found`)},hidePopupMenu:function hidePopupMenu(beans){beans.menuService.hidePopupMenu()}}},{version:VERSION,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:function onSortChanged(beans){beans.sortController.onSortChanged("api")}}}]};var StateCoreModule={version:VERSION,moduleName:"@ag-grid-community/state-core",beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=_debounce((()=>this.dispatchQueuedStateUpdateEvents()),0),this.onRowGroupOpenedDebounced=_debounce((()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),0),this.onRowSelectedDebounced=_debounce((()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())}),0),this.staleStateKeys=new Set}wireBeans(beans){this.filterManager=beans.filterManager,this.ctrlsService=beans.ctrlsService,this.pivotResultColsService=beans.pivotResultColsService,this.focusService=beans.focusService,this.columnModel=beans.columnModel,this.visibleColsService=beans.visibleColsService,this.columnGroupStateService=beans.columnGroupStateService,this.columnGetStateService=beans.columnGetStateService,this.paginationService=beans.paginationService,this.rowModel=beans.rowModel,this.selectionService=beans.selectionService,this.expansionService=beans.expansionService,this.columnAnimationService=beans.columnAnimationService,this.columnApplyStateService=beans.columnApplyStateService,this.sideBarService=beans.sideBarService,this.rangeService=beans.rangeService}postConstruct(){this.isClientSideRowModel="clientSide"===this.rowModel.getType(),this.cachedState=this.gos.get("initialState")??{},this.ctrlsService.whenReady((()=>this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnGridReady()))));const[newColumnsLoadedDestroyFunc,rowCountReadyDestroyFunc,firstDataRenderedDestroyFunc]=this.addManagedEventListeners({newColumnsLoaded:({source})=>{"gridInitializing"===source&&(newColumnsLoadedDestroyFunc(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnColumnsInitialised())))},rowCountReady:()=>{rowCountReadyDestroyFunc?.(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnRowCountReady()))},firstDataRendered:()=>{firstDataRenderedDestroyFunc?.(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnFirstDataRendered()))}})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const stateUpdater=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:stateUpdater,sideBarUpdated:stateUpdater})}setupStateOnColumnsInitialised(){const initialState=this.gos.get("initialState")??{};this.setColumnState(initialState),this.setColumnGroupState(initialState),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedEventListeners({columnValueChanged:()=>this.updateColumnState(["aggregation"]),columnMoved:()=>this.updateColumnState(["columnOrder"]),columnPinned:()=>this.updateColumnState(["columnPinning"]),columnResized:()=>this.updateColumnState(["columnSizing"]),columnVisible:()=>this.updateColumnState(["columnVisibility"]),columnPivotChanged:()=>this.updateColumnState(["pivot"]),columnPivotModeChanged:()=>this.updateColumnState(["pivot"]),columnRowGroupChanged:()=>this.updateColumnState(["rowGroup"]),sortChanged:()=>this.updateColumnState(["sort"]),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:filterState,rowGroupExpansion:rowGroupExpansionState,rowSelection:rowSelectionState,pagination:paginationState}=this.gos.get("initialState")??{},advancedFilterModel=this.gos.get("advancedFilterModel");(filterState||advancedFilterModel)&&this.setFilterState(filterState,advancedFilterModel),rowGroupExpansionState&&this.setRowGroupExpansionState(rowGroupExpansionState),rowSelectionState&&this.setRowSelectionState(rowSelectionState),paginationState&&this.setPaginationState(paginationState),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:event=>{(event.newPage||event.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:scrollState,rangeSelection:rangeSelectionState,focusedCell:focusedCellState,columnOrder:columnOrderState}=this.gos.get("initialState")??{};focusedCellState&&this.setFocusedCellState(focusedCellState),rangeSelectionState&&this.setRangeSelectionState(rangeSelectionState),scrollState&&this.setScrollState(scrollState),this.setColumnPivotState(!!columnOrderState?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),rangeSelectionChanged:event=>{event.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const pivotMode=this.columnModel.isPivotMode(),sortColumns=[],groupColIds=[],aggregationColumns=[],pivotColIds=[],leftColIds=[],rightColIds=[],hiddenColIds=[],columnSizes=[],columns=[],columnState=this.columnGetStateService.getColumnState();for(let i=0;i<columnState.length;i++){const{colId,sort,sortIndex,rowGroup,rowGroupIndex,aggFunc,pivot,pivotIndex,pinned,hide,width,flex}=columnState[i];columns.push(colId),sort&&(sortColumns[sortIndex??0]={colId,sort}),rowGroup&&(groupColIds[rowGroupIndex??0]=colId),"string"==typeof aggFunc&&aggregationColumns.push({colId,aggFunc}),pivot&&(pivotColIds[pivotIndex??0]=colId),pinned&&("right"===pinned?rightColIds:leftColIds).push(colId),hide&&hiddenColIds.push(colId),(flex||width)&&columnSizes.push({colId,flex:flex??void 0,width})}return{sort:sortColumns.length?{sortModel:sortColumns}:void 0,rowGroup:groupColIds.length?{groupColIds}:void 0,aggregation:aggregationColumns.length?{aggregationModel:aggregationColumns}:void 0,pivot:pivotColIds.length||pivotMode?{pivotMode,pivotColIds}:void 0,columnPinning:leftColIds.length||rightColIds.length?{leftColIds,rightColIds}:void 0,columnVisibility:hiddenColIds.length?{hiddenColIds}:void 0,columnSizing:columnSizes.length?{columnSizingModel:columnSizes}:void 0,columnOrder:columns.length?{orderedColIds:columns}:void 0}}setColumnState(initialState){const{sort:sortState,rowGroup:groupState,aggregation:aggregationState,pivot:pivotState,columnPinning:columnPinningState,columnVisibility:columnVisibilityState,columnSizing:columnSizingState,columnOrder:columnOrderState}=initialState,columnStateMap={},getColumnState2=colId=>{let columnState=columnStateMap[colId];return columnState||(columnState={colId},columnStateMap[colId]=columnState,columnState)};sortState&&sortState.sortModel.forEach((({colId,sort},sortIndex)=>{const columnState=getColumnState2(colId);columnState.sort=sort,columnState.sortIndex=sortIndex})),groupState&&groupState.groupColIds.forEach(((colId,rowGroupIndex)=>{const columnState=getColumnState2(colId);columnState.rowGroup=!0,columnState.rowGroupIndex=rowGroupIndex})),aggregationState&&aggregationState.aggregationModel.forEach((({colId,aggFunc})=>{getColumnState2(colId).aggFunc=aggFunc})),pivotState&&(pivotState.pivotColIds.forEach(((colId,pivotIndex)=>{const columnState=getColumnState2(colId);columnState.pivot=!0,columnState.pivotIndex=pivotIndex})),this.gos.updateGridOptions({options:{pivotMode:pivotState.pivotMode},source:"gridInitializing"})),columnPinningState&&(columnPinningState.leftColIds.forEach((colId=>{getColumnState2(colId).pinned="left"})),columnPinningState.rightColIds.forEach((colId=>{getColumnState2(colId).pinned="right"}))),columnVisibilityState&&columnVisibilityState.hiddenColIds.forEach((colId=>{getColumnState2(colId).hide=!0})),columnSizingState&&columnSizingState.columnSizingModel.forEach((({colId,flex,width})=>{const columnState=getColumnState2(colId);columnState.flex=flex??null,columnState.width=width}));const columns=columnOrderState?.orderedColIds,applyOrder=!!columns?.length,columnStates=applyOrder?columns.map((colId=>getColumnState2(colId))):Object.values(columnStateMap);if(columnStates.length){this.columnStates=columnStates;const defaultState={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnApplyStateService.applyColumnState({state:columnStates,applyOrder,defaultState},"gridInitializing")}}setColumnPivotState(applyOrder){const columnStates=this.columnStates;this.columnStates=void 0;const columnGroupStates=this.columnGroupStates;if(this.columnGroupStates=void 0,this.pivotResultColsService.isPivotResultColsPresent()){if(columnStates){const secondaryColumnStates=[];for(const columnState of columnStates)this.pivotResultColsService.getPivotResultCol(columnState.colId)&&secondaryColumnStates.push(columnState);this.columnApplyStateService.applyColumnState({state:secondaryColumnStates,applyOrder},"gridInitializing")}columnGroupStates&&this.columnGroupStateService.setColumnGroupState(columnGroupStates,"gridInitializing")}}getColumnGroupState(){const columnGroupState=this.columnGroupStateService.getColumnGroupState(),openColumnGroups=[];return columnGroupState.forEach((({groupId,open})=>{open&&openColumnGroups.push(groupId)})),openColumnGroups.length?{openColumnGroupIds:openColumnGroups}:void 0}setColumnGroupState(initialState){if(!Object.prototype.hasOwnProperty.call(initialState,"columnGroup"))return;const openColumnGroups=new Set(initialState.columnGroup?.openColumnGroupIds),stateItems=this.columnGroupStateService.getColumnGroupState().map((({groupId})=>{const open=openColumnGroups.has(groupId);return open&&openColumnGroups.delete(groupId),{groupId,open}}));openColumnGroups.forEach((groupId=>{stateItems.push({groupId,open:!0})})),stateItems.length&&(this.columnGroupStates=stateItems),this.columnGroupStateService.setColumnGroupState(stateItems,"gridInitializing")}getFilterState(){let filterModel=this.filterManager?.getFilterModel();filterModel&&0===Object.keys(filterModel).length&&(filterModel=void 0);const advancedFilterModel=this.filterManager?.getAdvancedFilterModel()??void 0;return filterModel||advancedFilterModel?{filterModel,advancedFilterModel}:void 0}setFilterState(filterState,gridOptionAdvancedFilterModel){const{filterModel,advancedFilterModel}=filterState??{advancedFilterModel:gridOptionAdvancedFilterModel};filterModel&&this.filterManager?.setFilterModel(filterModel,"columnFilter"),advancedFilterModel&&this.filterManager?.setAdvancedFilterModel(advancedFilterModel)}getRangeSelectionState(){const cellRanges=this.rangeService?.getCellRanges().map((cellRange=>{const{id,type,startRow,endRow,columns,startColumn}=cellRange;return{id,type,startRow,endRow,colIds:columns.map((column=>column.getColId())),startColId:startColumn.getColId()}}));return cellRanges?.length?{cellRanges}:void 0}setRangeSelectionState(rangeSelectionState){if(!this.gos.get("enableRangeSelection")||!this.rangeService)return;const cellRanges=[];rangeSelectionState.cellRanges.forEach((cellRange=>{const columns=[];if(cellRange.colIds.forEach((colId=>{const column=this.columnModel.getCol(colId);column&&columns.push(column)})),!columns.length)return;let startColumn=this.columnModel.getCol(cellRange.startColId);if(!startColumn){const allColumns=this.visibleColsService.getAllCols(),columnSet=new Set(columns);startColumn=allColumns.find((column=>columnSet.has(column)))}cellRanges.push({...cellRange,columns,startColumn})})),this.rangeService.setCellRanges(cellRanges)}getScrollState(){if(!this.isClientSideRowModel)return;const scrollFeature=this.ctrlsService.getGridBodyCtrl()?.getScrollFeature(),{left}=scrollFeature?.getHScrollPosition()??{left:0},{top}=scrollFeature?.getVScrollPosition()??{top:0};return top||left?{top,left}:void 0}setScrollState(scrollState){if(!this.isClientSideRowModel)return;const{top,left}=scrollState;this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(top,left)}getSideBarState(){return this.sideBarService?.getSideBarComp()?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const focusedCell=this.focusService.getFocusedCell();if(focusedCell){const{column,rowIndex,rowPinned}=focusedCell;return{colId:column.getColId(),rowIndex,rowPinned}}}setFocusedCellState(focusedCellState){if(!this.isClientSideRowModel)return;const{colId,rowIndex,rowPinned}=focusedCellState;this.focusService.setFocusedCell({column:this.columnModel.getCol(colId),rowIndex,rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const page=this.paginationService.getCurrentPage(),pageSize=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();return page||pageSize?{page,pageSize}:void 0}setPaginationState(paginationState){this.paginationService&&(paginationState.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(paginationState.pageSize,"initialState"),"number"==typeof paginationState.page&&this.paginationService.setPage(paginationState.page))}getRowSelectionState(){const selectionState=this.selectionService.getSelectionState();return!selectionState||!Array.isArray(selectionState)&&(!1===selectionState.selectAll||!1===selectionState.selectAllChildren)&&!selectionState?.toggledNodes?.length?void 0:selectionState}setRowSelectionState(rowSelectionState){this.selectionService.setSelectionState(rowSelectionState,"gridInitializing")}getRowGroupExpansionState(){const expandedRowGroups=this.expansionService.getExpandedRows();return expandedRowGroups.length?{expandedRowGroupIds:expandedRowGroups}:void 0}setRowGroupExpansionState(rowGroupExpansionState){this.expansionService.expandRows(rowGroupExpansionState.expandedRowGroupIds)}updateColumnState(features){const newColumnState=this.getColumnState();let hasChanged=!1;Object.entries(newColumnState).forEach((([key,value])=>{_jsonEquals(value,this.cachedState[key])||(hasChanged=!0)})),this.cachedState={...this.cachedState,...newColumnState},hasChanged&&this.dispatchStateUpdateEvent(features)}updateCachedState(key,value){const existingValue=this.cachedState[key];this.setCachedStateValue(key,value),_jsonEquals(value,existingValue)||this.dispatchStateUpdateEvent([key])}setCachedStateValue(key,value){this.cachedState={...this.cachedState,[key]:value}}refreshStaleState(){this.staleStateKeys.forEach((key=>{if("rowSelection"===key)this.setCachedStateValue(key,this.getRowSelectionState())})),this.staleStateKeys.clear()}dispatchStateUpdateEvent(sources){this.suppressEvents||(sources.forEach((source=>this.queuedUpdateSources.add(source))),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const sources=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();const event={type:"stateUpdated",sources,state:this.cachedState};this.eventService.dispatchEvent(event)}suppressEventsAndDispatchInitEvent(updateFunc){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),updateFunc(),setTimeout((()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))}))}}]},StateModule={version:VERSION,moduleName:"@ag-grid-community/state",dependantModules:[StateCoreModule,{version:VERSION,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:function getState(beans){return beans.stateService?.getState()??{}}},dependantModules:[StateCoreModule]}]};var PageSizeSelectorSelector={selector:"AG-PAGE-SIZE-SELECTOR",component:class extends Component{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const newValue=this.selectPageSizeComp.getValue();if(!newValue)return;const paginationPageSize=Number(newValue);isNaN(paginationPageSize)||paginationPageSize<1||paginationPageSize===this.paginationService.getPageSize()||(this.paginationService.setPageSize(paginationPageSize,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(beans){this.paginationService=beans.paginationService}postConstruct(){this.addManagedPropertyListener("paginationPageSizeSelector",(()=>{this.onPageSizeSelectorValuesChange()})),this.addManagedEventListeners({paginationChanged:event=>this.handlePaginationChanged(event)})}handlePaginationChanged(paginationChangedEvent){if(!this.selectPageSizeComp||!paginationChangedEvent?.newPageSize)return;const paginationPageSize=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(paginationPageSize)?this.selectPageSizeComp.setValue(paginationPageSize.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(show){this.selectPageSizeComp&&this.reset(),show&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){_clearElement(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&!1!==this.gos.get("paginationPageSizeSelector")}reloadPageSizesSelector(){const pageSizeOptions=this.getPageSizeSelectorValues(),paginationPageSizeOption=this.paginationService.getPageSize(),shouldAddAndSelectEmptyOption=!paginationPageSizeOption||!pageSizeOptions.includes(paginationPageSizeOption);shouldAddAndSelectEmptyOption&&(pageSizeOptions.unshift(""),_warnOnce("The paginationPageSize grid option is set to a value that is not in the list of page size options.\n                Please make sure that the paginationPageSize grid option is set to one of the values in the \n                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.")),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp));const localeTextFunc=this.localeService.getLocaleTextFunc(),localisedLabel=localeTextFunc("pageSizeSelectorLabel","Page Size:"),options=pageSizeOptions.map((value=>({value:String(value),text:String(value)}))),localisedAriaLabel=localeTextFunc("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new AgSelect).addOptions(options).setValue(String(shouldAddAndSelectEmptyOption?"":paginationPageSizeOption)).setAriaLabel(localisedAriaLabel).setLabel(localisedLabel).onValueChange((()=>this.handlePageSizeItemSelected())),this.hasEmptyOption=shouldAddAndSelectEmptyOption}getPageSizeSelectorValues(){const defaultValues=[20,50,100],paginationPageSizeSelectorValues=this.gos.get("paginationPageSizeSelector");return Array.isArray(paginationPageSizeSelectorValues)&&this.validateValues(paginationPageSizeSelectorValues)?[...paginationPageSizeSelectorValues].sort(((a,b)=>a-b)):defaultValues}validateValues(values){if(!values.length)return _warnOnce("The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.\n                If you want to hide the page size selector, please set the paginationPageSizeSelector to false."),!1;for(let i=0;i<values.length;i++){const value=values[i],isPositive=value>0;if(!("number"==typeof value))return _warnOnce("The paginationPageSizeSelector grid option contains a non-numeric value.\n                    Please make sure that all values in the paginationPageSizeSelector array are numbers."),!1;if(!isPositive)return _warnOnce("The paginationPageSizeSelector grid option contains a negative number or zero.\n                    Please make sure that all values in the paginationPageSizeSelector array are positive."),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}}},PaginationSelector={selector:"AG-PAGINATION",component:class extends TabGuardComp{constructor(){super(),this.btFirst=null,this.btPrevious=null,this.btNext=null,this.btLast=null,this.lbRecordCount=null,this.lbFirstRowOnPage=null,this.lbLastRowOnPage=null,this.lbCurrent=null,this.lbTotal=null,this.pageSizeComp=null,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(beans){this.rowNodeBlockLoader=beans.rowNodeBlockLoader,this.rowModel=beans.rowModel,this.paginationService=beans.paginationService,this.focusService=beans.focusService}postConstruct(){const isRtl=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[PageSizeSelectorSelector]);const{btFirst,btPrevious,btNext,btLast}=this;this.activateTabIndex([btFirst,btPrevious,btNext,btLast]),btFirst.insertAdjacentElement("afterbegin",_createIconNoSpan(isRtl?"last":"first",this.gos)),btPrevious.insertAdjacentElement("afterbegin",_createIconNoSpan(isRtl?"next":"previous",this.gos)),btNext.insertAdjacentElement("afterbegin",_createIconNoSpan(isRtl?"previous":"next",this.gos)),btLast.insertAdjacentElement("afterbegin",_createIconNoSpan(isRtl?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],(()=>this.onPageSizeRelatedOptionsChange())),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:fromBottom=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(fromBottom):this.focusService.focusGridInnerElement(fromBottom)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(allowFocus){this.allowFocusInnerElement=allowFocus}onPaginationChanged(){const paginationPanelEnabled=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(paginationPanelEnabled),paginationPanelEnabled&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((item=>{const{el,fn}=item;this.addManagedListeners(el,{click:fn,keydown:e=>{e.key!==KeyCode.ENTER&&e.key!==KeyCode.SPACE||(e.preventDefault(),fn())}})})),function _addFocusableContainerListener(comp,eGui,focusService){comp.addManagedElementListeners(eGui,{keydown:e=>{if(!e.defaultPrevented&&e.key===KeyCode.TAB){const backwards=e.shiftKey;focusService.findNextFocusableElement(eGui,!1,backwards)||focusService.focusNextGridCoreContainer(backwards)&&e.preventDefault()}}})}(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}setCurrentPageLabel(){const pagesExist=this.paginationService.getTotalPages()>0,currentPage=this.paginationService.getCurrentPage(),toDisplay=pagesExist?currentPage+1:0;this.lbCurrent.textContent=this.formatNumber(toDisplay)}formatNumber(value){const userFunc=this.gos.getCallback("paginationNumberFormatter");if(userFunc){return userFunc({value})}const localeTextFunc=this.localeService.getLocaleTextFunc();return _formatNumberCommas(value,localeTextFunc("thousandSeparator",","),localeTextFunc("decimalSeparator","."))}getTemplate(){const localeTextFunc=this.localeService.getLocaleTextFunc(),strPage=localeTextFunc("page","Page"),strTo=localeTextFunc("to","to"),strOf=localeTextFunc("of","of"),strFirst=localeTextFunc("firstPage","First Page"),strPrevious=localeTextFunc("previousPage","Previous Page"),strNext=localeTextFunc("nextPage","Next Page"),strLast=localeTextFunc("lastPage","Last Page"),compId=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${compId}">\n                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-${compId}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${compId}-to">${strTo}</span>\n                    <span id="ag-${compId}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${compId}-of">${strOf}</span>\n                    <span id="ag-${compId}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${strFirst}"></div>\n                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${strPrevious}"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-${compId}-start-page">${strPage}</span>\n                        <span id="ag-${compId}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${compId}-of-page">${strOf}</span>\n                        <span id="ag-${compId}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${strNext}"></div>\n                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${strLast}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const currentPage=this.paginationService.getCurrentPage(),maxRowFound=this.rowModel.isLastRowIndexKnown(),totalPages=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=0===currentPage,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const zeroPagesToDisplay=this.isZeroPagesToDisplay(),onLastPage=currentPage===totalPages-1;this.nextButtonDisabled=onLastPage||zeroPagesToDisplay,this.lastButtonDisabled=!maxRowFound||zeroPagesToDisplay||currentPage===totalPages-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(button,disabled){!function _setAriaDisabled(element,disabled){_toggleAriaAttribute(element,"disabled",disabled)}(button,disabled),button.classList.toggle("ag-disabled",disabled)}updateRowLabels(){const currentPage=this.paginationService.getCurrentPage(),pageSize=this.paginationService.getPageSize(),maxRowFound=this.rowModel.isLastRowIndexKnown(),rowCount=this.rowModel.isLastRowIndexKnown()?this.paginationService.getMasterRowCount():null;let startRow,endRow;if(this.isZeroPagesToDisplay()?startRow=endRow=0:(startRow=pageSize*currentPage+1,endRow=startRow+pageSize-1,maxRowFound&&endRow>rowCount&&(endRow=rowCount)),this.lbFirstRowOnPage.textContent=this.formatNumber(startRow),this.rowNodeBlockLoader?.isLoading()){const translate=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=translate("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(endRow)}isZeroPagesToDisplay(){const maxRowFound=this.rowModel.isLastRowIndexKnown(),totalPages=this.paginationService.getTotalPages();return maxRowFound&&0===totalPages}setTotalLabels(){const lastPageFound=this.rowModel.isLastRowIndexKnown(),totalPages=this.paginationService.getTotalPages(),rowCount=lastPageFound?this.paginationService.getMasterRowCount():null;if(1===rowCount){const firstRow=this.rowModel.getRow(0);if(firstRow&&firstRow.group&&!(firstRow.groupData||firstRow.aggData))return void this.setTotalLabelsToZero()}if(lastPageFound)this.lbTotal.textContent=this.formatNumber(totalPages),this.lbRecordCount.textContent=this.formatNumber(rowCount);else{const moreText=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=moreText,this.lbRecordCount.innerHTML=moreText}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}}},PaginationCoreModule={version:VERSION,moduleName:"@ag-grid-community/pagination-core",beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(beans){this.rowModel=beans.rowModel,this.pageBoundsService=beans.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return PaginationSelector}isPaginateChildRows(){return!(!this.gos.get("groupRemoveSingleChildren")&&!this.gos.get("groupRemoveLowestSingleChildren"))||this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(page){this.active&&this.currentPage!==page&&"number"==typeof this.currentPage&&(this.currentPage=page,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(rowNode){return rowNode.rowIndex>=this.topDisplayedRowIndex&&rowNode.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(index){return Math.floor(index/this.pageSize)}goToPageWithIndex(index){if(!this.active)return;const pageNumber=this.getPageForIndex(index);this.goToPage(pageNumber)}isRowInPage(row){if(!this.active)return!0;return this.getPageForIndex(row.rowIndex)===this.currentPage}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const rowCount=this.rowModel.getRowCount(),lastPage=Math.floor(rowCount/this.pageSize);this.goToPage(lastPage)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(page){this.currentPage=page}get pageSize(){return _exists(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:_exists(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:_exists(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:_exists(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;const oldPageSize=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==oldPageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(size,source){const currentSize=this.pageSize;switch(source){case"autoCalculated":this.pageSizeAutoCalculated=size;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=size,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=size;break;case"gridOptions":this.pageSizeFromGridOptions=size,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}currentSize!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const masterLastRowIndex=this.masterRowCount-1;this.totalPages=Math.floor(masterLastRowIndex/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const masterPageStartIndex=this.pageSize*this.currentPage;let masterPageEndIndex=this.pageSize*(this.currentPage+1)-1;if(masterPageEndIndex>masterLastRowIndex&&(masterPageEndIndex=masterLastRowIndex),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(masterPageStartIndex),masterPageEndIndex===masterLastRowIndex)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const firstIndexNotToShow=this.rowModel.getTopLevelRowDisplayedIndex(masterPageEndIndex+1);this.bottomDisplayedRowIndex=firstIndexNotToShow-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const maxRowIndex=this.masterRowCount-1;this.totalPages=Math.floor(maxRowIndex/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>maxRowIndex&&(this.bottomDisplayedRowIndex=maxRowIndex)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(params){const{keepRenderedRows=!1,newPage=!1,newPageSize=!1}=params,paginationChangedEvent={type:"paginationChanged",animate:!1,newData:!1,newPage,newPageSize,keepRenderedRows};this.eventService.dispatchEvent(paginationChangedEvent)}},class extends BeanStub{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(beans){this.ctrlsService=beans.ctrlsService,this.paginationService=beans.paginationService}postConstruct(){this.ctrlsService.whenReady((p=>{this.centerRowsCtrl=p.center;const listener=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:listener,scrollVisibilityChanged:listener}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()}))}notActive(){return!this.gos.get("paginationAutoPageSize")||null==this.centerRowsCtrl}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const bodyHeight=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(bodyHeight>0){const update=()=>{const rowHeight=Math.max(this.gos.getRowHeightAsNumber(),1),newPageSize=Math.floor(bodyHeight/rowHeight);this.paginationService.setPageSize(newPageSize,"autoCalculated")};this.isBodyRendered?_debounce((()=>update()),50)():(update(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}}]},PaginationModule={version:VERSION,moduleName:"@ag-grid-community/pagination",dependantModules:[PaginationCoreModule,{version:VERSION,moduleName:"@ag-grid-community/pagination-api",dependantModules:[PaginationCoreModule],apiFunctions:{paginationIsLastPageFound:function paginationIsLastPageFound(beans){return beans.rowModel.isLastRowIndexKnown()},paginationGetPageSize:function paginationGetPageSize(beans){return beans.paginationService?.getPageSize()??100},paginationGetCurrentPage:function paginationGetCurrentPage(beans){return beans.paginationService?.getCurrentPage()??0},paginationGetTotalPages:function paginationGetTotalPages(beans){return beans.paginationService?.getTotalPages()??1},paginationGetRowCount:function paginationGetRowCount(beans){return beans.paginationService?beans.paginationService.getMasterRowCount():beans.rowModel.getRowCount()},paginationGoToNextPage:function paginationGoToNextPage(beans){beans.paginationService?.goToNextPage()},paginationGoToPreviousPage:function paginationGoToPreviousPage(beans){beans.paginationService?.goToPreviousPage()},paginationGoToFirstPage:function paginationGoToFirstPage(beans){beans.paginationService?.goToFirstPage()},paginationGoToLastPage:function paginationGoToLastPage(beans){beans.paginationService?.goToLastPage()},paginationGoToPage:function paginationGoToPage(beans,page){beans.paginationService?.goToPage(page)}}}]},coreModule="@ag-grid-community/core",clientSideRowModelModule="@ag-grid-community/client-side-row-model",infiniteRowModelModule="@ag-grid-community/infinite-row-model",advancedFilterModule="@ag-grid-enterprise/advanced-filter",gridChartsModule="@ag-grid-enterprise/charts",clipboardModule="@ag-grid-enterprise/clipboard",excelExportModule="@ag-grid-enterprise/excel-export",masterDetailModule="@ag-grid-enterprise/master-detail",menuModule="@ag-grid-enterprise/menu",rowGroupingModule="@ag-grid-enterprise/row-grouping",serverSideRowModelModule="@ag-grid-enterprise/server-side-row-model",sideBarModule="@ag-grid-enterprise/side-bar",functionModules={dispatchEvent:coreModule,getState:coreModule,getGridId:coreModule,destroy:coreModule,isDestroyed:coreModule,getGridOption:coreModule,setGridOption:coreModule,updateGridOptions:coreModule,setNodesSelected:coreModule,selectAll:coreModule,deselectAll:coreModule,selectAllFiltered:coreModule,deselectAllFiltered:coreModule,selectAllOnCurrentPage:coreModule,deselectAllOnCurrentPage:coreModule,getSelectedNodes:coreModule,getSelectedRows:coreModule,redrawRows:coreModule,setRowNodeExpanded:coreModule,getRowNode:coreModule,addRenderedRowListener:coreModule,getRenderedNodes:coreModule,forEachNode:coreModule,getFirstDisplayedRow:coreModule,getFirstDisplayedRowIndex:coreModule,getLastDisplayedRow:coreModule,getLastDisplayedRowIndex:coreModule,getDisplayedRowAtIndex:coreModule,getDisplayedRowCount:coreModule,getModel:coreModule,getVerticalPixelRange:coreModule,getHorizontalPixelRange:coreModule,ensureColumnVisible:coreModule,ensureIndexVisible:coreModule,ensureNodeVisible:coreModule,getFocusedCell:coreModule,clearFocusedCell:coreModule,setFocusedCell:coreModule,tabToNextCell:coreModule,tabToPreviousCell:coreModule,setFocusedHeader:coreModule,addEventListener:coreModule,addGlobalListener:coreModule,removeEventListener:coreModule,removeGlobalListener:coreModule,expireValueCache:coreModule,getValue:coreModule,getCellValue:coreModule,showColumnMenuAfterButtonClick:coreModule,showColumnMenuAfterMouseClick:coreModule,showColumnMenu:coreModule,hidePopupMenu:coreModule,onSortChanged:coreModule,getPinnedTopRowCount:coreModule,getPinnedBottomRowCount:coreModule,getPinnedTopRow:coreModule,getPinnedBottomRow:coreModule,showLoadingOverlay:coreModule,showNoRowsOverlay:coreModule,hideOverlay:coreModule,setGridAriaProperty:coreModule,refreshCells:coreModule,flashCells:coreModule,refreshHeader:coreModule,isAnimationFrameQueueEmpty:coreModule,flushAllAnimationFrames:coreModule,getSizesForCurrentTheme:coreModule,getCellRendererInstances:coreModule,addRowDropZone:coreModule,removeRowDropZone:coreModule,getRowDropZoneParams:coreModule,getColumnDef:coreModule,getColumnDefs:coreModule,sizeColumnsToFit:coreModule,setColumnGroupOpened:coreModule,getColumnGroup:coreModule,getProvidedColumnGroup:coreModule,getDisplayNameForColumn:coreModule,getDisplayNameForColumnGroup:coreModule,getColumn:coreModule,getColumns:coreModule,applyColumnState:coreModule,getColumnState:coreModule,resetColumnState:coreModule,getColumnGroupState:coreModule,setColumnGroupState:coreModule,resetColumnGroupState:coreModule,isPinning:coreModule,isPinningLeft:coreModule,isPinningRight:coreModule,getDisplayedColAfter:coreModule,getDisplayedColBefore:coreModule,setColumnVisible:coreModule,setColumnsVisible:coreModule,setColumnPinned:coreModule,setColumnsPinned:coreModule,getAllGridColumns:coreModule,getDisplayedLeftColumns:coreModule,getDisplayedCenterColumns:coreModule,getDisplayedRightColumns:coreModule,getAllDisplayedColumns:coreModule,getAllDisplayedVirtualColumns:coreModule,moveColumn:coreModule,moveColumnByIndex:coreModule,moveColumns:coreModule,setColumnWidth:coreModule,setColumnWidths:coreModule,getLeftDisplayedColumnGroups:coreModule,getCenterDisplayedColumnGroups:coreModule,getRightDisplayedColumnGroups:coreModule,getAllDisplayedColumnGroups:coreModule,autoSizeColumn:coreModule,autoSizeColumns:coreModule,autoSizeAllColumns:coreModule,undoCellEditing:coreModule,redoCellEditing:coreModule,getCellEditorInstances:coreModule,getEditingCells:coreModule,stopEditing:coreModule,startEditingCell:coreModule,getCurrentUndoSize:coreModule,getCurrentRedoSize:coreModule,isAnyFilterPresent:coreModule,onFilterChanged:coreModule,isColumnFilterPresent:coreModule,getFilterInstance:coreModule,getColumnFilterInstance:coreModule,destroyFilter:coreModule,setFilterModel:coreModule,getFilterModel:coreModule,getColumnFilterModel:coreModule,setColumnFilterModel:coreModule,showColumnFilter:coreModule,isQuickFilterPresent:coreModule,getQuickFilter:coreModule,resetQuickFilter:coreModule,paginationIsLastPageFound:coreModule,paginationGetPageSize:coreModule,paginationGetCurrentPage:coreModule,paginationGetTotalPages:coreModule,paginationGetRowCount:coreModule,paginationGoToNextPage:coreModule,paginationGoToPreviousPage:coreModule,paginationGoToFirstPage:coreModule,paginationGoToLastPage:coreModule,paginationGoToPage:coreModule,expandAll:coreModule,collapseAll:coreModule,onRowHeightChanged:coreModule,setRowCount:coreModule,getCacheBlockState:coreModule,onGroupExpandedOrCollapsed:clientSideRowModelModule,refreshClientSideRowModel:clientSideRowModelModule,forEachLeafNode:clientSideRowModelModule,forEachNodeAfterFilter:clientSideRowModelModule,forEachNodeAfterFilterAndSort:clientSideRowModelModule,resetRowHeights:clientSideRowModelModule,applyTransaction:clientSideRowModelModule,applyTransactionAsync:clientSideRowModelModule,flushAsyncTransactions:clientSideRowModelModule,getBestCostNodeSelection:clientSideRowModelModule,getDataAsCsv:"@ag-grid-community/csv-export",exportDataAsCsv:"@ag-grid-community/csv-export",refreshInfiniteCache:infiniteRowModelModule,purgeInfiniteCache:infiniteRowModelModule,getInfiniteRowCount:infiniteRowModelModule,isLastRowIndexKnown:infiniteRowModelModule,getAdvancedFilterModel:advancedFilterModule,setAdvancedFilterModel:advancedFilterModule,showAdvancedFilterBuilder:advancedFilterModule,hideAdvancedFilterBuilder:advancedFilterModule,getChartModels:gridChartsModule,getChartRef:gridChartsModule,getChartImageDataURL:gridChartsModule,downloadChart:gridChartsModule,openChartToolPanel:gridChartsModule,closeChartToolPanel:gridChartsModule,createRangeChart:gridChartsModule,createPivotChart:gridChartsModule,createCrossFilterChart:gridChartsModule,updateChart:gridChartsModule,restoreChart:gridChartsModule,copyToClipboard:clipboardModule,cutToClipboard:clipboardModule,copySelectedRowsToClipboard:clipboardModule,copySelectedRangeToClipboard:clipboardModule,copySelectedRangeDown:clipboardModule,pasteFromClipboard:clipboardModule,getDataAsExcel:excelExportModule,exportDataAsExcel:excelExportModule,getSheetDataForExcel:excelExportModule,getMultipleSheetsAsExcel:excelExportModule,exportMultipleSheetsAsExcel:excelExportModule,addDetailGridInfo:masterDetailModule,removeDetailGridInfo:masterDetailModule,getDetailGridInfo:masterDetailModule,forEachDetailGridInfo:masterDetailModule,showContextMenu:menuModule,showColumnChooser:menuModule,hideColumnChooser:menuModule,getCellRanges:"@ag-grid-enterprise/range-selection",addCellRange:"@ag-grid-enterprise/range-selection",clearRangeSelection:"@ag-grid-enterprise/range-selection",addAggFunc:rowGroupingModule,addAggFuncs:rowGroupingModule,clearAggFuncs:rowGroupingModule,setColumnAggFunc:rowGroupingModule,isPivotMode:rowGroupingModule,getPivotResultColumn:rowGroupingModule,setValueColumns:rowGroupingModule,getValueColumns:rowGroupingModule,removeValueColumn:rowGroupingModule,removeValueColumns:rowGroupingModule,addValueColumn:rowGroupingModule,addValueColumns:rowGroupingModule,setRowGroupColumns:rowGroupingModule,removeRowGroupColumn:rowGroupingModule,removeRowGroupColumns:rowGroupingModule,addRowGroupColumn:rowGroupingModule,addRowGroupColumns:rowGroupingModule,getRowGroupColumns:rowGroupingModule,moveRowGroupColumn:rowGroupingModule,setPivotColumns:rowGroupingModule,removePivotColumn:rowGroupingModule,removePivotColumns:rowGroupingModule,addPivotColumn:rowGroupingModule,addPivotColumns:rowGroupingModule,getPivotColumns:rowGroupingModule,setPivotResultColumns:rowGroupingModule,getPivotResultColumns:rowGroupingModule,getServerSideSelectionState:serverSideRowModelModule,setServerSideSelectionState:serverSideRowModelModule,applyServerSideTransaction:serverSideRowModelModule,applyServerSideTransactionAsync:serverSideRowModelModule,applyServerSideRowData:serverSideRowModelModule,retryServerSideLoads:serverSideRowModelModule,flushServerSideAsyncTransactions:serverSideRowModelModule,refreshServerSide:serverSideRowModelModule,getServerSideGroupLevelState:serverSideRowModelModule,isSideBarVisible:sideBarModule,setSideBarVisible:sideBarModule,setSideBarPosition:sideBarModule,openToolPanel:sideBarModule,closeToolPanel:sideBarModule,getOpenedToolPanel:sideBarModule,refreshToolPanel:sideBarModule,isToolPanelShowing:sideBarModule,getToolPanelInstance:sideBarModule,getSideBar:sideBarModule,getStatusPanel:"@ag-grid-enterprise/status-bar"},clientSide="clientSide",serverSide="serverSide",functionRowModels={onGroupExpandedOrCollapsed:[clientSide],refreshClientSideRowModel:[clientSide],forEachLeafNode:[clientSide],forEachNodeAfterFilter:[clientSide],forEachNodeAfterFilterAndSort:[clientSide],resetRowHeights:[clientSide],applyTransaction:[clientSide],applyTransactionAsync:[clientSide],flushAsyncTransactions:[clientSide],getBestCostNodeSelection:[clientSide],getServerSideSelectionState:[serverSide],setServerSideSelectionState:[serverSide],applyServerSideTransaction:[serverSide],applyServerSideTransactionAsync:[serverSide],applyServerSideRowData:[serverSide],retryServerSideLoads:[serverSide],flushServerSideAsyncTransactions:[serverSide],refreshServerSide:[serverSide],getServerSideGroupLevelState:[serverSide],refreshInfiniteCache:["infinite"],purgeInfiniteCache:["infinite"],getInfiniteRowCount:["infinite"],isLastRowIndexKnown:["infinite"],expandAll:[clientSide,serverSide],collapseAll:[clientSide,serverSide],onRowHeightChanged:[clientSide,serverSide],setRowCount:["infinite",serverSide],getCacheBlockState:["infinite",serverSide]},deprecatedFunctions={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'}};var CSRM_REQUIRES_ROW_GROUP_MODULE=(_options,gridOptions)=>"clientSide"===(gridOptions.rowModelType??"clientSide")?{module:"@ag-grid-enterprise/row-grouping"}:null,COLUMN_DEFINITION_VALIDATIONS={enableRowGroup:CSRM_REQUIRES_ROW_GROUP_MODULE,rowGroup:CSRM_REQUIRES_ROW_GROUP_MODULE,rowGroupIndex:CSRM_REQUIRES_ROW_GROUP_MODULE,enablePivot:CSRM_REQUIRES_ROW_GROUP_MODULE,enableValue:CSRM_REQUIRES_ROW_GROUP_MODULE,pivot:CSRM_REQUIRES_ROW_GROUP_MODULE,pivotIndex:CSRM_REQUIRES_ROW_GROUP_MODULE,aggFunc:CSRM_REQUIRES_ROW_GROUP_MODULE,cellEditor:options=>"agRichSelect"===options.cellEditor||"agRichSelectCellEditor"===options.cellEditor?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:options=>{const enterpriseMenuTabs=["columnsMenuTab","generalMenuTab"];return options.menuTabs?.some((tab=>enterpriseMenuTabs.includes(tab)))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(_options,{rowSelection})=>"multiple"===rowSelection?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(_options,{rowSelection})=>"multiple"===rowSelection?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(_options,{rowSelection})=>"multiple"===rowSelection?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>COL_DEF_VALIDATORS},COL_DEF_VALIDATORS={objectName:"colDef",allProperties:Object.keys({headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0}),docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"}},validations:COLUMN_DEFINITION_VALIDATIONS},GRID_OPTION_DEFAULTS={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0},CommunityFeaturesModule={version:VERSION,moduleName:"@ag-grid-community/core-community-features",dependantModules:[{version:VERSION,moduleName:"@ag-grid-community/core"},{version:VERSION,moduleName:"@ag-grid-community/core-validations",beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(beans){this.beans=beans,this.gridOptions=beans.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(options){this.processOptions(options,{objectName:"gridOptions",allProperties:[...PropertyKeys.ALL_PROPERTIES,...ComponentUtil.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:{advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."}},validations:{sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:options=>{const rowModel=options.rowModelType??"clientSide";switch(rowModel){case"clientSide":{const csrmWarning=`treeData requires 'getDataPath' in the ${rowModel} row model.`;return options.getDataPath?null:csrmWarning}case"serverSide":{const ssrmWarning=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${rowModel} row model.`;return options.isServerSideGroup&&options.getServerSideGroupKey?null:ssrmWarning}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:options=>{switch(options.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":{const warning="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return options.suppressServerSideInfiniteScroll?warning:null}}return null}},groupHideOpenParents:{supportedRowModels:["clientSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>COL_DEF_VALIDATORS,defaultColDef:()=>COL_DEF_VALIDATORS,defaultColGroupDef:()=>COL_DEF_VALIDATORS,autoGroupColumnDef:()=>COL_DEF_VALIDATORS}})}processColumnDefs(options){this.processOptions(options,COL_DEF_VALIDATORS)}warnMissingApiFunction(functionName){!function warnMissingApiFunction(functionName,gridId){const module=functionModules[functionName];module?ModuleRegistry.__assertRegistered(module,`api.${functionName}`,gridId)&&_warnOnce(`API function '${functionName}' not registered to module '${module}'`):_errorOnce(`Unknown API function: '${functionName}' on GridApi.`)}(functionName,this.gridId)}validateApiFunction(functionName,apiFunction){return function validateApiFunction(functionName,apiFunction,beans){const deprecation=deprecatedFunctions[functionName];if(deprecation){const{version,new:replacement,old,message}=deprecation,apiMethod=old??functionName;return(...args)=>(_warnOnce(`Since ${version} api.${apiMethod} is deprecated. ${replacement?`Please use ${replacement} instead. `:""}${message??""}`),apiFunction.apply(apiFunction,args))}const rowModels=functionRowModels[functionName];return rowModels?(...args)=>{const rowModel=beans.rowModel.getType();if(rowModels.includes(rowModel))return apiFunction.apply(apiFunction,args);_errorOnce(`api.${functionName} can only be called when gridOptions.rowModelType is ${rowModels.join(" or ")}`)}:apiFunction}(functionName,apiFunction,this.beans)}processOptions(options,validator){const{validations,deprecations,allProperties,propertyExceptions,objectName,docsUrl}=validator;allProperties&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(options,[...propertyExceptions??[],...Object.keys(deprecations)],allProperties,objectName,docsUrl);const warnings=new Set;Object.keys(options).forEach((key=>{const deprecation=deprecations[key];if(deprecation)if("renamed"in deprecation){const{renamed,version}=deprecation;warnings.add(`As of v${version}, ${String(key)} is deprecated. Please use ${String(renamed)} instead.`),options[renamed]=options[key]}else{const{message,version}=deprecation;warnings.add(`As of v${version}, ${String(key)} is deprecated. ${message??""}`)}const value=options[key];if(null==value||!1===value)return;const rulesOrGetter=validations[key];let rules;if(!rulesOrGetter)return;if("function"==typeof rulesOrGetter){const fromGetter=rulesOrGetter(options,this.gridOptions);if(!fromGetter)return;if("objectName"in fromGetter){const value2=options[key];return Array.isArray(value2)?void value2.forEach((item=>{this.processOptions(item,fromGetter)})):void this.processOptions(options[key],fromGetter)}rules=fromGetter}else rules=rulesOrGetter;const{module,dependencies,supportedRowModels}=rules;if(supportedRowModels){const rowModel=this.gridOptions.rowModelType??"clientSide";if(!supportedRowModels.includes(rowModel))return void warnings.add(`${String(key)} is not supported with the '${rowModel}' row model.`)}if(module){const modules=Array.isArray(module)?module:[module];let allRegistered=!0;if(modules.forEach((m=>{ModuleRegistry.__assertRegistered(m,String(key),this.gridId)||(allRegistered=!1,warnings.add(`${String(key)} is only available when ${m} is loaded.`))})),!allRegistered)return}if(dependencies){const warning=this.checkForWarning(key,dependencies,options);if(warning)return void warnings.add(warning)}})),warnings.size>0&&warnings.forEach((warning=>{_warnOnce(warning)}))}checkForWarning(key,validator,options){if("function"==typeof validator)return validator(options,this.gridOptions);const failed=Object.entries(validator).find((([key2,value])=>{const gridOptionValue=options[key2];return!value.includes(gridOptionValue)}));if(!failed)return null;const[failedKey,possibleOptions]=failed;return possibleOptions.length>1?`'${String(key)}' requires '${failedKey}' to be one of [${possibleOptions.join(", ")}].`:`'${String(key)}' requires '${failedKey}' to be ${possibleOptions[0]}.`}checkProperties(object,exceptions,validProperties,containerName,docsUrl){const invalidProperties=function _fuzzyCheckStrings(inputValues,validValues,allSuggestions){const fuzzyMatches={},invalidInputs=inputValues.filter((inputValue=>!validValues.some((validValue=>validValue===inputValue))));return invalidInputs.length>0&&invalidInputs.forEach((invalidInput=>fuzzyMatches[invalidInput]=_fuzzySuggestions(invalidInput,allSuggestions).values)),fuzzyMatches}(Object.getOwnPropertyNames(object),["__ob__","__v_skip","__metadata__",...exceptions,...validProperties],validProperties);if(_iterateObject(invalidProperties,((key,value)=>{let message=`invalid ${containerName} property '${key}' did you mean any of these: ${value.slice(0,8).join(", ")}.`;validProperties.includes("context")&&(message+=`\nIf you are trying to annotate ${containerName} with application data, use the '${containerName}.context' property instead.`),_warnOnce(message)})),Object.keys(invalidProperties).length>0&&docsUrl){const url=this.getFrameworkOverrides().getDocLink(docsUrl);_warnOnce(`to see all the valid ${containerName} properties please check: ${url}`)}}}]},EditModule,FilterModule,StateModule,DataTypeModule,AlignedGridsModule,PaginationModule,CommunityApiModule]},GridDestroyService=class extends BeanStub{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(beans){this.beans=beans}destroy(){if(this.destroyCalled)return;const event={type:"gridPreDestroyed",state:this.beans.stateService?.getState()??{}};this.eventService.dispatchEvent(event),this.destroyCalled=!0,this.beans.ctrlsService.get("gridCtrl")?.destroyGridUi(),this.beans.context.destroy(),super.destroy()}isDestroyCalled(){return this.destroyCalled}},ALWAYS_SYNC_GLOBAL_EVENTS=new Set(["gridPreDestroyed","fillStart","pasteStart"]),PROPERTY_COERCIONS=new Map([...PropertyKeys.BOOLEAN_PROPERTIES.map((key=>[key,toBoolean])),...PropertyKeys.NUMBER_PROPERTIES.map((key=>[key,toNumber])),["groupAggFiltering",val=>"function"==typeof val?val:toBoolean(val)],["pageSize",toConstrainedNum(1)],["autoSizePadding",toConstrainedNum(0)],["keepDetailRowsCount",toConstrainedNum(1)],["rowBuffer",toConstrainedNum(0)],["infiniteInitialRowCount",toConstrainedNum(1)],["cacheOverflowSize",toConstrainedNum(1)],["cacheBlockSize",toConstrainedNum(1)],["serverSideInitialRowCount",toConstrainedNum(1)],["viewportRowModelPageSize",toConstrainedNum(1)],["viewportRowModelBufferSize",toConstrainedNum(0)]]);function getCoercedValue(key,value){const coerceFunc=PROPERTY_COERCIONS.get(key);return coerceFunc?coerceFunc(value):value}var _GridOptionsService=class _GridOptionsService extends BeanStub{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new LocalEventService,this.globalEventHandlerFactory=restrictToSyncOnly=>(eventName,event)=>{if(!this.isAlive())return;const alwaysSync=ALWAYS_SYNC_GLOBAL_EVENTS.has(eventName);if(alwaysSync&&!restrictToSyncOnly||!alwaysSync&&restrictToSyncOnly)return;const eventHandlerName=ComponentUtil.getCallbackForEvent(eventName),eventHandler=this.gridOptions[eventHandlerName];"function"==typeof eventHandler&&this.frameworkOverrides.wrapOutgoing((()=>{eventHandler(event)}))}}wireBeans(beans){this.gridOptions=beans.gridOptions,this.eGridDiv=beans.eGridDiv,this.validationService=beans.validationService,this.environment=beans.environment,this.api=beans.gridApi}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const async=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),async),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth(),this.addManagedEventListeners({gridOptionsChanged:({options})=>{this.updateGridOptions({options,force:!0,source:"gridOptionsUpdated"})}})}get(property){return this.gridOptions[property]??GRID_OPTION_DEFAULTS[property]}getCallback(property){return this.mergeGridCommonParams(this.gridOptions[property])}exists(property){return _exists(this.gridOptions[property])}mergeGridCommonParams(callback){if(callback){return callbackParams=>{const mergedParams=callbackParams;return mergedParams.api=this.api,mergedParams.context=this.gridOptionsContext,callback(mergedParams)}}return callback}updateGridOptions({options,force,source="api"}){const changeSet={id:_GridOptionsService.changeSetId++,properties:[]},events=[];Object.entries(options).forEach((([key,value])=>{"api"===source&&INITIAL_GRID_OPTION_KEYS[key]&&_warnOnce(`${key} is an initial property and cannot be updated.`);const coercedValue=getCoercedValue(key,value),shouldForce=force||"object"==typeof coercedValue&&"api"===source,previousValue=this.gridOptions[key];if(shouldForce||previousValue!==coercedValue){this.gridOptions[key]=coercedValue;const event={type:key,currentValue:coercedValue,previousValue,changeSet,source};events.push(event)}})),this.validationService?.processGridOptions(this.gridOptions),changeSet.properties=events.map((event=>event.type)),events.forEach((event=>{this.gridOptions.debug&&_log(`Updated property ${event.type} from`,event.previousValue," to ",event.currentValue),this.propertyEventService.dispatchEvent(event)}))}addPropertyEventListener(key,listener){this.propertyEventService.addEventListener(key,listener)}removePropertyEventListener(key,listener){this.propertyEventService.removeEventListener(key,listener)}getScrollbarWidth(){if(null==this.scrollbarWidth){const scrollbarWidth="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:function _getScrollbarWidth(){return null==browserScrollbarWidth&&initScrollbarWidthAndVisibility(),browserScrollbarWidth}();null!=scrollbarWidth&&(this.scrollbarWidth=scrollbarWidth,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}isRowModelType(rowModelType){return this.gridOptions.rowModelType===rowModelType||"clientSide"===rowModelType&&_missing(this.gridOptions.rowModelType)}isDomLayout(domLayout){return(this.gridOptions.domLayout??"normal")===domLayout}isRowSelection(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return"function"==typeof this.gridOptions.getRowHeight}getRowHeightForNode(rowNode,allowEstimate=!1,defaultRowHeight){if(null==defaultRowHeight&&(defaultRowHeight=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(allowEstimate)return{height:defaultRowHeight,estimated:!0};const params={node:rowNode,data:rowNode.data},height=this.getCallback("getRowHeight")(params);if(this.isNumeric(height))return 0===height&&_warnOnce("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,height),estimated:!1}}if(rowNode.detail&&this.get("masterDetail"))return this.getMasterDetailRowHeight();return{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:defaultRowHeight,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||_missing(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const rowHeight=this.environment.refreshRowHeightVariable();return-1!==rowHeight?rowHeight:(_warnOnce("row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(value){return!isNaN(value)&&"number"==typeof value&&isFinite(value)}getDomDataKey(){return this.domDataKey}getDomData(element,key){const domData=element[this.getDomDataKey()];return domData?domData[key]:void 0}setDomData(element,key,value){const domDataKey=this.getDomDataKey();let domData=element[domDataKey];_missing(domData)&&(domData={},element[domDataKey]=domData),domData[key]=value}getDocument(){let result=null;return this.gridOptions.getDocument&&_exists(this.gridOptions.getDocument)?result=this.gridOptions.getDocument():this.eGridDiv&&(result=this.eGridDiv.ownerDocument),result&&_exists(result)?result:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getActiveDomElement(){return this.getRootNode().activeElement}getAsyncTransactionWaitMillis(){return _exists(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return!this.get("ensureDomOrder")&&this.get("animateRows")}isGroupRowsSticky(){return!(this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const autoGroupColumnDef=this.gridOptions.autoGroupColumnDef;return!autoGroupColumnDef?.comparator&&!this.get("treeData")}getGroupAggFiltering(){const userValue=this.gridOptions.groupAggFiltering;return"function"==typeof userValue?this.getCallback("groupAggFiltering"):!0===userValue?()=>!0:void 0}getGrandTotalRow(){const userValue=this.gridOptions.grandTotalRow;if(userValue)return userValue;return this.gridOptions.groupIncludeTotalFooter?"bottom":void 0}getGroupTotalRowCallback(){const userValue=this.get("groupTotalRow");if("function"==typeof userValue)return this.getCallback("groupTotalRow");if(userValue)return()=>userValue;const legacyValue=this.get("groupIncludeFooter");if("function"==typeof legacyValue){const legacyCallback=this.getCallback("groupIncludeFooter");return p=>legacyCallback(p)?"bottom":void 0}return()=>legacyValue?"bottom":void 0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?"multipleColumns"===this.gridOptions.groupDisplayType:this.get("groupHideOpenParents")}isGroupUseEntireRow(pivotMode){return!pivotMode&&"groupRows"===this.gridOptions.groupDisplayType}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(params){const updatedParams=params;return updatedParams.api=this.api,updatedParams.context=this.gridOptionsContext,updatedParams}getRowIdCallback(){const getRowId=this.getCallback("getRowId");return void 0===getRowId?getRowId:params=>{let id=getRowId(params);return"string"!=typeof id&&(_warnOnce("The getRowId callback must return a string. The ID ",id," is being cast to a string."),id=String(id)),id}}};_GridOptionsService.changeSetId=0;var GridOptionsService=_GridOptionsService,HeaderPositionUtils=class extends BeanStub{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(beans){this.visibleColsService=beans.visibleColsService,this.ctrlsService=beans.ctrlsService}findHeader(focusedHeader,direction){let nextColumn,getColMethod;if(isColumnGroup(focusedHeader.column)?nextColumn=this.visibleColsService.getGroupAtDirection(focusedHeader.column,direction):(getColMethod=`getCol${direction}`,nextColumn=this.visibleColsService[getColMethod](focusedHeader.column)),!nextColumn)return;const{headerRowIndex}=focusedHeader;if("filter"!==this.getHeaderRowType(headerRowIndex)){const columnsInPath=[nextColumn];for(;nextColumn.getParent();)nextColumn=nextColumn.getParent(),columnsInPath.push(nextColumn);nextColumn=columnsInPath[columnsInPath.length-1-headerRowIndex]}const{column,headerRowIndex:indexToFocus}=this.getHeaderIndexToFocus(nextColumn,headerRowIndex);return{column,headerRowIndex:indexToFocus}}getHeaderIndexToFocus(column,currentIndex){let nextColumn;if(isColumnGroup(column)&&this.isAnyChildSpanningHeaderHeight(column)&&column.isPadding()){const targetColumn=column;nextColumn=targetColumn.getLeafColumns()[0];let col=nextColumn;for(;col!==targetColumn;)currentIndex++,col=col.getParent()}return{column:nextColumn||column,headerRowIndex:currentIndex}}isAnyChildSpanningHeaderHeight(columnGroup){return!!columnGroup&&columnGroup.getLeafColumns().some((col=>col.isSpanHeaderHeight()))}getColumnVisibleParent(currentColumn,currentIndex){const currentRowType=this.getHeaderRowType(currentIndex),isColumn2="column"===currentRowType;let nextFocusColumn="filter"===currentRowType?currentColumn:currentColumn.getParent(),nextRow=currentIndex-1,headerRowIndexWithoutSpan=nextRow;if(isColumn2&&this.isAnyChildSpanningHeaderHeight(currentColumn.getParent())){for(;nextFocusColumn&&nextFocusColumn.isPadding();)nextFocusColumn=nextFocusColumn.getParent(),nextRow--;headerRowIndexWithoutSpan=nextRow,nextRow<0&&(nextFocusColumn=currentColumn,nextRow=currentIndex,headerRowIndexWithoutSpan=void 0)}return{column:nextFocusColumn,headerRowIndex:nextRow,headerRowIndexWithoutSpan}}getColumnVisibleChild(column,currentIndex,direction="After"){let nextFocusColumn=column,nextRow=currentIndex+1;const headerRowIndexWithoutSpan=nextRow;if("group"===this.getHeaderRowType(currentIndex)){const leafColumns=column.getDisplayedLeafColumns(),leafColumn="After"===direction?leafColumns[0]:_last(leafColumns),columnsInTheWay=[];let currentColumn=leafColumn;for(;currentColumn.getParent()!==column;)currentColumn=currentColumn.getParent(),columnsInTheWay.push(currentColumn);if(nextFocusColumn=leafColumn,leafColumn.isSpanHeaderHeight())for(let i=columnsInTheWay.length-1;i>=0;i--){const colToFocus=columnsInTheWay[i];if(!colToFocus.isPadding()){nextFocusColumn=colToFocus;break}nextRow++}else nextFocusColumn=_last(columnsInTheWay),nextFocusColumn||(nextFocusColumn=leafColumn)}return{column:nextFocusColumn,headerRowIndex:nextRow,headerRowIndexWithoutSpan}}getHeaderRowType(rowIndex){const centerHeaderContainer=this.ctrlsService.getHeaderRowContainerCtrl();if(centerHeaderContainer)return centerHeaderContainer.getRowType(rowIndex)}findColAtEdgeForHeaderRow(level,position){const displayedColumns=this.visibleColsService.getAllCols(),column=displayedColumns["start"===position?0:displayedColumns.length-1];if(!column)return;const type=this.ctrlsService.getHeaderRowContainerCtrl(column.getPinned()).getRowType(level);if("group"==type){return{headerRowIndex:level,column:this.visibleColsService.getColGroupAtLevel(column,level)}}return{headerRowIndex:null==type?-1:level,column}}},LocaleService=class extends BeanStub{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const getLocaleText=this.gos.getCallback("getLocaleText");if(getLocaleText)return(key,defaultValue,variableValues)=>getLocaleText({key,defaultValue,variableValues});const localeText=this.gos.get("localeText");return(key,defaultValue,variableValues)=>{let localisedText=localeText&&localeText[key];if(localisedText&&variableValues&&variableValues.length){let found=0;for(;!(found>=variableValues.length);){if(-1===localisedText.indexOf("${variable}"))break;localisedText=localisedText.replace("${variable}",variableValues[found++])}}return localisedText??defaultValue}}},ApiEventService=class extends BeanStub{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new FrameworkEventListenerService(this.getFrameworkOverrides())}addEventListener(eventType,userListener){const listener=this.frameworkEventWrappingService.wrap(userListener),async=this.gos.useAsyncEvents()&&!ALWAYS_SYNC_GLOBAL_EVENTS.has(eventType),listeners=async?this.asyncEventListeners:this.syncEventListeners;listeners.has(eventType)||listeners.set(eventType,new Set),listeners.get(eventType).add(listener),this.eventService.addEventListener(eventType,listener,async)}removeEventListener(eventType,userListener){const listener=this.frameworkEventWrappingService.unwrap(userListener),asyncListeners=this.asyncEventListeners.get(eventType),hasAsync=!!asyncListeners?.delete(listener);hasAsync||this.syncEventListeners.get(eventType)?.delete(listener),this.eventService.removeEventListener(eventType,listener,hasAsync)}addGlobalListener(userListener){const listener=this.frameworkEventWrappingService.wrapGlobal(userListener);if(this.gos.useAsyncEvents()){const syncListener=(eventType,event)=>{ALWAYS_SYNC_GLOBAL_EVENTS.has(eventType)&&listener(eventType,event)},asyncListener=(eventType,event)=>{ALWAYS_SYNC_GLOBAL_EVENTS.has(eventType)||listener(eventType,event)};this.globalEventListenerPairs.set(userListener,{syncListener,asyncListener}),this.eventService.addGlobalListener(syncListener,!1),this.eventService.addGlobalListener(asyncListener,!0)}else this.syncGlobalEventListeners.add(listener),this.eventService.addGlobalListener(listener,!1)}removeGlobalListener(userListener){const listener=this.frameworkEventWrappingService.unwrapGlobal(userListener);if(this.globalEventListenerPairs.has(listener)){const{syncListener,asyncListener}=this.globalEventListenerPairs.get(listener);this.eventService.removeGlobalListener(syncListener,!1),this.eventService.removeGlobalListener(asyncListener,!0),this.globalEventListenerPairs.delete(userListener)}else this.syncGlobalEventListeners.delete(listener),this.eventService.removeGlobalListener(listener,!1)}destroyEventListeners(map,async){map.forEach(((listeners,eventType)=>{listeners.forEach((listener=>this.eventService.removeEventListener(eventType,listener,async))),listeners.clear()})),map.clear()}destroyGlobalListeners(set,async){set.forEach((listener=>this.eventService.removeGlobalListener(listener,async))),set.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach((({syncListener,asyncListener})=>{this.eventService.removeGlobalListener(syncListener,!1),this.eventService.removeGlobalListener(asyncListener,!0)})),this.globalEventListenerPairs.clear()}},PageBoundsListener=class extends BeanStub{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(beans){this.rowModel=beans.rowModel,this.paginationService=beans.paginationService,this.pageBoundsService=beans.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(modelUpdatedEvent){this.calculatePages();const paginationChangedEvent={type:"paginationChanged",animate:!!modelUpdatedEvent&&modelUpdatedEvent.animate,newData:!!modelUpdatedEvent&&modelUpdatedEvent.newData,newPage:!!modelUpdatedEvent&&modelUpdatedEvent.newPage,newPageSize:!!modelUpdatedEvent&&modelUpdatedEvent.newPageSize,keepRenderedRows:!!modelUpdatedEvent&&modelUpdatedEvent.keepRenderedRows};this.eventService.dispatchEvent(paginationChangedEvent)}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},PageBoundsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(beans){this.rowModel=beans.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return _missing(this.topRowBounds)||_missing(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}calculateBounds(topDisplayedRowIndex,bottomDisplayedRowIndex){this.topRowBounds=this.rowModel.getRowBounds(topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=bottomDisplayedRowIndex),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const value=_exists(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==value&&(this.pixelOffset=value,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},AriaAnnouncementService=class extends BeanStub{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.announceValue=_debounce(this.announceValue.bind(this),200)}wireBeans(beans){this.eGridDiv=beans.eGridDiv}postConstruct(){const eDocument=this.gos.getDocument(),div=this.descriptionContainer=eDocument.createElement("div");div.classList.add("ag-aria-description-container"),_setAriaLive(div,"polite"),function _setAriaRelevant(element,relevant){_toggleAriaAttribute(element,"relevant",relevant)}(div,"additions text"),function _setAriaAtomic(element,atomic){_toggleAriaAttribute(element,"atomic",atomic)}(div,!0),this.eGridDiv.appendChild(div)}announceValue(value){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout((()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=value)}),50))}destroy(){super.destroy();const{descriptionContainer}=this;descriptionContainer&&(_clearElement(descriptionContainer),descriptionContainer.parentElement&&descriptionContainer.parentElement.removeChild(descriptionContainer)),this.descriptionContainer=null,this.eGridDiv=null}},ColumnAnimationService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(beans){this.ctrlsService=beans.ctrlsService}postConstruct(){this.ctrlsService.whenReady((p=>this.gridBodyCtrl=p.gridBodyCtrl))}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(suppress){this.suppressAnimation=suppress}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush((()=>{this.active=!1}))}executeNextVMTurn(func){this.active?this.executeNextFuncs.push(func):func()}executeLaterVMTurn(func){this.active?this.executeLaterFuncs.push(func):func()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const animationThreadCountCopy=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((()=>{this.animationThreadCount===animationThreadCountCopy&&this.gridBodyCtrl.setColumnMovingCss(!1)}))}flush(callback){if(0===this.executeNextFuncs.length&&0===this.executeLaterFuncs.length)return void callback();const runFuncs=queue=>{for(;queue.length;){const func=queue.pop();func&&func()}};this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>runFuncs(this.executeNextFuncs)),0),window.setTimeout((()=>{callback(),runFuncs(this.executeLaterFuncs)}),200)}))}},ColumnHoverService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(columns){this.selectedColumns=columns;this.eventService.dispatchEvent({type:"columnHoverChanged"})}clearMouseOver(){this.selectedColumns=null;this.eventService.dispatchEvent({type:"columnHoverChanged"})}isHovered(column){return!!this.selectedColumns&&this.selectedColumns.indexOf(column)>=0}},OverlayService=class extends BeanStub{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0}wireBeans(beans){this.userComponentFactory=beans.userComponentFactory,this.rowModel=beans.rowModel,this.columnModel=beans.columnModel}postConstruct(){const updateOverlayVisibility=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:updateOverlayVisibility,rowDataUpdated:updateOverlayVisibility}),this.addManagedPropertyListener("loading",updateOverlayVisibility)}registerOverlayWrapperComp(overlayWrapperComp){this.overlayWrapperComp=overlayWrapperComp,this.updateOverlayVisibility()}showLoadingOverlay(){this.showInitialOverlay=!1;const loading=this.gos.get("loading");(loading||void 0===loading&&!this.gos.get("suppressLoadingOverlay"))&&this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")||this.doHideOverlay()}updateOverlayVisibility(){let loading=this.gos.get("loading");this.showInitialOverlay&&void 0===loading&&!this.gos.get("suppressLoadingOverlay")&&(loading=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.gos.isRowModelType("clientSide")),loading?1!==this.state&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.gos.isRowModelType("clientSide")?2!==this.state&&this.doShowNoRowsOverlay():0!==this.state&&this.doHideOverlay())}doShowLoadingOverlay(){this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}doShowNoRowsOverlay(){this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}doHideOverlay(){this.state=0,this.overlayWrapperComp.hideOverlay()}showOverlay(compDetails,wrapperCssClass,gridOption){const promise=compDetails.newAgStackInstance();this.overlayWrapperComp.showOverlay(promise,wrapperCssClass,gridOption)}},RowCssClassCalculator=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(beans){this.stylingService=beans.stylingService}getInitialRowClasses(params){const classes=[];return _exists(params.extraCssClass)&&classes.push(params.extraCssClass),classes.push("ag-row"),classes.push(params.rowFocused?"ag-row-focus":"ag-row-no-focus"),params.fadeRowIn&&classes.push("ag-opacity-zero"),classes.push(params.rowIsEven?"ag-row-even":"ag-row-odd"),params.rowNode.isRowPinned()&&classes.push("ag-row-pinned"),params.rowNode.isSelected()&&classes.push("ag-row-selected"),params.rowNode.footer&&classes.push("ag-row-footer"),classes.push("ag-row-level-"+params.rowLevel),params.rowNode.stub&&classes.push("ag-row-loading"),params.fullWidthRow&&classes.push("ag-full-width-row"),params.expandable&&(classes.push("ag-row-group"),classes.push(params.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),params.rowNode.dragging&&classes.push("ag-row-dragging"),_pushAll(classes,this.processClassesFromGridOptions(params.rowNode)),_pushAll(classes,this.preProcessRowClassRules(params.rowNode)),classes.push(params.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),params.firstRowOnPage&&classes.push("ag-row-first"),params.lastRowOnPage&&classes.push("ag-row-last"),params.fullWidthRow&&("left"===params.pinned&&classes.push("ag-cell-last-left-pinned"),"right"===params.pinned&&classes.push("ag-cell-first-right-pinned")),classes}processClassesFromGridOptions(rowNode){const res=[],process=rowCls=>{"string"==typeof rowCls?res.push(rowCls):Array.isArray(rowCls)&&rowCls.forEach((e=>res.push(e)))},rowClass=this.gos.get("rowClass");if(rowClass){if("function"==typeof rowClass)return _warnOnce("rowClass should not be a function, please use getRowClass instead"),[];process(rowClass)}const rowClassFunc=this.gos.getCallback("getRowClass");if(rowClassFunc){process(rowClassFunc({data:rowNode.data,node:rowNode,rowIndex:rowNode.rowIndex}))}return res}preProcessRowClassRules(rowNode){const res=[];return this.processRowClassRules(rowNode,(className=>{res.push(className)}),(()=>{})),res}processRowClassRules(rowNode,onApplicableClass,onNotApplicableClass){const rowClassParams=this.gos.addGridCommonParams({data:rowNode.data,node:rowNode,rowIndex:rowNode.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),rowClassParams,onApplicableClass,onNotApplicableClass)}calculateRowLevel(rowNode){return rowNode.group?rowNode.level:rowNode.parent?rowNode.parent.level+1:0}},RowContainerHeightService=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(beans){this.ctrlsService=beans.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=function _getMaxDivHeight(){if(!document.body)return-1;let res=1e6;const testUpTo=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,div=document.createElement("div");for(document.body.appendChild(div);;){const test=2*res;if(div.style.height=test+"px",test>testUpTo||div.clientHeight!==test)break;res=test}return document.body.removeChild(div),res}(),this.gos.get("debug")&&_log("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const newScrollY=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,newBodyHeight=this.getUiBodyHeight();(newScrollY!==this.scrollY||newBodyHeight!==this.uiBodyHeight)&&(this.scrollY=newScrollY,this.uiBodyHeight=newBodyHeight,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const scrollPercent=this.scrollY/this.maxScrollY,divStretchOffset=scrollPercent*this.pixelsToShave;this.gos.get("debug")&&_log(`RowContainerHeightService - Div Stretch Offset = ${divStretchOffset} (${this.pixelsToShave} * ${scrollPercent})`),this.setDivStretchOffset(divStretchOffset)}setUiContainerHeight(height){height!==this.uiContainerHeight&&(this.uiContainerHeight=height,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(newOffset){const newOffsetFloor="number"==typeof newOffset?Math.floor(newOffset):null;this.divStretchOffset!==newOffsetFloor&&(this.divStretchOffset=newOffsetFloor,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(modelHeight){this.modelHeight=modelHeight,this.stretching=null!=modelHeight&&this.maxDivHeight>0&&modelHeight>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(modelPixel){return modelPixel-this.divStretchOffset}getUiBodyHeight(){const pos=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return pos.bottom-pos.top}getScrollPositionForPixel(rowTop){if(this.pixelsToShave<=0)return rowTop;const scrollPercent=rowTop/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*scrollPercent}},RowNodeSorter=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(beans){this.valueService=beans.valueService,this.columnModel=beans.columnModel,this.showRowGroupColsService=beans.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",(propChange=>this.isAccentedSort=propChange.currentValue)),this.addManagedPropertyListener("autoGroupColumnDef",(()=>this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup()))}doFullSort(rowNodes,sortOptions){const sortedRowNodes=rowNodes.map(((rowNode,pos)=>({currentPos:pos,rowNode})));return sortedRowNodes.sort(this.compareRowNodes.bind(this,sortOptions)),sortedRowNodes.map((item=>item.rowNode))}compareRowNodes(sortOptions,sortedNodeA,sortedNodeB){const nodeA=sortedNodeA.rowNode,nodeB=sortedNodeB.rowNode;for(let i=0,len=sortOptions.length;i<len;i++){const sortOption=sortOptions[i],isDescending="desc"===sortOption.sort,valueA=this.getValue(nodeA,sortOption.column),valueB=this.getValue(nodeB,sortOption.column);let comparatorResult;const providedComparator=this.getComparator(sortOption,nodeA);comparatorResult=providedComparator?providedComparator(valueA,valueB,nodeA,nodeB,isDescending):_defaultComparator(valueA,valueB,this.isAccentedSort);if(!isNaN(comparatorResult)&&0!==comparatorResult)return"asc"===sortOption.sort?comparatorResult:-1*comparatorResult}return sortedNodeA.currentPos-sortedNodeB.currentPos}getComparator(sortOption,rowNode){const column=sortOption.column,comparatorOnCol=column.getColDef().comparator;if(null!=comparatorOnCol)return comparatorOnCol;if(!column.getColDef().showRowGroup)return;const groupLeafField=!rowNode.group&&column.getColDef().field;if(!groupLeafField)return;const primaryColumn=this.columnModel.getColDefCol(groupLeafField);return primaryColumn?primaryColumn.getColDef().comparator:void 0}getValue(node,column){if(!this.primaryColumnsSortGroups)return this.valueService.getValue(column,node,!1,!1);if(node.rowGroupColumn===column){if(this.gos.isGroupUseEntireRow(this.columnModel.isPivotActive())){const leafChild=node.allLeafChildren?.[0];return leafChild?this.valueService.getValue(column,leafChild,!1,!1):void 0}const displayCol=this.showRowGroupColsService?.getShowRowGroupCol(column.getId());if(!displayCol)return;return node.groupData?.[displayCol.getId()]}return node.group&&column.getColDef().showRowGroup?void 0:this.valueService.getValue(column,node,!1,!1)}},ChangedPath=class{constructor(keepingColumns,rootNode){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=keepingColumns,this.pathRoot={rowNode:rootNode,children:null},this.mapToItems[rootNode.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(pathItem,callback){if(pathItem.children)for(let i=0;i<pathItem.children.length;i++)this.depthFirstSearchChangedPath(pathItem.children[i],callback);callback(pathItem.rowNode)}depthFirstSearchEverything(rowNode,callback,traverseEverything){if(rowNode.childrenAfterGroup)for(let i=0;i<rowNode.childrenAfterGroup.length;i++){const childNode=rowNode.childrenAfterGroup[i];childNode.childrenAfterGroup?this.depthFirstSearchEverything(rowNode.childrenAfterGroup[i],callback,traverseEverything):traverseEverything&&callback(childNode)}callback(rowNode)}forEachChangedNodeDepthFirst(callback,traverseLeafNodes=!1,includeUnchangedNodes=!1){this.active&&!includeUnchangedNodes?this.depthFirstSearchChangedPath(this.pathRoot,callback):this.depthFirstSearchEverything(this.pathRoot.rowNode,callback,traverseLeafNodes)}executeFromRootNode(callback){callback(this.pathRoot.rowNode)}createPathItems(rowNode){let pointer=rowNode,newEntryCount=0;for(;!this.mapToItems[pointer.id];){const newEntry={rowNode:pointer,children:null};this.mapToItems[pointer.id]=newEntry,newEntryCount++,pointer=pointer.parent}return newEntryCount}populateColumnsMap(rowNode,columns){if(!this.keepingColumns||!columns)return;let pointer=rowNode;for(;pointer;)this.nodeIdsToColumns[pointer.id]||(this.nodeIdsToColumns[pointer.id]={}),columns.forEach((col=>this.nodeIdsToColumns[pointer.id][col.getId()]=!0)),pointer=pointer.parent}linkPathItems(rowNode,newEntryCount){let pointer=rowNode;for(let i=0;i<newEntryCount;i++){const thisItem=this.mapToItems[pointer.id],parentItem=this.mapToItems[pointer.parent.id];parentItem.children||(parentItem.children=[]),parentItem.children.push(thisItem),pointer=pointer.parent}}addParentNode(rowNode,columns){if(!rowNode||rowNode.isRowPinned())return;const newEntryCount=this.createPathItems(rowNode);this.linkPathItems(rowNode,newEntryCount),this.populateColumnsMap(rowNode,columns)}canSkip(rowNode){return this.active&&!this.mapToItems[rowNode.id]}getValueColumnsForNode(rowNode,valueColumns){if(!this.keepingColumns)return valueColumns;const colsForThisNode=this.nodeIdsToColumns[rowNode.id];return valueColumns.filter((col=>colsForThisNode[col.getId()]))}getNotValueColumnsForNode(rowNode,valueColumns){if(!this.keepingColumns)return null;const colsForThisNode=this.nodeIdsToColumns[rowNode.id];return valueColumns.filter((col=>!colsForThisNode[col.getId()]))}},SelectionService=class extends BeanStub{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new RowRangeSelectionContext}wireBeans(beans){this.rowModel=beans.rowModel,this.pageBoundsService=beans.pageBoundsService}postConstruct(){this.selectionCtx.init(this.rowModel),this.rowSelection=this.gos.get("rowSelection"),this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],(()=>{this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.rowSelection=this.gos.get("rowSelection"),this.deselectAllRowNodes({source:"api"})})),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiselect(){return"multiple"===this.rowSelection}overrideSelectionValue(newValue,source){if(!(source=>"checkboxSelected"===source||"rowClicked"===source||"spaceKey"===source||"uiSelectAll"===source||"uiSelectAllCurrentPage"===source||"uiSelectAllFiltered"===source)(source))return newValue;const root=this.selectionCtx.getRoot();return!root||(root.isSelected()??!1)}setNodesSelected(params){const{newValue,clearSelection,suppressFinishActions,rangeSelect,nodes,event,source}=params;if(0===nodes.length)return 0;if(nodes.length>1&&!this.isMultiselect())return _warnOnce("cannot multi select while rowSelection='single'"),0;const groupSelectsFiltered=this.groupSelectsChildren&&!0===params.groupSelectsFiltered,filteredNodes=nodes.map((node=>node.footer?node.sibling:node));if(rangeSelect){if(filteredNodes.length>1)return _warnOnce("cannot range select while selecting multiple rows"),0;const node=filteredNodes[0],newSelectionValue=this.overrideSelectionValue(newValue,source);if(this.isMultiselect()){if(this.selectionCtx.isInRange(node)){const partition=this.selectionCtx.truncate(node);return newSelectionValue&&this.selectRange(partition.discard,!1,source),this.selectRange(partition.keep,newSelectionValue,source)}if(this.selectionCtx.getRoot()!==node){const partition=this.selectionCtx.extend(node,this.groupSelectsChildren);return newSelectionValue&&this.selectRange(partition.discard,!1,source),this.selectRange(partition.keep,newSelectionValue,source)}}else;}suppressFinishActions||this.selectionCtx.setRoot(filteredNodes[0]);let updatedCount=0;for(let i=0;i<filteredNodes.length;i++){const node=filteredNodes[i];if(!(groupSelectsFiltered&&node.group)){node.selectThisNode(newValue,event,source)&&updatedCount++}this.groupSelectsChildren&&node.childrenAfterGroup?.length&&(updatedCount+=this.selectChildren(node,newValue,groupSelectsFiltered,source))}if(!suppressFinishActions){newValue&&(clearSelection||!this.isMultiselect())&&(updatedCount+=this.clearOtherNodes(filteredNodes[0],source)),updatedCount>0&&(this.updateGroupsFromChildrenSelections(source),this.dispatchSelectionChanged(source))}return updatedCount}selectRange(nodesToSelect,value,source){let updatedCount=0;return nodesToSelect.forEach((rowNode=>{if(rowNode.group&&this.groupSelectsChildren)return;rowNode.selectThisNode(value,void 0,source)&&updatedCount++})),updatedCount>0&&(this.updateGroupsFromChildrenSelections(source),this.dispatchSelectionChanged(source)),updatedCount}selectChildren(node,newValue,groupSelectsFiltered,source){const children=groupSelectsFiltered?node.childrenAfterAggFilter:node.childrenAfterGroup;return _missing(children)?0:this.setNodesSelected({newValue,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered,source,nodes:children})}getSelectedNodes(){const selectedNodes=[];return this.selectedNodes.forEach((rowNode=>{rowNode&&selectedNodes.push(rowNode)})),selectedNodes}getSelectedRows(){const selectedRows=[];return this.selectedNodes.forEach((rowNode=>{rowNode&&rowNode.data&&selectedRows.push(rowNode.data)})),selectedRows}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(predicate){const newSelectedNodes=new Map;this.selectedNodes.forEach(((rowNode,key)=>{rowNode&&predicate(rowNode)&&newSelectedNodes.set(key,rowNode)})),this.selectedNodes=newSelectedNodes}updateGroupsFromChildrenSelections(source,changedPath){if(!this.groupSelectsChildren)return!1;if("clientSide"!==this.rowModel.getType())return!1;const rootNode=this.rowModel.getRootNode();changedPath||(changedPath=new ChangedPath(!0,rootNode)).setInactive();let selectionChanged=!1;return changedPath.forEachChangedNodeDepthFirst((rowNode=>{if(rowNode!==rootNode){const selected=rowNode.calculateSelectedFromChildren();selectionChanged=rowNode.selectThisNode(null!==selected&&selected,void 0,source)||selectionChanged}})),selectionChanged}clearOtherNodes(rowNodeToKeepSelected,source){const groupsToRefresh=new Map;let updatedCount=0;return this.selectedNodes.forEach((otherRowNode=>{if(otherRowNode&&otherRowNode.id!==rowNodeToKeepSelected.id){const rowNode=this.selectedNodes.get(otherRowNode.id);updatedCount+=rowNode.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source}),this.groupSelectsChildren&&otherRowNode.parent&&groupsToRefresh.set(otherRowNode.parent.id,otherRowNode.parent)}})),groupsToRefresh.forEach((group=>{const selected=group.calculateSelectedFromChildren();group.selectThisNode(null!==selected&&selected,void 0,source)})),updatedCount}onRowSelected(event){const rowNode=event.node;this.groupSelectsChildren&&rowNode.group||(rowNode.isSelected()?this.selectedNodes.set(rowNode.id,rowNode):this.selectedNodes.delete(rowNode.id))}syncInRowNode(rowNode,oldNode){this.syncInOldRowNode(rowNode,oldNode),this.syncInNewRowNode(rowNode)}syncInOldRowNode(rowNode,oldNode){if(_exists(oldNode)&&rowNode.id!==oldNode.id&&oldNode){const id=oldNode.id;this.selectedNodes.get(id)==rowNode&&this.selectedNodes.set(oldNode.id,oldNode)}}syncInNewRowNode(rowNode){this.selectedNodes.has(rowNode.id)?(rowNode.setSelectedInitialValue(!0),this.selectedNodes.set(rowNode.id,rowNode)):rowNode.setSelectedInitialValue(!1)}reset(source){const selectionCount=this.getSelectionCount();this.resetNodes(),selectionCount&&this.dispatchSelectionChanged(source)}resetNodes(){this.selectedNodes?.clear()}getBestCostNodeSelection(){if("clientSide"!==this.rowModel.getType())return;const topLevelNodes=this.rowModel.getTopLevelNodes();if(null===topLevelNodes)return;const result=[];return function traverse(nodes){for(let i=0,l=nodes.length;i<l;i++){const node=nodes[i];if(node.isSelected())result.push(node);else{const maybeGroup=node;maybeGroup.group&&maybeGroup.children&&traverse(maybeGroup.children)}}}(topLevelNodes),result}isEmpty(){let count=0;return this.selectedNodes.forEach((rowNode=>{rowNode&&count++})),0===count}deselectAllRowNodes(params){const callback=rowNode=>rowNode.selectThisNode(!1,void 0,source),rowModelClientSide="clientSide"===this.rowModel.getType(),{source,justFiltered,justCurrentPage}=params;if(justCurrentPage||justFiltered){if(!rowModelClientSide)return void _errorOnce("selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(justFiltered,justCurrentPage).forEach(callback)}else this.selectedNodes.forEach((rowNode=>{rowNode&&callback(rowNode)})),this.reset(source);this.selectionCtx.reset(),rowModelClientSide&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(source),this.dispatchSelectionChanged(source)}getSelectedCounts(justFiltered,justCurrentPage){let selectedCount=0,notSelectedCount=0;return this.getNodesToSelect(justFiltered,justCurrentPage).forEach((node=>{this.groupSelectsChildren&&node.group||(node.isSelected()?selectedCount++:node.selectable&&notSelectedCount++)})),{selectedCount,notSelectedCount}}getSelectAllState(justFiltered,justCurrentPage){const{selectedCount,notSelectedCount}=this.getSelectedCounts(justFiltered,justCurrentPage);return(0!==selectedCount||0!==notSelectedCount)&&(selectedCount>0&&notSelectedCount>0?null:selectedCount>0)}hasNodesToSelect(justFiltered=!1,justCurrentPage=!1){return this.getNodesToSelect(justFiltered,justCurrentPage).filter((node=>node.selectable)).length>0}getNodesToSelect(justFiltered=!1,justCurrentPage=!1){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const nodes=[];if(justCurrentPage)return this.forEachNodeOnPage((node=>{if(node.group)if(node.expanded)this.groupSelectsChildren||nodes.push(node);else{const recursivelyAddChildren=child=>{nodes.push(child),child.childrenAfterFilter?.length&&child.childrenAfterFilter.forEach(recursivelyAddChildren)};recursivelyAddChildren(node)}else nodes.push(node)})),nodes;const clientSideRowModel=this.rowModel;return justFiltered?(clientSideRowModel.forEachNodeAfterFilter((node=>{nodes.push(node)})),nodes):(clientSideRowModel.forEachNode((node=>{nodes.push(node)})),nodes)}forEachNodeOnPage(callback){const firstRow=this.pageBoundsService.getFirstRow(),lastRow=this.pageBoundsService.getLastRow();for(let i=firstRow;i<=lastRow;i++){const node=this.rowModel.getRow(i);node&&callback(node)}}selectAllRowNodes(params){if("clientSide"!==this.rowModel.getType())throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source,justFiltered,justCurrentPage}=params,nodes=this.getNodesToSelect(justFiltered,justCurrentPage);nodes.forEach((rowNode=>rowNode.selectThisNode(!0,void 0,source))),this.selectionCtx.setRoot(nodes[0]??null),this.selectionCtx.setEndRange(_last(nodes)??null),"clientSide"===this.rowModel.getType()&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(source),this.dispatchSelectionChanged(source)}getSelectionState(){const selectedIds=[];return this.selectedNodes.forEach((node=>{node?.id&&selectedIds.push(node.id)})),selectedIds.length?selectedIds:null}setSelectionState(state,source){if(!Array.isArray(state))return;const rowIds=new Set(state),nodes=[];this.rowModel.forEachNode((node=>{rowIds.has(node.id)&&nodes.push(node)})),this.setNodesSelected({newValue:!0,nodes,source})}dispatchSelectionChanged(source){const event={type:"selectionChanged",source};this.eventService.dispatchEvent(event)}},SelectableService=class extends BeanStub{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(beans){this.rowModel=beans.rowModel,this.selectionService=beans.selectionService}postConstruct(){this.addManagedPropertyListener("isRowSelectable",(()=>this.updateSelectable()))}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(skipLeafNodes=!1){const isRowSelecting=!!this.gos.get("rowSelection"),isRowSelectable=this.gos.get("isRowSelectable");if(!isRowSelecting||!isRowSelectable)return;const isGroupSelectsChildren=this.gos.get("groupSelectsChildren"),isCsrmGroupSelectsChildren="clientSide"===this.rowModel.getType()&&isGroupSelectsChildren,nodesToDeselect=[],nodeCallback=node=>{if(skipLeafNodes&&!node.group)return;if(isCsrmGroupSelectsChildren&&node.group){const hasSelectableChild=node.childrenAfterGroup.some((rowNode=>!0===rowNode.selectable));return void node.setRowSelectable(hasSelectableChild,!0)}const rowSelectable=!isRowSelectable||isRowSelectable(node);node.setRowSelectable(rowSelectable,!0),!rowSelectable&&node.isSelected()&&nodesToDeselect.push(node)};if(isCsrmGroupSelectsChildren){const csrm=this.rowModel;new ChangedPath(!1,csrm.getRootNode()).forEachChangedNodeDepthFirst(nodeCallback,!0,!0)}else this.rowModel.forEachNode(nodeCallback);nodesToDeselect.length&&this.selectionService.setNodesSelected({nodes:nodesToDeselect,newValue:!1,source:"selectableChanged"}),isCsrmGroupSelectsChildren&&this.selectionService instanceof SelectionService&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},DEFAULT_SORTING_ORDER=["asc","desc",null],SortController=class extends BeanStub{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(beans){this.columnModel=beans.columnModel,this.funcColsService=beans.funcColsService,this.showRowGroupColsService=beans.showRowGroupColsService}progressSort(column,multiSort,source){const nextDirection=this.getNextSortDirection(column);this.setSortForColumn(column,nextDirection,multiSort,source)}setSortForColumn(column,sort,multiSort,source){"asc"!==sort&&"desc"!==sort&&(sort=null);let columnsToUpdate=[column];if(this.gos.isColumnsSortingCoupledToGroup()&&column.getColDef().showRowGroup){const rowGroupColumns=this.funcColsService.getSourceColumnsForGroupColumn(column),sortableRowGroupColumns=rowGroupColumns?.filter((col=>col.isSortable()));sortableRowGroupColumns&&(columnsToUpdate=[column,...sortableRowGroupColumns])}columnsToUpdate.forEach((col=>col.setSort(sort,source)));const updatedColumns=[];if(!((multiSort||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"))){const clearedColumns=this.clearSortBarTheseColumns(columnsToUpdate,source);updatedColumns.push(...clearedColumns)}this.updateSortIndex(column),updatedColumns.push(...columnsToUpdate),this.dispatchSortChangedEvents(source,updatedColumns)}updateSortIndex(lastColToChange){const isCoupled=this.gos.isColumnsSortingCoupledToGroup(),groupParent=this.showRowGroupColsService?.getShowRowGroupCol(lastColToChange.getId()),lastSortIndexCol=isCoupled&&groupParent||lastColToChange,allSortedCols=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach((col=>col.setSortIndex(null)));const allSortedColsWithoutChangesOrGroups=allSortedCols.filter((col=>(!isCoupled||!col.getColDef().showRowGroup)&&col!==lastSortIndexCol));(lastSortIndexCol.getSort()?[...allSortedColsWithoutChangesOrGroups,lastSortIndexCol]:allSortedColsWithoutChangesOrGroups).forEach(((col,idx)=>{col.setSortIndex(idx)}))}onSortChanged(source,columns){this.dispatchSortChangedEvents(source,columns)}isSortActive(){const sortedCols=this.columnModel.getAllCols().filter((column=>!!column.getSort()));return sortedCols&&sortedCols.length>0}dispatchSortChangedEvents(source,columns){const event={type:"sortChanged",source};columns&&(event.columns=columns),this.eventService.dispatchEvent(event)}clearSortBarTheseColumns(columnsToSkip,source){const clearedColumns=[];return this.columnModel.getAllCols().forEach((columnToClear=>{columnsToSkip.includes(columnToClear)||(columnToClear.getSort()&&clearedColumns.push(columnToClear),columnToClear.setSort(void 0,source))})),clearedColumns}getNextSortDirection(column){let sortingOrder;if(sortingOrder=column.getColDef().sortingOrder?column.getColDef().sortingOrder:this.gos.get("sortingOrder")?this.gos.get("sortingOrder"):DEFAULT_SORTING_ORDER,!Array.isArray(sortingOrder)||sortingOrder.length<=0)return _warnOnce(`sortingOrder must be an array with at least one element, currently it's ${sortingOrder}`),null;const currentIndex=sortingOrder.indexOf(column.getSort()),notInArray=currentIndex<0,lastItemInArray=currentIndex==sortingOrder.length-1;let result;return result=notInArray||lastItemInArray?sortingOrder[0]:sortingOrder[currentIndex+1],DEFAULT_SORTING_ORDER.indexOf(result)<0?(_warnOnce("invalid sort type ",result),null):result}getIndexedSortMap(){let allSortedCols=this.columnModel.getAllCols().filter((col=>!!col.getSort()));if(this.columnModel.isPivotMode()){const isSortingLinked=this.gos.isColumnsSortingCoupledToGroup();allSortedCols=allSortedCols.filter((col=>{const isAggregated=!!col.getAggFunc(),isSecondary=!col.isPrimary(),isGroup=isSortingLinked?this.showRowGroupColsService?.getShowRowGroupCol(col.getId()):col.getColDef().showRowGroup;return isAggregated||isSecondary||isGroup}))}const sortedRowGroupCols=this.funcColsService.getRowGroupColumns().filter((col=>!!col.getSort())),allColsIndexes={};allSortedCols.forEach(((col,index)=>allColsIndexes[col.getId()]=index)),allSortedCols.sort(((a,b)=>{const iA=a.getSortIndex(),iB=b.getSortIndex();if(null!=iA&&null!=iB)return iA-iB;if(null==iA&&null==iB){return allColsIndexes[a.getId()]>allColsIndexes[b.getId()]?1:-1}return null==iB?-1:1}));const isSortLinked=this.gos.isColumnsSortingCoupledToGroup()&&!!sortedRowGroupCols.length;isSortLinked&&(allSortedCols=[...new Set(allSortedCols.map((col=>this.showRowGroupColsService?.getShowRowGroupCol(col.getId())??col)))]);const indexMap=new Map;return allSortedCols.forEach(((col,idx)=>indexMap.set(col,idx))),isSortLinked&&sortedRowGroupCols.forEach((col=>{const groupDisplayCol=this.showRowGroupColsService.getShowRowGroupCol(col.getId());indexMap.set(col,indexMap.get(groupDisplayCol))})),indexMap}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort((([col1,idx1],[col2,idx2])=>idx1-idx2)).map((([col])=>col))}getSortModel(){return this.getColumnsWithSortingOrdered().filter((column=>column.getSort())).map((column=>({sort:column.getSort(),colId:column.getId()})))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter((column=>column.getSort())).map((column=>({sort:column.getSort(),column})))}canColumnDisplayMixedSort(column){const isColumnSortCouplingActive=this.gos.isColumnsSortingCoupledToGroup(),isGroupDisplayColumn=!!column.getColDef().showRowGroup;return isColumnSortCouplingActive&&isGroupDisplayColumn}getDisplaySortForColumn(column){const linkedColumns=this.funcColsService.getSourceColumnsForGroupColumn(column);if(!this.canColumnDisplayMixedSort(column)||!linkedColumns?.length)return column.getSort();const sortableColumns=null!=column.getColDef().field||!!column.getColDef().valueGetter?[column,...linkedColumns]:linkedColumns,firstSort=sortableColumns[0].getSort();return sortableColumns.every((col=>col.getSort()==firstSort))?firstSort:"mixed"}getDisplaySortIndexForColumn(column){return this.getIndexedSortMap().get(column)}},SyncService=class extends BeanStub{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(beans){this.ctrlsService=beans.ctrlsService,this.columnModel=beans.columnModel,this.rowModel=beans.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",(event=>this.setColumnDefs(event)))}start(){this.ctrlsService.whenReady((()=>{const columnDefs=this.gos.get("columnDefs");columnDefs?this.setColumnsAndData(columnDefs):this.waitingForColumns=!0,this.gridReady()}))}setColumnsAndData(columnDefs){this.columnModel.setColumnDefs(columnDefs??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const isEnterprise=ModuleRegistry.__isRegistered("@ag-grid-enterprise/core",this.gridId);this.gos.get("debug")&&_log(`initialised successfully, enterprise = ${isEnterprise}`)}dispatchGridReadyEvent(){this.eventService.dispatchEvent({type:"gridReady"})}setColumnDefs(event){const columnDefs=this.gos.get("columnDefs");if(columnDefs)return this.waitingForColumns?(this.waitingForColumns=!1,void this.setColumnsAndData(columnDefs)):void this.columnModel.setColumnDefs(columnDefs,convertSourceType(event.source))}},ChangeDetectionService=class extends BeanStub{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(beans){this.rowModel=beans.rowModel,this.rowRenderer=beans.rowRenderer}postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(event){"paste"!==event.source&&this.doChangeDetection(event.node,event.column)}doChangeDetection(rowNode,column){if(this.gos.get("suppressChangeDetection"))return;const nodesToRefresh=[rowNode];if(this.clientSideRowModel&&!rowNode.isRowPinned()){const onlyChangedColumns=this.gos.get("aggregateOnlyChangedColumns"),changedPath=new ChangedPath(onlyChangedColumns,this.clientSideRowModel.getRootNode());changedPath.addParentNode(rowNode.parent,[column]),this.clientSideRowModel.doAggregate(changedPath),changedPath.forEachChangedNodeDepthFirst((rowNode2=>{nodesToRefresh.push(rowNode2)}))}this.rowRenderer.refreshCells({rowNodes:nodesToRefresh})}},ExpressionService=class extends BeanStub{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(expression,params){if("string"==typeof expression)return this.evaluateExpression(expression,params);_errorOnce("value should be either a string or a function",expression)}evaluateExpression(expression,params){try{const javaScriptFunction=this.createExpressionFunction(expression);return javaScriptFunction(params.value,params.context,params.oldValue,params.newValue,params.value,params.node,params.data,params.colDef,params.rowIndex,params.api,params.getValue,params.column,params.columnGroup)}catch(e){return _log("Processing of the expression failed"),_log("Expression = ",expression),_log("Params = ",params),_log("Exception = ",e),null}}createExpressionFunction(expression){if(this.expressionToFunctionCache[expression])return this.expressionToFunctionCache[expression];const functionBody=this.createFunctionBody(expression),theFunction=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",functionBody);return this.expressionToFunctionCache[expression]=theFunction,theFunction}createFunctionBody(expression){return expression.indexOf("return")>=0?expression:"return "+expression+";"}},ValueCache=class extends BeanStub{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(rowNode,colId,value){this.active&&(rowNode.__cacheVersion!==this.cacheVersion&&(rowNode.__cacheVersion=this.cacheVersion,rowNode.__cacheData={}),rowNode.__cacheData[colId]=value)}getValue(rowNode,colId){if(this.active&&rowNode.__cacheVersion===this.cacheVersion)return rowNode.__cacheData[colId]}},ValueService=class extends BeanStub{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(beans){this.expressionService=beans.expressionService,this.columnModel=beans.columnModel,this.valueCache=beans.valueCache,this.dataTypeService=beans.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=this.gos.isRowModelType("serverSide"),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const listener=event=>this.callColumnCellValueChangedHandler(event),async=this.gos.useAsyncEvents();this.eventService.addEventListener("cellValueChanged",listener,async),this.addDestroyFunc((()=>this.eventService.removeEventListener("cellValueChanged",listener,async))),this.addManagedPropertyListener("treeData",(propChange=>this.isTreeData=propChange.currentValue))}getValue(column,rowNode,forFilter=!1,ignoreAggData=!1){if(this.initialised||this.init(),!rowNode)return;const colDef=column.getColDef(),field=colDef.field,colId=column.getColId(),data=rowNode.data;let result;const groupDataExists=rowNode.groupData&&void 0!==rowNode.groupData[colId],aggDataExists=!ignoreAggData&&rowNode.aggData&&void 0!==rowNode.aggData[colId],ignoreSsrmAggData=this.isSsrm&&ignoreAggData&&!!column.getColDef().aggFunc,ssrmFooterGroupCol=this.isSsrm&&rowNode.footer&&rowNode.field&&(!0===column.getColDef().showRowGroup||column.getColDef().showRowGroup===rowNode.field);if(forFilter&&colDef.filterValueGetter?result=this.executeFilterValueGetter(colDef.filterValueGetter,data,column,rowNode):this.isTreeData&&aggDataExists?result=rowNode.aggData[colId]:this.isTreeData&&colDef.valueGetter?result=this.executeValueGetter(colDef.valueGetter,data,column,rowNode):this.isTreeData&&field&&data?result=_getValueUsingField(data,field,column.isFieldContainsDots()):groupDataExists?result=rowNode.groupData[colId]:aggDataExists?result=rowNode.aggData[colId]:colDef.valueGetter?result=this.executeValueGetter(colDef.valueGetter,data,column,rowNode):ssrmFooterGroupCol?result=_getValueUsingField(data,rowNode.field,column.isFieldContainsDots()):field&&data&&!ignoreSsrmAggData&&(result=_getValueUsingField(data,field,column.isFieldContainsDots())),this.cellExpressions&&"string"==typeof result&&0===result.indexOf("=")){const cellValueGetter=result.substring(1);result=this.executeValueGetter(cellValueGetter,data,column,rowNode)}if(null==result){const openedGroup=this.getOpenedGroup(rowNode,column);if(null!=openedGroup)return openedGroup}return result}parseValue(column,rowNode,newValue,oldValue){const colDef=column.getColDef(),params=this.gos.addGridCommonParams({node:rowNode,data:rowNode?.data,oldValue,newValue,colDef,column}),valueParser=colDef.valueParser;return _exists(valueParser)?"function"==typeof valueParser?valueParser(params):this.expressionService.evaluate(valueParser,params):newValue}formatValue(column,node,value,suppliedFormatter,useFormatterFromColumn=!0){let formatter,result=null;const colDef=column.getColDef();if(suppliedFormatter?formatter=suppliedFormatter:useFormatterFromColumn&&(formatter=colDef.valueFormatter),formatter){const params=this.gos.addGridCommonParams({value,node,data:node?node.data:null,colDef,column});result="function"==typeof formatter?formatter(params):this.expressionService.evaluate(formatter,params)}else if(colDef.refData)return colDef.refData[value]||"";return null==result&&Array.isArray(value)&&(result=value.join(", ")),result}getOpenedGroup(rowNode,column){if(!this.gos.get("showOpenedGroup"))return;if(!column.getColDef().showRowGroup)return;const showRowGroup=column.getColDef().showRowGroup;let pointer=rowNode.parent;for(;null!=pointer;){if(pointer.rowGroupColumn&&(!0===showRowGroup||showRowGroup===pointer.rowGroupColumn.getColId()))return pointer.key;pointer=pointer.parent}}setValue(rowNode,colKey,newValue,eventSource){const column=this.columnModel.getColDefCol(colKey);if(!rowNode||!column)return!1;_missing(rowNode.data)&&(rowNode.data={});const{field,valueSetter}=column.getColDef();if(_missing(field)&&_missing(valueSetter))return _warnOnce("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(column,newValue))return _warnOnce("Data type of the new value does not match the cell data type of the column"),!1;const params=this.gos.addGridCommonParams({node:rowNode,data:rowNode.data,oldValue:this.getValue(column,rowNode),newValue,colDef:column.getColDef(),column});let valueWasDifferent;if(params.newValue=newValue,valueWasDifferent=_exists(valueSetter)?"function"==typeof valueSetter?valueSetter(params):this.expressionService.evaluate(valueSetter,params):this.setValueUsingField(rowNode.data,field,newValue,column.isFieldContainsDots()),void 0===valueWasDifferent&&(valueWasDifferent=!0),!valueWasDifferent)return!1;rowNode.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),params.newValue=this.getValue(column,rowNode);const event={type:"cellValueChanged",event:null,rowIndex:rowNode.rowIndex,rowPinned:rowNode.rowPinned,column:params.column,api:params.api,colDef:params.colDef,context:params.context,data:rowNode.data,node:rowNode,oldValue:params.oldValue,newValue:params.newValue,value:params.newValue,source:eventSource};return this.eventService.dispatchEvent(event),!0}callColumnCellValueChangedHandler(event){const onCellValueChanged=event.colDef.onCellValueChanged;"function"==typeof onCellValueChanged&&this.getFrameworkOverrides().wrapOutgoing((()=>{onCellValueChanged({node:event.node,data:event.data,oldValue:event.oldValue,newValue:event.newValue,colDef:event.colDef,column:event.column,api:event.api,context:event.context})}))}setValueUsingField(data,field,newValue,isFieldContainsDots){if(!field)return!1;let valuesAreSame=!1;if(isFieldContainsDots){const fieldPieces=field.split(".");let currentObject=data;for(;fieldPieces.length>0&&currentObject;){const fieldPiece=fieldPieces.shift();0===fieldPieces.length?(valuesAreSame=currentObject[fieldPiece]===newValue,valuesAreSame||(currentObject[fieldPiece]=newValue)):currentObject=currentObject[fieldPiece]}}else valuesAreSame=data[field]===newValue,valuesAreSame||(data[field]=newValue);return!valuesAreSame}executeFilterValueGetter(valueGetter,data,column,rowNode){const params=this.gos.addGridCommonParams({data,node:rowNode,column,colDef:column.getColDef(),getValue:this.getValueCallback.bind(this,rowNode)});return"function"==typeof valueGetter?valueGetter(params):this.expressionService.evaluate(valueGetter,params)}executeValueGetter(valueGetter,data,column,rowNode){const colId=column.getColId(),valueFromCache=this.valueCache.getValue(rowNode,colId);if(void 0!==valueFromCache)return valueFromCache;const params=this.gos.addGridCommonParams({data,node:rowNode,column,colDef:column.getColDef(),getValue:this.getValueCallback.bind(this,rowNode)});let result;return result="function"==typeof valueGetter?valueGetter(params):this.expressionService.evaluate(valueGetter,params),this.valueCache.setValue(rowNode,colId,result),result}getValueCallback(node,field){const otherColumn=this.columnModel.getColDefCol(field);return otherColumn?this.getValue(otherColumn,node):null}getKeyForNode(col,rowNode){const value=this.getValue(col,rowNode),keyCreator=col.getColDef().keyCreator;let result=value;if(keyCreator){result=keyCreator(this.gos.addGridCommonParams({value,colDef:col.getColDef(),column:col,node:rowNode,data:rowNode.data}))}return"string"==typeof result||null==result||(result=String(result),"[object Object]"===result&&_warnOnce("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),result}},GlobalGridOptions=class{};GlobalGridOptions.gridOptions=void 0;var nextGridId=1,GridCoreCreator=class{create(eGridDiv,providedOptions,createUi,acceptChanges,params){let mergedGridOps={};GlobalGridOptions.gridOptions?(_mergeDeep(mergedGridOps,GlobalGridOptions.gridOptions,!0,!0),mergedGridOps={...mergedGridOps,...providedOptions}):mergedGridOps=providedOptions;const gridOptions=function getCoercedGridOptions(gridOptions){const newGo={};return Object.entries(gridOptions).forEach((([key,value])=>{const coercedValue=getCoercedValue(key,value);newGo[key]=coercedValue})),newGo}(mergedGridOps),gridId=gridOptions.gridId??String(nextGridId++),registeredModules=this.getRegisteredModules(params,gridId),beanClasses=this.createBeansList(gridOptions.rowModelType,registeredModules,gridId),providedBeanInstances=this.createProvidedBeans(eGridDiv,gridOptions,params);if(!beanClasses)return void _errorOnce("Failed to create grid.");const context=new Context({providedBeanInstances,beanClasses,gridId,beanInitComparator:gridBeanInitComparator,beanDestroyComparator:gridBeanDestroyComparator,derivedBeans:[createApiProxy]});return this.registerModuleUserComponents(context,registeredModules),this.registerControllers(context,registeredModules),this.registerModuleApiFunctions(context,registeredModules),createUi(context),context.getBean("syncService").start(),acceptChanges&&acceptChanges(context),context.getBean("gridApi")}registerControllers(context,registeredModules){const factory=context.getBean("ctrlsFactory");registeredModules.forEach((module=>{module.controllers&&module.controllers.forEach((meta=>factory.register(meta)))}))}getRegisteredModules(params,gridId){const passedViaConstructor=params?params.modules:null,registered=ModuleRegistry.__getRegisteredModules(gridId),allModules=[],mapNames={},addModule=(moduleBased,mod,gridId2)=>{var currentModule;mapNames[(currentModule=mod).moduleName]||(mapNames[currentModule.moduleName]=!0,allModules.push(currentModule),ModuleRegistry.__register(currentModule,moduleBased,gridId2)),mod.dependantModules&&mod.dependantModules.forEach((m=>addModule(moduleBased,m,gridId2)))};return addModule(!!passedViaConstructor?.length||!ModuleRegistry.__isPackageBased(),CommunityFeaturesModule,void 0),passedViaConstructor&&passedViaConstructor.forEach((m=>addModule(!0,m,gridId))),registered&&registered.forEach((m=>addModule(!ModuleRegistry.__isPackageBased(),m,void 0))),allModules}registerModuleUserComponents(context,registeredModules){const moduleUserComps=this.extractModuleEntity(registeredModules,(module=>module.userComponents?module.userComponents:[])),registry=context.getBean("userComponentRegistry");moduleUserComps.forEach((compMeta=>{registry.registerDefaultComponent(compMeta.name,compMeta.classImp)}))}registerModuleApiFunctions(context,registeredModules){const apiFunctionService=context.getBean("apiFunctionService");registeredModules.forEach((module=>{const apiFunctions=module.apiFunctions??{};Object.keys(apiFunctions).forEach((name=>{apiFunctionService?.addFunction(name,apiFunctions[name])}))}))}createProvidedBeans(eGridDiv,gridOptions,params){let frameworkOverrides=params?params.frameworkOverrides:null;_missing(frameworkOverrides)&&(frameworkOverrides=new VanillaFrameworkOverrides);const seed={gridOptions,eGridDiv,globalEventListener:params?params.globalEventListener:null,globalSyncEventListener:params?params.globalSyncEventListener:null,frameworkOverrides};return params&&params.providedBeanInstances&&Object.assign(seed,params.providedBeanInstances),seed}createBeansList(rowModelType="clientSide",registeredModules,gridId){const rowModelModules=registeredModules.filter((module=>!module.rowModel||module.rowModel===rowModelType)),rowModelModuleNames={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!rowModelModuleNames[rowModelType])return void _errorOnce("Could not find row model for rowModelType = ",rowModelType);if(!ModuleRegistry.__assertRegistered(rowModelModuleNames[rowModelType],`rowModelType = '${rowModelType}'`,gridId))return;const beans=[RowPositionUtils,CellPositionUtils,HeaderPositionUtils,GridDestroyService,ApiFunctionService,UserComponentRegistry,AgComponentUtils,ComponentMetadataProvider,ResizeObserverService,UserComponentFactory,RowContainerHeightService,HorizontalResizeService,LocaleService,PinnedRowModel,DragService,VisibleColsService,EventService,GridOptionsService,PopupService,SelectionService,ColumnModel,HeaderNavigationService,PageBoundsService,PageBoundsListener,RowRenderer,ExpressionService,ColumnFactory,NavigationService,ValueCache,ValueService,AutoWidthCalculator,StandardMenuFactory,DragAndDropService,FocusService,MouseEventService,Environment,CellNavigationService,StylingService,ScrollVisibleService,SortController,ColumnHoverService,ColumnAnimationService,SelectableService,ChangeDetectionService,AnimationFrameService,ColumnDefFactory,RowCssClassCalculator,RowNodeSorter,CtrlsService,PinnedWidthService,RowNodeEventThrottle,CtrlsFactory,SyncService,OverlayService,ExpansionService,ApiEventService,AriaAnnouncementService,MenuService,ColumnApplyStateService,ColumnEventDispatcher,ColumnMoveService,ColumnAutosizeService,ColumnGetStateService,ColumnGroupStateService,ColumnSizeService,FuncColsService,ColumnNameService,ColumnViewportService,PivotResultColsService],moduleBeans=this.extractModuleEntity(rowModelModules,(module=>module.beans?module.beans:[]));beans.push(...moduleBeans);const beansNoDuplicates=[];return beans.forEach((bean=>{beansNoDuplicates.indexOf(bean)<0&&beansNoDuplicates.push(bean)})),beansNoDuplicates}extractModuleEntity(moduleEntities,extractor){return[].concat(...moduleEntities.map(extractor))}},RowModelHelperService=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(beans){this.rowModel=beans.rowModel}postConstruct(){const rowModel=this.rowModel;switch(rowModel.getType()){case"clientSide":this.clientSideRowModel=rowModel;break;case"infinite":this.infiniteRowModel=rowModel;break;case"serverSide":this.serverSideRowModel=rowModel}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};var CsrmSsrmSharedApiModule={version:VERSION,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:function expandAll(beans){beans.expansionService.expandAll(!0)},collapseAll:function collapseAll(beans){beans.expansionService.expandAll(!1)},onRowHeightChanged:function onRowHeightChanged(beans){const clientSideRowModel=beans.rowModelHelperService?.getClientSideRowModel(),serverSideRowModel=beans.rowModelHelperService?.getServerSideRowModel();clientSideRowModel?clientSideRowModel.onRowHeightChanged():serverSideRowModel&&serverSideRowModel.onRowHeightChanged()}}},SsrmInfiniteSharedApiModule={version:VERSION,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:function setRowCount(beans,rowCount,maxRowFound){const serverSideRowModel=beans.rowModelHelperService?.getServerSideRowModel();if(serverSideRowModel)return beans.funcColsService.isRowGroupEmpty()?void serverSideRowModel.setRowCount(rowCount,maxRowFound):void _errorOnce("setRowCount cannot be used while using row grouping.");const infiniteRowModel=beans.rowModelHelperService?.getInfiniteRowModel();infiniteRowModel&&infiniteRowModel.setRowCount(rowCount,maxRowFound)},getCacheBlockState:function getCacheBlockState(beans){return beans.rowNodeBlockLoader?.getBlockState()??{}}}},BaseComponentWrapper=class{wrap(OriginalConstructor,mandatoryMethodList,optionalMethodList=[],componentType){const wrapper=this.createWrapper(OriginalConstructor,componentType);return mandatoryMethodList.forEach((methodName=>{this.createMethod(wrapper,methodName,!0)})),optionalMethodList.forEach((methodName=>{this.createMethod(wrapper,methodName,!1)})),wrapper}unwrap(comp){return comp}createMethod(wrapper,methodName,mandatory){wrapper.addMethod(methodName,this.createMethodProxy(wrapper,methodName,mandatory))}createMethodProxy(wrapper,methodName,mandatory){return function(){return wrapper.hasMethod(methodName)?wrapper.callMethod(methodName,arguments):(mandatory&&_warnOnce("Framework component is missing the method "+methodName+"()"),null)}}};var ChartMappings=class{};ChartMappings.CHART_TYPE_TO_SERIES_TYPE={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall"},ChartMappings.COMBO_CHART_TYPES=["columnLineCombo","areaColumnCombo","customCombo"],ChartMappings.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];var globalObj=void 0===__webpack_require__.g?{}:__webpack_require__.g;globalObj.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,globalObj.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,globalObj.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,globalObj.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,globalObj.Node="undefined"==typeof Node?{}:Node,globalObj.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var ClientSideNodeManager=class{constructor(rootNode,gos,eventService,funcColsService,selectionService,beans){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=rootNode,this.gos=gos,this.eventService=eventService,this.funcColsService=funcColsService,this.beans=beans,this.selectionService=selectionService,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id="ROOT_NODE_ID",this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return _cloneObject(this.allNodesMap)}getRowNode(id){return this.allNodesMap[id]}setRowData(rowData){if("string"==typeof rowData)return void _warnOnce("rowData must be an array.");this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(rowData);const rootNode=this.rootNode,sibling=this.rootNode.sibling;rootNode.childrenAfterFilter=null,rootNode.childrenAfterGroup=null,rootNode.childrenAfterAggFilter=null,rootNode.childrenAfterSort=null,rootNode.childrenMapped=null,rootNode.updateHasChildren(),this.nextId=0,this.allNodesMap={},rowData?rootNode.allLeafChildren=rowData.map((dataItem=>this.createNode(dataItem,this.rootNode,0))):(rootNode.allLeafChildren=[],rootNode.childrenAfterGroup=[]),sibling&&(sibling.childrenAfterFilter=rootNode.childrenAfterFilter,sibling.childrenAfterGroup=rootNode.childrenAfterGroup,sibling.childrenAfterAggFilter=rootNode.childrenAfterAggFilter,sibling.childrenAfterSort=rootNode.childrenAfterSort,sibling.childrenMapped=rootNode.childrenMapped,sibling.allLeafChildren=rootNode.allLeafChildren)}updateRowData(rowDataTran,rowNodeOrder){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(rowDataTran.add);const rowNodeTransaction={remove:[],update:[],add:[]},nodesToUnselect=[];return this.executeRemove(rowDataTran,rowNodeTransaction,nodesToUnselect),this.executeUpdate(rowDataTran,rowNodeTransaction,nodesToUnselect),this.executeAdd(rowDataTran,rowNodeTransaction),this.updateSelection(nodesToUnselect,"rowDataChanged"),rowNodeOrder&&function _sortRowNodesByOrder(rowNodes,rowNodeOrder){if(!rowNodes)return!1;const comparator=(nodeA,nodeB)=>{const positionA=rowNodeOrder[nodeA.id],positionB=rowNodeOrder[nodeB.id],aHasIndex=void 0!==positionA,bHasIndex=void 0!==positionB;return aHasIndex&&bHasIndex?positionA-positionB:aHasIndex||bHasIndex?aHasIndex?1:-1:nodeA.__objectId-nodeB.__objectId};let rowNodeA,rowNodeB,atLeastOneOutOfOrder=!1;for(let i=0;i<rowNodes.length-1;i++)if(rowNodeA=rowNodes[i],rowNodeB=rowNodes[i+1],comparator(rowNodeA,rowNodeB)>0){atLeastOneOutOfOrder=!0;break}return!!atLeastOneOutOfOrder&&(rowNodes.sort(comparator),!0)}(this.rootNode.allLeafChildren,rowNodeOrder),rowNodeTransaction}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(rowData){const event={type:"rowDataUpdateStarted",firstRowData:rowData?.length?rowData[0]:null};this.eventService.dispatchEvent(event)}updateSelection(nodesToUnselect,source){const selectionChanged=nodesToUnselect.length>0;if(selectionChanged&&this.selectionService.setNodesSelected({newValue:!1,nodes:nodesToUnselect,suppressFinishActions:!0,source}),this.selectionService.updateGroupsFromChildrenSelections(source),selectionChanged){const event={type:"selectionChanged",source};this.eventService.dispatchEvent(event)}}executeAdd(rowDataTran,rowNodeTransaction){const{add,addIndex}=rowDataTran;if(_missingOrEmpty(add))return;const newNodes=add.map((item=>this.createNode(item,this.rootNode,0))),allLeafChildren=this.rootNode.allLeafChildren;if("number"==typeof addIndex&&addIndex>=0){const len=allLeafChildren.length;let normalisedAddIndex=addIndex;if(this.gos.get("treeData")&&addIndex>0&&len>0)for(let i=0;i<len;i++)if(allLeafChildren[i]?.rowIndex==addIndex-1){normalisedAddIndex=i+1;break}const nodesBeforeIndex=allLeafChildren.slice(0,normalisedAddIndex),nodesAfterIndex=allLeafChildren.slice(normalisedAddIndex,allLeafChildren.length);this.rootNode.allLeafChildren=[...nodesBeforeIndex,...newNodes,...nodesAfterIndex]}else this.rootNode.allLeafChildren=[...allLeafChildren,...newNodes];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=allLeafChildren),rowNodeTransaction.add=newNodes}executeRemove(rowDataTran,rowNodeTransaction,nodesToUnselect){const{remove}=rowDataTran;if(_missingOrEmpty(remove))return;const rowIdsRemoved={};remove.forEach((item=>{const rowNode=this.lookupRowNode(item);rowNode&&(rowNode.isSelected()&&nodesToUnselect.push(rowNode),rowNode.clearRowTopAndRowIndex(),rowIdsRemoved[rowNode.id]=!0,delete this.allNodesMap[rowNode.id],rowNodeTransaction.remove.push(rowNode))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren?.filter((rowNode=>!rowIdsRemoved[rowNode.id]))??null,this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(rowDataTran,rowNodeTransaction,nodesToUnselect){const{update}=rowDataTran;_missingOrEmpty(update)||update.forEach((item=>{const rowNode=this.lookupRowNode(item);rowNode&&(rowNode.updateData(item),!rowNode.selectable&&rowNode.isSelected()&&nodesToUnselect.push(rowNode),this.setMasterForRow(rowNode,item,0,!1),rowNodeTransaction.update.push(rowNode))}))}lookupRowNode(data){const getRowIdFunc=this.gos.getRowIdCallback();let rowNode;if(getRowIdFunc){const id=getRowIdFunc({data,level:0});if(rowNode=this.allNodesMap[id],!rowNode)return _errorOnce(`could not find row id=${id}, data item was not found for this id`),null}else if(rowNode=this.rootNode.allLeafChildren?.find((node=>node.data===data)),!rowNode)return _errorOnce("could not find data item as object was not found",data),_errorOnce("Consider using getRowId to help the Grid find matching row data"),null;return rowNode||null}createNode(dataItem,parent,level){const node=new RowNode(this.beans);return node.group=!1,this.setMasterForRow(node,dataItem,level,!0),parent&&(node.parent=parent),node.level=level,node.setDataAndId(dataItem,this.nextId.toString()),this.allNodesMap[node.id]&&_warnOnce(`duplicate node id '${node.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[node.id]=node,this.nextId++,node}setMasterForRow(rowNode,data,level,setExpanded){if(this.gos.get("treeData"))rowNode.setMaster(!1),setExpanded&&(rowNode.expanded=!1);else{if(this.gos.get("masterDetail")){const isRowMasterFunc=this.gos.get("isRowMaster");isRowMasterFunc?rowNode.setMaster(isRowMasterFunc(data)):rowNode.setMaster(!0)}else rowNode.setMaster(!1);if(setExpanded){const rowGroupColumns=this.funcColsService.getRowGroupColumns(),masterRowLevel=level+(rowGroupColumns?rowGroupColumns.length:0);rowNode.expanded=!!rowNode.master&&this.isExpanded(masterRowLevel)}}}isExpanded(level){const expandByDefault=this.gos.get("groupDefaultExpanded");return-1===expandByDefault||level<expandByDefault}};var ClientSideRowModelCoreModule={version:"32.0.2",moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=_debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(beans){this.beans=beans,this.columnModel=beans.columnModel,this.funcColsService=beans.funcColsService,this.selectionService=beans.selectionService,this.valueCache=beans.valueCache,this.environment=beans.environment,this.filterStage=beans.filterStage,this.sortStage=beans.sortStage,this.flattenStage=beans.flattenStage,this.groupStage=beans.groupStage,this.aggregationStage=beans.aggregationStage,this.pivotStage=beans.pivotStage,this.filterAggregatesStage=beans.filterAggregatesStage}postConstruct(){const refreshEverythingFunc=this.refreshModel.bind(this,{step:"group"}),animate=!this.gos.get("suppressAnimationFrame"),refreshEverythingAfterColsChangedFunc=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate});this.addManagedEventListeners({newColumnsLoaded:refreshEverythingAfterColsChangedFunc,columnRowGroupChanged:refreshEverythingFunc,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:refreshEverythingFunc,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new RowNode(this.beans),this.nodeManager=new ClientSideNodeManager(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const resetProps=new Set(["treeData","masterDetail"]),groupStageRefreshProps=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),filterStageRefreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),pivotStageRefreshProps=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),aggregateStageRefreshProps=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),sortStageRefreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),filterAggStageRefreshProps=new Set([]),flattenStageRefreshProps=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),allProps=[...resetProps,...groupStageRefreshProps,...filterStageRefreshProps,...pivotStageRefreshProps,...pivotStageRefreshProps,...aggregateStageRefreshProps,...sortStageRefreshProps,...filterAggStageRefreshProps,...flattenStageRefreshProps];this.addManagedPropertyListeners(allProps,(params=>{const properties=params.changeSet?.properties;if(!properties)return;const arePropertiesImpacted=propSet=>properties.some((prop=>propSet.has(prop)));arePropertiesImpacted(resetProps)?this.setRowData(this.rootNode.allLeafChildren.map((child=>child.data))):arePropertiesImpacted(groupStageRefreshProps)?this.refreshModel({step:"group"}):arePropertiesImpacted(filterStageRefreshProps)?this.refreshModel({step:"filter"}):arePropertiesImpacted(pivotStageRefreshProps)?this.refreshModel({step:"pivot"}):arePropertiesImpacted(aggregateStageRefreshProps)?this.refreshModel({step:"aggregate"}):arePropertiesImpacted(sortStageRefreshProps)?this.refreshModel({step:"sort"}):arePropertiesImpacted(filterAggStageRefreshProps)?this.refreshModel({step:"filter_aggregates"}):arePropertiesImpacted(flattenStageRefreshProps)&&this.refreshModel({step:"map"})})),this.addManagedPropertyListener("rowHeight",(()=>this.resetRowHeights()))}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const rowData=this.gos.get("rowData");rowData&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(rowData))}ensureRowHeightsValid(startPixel,endPixel,startLimitIndex,endLimitIndex){let atLeastOneChange,res=!1;do{atLeastOneChange=!1;const rowAtStartPixel=this.getRowIndexAtPixel(startPixel),rowAtEndPixel=this.getRowIndexAtPixel(endPixel),firstRow=Math.max(rowAtStartPixel,startLimitIndex),lastRow=Math.min(rowAtEndPixel,endLimitIndex);for(let rowIndex=firstRow;rowIndex<=lastRow;rowIndex++){const rowNode=this.getRow(rowIndex);if(rowNode.rowHeightEstimated){const rowHeight=this.gos.getRowHeightForNode(rowNode);rowNode.setRowHeight(rowHeight.height),atLeastOneChange=!0,res=!0}}atLeastOneChange&&this.setRowTopAndRowIndex()}while(atLeastOneChange);return res}setRowTopAndRowIndex(){const defaultRowHeight=this.environment.getDefaultRowHeight();let nextRowTop=0;const displayedRowsMapped=new Set,allowEstimate=this.gos.isDomLayout("normal");for(let i=0;i<this.rowsToDisplay.length;i++){const rowNode=this.rowsToDisplay[i];if(null!=rowNode.id&&displayedRowsMapped.add(rowNode.id),null==rowNode.rowHeight){const rowHeight=this.gos.getRowHeightForNode(rowNode,allowEstimate,defaultRowHeight);rowNode.setRowHeight(rowHeight.height,rowHeight.estimated)}rowNode.setRowTop(nextRowTop),rowNode.setRowIndex(i),nextRowTop+=rowNode.rowHeight}return displayedRowsMapped}clearRowTopAndRowIndex(changedPath,displayedRowsMapped){const changedPathActive=changedPath.isActive(),clearIfNotDisplayed=rowNode=>{rowNode&&null!=rowNode.id&&!displayedRowsMapped.has(rowNode.id)&&rowNode.clearRowTopAndRowIndex()},recurse=rowNode=>{if(clearIfNotDisplayed(rowNode),clearIfNotDisplayed(rowNode.detailNode),clearIfNotDisplayed(rowNode.sibling),rowNode.hasChildren()&&rowNode.childrenAfterGroup){const isRootNode=-1==rowNode.level;changedPathActive&&!isRootNode&&!rowNode.expanded||rowNode.childrenAfterGroup.forEach(recurse)}};recurse(this.rootNode)}ensureRowsAtPixel(rowNodes,pixel,increment=0){const indexAtPixelNow=this.getRowIndexAtPixel(pixel),rowNodeAtPixelNow=this.getRow(indexAtPixelNow),animate=!this.gos.get("suppressAnimationFrame");return rowNodeAtPixelNow!==rowNodes[0]&&(rowNodes.forEach((rowNode=>{_removeFromArray(this.rootNode.allLeafChildren,rowNode)})),rowNodes.forEach(((rowNode,idx)=>{_insertIntoArray(this.rootNode.allLeafChildren,rowNode,Math.max(indexAtPixelNow+increment,0)+idx)})),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate}),!0)}highlightRowAtPixel(rowNode,pixel){const indexAtPixelNow=null!=pixel?this.getRowIndexAtPixel(pixel):null,rowNodeAtPixelNow=null!=indexAtPixelNow?this.getRow(indexAtPixelNow):null;if(!rowNodeAtPixelNow||!rowNode||rowNodeAtPixelNow===rowNode||null==pixel)return void(this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null));const highlight=this.getHighlightPosition(pixel,rowNodeAtPixelNow);this.lastHighlightedRow&&this.lastHighlightedRow!==rowNodeAtPixelNow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),rowNodeAtPixelNow.setHighlighted(highlight),this.lastHighlightedRow=rowNodeAtPixelNow}getHighlightPosition(pixel,rowNode){if(!rowNode){const index=this.getRowIndexAtPixel(pixel);if(!(rowNode=this.getRow(index||0)))return 1}const{rowTop,rowHeight}=rowNode;return pixel-rowTop<rowHeight/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const totalFooterInc=this.rootNode.sibling?1:0,filteredChildren=this.rootNode.childrenAfterAggFilter;return(filteredChildren?filteredChildren.length:0)+totalFooterInc}getTopLevelRowDisplayedIndex(topLevelIndex){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return topLevelIndex;let adjustedIndex=topLevelIndex;if(this.rowsToDisplay[0].footer){if(0===topLevelIndex)return 0;adjustedIndex-=1}let rowNode=this.rootNode.childrenAfterSort[adjustedIndex];if(this.gos.get("groupHideOpenParents"))for(;rowNode.expanded&&rowNode.childrenAfterSort&&rowNode.childrenAfterSort.length>0;)rowNode=rowNode.childrenAfterSort[0];return rowNode.rowIndex}getRowBounds(index){if(_missing(this.rowsToDisplay))return null;const rowNode=this.rowsToDisplay[index];return rowNode?{rowTop:rowNode.rowTop,rowHeight:rowNode.rowHeight}:null}onRowGroupOpened(){const animate=this.gos.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate})}onFilterChanged(event){if(event.afterDataChange)return;const animate=this.gos.isAnimateRows(),step=0===event.columns.length||event.columns.some((col=>col.isPrimary()))?"filter":"filter_aggregates";this.refreshModel({step,keepRenderedRows:!0,animate})}onSortChanged(){const animate=this.gos.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(rowNodeTransactions){const noTransactions=_missingOrEmpty(rowNodeTransactions),changedPath=new ChangedPath(!1,this.rootNode);return(noTransactions||this.gos.get("treeData"))&&changedPath.setInactive(),changedPath}isSuppressModelUpdateAfterUpdateTransaction(params){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;if(null==params.rowNodeTransactions)return!1;const transWithAddsOrDeletes=params.rowNodeTransactions.filter((tx=>null!=tx.add&&tx.add.length>0||null!=tx.remove&&tx.remove.length>0));return null==transWithAddsOrDeletes||0==transWithAddsOrDeletes.length}buildRefreshModelParams(step){let paramsStep="group";const stepsMapped={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(_exists(step)&&(paramsStep=stepsMapped[step]),_missing(paramsStep))return void _errorOnce(`invalid step ${step}, available steps are ${Object.keys(stepsMapped).join(", ")}`);return{step:paramsStep,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gos.get("suppressAnimationFrame")}}refreshModel(paramsOrStep){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const params="object"==typeof paramsOrStep&&"step"in paramsOrStep?paramsOrStep:this.buildRefreshModelParams(paramsOrStep);if(!params)return;if(this.isSuppressModelUpdateAfterUpdateTransaction(params))return;const changedPath=this.createChangePath(params.rowNodeTransactions);switch(this.isRefreshingModel=!0,params.step){case"group":this.doRowGrouping(params.rowNodeTransactions,params.rowNodeOrder,changedPath,!!params.afterColumnsChanged);case"filter":this.doFilter(changedPath);case"pivot":this.doPivot(changedPath);case"aggregate":this.doAggregate(changedPath);case"filter_aggregates":this.doFilterAggregates(changedPath);case"sort":this.doSort(params.rowNodeTransactions,changedPath);case"map":this.doRowsToDisplay()}const displayedNodesMapped=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(changedPath,displayedNodesMapped),this.isRefreshingModel=!1;const event={type:"modelUpdated",animate:params.animate,keepRenderedRows:params.keepRenderedRows,newData:params.newData,newPage:!1,keepUndoRedoStack:params.keepUndoRedoStack};this.eventService.dispatchEvent(event)}isEmpty(){const rowsMissing=_missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return _missing(this.rootNode)||rowsMissing||!this.columnModel.isReady()}isRowsToRender(){return _exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(firstInRange,lastInRange){let started=!1,finished=!1;const result=[],groupsSelectChildren=this.gos.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort((rowNode=>{if(finished)return;if(started&&(rowNode===lastInRange||rowNode===firstInRange)&&(finished=!0,rowNode.group&&groupsSelectChildren))return void result.push(...rowNode.allLeafChildren);if(!started){if(rowNode!==lastInRange&&rowNode!==firstInRange)return;started=!0}(!rowNode.group||!groupsSelectChildren)&&result.push(rowNode)})),result}setDatasource(datasource){_errorOnce("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(index){return this.rowsToDisplay[index]}isRowPresent(rowNode){return this.rowsToDisplay.indexOf(rowNode)>=0}getRowIndexAtPixel(pixelToMatch){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let bottomPointer=0,topPointer=this.rowsToDisplay.length-1;if(pixelToMatch<=0)return 0;if(_last(this.rowsToDisplay).rowTop<=pixelToMatch)return this.rowsToDisplay.length-1;let oldBottomPointer=-1,oldTopPointer=-1;for(;;){const midPointer=Math.floor((bottomPointer+topPointer)/2),currentRowNode=this.rowsToDisplay[midPointer];if(this.isRowInPixel(currentRowNode,pixelToMatch))return midPointer;currentRowNode.rowTop<pixelToMatch?bottomPointer=midPointer+1:currentRowNode.rowTop>pixelToMatch&&(topPointer=midPointer-1);if(oldBottomPointer===bottomPointer&&oldTopPointer===topPointer)return midPointer;oldBottomPointer=bottomPointer,oldTopPointer=topPointer}}isRowInPixel(rowNode,pixelToMatch){const topPixel=rowNode.rowTop,bottomPixel=rowNode.rowTop+rowNode.rowHeight;return topPixel<=pixelToMatch&&bottomPixel>pixelToMatch}forEachLeafNode(callback){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(((rowNode,index)=>callback(rowNode,index)))}forEachNode(callback,includeFooterNodes=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback,recursionType:0,index:0,includeFooterNodes})}forEachNodeAfterFilter(callback,includeFooterNodes=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback,recursionType:1,index:0,includeFooterNodes})}forEachNodeAfterFilterAndSort(callback,includeFooterNodes=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback,recursionType:2,index:0,includeFooterNodes})}forEachPivotNode(callback,includeFooterNodes=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback,recursionType:3,index:0,includeFooterNodes})}recursivelyWalkNodesAndCallback(params){const{nodes,callback,recursionType,includeFooterNodes}=params;let{index}=params;const addFooters=position=>{const parentNode=nodes[0]?.parent;if(!parentNode)return;const grandTotal=includeFooterNodes&&this.gos.getGrandTotalRow(),isGroupIncludeFooter=this.gos.getGroupTotalRowCallback(),groupTotal=includeFooterNodes&&isGroupIncludeFooter({node:parentNode});parentNode===this.rootNode?grandTotal===position&&(parentNode.createFooter(),callback(parentNode.sibling,index++)):groupTotal===position&&(parentNode.createFooter(),callback(parentNode.sibling,index++))};addFooters("top");for(let i=0;i<nodes.length;i++){const node=nodes[i];if(callback(node,index++),node.hasChildren()&&!node.footer){let nodeChildren=null;switch(recursionType){case 0:nodeChildren=node.childrenAfterGroup;break;case 1:nodeChildren=node.childrenAfterAggFilter;break;case 2:nodeChildren=node.childrenAfterSort;break;case 3:nodeChildren=node.leafGroup?null:node.childrenAfterSort}nodeChildren&&(index=this.recursivelyWalkNodesAndCallback({nodes:[...nodeChildren],callback,recursionType,index,includeFooterNodes}))}}return addFooters("bottom"),index}doAggregate(changedPath){this.aggregationStage?.execute({rowNode:this.rootNode,changedPath})}doFilterAggregates(changedPath){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(expand){const usingTreeData=this.gos.get("treeData"),usingPivotMode=this.columnModel.isPivotActive(),recursiveExpandOrCollapse=rowNodes=>{rowNodes&&rowNodes.forEach((rowNode=>{const actionRow=()=>{rowNode.expanded=expand,recursiveExpandOrCollapse(rowNode.childrenAfterGroup)};if(usingTreeData){return void(_exists(rowNode.childrenAfterGroup)&&actionRow())}if(usingPivotMode){return void(!rowNode.leafGroup&&actionRow())}rowNode.group&&actionRow()}))};this.rootNode&&recursiveExpandOrCollapse(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"});const event={type:"expandOrCollapseAll",source:expand?"expandAll":"collapseAll"};this.eventService.dispatchEvent(event)}doSort(rowNodeTransactions,changedPath){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions,changedPath})}doRowGrouping(rowNodeTransactions,rowNodeOrder,changedPath,afterColumnsChanged){if(this.groupStage){if(rowNodeTransactions?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions,rowNodeOrder,changedPath}):this.groupStage.execute({rowNode:this.rootNode,changedPath,afterColumnsChanged}),this.gos.get("groupSelectsChildren")){if(this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",changedPath)){const event={type:"selectionChanged",source:"rowGroupChanged"};this.eventService.dispatchEvent(event)}}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(changedPath){this.filterStage.execute({rowNode:this.rootNode,changedPath})}doPivot(changedPath){this.pivotStage?.execute({rowNode:this.rootNode,changedPath})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(id){if("string"==typeof id&&0==id.indexOf(RowNode.ID_PREFIX_ROW_GROUP)){let res;return this.forEachNode((node=>{node.id===id&&(res=node)})),res}return this.nodeManager.getRowNode(id)}setRowData(rowData){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(rowData),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(rowDataTransaction,callback){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const waitMillis=this.gos.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout((()=>{this.executeBatchUpdateRowData()}),waitMillis)}this.rowDataTransactionBatch.push({rowDataTransaction,callback})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const callbackFuncsBound=[],rowNodeTrans=[];let forceRowNodeOrder=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((tranItem=>{const rowNodeTran=this.nodeManager.updateRowData(tranItem.rowDataTransaction,void 0);rowNodeTrans.push(rowNodeTran),tranItem.callback&&callbackFuncsBound.push(tranItem.callback.bind(null,rowNodeTran)),"number"==typeof tranItem.rowDataTransaction.addIndex&&(forceRowNodeOrder=!0)})),this.commonUpdateRowData(rowNodeTrans,void 0,forceRowNodeOrder),callbackFuncsBound.length>0&&window.setTimeout((()=>{callbackFuncsBound.forEach((func=>func()))}),0),rowNodeTrans.length>0){const event={type:"asyncTransactionsFlushed",results:rowNodeTrans};this.eventService.dispatchEvent(event)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(rowDataTran,rowNodeOrder){this.valueCache.onDataChanged();const rowNodeTran=this.nodeManager.updateRowData(rowDataTran,rowNodeOrder),forceRowNodeOrder="number"==typeof rowDataTran.addIndex;return this.commonUpdateRowData([rowNodeTran],rowNodeOrder,forceRowNodeOrder),rowNodeTran}createRowNodeOrder(){if(this.gos.get("suppressMaintainUnsortedOrder"))return;const orderMap={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let index=0;index<this.rootNode.allLeafChildren.length;index++){orderMap[this.rootNode.allLeafChildren[index].id]=index}return orderMap}commonUpdateRowData(rowNodeTrans,rowNodeOrder,forceRowNodeOrder){if(!this.hasStarted)return;const animate=!this.gos.get("suppressAnimationFrame");forceRowNodeOrder&&(rowNodeOrder=this.createRowNodeOrder());this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:rowNodeTrans,rowNodeOrder,keepRenderedRows:!0,keepEditingRows:!0,animate})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const atLeastOne=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),atLeastOne&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let atLeastOne=!1;return this.forEachNode((rowNode=>{rowNode.setRowHeight(rowNode.rowHeight,!0);const detailNode=rowNode.detailNode;detailNode&&detailNode.setRowHeight(detailNode.rowHeight,!0),rowNode.sibling&&rowNode.sibling.setRowHeight(rowNode.sibling.rowHeight,!0),atLeastOne=!0})),atLeastOne}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}},class extends BeanStub{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(beans){this.filterManager=beans.filterManager}execute(params){const{changedPath}=params;this.filter(changedPath)}filter(changedPath){const filterActive=!!this.filterManager?.isChildFilterPresent();this.filterNodes(filterActive,changedPath)}filterNodes(filterActive,changedPath){const filterCallback=(rowNode,includeChildNodes)=>{rowNode.hasChildren()?rowNode.childrenAfterFilter=filterActive&&!includeChildNodes?rowNode.childrenAfterGroup.filter((childNode=>{const passBecauseChildren=childNode.childrenAfterFilter&&childNode.childrenAfterFilter.length>0,passBecauseDataPasses=childNode.data&&this.filterManager.doesRowPassFilter({rowNode:childNode});return passBecauseChildren||passBecauseDataPasses})):rowNode.childrenAfterGroup:rowNode.childrenAfterFilter=rowNode.childrenAfterGroup,rowNode.sibling&&(rowNode.sibling.childrenAfterFilter=rowNode.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const treeDataDepthFirstFilter=(rowNode,alreadyFoundInParent)=>{if(rowNode.childrenAfterGroup)for(let i=0;i<rowNode.childrenAfterGroup.length;i++){const childNode=rowNode.childrenAfterGroup[i],foundInParent=alreadyFoundInParent||this.filterManager.doesRowPassFilter({rowNode:childNode});childNode.childrenAfterGroup?treeDataDepthFirstFilter(rowNode.childrenAfterGroup[i],foundInParent):filterCallback(childNode,foundInParent)}filterCallback(rowNode,alreadyFoundInParent)},treeDataFilterCallback=rowNode=>treeDataDepthFirstFilter(rowNode,!1);changedPath.executeFromRootNode(treeDataFilterCallback)}else{const defaultFilterCallback=rowNode=>filterCallback(rowNode,!1);changedPath.forEachChangedNodeDepthFirst(defaultFilterCallback,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},class extends BeanStub{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(beans){this.sortService=beans.sortService,this.sortController=beans.sortController}execute(params){const sortOptions=this.sortController.getSortOptions(),sortActive=_exists(sortOptions)&&sortOptions.length>0,deltaSort=sortActive&&_exists(params.rowNodeTransactions)&&this.gos.get("deltaSort"),sortContainsGroupColumns=sortOptions.some((opt=>this.gos.isColumnsSortingCoupledToGroup()?opt.column.isPrimary()&&opt.column.isRowGroupActive():!!opt.column.getColDef().showRowGroup));this.sortService.sort(sortOptions,sortActive,deltaSort,params.rowNodeTransactions,params.changedPath,sortContainsGroupColumns)}},class extends BeanStub{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(beans){this.beans=beans,this.columnModel=beans.columnModel}execute(params){const rootNode=params.rowNode,result=[],skipLeafNodes=this.columnModel.isPivotMode(),showRootNode=skipLeafNodes&&rootNode.leafGroup,topList=showRootNode?[rootNode]:rootNode.childrenAfterSort,details=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(details,topList,result,skipLeafNodes,0);if(!showRootNode&&result.length>0&&details.grandTotalRow){rootNode.createFooter();const addToTop="top"===details.grandTotalRow;this.addRowNodeToRowsToDisplay(details,rootNode.sibling,result,0,addToTop)}return result}getFlattenDetails(){const groupRemoveSingleChildren=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!groupRemoveSingleChildren&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren,isGroupMultiAutoColumn:this.gos.isGroupMultiAutoColumn(),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:this.gos.getGrandTotalRow(),groupTotalRow:this.gos.getGroupTotalRowCallback()}}recursivelyAddToRowsToDisplay(details,rowsToFlatten,result,skipLeafNodes,uiLevel){if(!_missingOrEmpty(rowsToFlatten))for(let i=0;i<rowsToFlatten.length;i++){const rowNode=rowsToFlatten[i],isParent=rowNode.hasChildren(),isSkippedLeafNode=skipLeafNodes&&!isParent,isRemovedSingleChildrenGroup=details.groupRemoveSingleChildren&&isParent&&1===rowNode.childrenAfterGroup.length,isRemovedLowestSingleChildrenGroup=details.groupRemoveLowestSingleChildren&&isParent&&rowNode.leafGroup&&1===rowNode.childrenAfterGroup.length,neverAllowToExpand=skipLeafNodes&&rowNode.leafGroup,isHiddenOpenParent=details.hideOpenParents&&rowNode.expanded&&!rowNode.master&&!neverAllowToExpand;if(!(isSkippedLeafNode||isHiddenOpenParent||isRemovedSingleChildrenGroup||isRemovedLowestSingleChildrenGroup)&&this.addRowNodeToRowsToDisplay(details,rowNode,result,uiLevel),!skipLeafNodes||!rowNode.leafGroup)if(isParent){const excludedParent=isRemovedSingleChildrenGroup||isRemovedLowestSingleChildrenGroup;if(rowNode.expanded||excludedParent){const doesRowShowFooter=details.groupTotalRow({node:rowNode});doesRowShowFooter||rowNode.destroyFooter();const uiLevelForChildren=excludedParent?uiLevel:uiLevel+1;"top"===doesRowShowFooter&&(rowNode.createFooter(),this.addRowNodeToRowsToDisplay(details,rowNode.sibling,result,uiLevelForChildren)),this.recursivelyAddToRowsToDisplay(details,rowNode.childrenAfterSort,result,skipLeafNodes,uiLevelForChildren),"bottom"===doesRowShowFooter&&(rowNode.createFooter(),this.addRowNodeToRowsToDisplay(details,rowNode.sibling,result,uiLevelForChildren))}}else if(rowNode.master&&rowNode.expanded){const detailNode=this.createDetailNode(rowNode);this.addRowNodeToRowsToDisplay(details,detailNode,result,uiLevel)}}}addRowNodeToRowsToDisplay(details,rowNode,result,uiLevel,addToTop){addToTop?result.unshift(rowNode):result.push(rowNode),rowNode.setUiLevel(details.isGroupMultiAutoColumn?0:uiLevel)}createDetailNode(masterNode){if(_exists(masterNode.detailNode))return masterNode.detailNode;const detailNode=new RowNode(this.beans);return detailNode.detail=!0,detailNode.selectable=!1,detailNode.parent=masterNode,_exists(masterNode.id)&&(detailNode.id="detail_"+masterNode.id),detailNode.data=masterNode.data,detailNode.level=masterNode.level+1,masterNode.detailNode=detailNode,detailNode}},class extends BeanStub{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(beans){this.columnModel=beans.columnModel,this.funcColsService=beans.funcColsService,this.rowNodeSorter=beans.rowNodeSorter,this.showRowGroupColsService=beans.showRowGroupColsService}sort(sortOptions,sortActive,useDeltaSort,rowNodeTransactions,changedPath,sortContainsGroupColumns){const groupMaintainOrder=this.gos.get("groupMaintainOrder"),groupColumnsPresent=this.columnModel.getCols().some((c=>c.isRowGroupActive()));let allDirtyNodes={};useDeltaSort&&rowNodeTransactions&&(allDirtyNodes=this.calculateDirtyNodes(rowNodeTransactions));const isPivotMode=this.columnModel.isPivotMode(),postSortFunc=this.gos.getCallback("postSortRows"),callback=rowNode=>{this.pullDownGroupDataForHideOpenParents(rowNode.childrenAfterAggFilter,!0);const skipSortingPivotLeafs=isPivotMode&&rowNode.leafGroup;if(groupMaintainOrder&&groupColumnsPresent&&!rowNode.leafGroup&&!sortContainsGroupColumns){const nextGroup=this.funcColsService.getRowGroupColumns()?.[rowNode.level+1],wasSortExplicitlyRemoved=null===nextGroup?.getSort(),childrenToBeSorted=rowNode.childrenAfterAggFilter.slice(0);if(rowNode.childrenAfterSort&&!wasSortExplicitlyRemoved){const indexedOrders={};rowNode.childrenAfterSort.forEach(((node,idx)=>{indexedOrders[node.id]=idx})),childrenToBeSorted.sort(((row1,row2)=>(indexedOrders[row1.id]??0)-(indexedOrders[row2.id]??0)))}rowNode.childrenAfterSort=childrenToBeSorted}else rowNode.childrenAfterSort=!sortActive||skipSortingPivotLeafs?rowNode.childrenAfterAggFilter.slice(0):useDeltaSort?this.doDeltaSort(rowNode,allDirtyNodes,changedPath,sortOptions):this.rowNodeSorter.doFullSort(rowNode.childrenAfterAggFilter,sortOptions);if(rowNode.sibling&&(rowNode.sibling.childrenAfterSort=rowNode.childrenAfterSort),this.updateChildIndexes(rowNode),postSortFunc){const params={nodes:rowNode.childrenAfterSort};postSortFunc(params)}};changedPath&&changedPath.forEachChangedNodeDepthFirst(callback),this.updateGroupDataForHideOpenParents(changedPath)}calculateDirtyNodes(rowNodeTransactions){const dirtyNodes={},addNodesFunc=rowNodes=>{rowNodes&&rowNodes.forEach((rowNode=>dirtyNodes[rowNode.id]=!0))};return rowNodeTransactions&&rowNodeTransactions.forEach((tran=>{addNodesFunc(tran.add),addNodesFunc(tran.update),addNodesFunc(tran.remove)})),dirtyNodes}doDeltaSort(rowNode,allTouchedNodes,changedPath,sortOptions){const unsortedRows=rowNode.childrenAfterAggFilter,oldSortedRows=rowNode.childrenAfterSort;if(!oldSortedRows)return this.rowNodeSorter.doFullSort(unsortedRows,sortOptions);const untouchedRowsMap={},touchedRows=[];unsortedRows.forEach((row=>{allTouchedNodes[row.id]||!changedPath.canSkip(row)?touchedRows.push(row):untouchedRowsMap[row.id]=!0}));const sortedUntouchedRows=oldSortedRows.filter((child=>untouchedRowsMap[child.id])),mapNodeToSortedNode=(rowNode2,pos)=>({currentPos:pos,rowNode:rowNode2}),sortedChangedRows=touchedRows.map(mapNodeToSortedNode).sort(((a,b)=>this.rowNodeSorter.compareRowNodes(sortOptions,a,b)));return this.mergeSortedArrays(sortOptions,sortedChangedRows,sortedUntouchedRows.map(mapNodeToSortedNode)).map((({rowNode:rowNode2})=>rowNode2))}mergeSortedArrays(sortOptions,arr1,arr2){const res=[];let i=0,j=0;for(;i<arr1.length&&j<arr2.length;){this.rowNodeSorter.compareRowNodes(sortOptions,arr1[i],arr2[j])<0?res.push(arr1[i++]):res.push(arr2[j++])}for(;i<arr1.length;)res.push(arr1[i++]);for(;j<arr2.length;)res.push(arr2[j++]);return res}updateChildIndexes(rowNode){if(_missing(rowNode.childrenAfterSort))return;const listToSort=rowNode.childrenAfterSort;for(let i=0;i<listToSort.length;i++){const child=listToSort[i],firstChild=0===i,lastChild=i===rowNode.childrenAfterSort.length-1;child.setFirstChild(firstChild),child.setLastChild(lastChild),child.setChildIndex(i)}}updateGroupDataForHideOpenParents(changedPath){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return _warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const callback=rowNode=>{this.pullDownGroupDataForHideOpenParents(rowNode.childrenAfterSort,!1),rowNode.childrenAfterSort.forEach((child=>{child.hasChildren()&&callback(child)}))};changedPath&&changedPath.executeFromRootNode((rowNode=>callback(rowNode)))}pullDownGroupDataForHideOpenParents(rowNodes,clearOperation){this.gos.get("groupHideOpenParents")&&!_missing(rowNodes)&&rowNodes.forEach((childRowNode=>{(this.showRowGroupColsService?.getShowRowGroupCols()??[]).forEach((groupDisplayCol=>{const showRowGroup=groupDisplayCol.getColDef().showRowGroup;if("string"!=typeof showRowGroup)return void _errorOnce("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const displayingGroupKey=showRowGroup,rowGroupColumn=this.columnModel.getColDefCol(displayingGroupKey);if(!(rowGroupColumn===childRowNode.rowGroupColumn))if(clearOperation)childRowNode.setGroupValue(groupDisplayCol.getId(),void 0);else{const parentToStealFrom=childRowNode.getFirstChildOfFirstChild(rowGroupColumn);parentToStealFrom&&childRowNode.setGroupValue(groupDisplayCol.getId(),parentToStealFrom.key)}}))}))}},class extends BeanStub{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(beans){this.rowModel=beans.rowModel,this.selectionService=beans.selectionService}postConstruct(){"clientSide"===this.rowModel.getType()&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",(()=>this.onRowDataUpdated())))}isActive(){const getRowIdProvided=this.gos.exists("getRowId");return!this.gos.get("resetRowDataOnUpdate")&&getRowIdProvided}setRowData(rowData){const transactionAndMap=this.createTransactionForRowData(rowData);if(!transactionAndMap)return;const[transaction,orderIdMap]=transactionAndMap;this.clientSideRowModel.updateRowData(transaction,orderIdMap)}createTransactionForRowData(rowData){if(_missing(this.clientSideRowModel))return void _errorOnce("ImmutableService only works with ClientSideRowModel");const getRowIdFunc=this.gos.getRowIdCallback();if(null==getRowIdFunc)return void _errorOnce("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");const transaction={remove:[],update:[],add:[]},existingNodesMap=this.clientSideRowModel.getCopyOfNodesMap(),orderMap=this.gos.get("suppressMaintainUnsortedOrder")?void 0:{};return _exists(rowData)&&rowData.forEach(((data,index)=>{const id=getRowIdFunc({data,level:0}),existingNode=existingNodesMap[id];if(orderMap&&(orderMap[id]=index),existingNode){existingNode.data!==data&&transaction.update.push(data),existingNodesMap[id]=void 0}else transaction.add.push(data)})),_iterateObject(existingNodesMap,((id,rowNode)=>{rowNode&&transaction.remove.push(rowNode.data)})),[transaction,orderMap]}onRowDataUpdated(){const rowData=this.gos.get("rowData");rowData&&(this.isActive()?this.setRowData(rowData):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(rowData)))}}]},ClientSideRowModelModule={version:"32.0.2",moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[ClientSideRowModelCoreModule,{version:"32.0.2",moduleName:"@ag-grid-community/client-side-row-model-api",beans:[RowModelHelperService],apiFunctions:{onGroupExpandedOrCollapsed:function onGroupExpandedOrCollapsed(beans){beans.expansionService.onGroupExpandedOrCollapsed()},refreshClientSideRowModel:function refreshClientSideRowModel(beans,step){beans.rowModelHelperService?.getClientSideRowModel()?.refreshModel(step)},forEachLeafNode:function forEachLeafNode(beans,callback){beans.rowModelHelperService?.getClientSideRowModel()?.forEachLeafNode(callback)},forEachNodeAfterFilter:function forEachNodeAfterFilter(beans,callback){beans.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilter(callback)},forEachNodeAfterFilterAndSort:function forEachNodeAfterFilterAndSort(beans,callback){beans.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilterAndSort(callback)},resetRowHeights:function resetRowHeights(beans){beans.columnModel.isAutoRowHeightActive()?_warnOnce("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height."):beans.rowModelHelperService?.getClientSideRowModel()?.resetRowHeights()},applyTransaction:function applyTransaction(beans,rowDataTransaction){return beans.frameworkOverrides.wrapIncoming((()=>beans.rowModelHelperService?.getClientSideRowModel()?.updateRowData(rowDataTransaction)))},applyTransactionAsync:function applyTransactionAsync(beans,rowDataTransaction,callback){beans.frameworkOverrides.wrapIncoming((()=>beans.rowModelHelperService?.getClientSideRowModel()?.batchUpdateRowData(rowDataTransaction,callback)))},flushAsyncTransactions:function flushAsyncTransactions(beans){beans.frameworkOverrides.wrapIncoming((()=>beans.rowModelHelperService?.getClientSideRowModel()?.flushAsyncTransactions()))},getBestCostNodeSelection:function getBestCostNodeSelection(beans){return beans.selectionService.getBestCostNodeSelection()}},dependantModules:[ClientSideRowModelCoreModule,CsrmSsrmSharedApiModule]}]},BaseCreator=class extends BeanStub{setBeans(beans){this.beans=beans}getFileName(fileName){const extension=this.getDefaultFileExtension();return null!=fileName&&fileName.length||(fileName=this.getDefaultFileName()),-1===fileName.indexOf(".")?`${fileName}.${extension}`:fileName}getData(params){const serializingSession=this.createSerializingSession(params);return this.beans.gridSerializer.serialize(serializingSession,params)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},BaseGridSerializingSession=class{constructor(config){this.groupColumns=[];const{columnModel,funcColsService,columnNameService,valueService,gos,processCellCallback,processHeaderCallback,processGroupHeaderCallback,processRowGroupCallback}=config;this.columnModel=columnModel,this.funcColsService=funcColsService,this.columnNameService=columnNameService,this.valueService=valueService,this.gos=gos,this.processCellCallback=processCellCallback,this.processHeaderCallback=processHeaderCallback,this.processGroupHeaderCallback=processGroupHeaderCallback,this.processRowGroupCallback=processRowGroupCallback}prepare(columnsToExport){this.groupColumns=columnsToExport.filter((col=>!!col.getColDef().showRowGroup))}extractHeaderValue(column){return this.getHeaderName(this.processHeaderCallback,column)??""}extractRowCellValue(column,index,accumulatedRowIndex,type,node){const value=this.gos.get("groupHideOpenParents")&&!node.footer||!this.shouldRenderGroupSummaryCell(node,column,index)?this.valueService.getValue(column,node):this.createValueForGroupNode(column,node);return this.processCell({accumulatedRowIndex,rowNode:node,column,value,processCellCallback:this.processCellCallback,type})}shouldRenderGroupSummaryCell(node,column,currentColumnIndex){if(!(node&&node.group))return!1;if(-1!==this.groupColumns.indexOf(column)){if(null!=node.groupData?.[column.getId()])return!0;if(this.gos.isRowModelType("serverSide")&&node.group)return!0;if(node.footer&&-1===node.level){const colDef=column.getColDef();return null==colDef||!0===colDef.showRowGroup||colDef.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const isGroupUseEntireRow=this.gos.isGroupUseEntireRow(this.columnModel.isPivotMode());return 0===currentColumnIndex&&isGroupUseEntireRow}getHeaderName(callback,column){return callback?callback(this.gos.addGridCommonParams({column})):this.columnNameService.getDisplayNameForColumn(column,"csv",!0)}createValueForGroupNode(column,node){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column,node}));const isTreeData=this.gos.get("treeData"),isSuppressGroupMaintainValueType=this.gos.get("suppressGroupMaintainValueType"),getValueFromNode=node2=>{if(isTreeData||isSuppressGroupMaintainValueType)return node2.key;const value=node2.groupData?.[column.getId()];return value&&node2.rowGroupColumn&&!1!==node2.rowGroupColumn.getColDef().useValueFormatterForExport?this.valueService.formatValue(node2.rowGroupColumn,node2,value)??value:value},isFooter=node.footer,keys=[getValueFromNode(node)];if(!this.gos.isGroupMultiAutoColumn())for(;node.parent;)node=node.parent,keys.push(getValueFromNode(node));const groupValue=keys.reverse().join(" -> ");return isFooter?`Total ${groupValue}`:groupValue}processCell(params){const{accumulatedRowIndex,rowNode,column,value,processCellCallback,type}=params;return processCellCallback?{value:processCellCallback(this.gos.addGridCommonParams({accumulatedRowIndex,column,node:rowNode,value,type,parseValue:valueToParse=>this.valueService.parseValue(column,rowNode,valueToParse,this.valueService.getValue(column,rowNode)),formatValue:valueToFormat=>this.valueService.formatValue(column,rowNode,valueToFormat)??valueToFormat}))??""}:!1!==column.getColDef().useValueFormatterForExport?{value:value??"",valueFormatted:this.valueService.formatValue(column,rowNode,value)}:{value:value??""}}},Downloader=class{static download(fileName,content){const win=document.defaultView||window;if(!win)return void _warnOnce("There is no `window` associated with the current `document`");const element=document.createElement("a"),url=win.URL.createObjectURL(content);element.setAttribute("href",url),element.setAttribute("download",fileName),element.style.display="none",document.body.appendChild(element),element.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:win})),document.body.removeChild(element),win.setTimeout((()=>{win.URL.revokeObjectURL(url)}),0)}},CsvSerializingSession=class extends BaseGridSerializingSession{constructor(config){super(config),this.isFirstLine=!0,this.result="";const{suppressQuotes,columnSeparator}=config;this.suppressQuotes=suppressQuotes,this.columnSeparator=columnSeparator}addCustomContent(content){content&&("string"==typeof content?(/^\s*\n/.test(content)||this.beginNewLine(),content=content.replace(/\r?\n/g,"\r\n"),this.result+=content):content.forEach((row=>{this.beginNewLine(),row.forEach(((cell,index)=>{0!==index&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(cell.data.value||""),cell.mergeAcross&&this.appendEmptyCells(cell.mergeAcross)}))})))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(columnGroup,header,index,span){0!=index&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(header),this.appendEmptyCells(span)}appendEmptyCells(count){for(let i=1;i<=count;i++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(column,index){0!=index&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(column))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(column,index,node){0!=index&&(this.result+=this.columnSeparator);const rowCellValue=this.extractRowCellValue(column,index,index,"csv",node);this.result+=this.putInQuotes(rowCellValue.valueFormatted??rowCellValue.value)}putInQuotes(value){if(this.suppressQuotes)return value;if(null==value)return'""';let stringValue;"string"==typeof value?stringValue=value:"function"==typeof value.toString?stringValue=value.toString():(_warnOnce("unknown value type during csv conversion"),stringValue="");return'"'+stringValue.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}};var CsvExportCoreModule={version:"32.0.2",moduleName:"@ag-grid-community/csv-export-core",beans:[class extends BaseCreator{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(beans){this.columnModel=beans.columnModel,this.columnNameService=beans.columnNameService,this.funcColsService=beans.funcColsService,this.valueService=beans.valueService,this.gridSerializer=beans.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(params){const baseParams=this.gos.get("defaultCsvExportParams");return Object.assign({},baseParams,params)}export(userParams){if(this.isExportSuppressed())return void _warnOnce("Export cancelled. Export is not allowed as per your configuration.");const mergedParams=this.getMergedParams(userParams),data=this.getData(mergedParams),packagedFile=new Blob(["\ufeff",data],{type:"text/plain"}),fileName="function"==typeof mergedParams.fileName?mergedParams.fileName(this.gos.getGridCommonParams()):mergedParams.fileName;Downloader.download(this.getFileName(fileName),packagedFile)}exportDataAsCsv(params){this.export(params)}getDataAsCsv(params,skipDefaultParams=!1){const mergedParams=skipDefaultParams?Object.assign({},params):this.getMergedParams(params);return this.getData(mergedParams)}getDefaultFileExtension(){return"csv"}createSerializingSession(params){const{columnModel,columnNameService,funcColsService,valueService,gos}=this,{processCellCallback,processHeaderCallback,processGroupHeaderCallback,processRowGroupCallback,suppressQuotes,columnSeparator}=params;return new CsvSerializingSession({columnModel,columnNameService,funcColsService,valueService,gos,processCellCallback:processCellCallback||void 0,processHeaderCallback:processHeaderCallback||void 0,processGroupHeaderCallback:processGroupHeaderCallback||void 0,processRowGroupCallback:processRowGroupCallback||void 0,suppressQuotes:suppressQuotes||!1,columnSeparator:columnSeparator||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}},class extends BeanStub{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(beans){this.visibleColsService=beans.visibleColsService,this.columnModel=beans.columnModel,this.columnNameService=beans.columnNameService,this.rowModel=beans.rowModel,this.pinnedRowModel=beans.pinnedRowModel,this.selectionService=beans.selectionService,this.rowNodeSorter=beans.rowNodeSorter,this.sortController=beans.sortController}serialize(gridSerializingSession,params={}){const{allColumns,columnKeys,skipRowGroups}=params,columnsToExport=this.getColumnsToExport(allColumns,skipRowGroups,columnKeys);return function _compose(...fns){return arg=>fns.reduce(((composed,f)=>f(composed)),arg)}(this.prepareSession(columnsToExport),this.prependContent(params),this.exportColumnGroups(params,columnsToExport),this.exportHeaders(params,columnsToExport),this.processPinnedTopRows(params,columnsToExport),this.processRows(params,columnsToExport),this.processPinnedBottomRows(params,columnsToExport),this.appendContent(params))(gridSerializingSession).parse()}processRow(gridSerializingSession,params,columnsToExport,node){const rowSkipper=params.shouldRowBeSkipped||(()=>!1),skipSingleChildrenGroup=this.gos.get("groupRemoveSingleChildren"),skipLowestSingleChildrenGroup=this.gos.get("groupRemoveLowestSingleChildren"),isExplicitExportSelection=null!=params.rowPositions||!!params.onlySelected,hideOpenParents=this.gos.get("groupHideOpenParents")&&!isExplicitExportSelection,isLeafNode=this.columnModel.isPivotMode()?node.leafGroup:!node.group,isFooter=!!node.footer,shouldSkipLowestGroup=skipLowestSingleChildrenGroup&&node.leafGroup,shouldSkipCurrentGroup=1===node.allChildrenCount&&1===node.childrenAfterGroup?.length&&(skipSingleChildrenGroup||shouldSkipLowestGroup);if(!isLeafNode&&!isFooter&&(params.skipRowGroups||shouldSkipCurrentGroup||hideOpenParents)||params.onlySelected&&!node.isSelected()||params.skipPinnedTop&&"top"===node.rowPinned||params.skipPinnedBottom&&"bottom"===node.rowPinned)return;if(-1===node.level&&!isLeafNode&&!isFooter)return;if(rowSkipper(this.gos.addGridCommonParams({node})))return;const rowAccumulator=gridSerializingSession.onNewBodyRow(node);if(columnsToExport.forEach(((column,index)=>{rowAccumulator.onColumn(column,index,node)})),params.getCustomContentBelowRow){const content=params.getCustomContentBelowRow(this.gos.addGridCommonParams({node}));content&&gridSerializingSession.addCustomContent(content)}}appendContent(params){return gridSerializingSession=>{const appendContent=params.appendContent;return appendContent&&gridSerializingSession.addCustomContent(appendContent),gridSerializingSession}}prependContent(params){return gridSerializingSession=>{const prependContent=params.prependContent;return prependContent&&gridSerializingSession.addCustomContent(prependContent),gridSerializingSession}}prepareSession(columnsToExport){return gridSerializingSession=>(gridSerializingSession.prepare(columnsToExport),gridSerializingSession)}exportColumnGroups(params,columnsToExport){return gridSerializingSession=>{if(!params.skipColumnGroupHeaders){const idCreator=new GroupInstanceIdCreator,displayedGroups=this.visibleColsService.createGroups({columns:columnsToExport,idCreator,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(displayedGroups,gridSerializingSession,params.processGroupHeaderCallback)}return gridSerializingSession}}exportHeaders(params,columnsToExport){return gridSerializingSession=>{if(!params.skipColumnHeaders){const gridRowIterator=gridSerializingSession.onNewHeaderRow();columnsToExport.forEach(((column,index)=>{gridRowIterator.onColumn(column,index,void 0)}))}return gridSerializingSession}}processPinnedTopRows(params,columnsToExport){return gridSerializingSession=>{const processRow=this.processRow.bind(this,gridSerializingSession,params,columnsToExport);return params.rowPositions?params.rowPositions.filter((position=>"top"===position.rowPinned)).sort(((a,b)=>a.rowIndex-b.rowIndex)).map((position=>this.pinnedRowModel.getPinnedTopRow(position.rowIndex))).forEach(processRow):this.pinnedRowModel.forEachPinnedTopRow(processRow),gridSerializingSession}}processRows(params,columnsToExport){return gridSerializingSession=>{const rowModel=this.rowModel,rowModelType=rowModel.getType(),usingCsrm="clientSide"===rowModelType,usingSsrm="serverSide"===rowModelType,onlySelectedNonStandardModel=!usingCsrm&&params.onlySelected,processRow=this.processRow.bind(this,gridSerializingSession,params,columnsToExport),{exportedRows="filteredAndSorted"}=params;if(params.rowPositions)params.rowPositions.filter((position=>null==position.rowPinned)).sort(((a,b)=>a.rowIndex-b.rowIndex)).map((position=>rowModel.getRow(position.rowIndex))).forEach(processRow);else if(this.columnModel.isPivotMode())usingCsrm?rowModel.forEachPivotNode(processRow,!0):usingSsrm?rowModel.forEachNodeAfterFilterAndSort(processRow,!0):rowModel.forEachNode(processRow);else if(params.onlySelectedAllPages||onlySelectedNonStandardModel){const selectedNodes=this.selectionService.getSelectedNodes();this.replicateSortedOrder(selectedNodes),selectedNodes.forEach(processRow)}else"all"===exportedRows?rowModel.forEachNode(processRow):usingCsrm||usingSsrm?rowModel.forEachNodeAfterFilterAndSort(processRow,!0):rowModel.forEachNode(processRow);return gridSerializingSession}}replicateSortedOrder(rows){const sortOptions=this.sortController.getSortOptions(),compareNodes=(rowA,rowB)=>null!=rowA.rowIndex&&null!=rowB.rowIndex?rowA.rowIndex-rowB.rowIndex:rowA.level===rowB.level?rowA.parent?.id===rowB.parent?.id?this.rowNodeSorter.compareRowNodes(sortOptions,{rowNode:rowA,currentPos:rowA.rowIndex??-1},{rowNode:rowB,currentPos:rowB.rowIndex??-1}):compareNodes(rowA.parent,rowB.parent):rowA.level>rowB.level?compareNodes(rowA.parent,rowB):compareNodes(rowA,rowB.parent);rows.sort(compareNodes)}processPinnedBottomRows(params,columnsToExport){return gridSerializingSession=>{const processRow=this.processRow.bind(this,gridSerializingSession,params,columnsToExport);return params.rowPositions?params.rowPositions.filter((position=>"bottom"===position.rowPinned)).sort(((a,b)=>a.rowIndex-b.rowIndex)).map((position=>this.pinnedRowModel.getPinnedBottomRow(position.rowIndex))).forEach(processRow):this.pinnedRowModel.forEachPinnedBottomRow(processRow),gridSerializingSession}}getColumnsToExport(allColumns=!1,skipRowGroups=!1,columnKeys){const isPivotMode=this.columnModel.isPivotMode();if(columnKeys&&columnKeys.length)return this.columnModel.getColsForKeys(columnKeys);const isTreeData=this.gos.get("treeData");let columnsToExport=[];return columnsToExport=allColumns&&!isPivotMode?this.columnModel.getCols():this.visibleColsService.getAllCols(),skipRowGroups&&!isTreeData&&(columnsToExport=columnsToExport.filter((column=>"ag-Grid-AutoColumn"!==column.getColId()))),columnsToExport}recursivelyAddHeaderGroups(displayedGroups,gridSerializingSession,processGroupHeaderCallback){const directChildrenHeaderGroups=[];displayedGroups.forEach((columnGroupChild=>{const columnGroup=columnGroupChild;columnGroup.getChildren&&columnGroup.getChildren().forEach((it=>directChildrenHeaderGroups.push(it)))})),displayedGroups.length>0&&isColumnGroup(displayedGroups[0])&&this.doAddHeaderHeader(gridSerializingSession,displayedGroups,processGroupHeaderCallback),directChildrenHeaderGroups&&directChildrenHeaderGroups.length>0&&this.recursivelyAddHeaderGroups(directChildrenHeaderGroups,gridSerializingSession,processGroupHeaderCallback)}doAddHeaderHeader(gridSerializingSession,displayedGroups,processGroupHeaderCallback){const gridRowIterator=gridSerializingSession.onNewHeaderGroupingRow();let columnIndex=0;displayedGroups.forEach((columnGroupChild=>{const columnGroup=columnGroupChild;let name;name=processGroupHeaderCallback?processGroupHeaderCallback(this.gos.addGridCommonParams({columnGroup})):this.columnNameService.getDisplayNameForColumnGroup(columnGroup,"header");const collapsibleGroupRanges=columnGroup.getLeafColumns().reduce(((collapsibleGroups,currentColumn,currentIdx,arr)=>{let lastGroup=_last(collapsibleGroups);return"open"===currentColumn.getColumnGroupShow()?lastGroup&&null==lastGroup[1]||(lastGroup=[currentIdx],collapsibleGroups.push(lastGroup)):lastGroup&&null==lastGroup[1]&&(lastGroup[1]=currentIdx-1),currentIdx===arr.length-1&&lastGroup&&null==lastGroup[1]&&(lastGroup[1]=currentIdx),collapsibleGroups}),[]);gridRowIterator.onColumn(columnGroup,name||"",columnIndex++,columnGroup.getLeafColumns().length-1,collapsibleGroupRanges)}))}}]},CsvExportModule={version:"32.0.2",moduleName:"@ag-grid-community/csv-export",dependantModules:[CsvExportCoreModule,{version:"32.0.2",moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:function getDataAsCsv(beans,params){return beans.csvCreator?.getDataAsCsv(params)},exportDataAsCsv:function exportDataAsCsv(beans,params){beans.csvCreator?.exportDataAsCsv(params)}},dependantModules:[CsvExportCoreModule]}]};var deflateLocalFile=async rawContent=>{const contentAsBlob=new Blob([rawContent]),{size:compressedSize,content:compressedContent}=await(async data=>{let chunksSize=0;const chunks=[],writeCompressedData=new WritableStream({write:chunk=>{chunks.push(chunk),chunksSize+=chunk.length}}),readable=new ReadableStream({start:controller=>{const reader=new FileReader;reader.onload=e=>{e.target?.result&&controller.enqueue(e.target.result),controller.close()},reader.readAsArrayBuffer(data)}}),compressStream=new window.CompressionStream("deflate-raw");return await readable.pipeThrough(compressStream).pipeTo(writeCompressedData),{size:chunksSize,content:new Blob(chunks)}})(contentAsBlob);return{size:compressedSize,content:new Uint8Array(await compressedContent.arrayBuffer())}};function convertDecToHex(number,bytes){let hex="";for(let i=0;i<bytes;i++)hex+=String.fromCharCode(255&number),number>>>=8;return hex}var getCrcFromCrc32TableAndByteArray=content=>{if(!content.length)return 0;let crc=~0,j=0,k=0,l=0;for(let i=0;i<content.length;i++)j=content[i],k=255&(crc^j),l=crcTable[k],crc=crc>>>8^l;return~crc},getCrcFromCrc32Table=content=>content.length?getCrcFromCrc32TableAndByteArray("string"==typeof content?(new TextEncoder).encode(content):content):0,crcTable=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),getHeaders=(currentFile,isCompressed,offset,rawSize,rawContent,deflatedSize)=>{const{content,path,created:creationDate}=currentFile,time=(date=>{let time=date.getHours();return time<<=6,time|=date.getMinutes(),time<<=5,time|=date.getSeconds()/2,time})(creationDate),dt=(date=>{let dt=date.getFullYear()-1980;return dt<<=4,dt|=date.getMonth()+1,dt<<=5,dt|=date.getDate(),dt})(creationDate),crcFlag=getCrcFromCrc32Table(rawContent),zipSize=void 0!==deflatedSize?deflatedSize:rawSize,utfPath=_utf8_encode(path),isUTF8=utfPath!==path;let extraFields="";if(isUTF8){const uExtraFieldPath=convertDecToHex(1,1)+convertDecToHex(getCrcFromCrc32Table(utfPath),4)+utfPath;extraFields="up"+convertDecToHex(uExtraFieldPath.length,2)+uExtraFieldPath}const commonHeader="\0"+(isUTF8?"\0\b":"\0\0")+convertDecToHex(isCompressed?8:0,2)+convertDecToHex(time,2)+convertDecToHex(dt,2)+convertDecToHex(zipSize?crcFlag:0,4)+convertDecToHex(deflatedSize??rawSize,4)+convertDecToHex(rawSize,4)+convertDecToHex(utfPath.length,2)+convertDecToHex(extraFields.length,2),localFileHeader="PK"+commonHeader+utfPath+extraFields,centralDirectoryHeader="PK\0"+commonHeader+"\0\0\0\0\0\0"+(content?"\0\0\0\0":"\0\0\0")+convertDecToHex(offset,4)+utfPath+extraFields;return{localFileHeader:Uint8Array.from(localFileHeader,(c=>c.charCodeAt(0))),centralDirectoryHeader:Uint8Array.from(centralDirectoryHeader,(c=>c.charCodeAt(0)))}},getDecodedContent=content=>{let contentToUse;if("string"==typeof content){const base64String=atob(content.split(";base64,")[1]);contentToUse=Uint8Array.from(base64String,(c=>c.charCodeAt(0)))}else contentToUse=content;return{size:contentToUse.length,content:contentToUse}},getDeflatedHeaderAndContent=async(currentFile,offset)=>{const{content}=currentFile,{size,content:rawContent}=content?getDecodedContent(content):{size:0,content:Uint8Array.from([])};let deflatedContent,deflatedSize,deflationPerformed=!1;if("file"===currentFile.type&&rawContent&&size>0){const result=await deflateLocalFile(rawContent);deflatedContent=result.content,deflatedSize=result.size,deflationPerformed=!0}return{...getHeaders(currentFile,deflationPerformed,offset,size,rawContent,deflatedSize),content:deflatedContent||rawContent,isCompressed:deflationPerformed}},getHeaderAndContent=(currentFile,offset)=>{const{content}=currentFile,{content:rawContent}=content?getDecodedContent(content):{content:Uint8Array.from([])};return{...getHeaders(currentFile,!1,offset,rawContent.length,rawContent,void 0),content:rawContent,isCompressed:!1}},ZipContainer=class{static addFolders(paths){paths.forEach(this.addFolder.bind(this))}static addFolder(path){this.folders.push({path,created:new Date,isBase64:!1,type:"folder"})}static addFile(path,content,isBase64=!1){this.files.push({path,created:new Date,content:isBase64?content:(new TextEncoder).encode(content),isBase64,type:"file"})}static async getZipFile(mimeType="application/zip"){const textOutput=await this.buildCompressedFileStream();return this.clearStream(),new Blob([textOutput],{type:mimeType})}static getUncompressedZipFile(mimeType="application/zip"){const textOutput=this.buildFileStream();return this.clearStream(),new Blob([textOutput],{type:mimeType})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(files){let fileLen=0,folderLen=0;for(const currentFile of files){const{localFileHeader,centralDirectoryHeader,content}=currentFile;fileLen+=localFileHeader.length+content.length,folderLen+=centralDirectoryHeader.length}const fileData=new Uint8Array(fileLen),folderData=new Uint8Array(folderLen);let fileOffset=0,folderOffset=0;for(const currentFile of files){const{localFileHeader,centralDirectoryHeader,content}=currentFile;fileData.set(localFileHeader,fileOffset),fileOffset+=localFileHeader.length,fileData.set(content,fileOffset),fileOffset+=content.length,folderData.set(centralDirectoryHeader,folderOffset),folderOffset+=centralDirectoryHeader.length}const folderEnd=((tLen,cLen,lLen)=>{const str="PK\0\0\0\0"+convertDecToHex(tLen,2)+convertDecToHex(tLen,2)+convertDecToHex(cLen,4)+convertDecToHex(lLen,4)+"\0\0";return Uint8Array.from(str,(c=>c.charCodeAt(0)))})(files.length,folderLen,fileLen),result=new Uint8Array(fileData.length+folderData.length+folderEnd.length);return result.set(fileData),result.set(folderData,fileData.length),result.set(folderEnd,fileData.length+folderData.length),result}static async buildCompressedFileStream(){const totalFiles=[...this.folders,...this.files],readyFiles=[];let lL=0;for(const currentFile of totalFiles){const output=await getDeflatedHeaderAndContent(currentFile,lL),{localFileHeader,content}=output;readyFiles.push(output),lL+=localFileHeader.length+content.length}return this.packageFiles(readyFiles)}static buildFileStream(){const totalFiles=[...this.folders,...this.files],readyFiles=[];let lL=0;for(const currentFile of totalFiles){const readyFile=getHeaderAndContent(currentFile,lL),{localFileHeader,content}=readyFile;readyFiles.push(readyFile),lL+=localFileHeader.length+content.length}return this.packageFiles(readyFiles)}};ZipContainer.folders=[],ZipContainer.files=[];var InfiniteBlock=class extends RowNodeBlock{wireBeans(beans){this.beans=beans}constructor(id,parentCache,params){super(id),this.parentCache=parentCache,this.params=params,this.startRow=id*params.blockSize,this.endRow=this.startRow+params.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(rowNode,data,index){_exists(data)?rowNode.setDataAndId(data,index.toString()):rowNode.setDataAndId(void 0,void 0)}loadFromDatasource(){const params=this.createLoadParams();_missing(this.params.datasource.getRows)?_warnOnce("datasource is missing getRows method"):window.setTimeout((()=>{this.params.datasource.getRows(params)}),0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(callback,sequence,rowCount){this.rowNodes.forEach(((rowNode,index)=>{this.startRow+index<rowCount&&callback(rowNode,sequence.next())}))}getLastAccessed(){return this.lastAccessed}getRow(rowIndex,dontTouchLastAccessed=!1){dontTouchLastAccessed||(this.lastAccessed=this.params.lastAccessedSequence.next());const localIndex=rowIndex-this.startRow;return this.rowNodes[localIndex]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let i=0;i<this.params.blockSize;i++){const rowIndex=this.startRow+i,rowNode=new RowNode(this.beans);rowNode.setRowHeight(this.params.rowHeight),rowNode.uiLevel=0,rowNode.setRowIndex(rowIndex),rowNode.setRowTop(this.params.rowHeight*rowIndex),this.rowNodes.push(rowNode)}}processServerResult(params){this.rowNodes.forEach(((rowNode,index)=>{const data=params.rowData?params.rowData[index]:void 0;!rowNode.id&&rowNode.alreadyRendered&&data&&(this.rowNodes[index]=new RowNode(this.beans),this.rowNodes[index].setRowIndex(rowNode.rowIndex),this.rowNodes[index].setRowTop(rowNode.rowTop),this.rowNodes[index].setRowHeight(rowNode.rowHeight),rowNode.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[index],data,this.startRow+index)}));const finalRowCount=null!=params.rowCount&&params.rowCount>=0?params.rowCount:void 0;this.parentCache.pageLoaded(this,finalRowCount)}destroy(){this.rowNodes.forEach((rowNode=>{rowNode.clearRowTopAndRowIndex()})),super.destroy()}},InfiniteCache=class extends BeanStub{constructor(params){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=params.initialRowCount,this.params=params}wireBeans(beans){this.rowRenderer=beans.rowRenderer,this.focusService=beans.focusService}getRow(rowIndex,dontCreatePage=!1){const blockId=Math.floor(rowIndex/this.params.blockSize);let block=this.blocks[blockId];if(!block){if(dontCreatePage)return;block=this.createBlock(blockId)}return block.getRow(rowIndex)}createBlock(blockNumber){const newBlock=this.createBean(new InfiniteBlock(blockNumber,this,this.params));return this.blocks[newBlock.getId()]=newBlock,this.blockCount++,this.purgeBlocksIfNeeded(newBlock),this.params.rowNodeBlockLoader.addBlock(newBlock),newBlock}refreshCache(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach((block=>block.setStateWaitingToLoad())),this.params.rowNodeBlockLoader.checkBlockToLoad())}destroy(){this.getBlocksInOrder().forEach((block=>this.destroyBlock(block))),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(block,lastRow){this.isAlive()&&(this.gos.get("debug")&&_log(`InfiniteCache - onPageLoaded: page = ${block.getId()}, lastRow = ${lastRow}`),this.checkRowCount(block,lastRow),this.onCacheUpdated())}purgeBlocksIfNeeded(blockToExclude){const blocksForPurging=this.getBlocksInOrder().filter((b=>b!=blockToExclude));blocksForPurging.sort(((a,b)=>b.getLastAccessed()-a.getLastAccessed()));const maxBlocksProvided=this.params.maxBlocksInCache>0,blocksToKeep=maxBlocksProvided?this.params.maxBlocksInCache-1:null;blocksForPurging.forEach(((block,index)=>{if("needsLoading"===block.getState()&&index>=1||!!maxBlocksProvided&&index>=blocksToKeep){if(this.isBlockCurrentlyDisplayed(block))return;if(this.isBlockFocused(block))return;this.removeBlockFromCache(block)}}))}isBlockFocused(block){const focusedCell=this.focusService.getFocusCellToUseAfterRefresh();if(!focusedCell)return!1;if(null!=focusedCell.rowPinned)return!1;const blockIndexStart=block.getStartRow(),blockIndexEnd=block.getEndRow();return focusedCell.rowIndex>=blockIndexStart&&focusedCell.rowIndex<blockIndexEnd}isBlockCurrentlyDisplayed(block){const startIndex=block.getStartRow(),endIndex=block.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(startIndex,endIndex)}removeBlockFromCache(blockToRemove){blockToRemove&&this.destroyBlock(blockToRemove)}checkRowCount(block,lastRow){if("number"==typeof lastRow&&lastRow>=0)this.rowCount=lastRow,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const lastRowIndexPlusOverflow=(block.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<lastRowIndexPlusOverflow&&(this.rowCount=lastRowIndexPlusOverflow)}}setRowCount(rowCount,lastRowIndexKnown){this.rowCount=rowCount,_exists(lastRowIndexKnown)&&(this.lastRowIndexKnown=lastRowIndexKnown),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(callback){const sequence=new NumberSequence;this.getBlocksInOrder().forEach((block=>block.forEachNode(callback,sequence,this.rowCount)))}getBlocksInOrder(){return _getAllValuesInObject(this.blocks).sort(((a,b)=>a.getId()-b.getId()))}destroyBlock(block){delete this.blocks[block.getId()],this.destroyBean(block),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(block)}onCacheUpdated(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();const event={type:"storeUpdated"};this.eventService.dispatchEvent(event)}}destroyAllBlocksPastVirtualRowCount(){const blocksToDestroy=[];this.getBlocksInOrder().forEach((block=>{block.getId()*this.params.blockSize>=this.rowCount&&blocksToDestroy.push(block)})),blocksToDestroy.length>0&&blocksToDestroy.forEach((block=>this.destroyBlock(block)))}purgeCache(){this.getBlocksInOrder().forEach((block=>this.removeBlockFromCache(block))),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(firstInRange,lastInRange){const result=[];let lastBlockId=-1,inActiveRange=!1;const numberSequence=new NumberSequence;let foundGapInSelection=!1;this.getBlocksInOrder().forEach((block=>{foundGapInSelection||(inActiveRange&&lastBlockId+1!==block.getId()?foundGapInSelection=!0:(lastBlockId=block.getId(),block.forEachNode((rowNode=>{const hitFirstOrLast=rowNode===firstInRange||rowNode===lastInRange;(inActiveRange||hitFirstOrLast)&&result.push(rowNode),hitFirstOrLast&&(inActiveRange=!inActiveRange)}),numberSequence,this.rowCount)))}));return foundGapInSelection||inActiveRange?[]:result}};var InfiniteRowModelCoreModule={version:"32.0.2",moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[class extends BeanStub{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(beans){this.filterManager=beans.filterManager,this.sortController=beans.sortController,this.selectionService=beans.selectionService,this.rowRenderer=beans.rowRenderer,this.rowNodeBlockLoader=beans.rowNodeBlockLoader}getRowBounds(index){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*index}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.isRowModelType("infinite")&&(this.rowHeight=this.gos.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((()=>this.destroyCache())),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&_warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",(()=>this.setDatasource(this.gos.get("datasource")))),this.addManagedPropertyListener("cacheBlockSize",(()=>this.resetCache())),this.addManagedPropertyListener("rowHeight",(()=>{this.rowHeight=this.gos.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()}))}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let resetRequired;resetRequired=!this.cacheParams||this.isSortModelDifferent(),resetRequired&&this.reset()}isSortModelDifferent(){return!_jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(datasource){this.destroyDatasource(),this.datasource=datasource,datasource&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(firstInRange,lastInRange){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(firstInRange,lastInRange):[]}reset(){if(!this.datasource)return;null!=this.gos.getRowIdCallback()||this.selectionService.reset("rowDataChanged"),this.resetCache()}createModelUpdatedEvent(){return{type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager?.getFilterModel()??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:this.gos.getRowHeightAsNumber(),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new NumberSequence},this.infiniteCache=this.createBean(new InfiniteCache(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"});const event=this.createModelUpdatedEvent();this.eventService.dispatchEvent(event)}updateRowHeights(){this.forEachNode((node=>{node.setRowHeight(this.rowHeight),node.setRowTop(this.rowHeight*node.rowIndex)}));const event=this.createModelUpdatedEvent();this.eventService.dispatchEvent(event)}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){const event=this.createModelUpdatedEvent();this.eventService.dispatchEvent(event)}getRow(rowIndex){if(this.infiniteCache&&!(rowIndex>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(rowIndex)}getRowNode(id){let result;return this.forEachNode((rowNode=>{rowNode.id===id&&(result=rowNode)})),result}forEachNode(callback){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(callback)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(topLevelIndex){return topLevelIndex}getRowIndexAtPixel(pixel){if(0!==this.rowHeight){const rowIndexForPixel=Math.floor(pixel/this.rowHeight),lastRowIndex=this.getRowCount()-1;return rowIndexForPixel>lastRowIndex?lastRowIndex:rowIndexForPixel}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(rowNode){return!!this.getRowNode(rowNode.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(rowCount,lastRowIndexKnown){this.infiniteCache&&this.infiniteCache.setRowCount(rowCount,lastRowIndexKnown)}}],dependantModules:[RowNodeBlockModule]},InfiniteRowModelModule={version:"32.0.2",moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[InfiniteRowModelCoreModule,{version:"32.0.2",moduleName:"@ag-grid-community/infinite-row-model-api",beans:[RowModelHelperService],apiFunctions:{refreshInfiniteCache:function refreshInfiniteCache(beans){beans.rowModelHelperService?.getInfiniteRowModel()?.refreshCache()},purgeInfiniteCache:function purgeInfiniteCache(beans){beans.rowModelHelperService?.getInfiniteRowModel()?.purgeCache()},getInfiniteRowCount:function getInfiniteRowCount(beans){return beans.rowModelHelperService?.getInfiniteRowModel()?.getRowCount()},isLastRowIndexKnown:function isLastRowIndexKnown(beans){return beans.rowModelHelperService?.getInfiniteRowModel()?.isLastRowIndexKnown()}},dependantModules:[InfiniteRowModelCoreModule,SsrmInfiniteSharedApiModule]}]};ModuleRegistry.__registerModules([CommunityFeaturesModule,ClientSideRowModelModule,InfiniteRowModelModule,CsvExportModule],!1,void 0);var react_dom=__webpack_require__("./node_modules/react-dom/index.js"),BeansContext=react.createContext({}),showJsComp=(compDetails,context,eParent,ref)=>{if(!compDetails||compDetails.componentFromFramework||context.isDestroyed())return;const promise=compDetails.newAgStackInstance();if(null==promise)return;let comp,compGui,destroyed=!1;return promise.then((c=>{destroyed?context.destroyBean(c):(comp=c,compGui=comp.getGui(),eParent.appendChild(compGui),setRef(ref,comp))})),()=>{destroyed=!0,comp&&(compGui&&compGui.parentElement&&compGui.parentElement.removeChild(compGui),context.destroyBean(comp),ref&&setRef(ref,void 0))}},setRef=(ref,value)=>{if(ref)if(ref instanceof Function){ref(value)}else{ref.current=value}},classesList=(...list)=>list.filter((s=>null!=s&&""!==s)).join(" "),CssClasses=class _CssClasses{constructor(...initialClasses){this.classesMap={},initialClasses.forEach((className=>{this.classesMap[className]=!0}))}setClass(className,on){if(!!this.classesMap[className]==on)return this;const res=new _CssClasses;return res.classesMap={...this.classesMap},res.classesMap[className]=on,res}toString(){return Object.keys(this.classesMap).filter((key=>this.classesMap[key])).join(" ")}},isComponentStateless=Component2=>"function"==typeof Component2&&!(Component2.prototype&&Component2.prototype.isReactComponent)||"object"==typeof Component2&&Component2.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),createRootAndFlushSyncAvailable=null!=react_dom.createRoot&&null!=react_dom.flushSync;var disableFlushSync=!1;var agFlushSync=(useFlushSync,fn)=>{createRootAndFlushSyncAvailable&&useFlushSync&&!disableFlushSync?react_dom.flushSync(fn):fn()};function getNextValueIfDifferent(prev,next,maintainOrder){if(null==next||null==prev)return next;if(prev===next||0===next.length&&0===prev.length)return prev;if(maintainOrder||0===prev.length&&next.length>0||prev.length>0&&0===next.length)return next;const oldValues=[],newValues=[],prevMap=new Map,nextMap=new Map;for(let i=0;i<next.length;i++){const c=next[i];nextMap.set(c.getInstanceId(),c)}for(let i=0;i<prev.length;i++){const c=prev[i];prevMap.set(c.getInstanceId(),c),nextMap.has(c.getInstanceId())&&oldValues.push(c)}for(let i=0;i<next.length;i++){const c=next[i],instanceId=c.getInstanceId();prevMap.has(instanceId)||newValues.push(c)}return oldValues.length===prev.length&&0===newValues.length?prev:0===oldValues.length&&newValues.length===next.length?next:0===oldValues.length?newValues:0===newValues.length?oldValues:[...oldValues,...newValues]}var GroupCellRenderer=(0,react.forwardRef)(((props,ref)=>{const{ctrlsFactory,context}=(0,react.useContext)(BeansContext),eGui=(0,react.useRef)(null),eValueRef=(0,react.useRef)(null),eCheckboxRef=(0,react.useRef)(null),eExpandedRef=(0,react.useRef)(null),eContractedRef=(0,react.useRef)(null),ctrlRef=(0,react.useRef)(),[innerCompDetails,setInnerCompDetails]=(0,react.useState)(),[childCount,setChildCount]=(0,react.useState)(),[value,setValue]=(0,react.useState)(),[cssClasses,setCssClasses]=(0,react.useState)((()=>new CssClasses)),[expandedCssClasses,setExpandedCssClasses]=(0,react.useState)((()=>new CssClasses("ag-hidden"))),[contractedCssClasses,setContractedCssClasses]=(0,react.useState)((()=>new CssClasses("ag-hidden"))),[checkboxCssClasses,setCheckboxCssClasses]=(0,react.useState)((()=>new CssClasses("ag-invisible")));(0,react.useImperativeHandle)(ref,(()=>({refresh:()=>!1}))),(0,react.useLayoutEffect)((()=>showJsComp(innerCompDetails,context,eValueRef.current)),[innerCompDetails]);const setRef2=(0,react.useCallback)((ref2=>{if(eGui.current=ref2,!eGui.current)return context.destroyBean(ctrlRef.current),void(ctrlRef.current=null);const compProxy={setInnerRenderer:(details,valueToDisplay)=>{setInnerCompDetails(details),setValue(valueToDisplay)},setChildCount:count=>setChildCount(count),addOrRemoveCssClass:(name,on)=>setCssClasses((prev=>prev.setClass(name,on))),setContractedDisplayed:displayed=>setContractedCssClasses((prev=>prev.setClass("ag-hidden",!displayed))),setExpandedDisplayed:displayed=>setExpandedCssClasses((prev=>prev.setClass("ag-hidden",!displayed))),setCheckboxVisible:visible=>setCheckboxCssClasses((prev=>prev.setClass("ag-invisible",!visible)))},groupCellRendererCtrl=ctrlsFactory.getInstance("groupCellRendererCtrl");groupCellRendererCtrl&&(ctrlRef.current=context.createBean(groupCellRendererCtrl),ctrlRef.current.init(compProxy,eGui.current,eCheckboxRef.current,eExpandedRef.current,eContractedRef.current,GroupCellRenderer,props))}),[]),className=(0,react.useMemo)((()=>`ag-cell-wrapper ${cssClasses.toString()}`),[cssClasses]),expandedClassName=(0,react.useMemo)((()=>`ag-group-expanded ${expandedCssClasses.toString()}`),[expandedCssClasses]),contractedClassName=(0,react.useMemo)((()=>`ag-group-contracted ${contractedCssClasses.toString()}`),[contractedCssClasses]),checkboxClassName=(0,react.useMemo)((()=>`ag-group-checkbox ${checkboxCssClasses.toString()}`),[checkboxCssClasses]),useFwRenderer=innerCompDetails&&innerCompDetails.componentFromFramework,FwRenderer=useFwRenderer?innerCompDetails.componentClass:void 0,useValue=null==innerCompDetails&&null!=value,escapedValue=_escapeString(value,!0);return react.createElement("span",{className,ref:setRef2,...props.colDef?{}:{role:ctrlRef.current?.getCellAriaRole()}},react.createElement("span",{className:expandedClassName,ref:eExpandedRef}),react.createElement("span",{className:contractedClassName,ref:eContractedRef}),react.createElement("span",{className:checkboxClassName,ref:eCheckboxRef}),react.createElement("span",{className:"ag-group-value",ref:eValueRef},useValue&&react.createElement(react.Fragment,null,escapedValue),useFwRenderer&&react.createElement(FwRenderer,{...innerCompDetails.params})),react.createElement("span",{className:"ag-group-child-count"},childCount))})),groupCellRenderer_default=GroupCellRenderer,CustomContext=(0,react.createContext)({setMethods:()=>{}}),customWrapperComp_default=(0,react.memo)((params=>{const{initialProps,addUpdateCallback,CustomComponentClass,setMethods}=params,[props,setProps]=(0,react.useState)(initialProps);return(0,react.useEffect)((()=>{addUpdateCallback((newProps=>setProps(newProps)))}),[]),react.createElement(CustomContext.Provider,{value:{setMethods}},react.createElement(CustomComponentClass,{...props}))})),counter=0;function generateNewKey(){return"agPortalKey_"+ ++counter}var ReactComponent=class{constructor(reactComponent,portalManager,componentType,suppressFallbackMethods){this.portal=null,this.oldPortal=null,this.reactComponent=reactComponent,this.portalManager=portalManager,this.componentType=componentType,this.suppressFallbackMethods=!!suppressFallbackMethods,this.statelessComponent=this.isStateless(this.reactComponent),this.key=generateNewKey(),this.portalKey=generateNewKey(),this.instanceCreated=this.isStatelessComponent()?AgPromise.resolve(!1):new AgPromise((resolve=>{this.resolveInstanceCreated=resolve}))}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy();const portal=this.portal;portal&&this.portalManager.destroyPortal(portal)}createParentElement(params){const componentWrappingElement=this.portalManager.getComponentWrappingElement(),eParentElement=document.createElement(componentWrappingElement||"div");return eParentElement.classList.add("ag-react-container"),params.reactContainer=eParentElement,eParentElement}addParentContainerStyleAndClasses(){if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(_warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){_warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.');this.componentInstance.getReactContainerClasses().forEach((className=>this.eParentElement.classList.add(className)))}}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(Component2){return"function"==typeof Component2&&!(Component2.prototype&&Component2.prototype.isReactComponent)||"object"==typeof Component2&&Component2.$$typeof===this.getMemoType()}hasMethod(name){const frameworkComponentInstance=this.getFrameworkComponentInstance();return!!frameworkComponentInstance&&null!=frameworkComponentInstance[name]||this.fallbackMethodAvailable(name)}callMethod(name,args){const frameworkComponentInstance=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(name,args&&args[0]?args[0]:{});if(!frameworkComponentInstance)return void setTimeout((()=>this.callMethod(name,args)));const method=frameworkComponentInstance[name];return method?method.apply(frameworkComponentInstance,args):this.fallbackMethodAvailable(name)?this.fallbackMethod(name,args&&args[0]?args[0]:{}):void 0}addMethod(name,callback){this[name]=callback}init(params){return this.eParentElement=this.createParentElement(params),this.params=params,this.createOrUpdatePortal(params),new AgPromise((resolve=>this.createReactComponent(resolve)))}createOrUpdatePortal(params){this.isStatelessComponent()||(this.ref=element=>{this.componentInstance=element,this.addParentContainerStyleAndClasses(),this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},params.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...params,key:this.key}),this.portal=(0,react_dom.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(reactComponent,props){return(0,react.createElement)(reactComponent,props)}createReactComponent(resolve){this.portalManager.mountReactPortal(this.portal,this,resolve)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}refreshComponent(args){this.oldPortal=this.portal,this.createOrUpdatePortal(args),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(name,params){const method=this[`${name}Component`];if(!this.suppressFallbackMethods&&method)return method.bind(this)(params)}fallbackMethodAvailable(name){if(this.suppressFallbackMethods)return!1;return!!this[`${name}Component`]}};function addOptionalMethods(optionalMethodNames,providedMethods,component){optionalMethodNames.forEach((methodName=>{const providedMethod=providedMethods[methodName];providedMethod&&(component[methodName]=providedMethod)}))}var CustomComponentWrapper=class extends ReactComponent{constructor(){super(...arguments),this.awaitUpdateCallback=new AgPromise((resolve=>{this.resolveUpdateCallback=resolve})),this.wrapperComponent=customWrapperComp_default}init(params){return this.sourceParams=params,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}getFrameworkComponentInstance(){return this}createElement(reactComponent,props){return super.createElement(this.wrapperComponent,{initialProps:props,CustomComponentClass:reactComponent,setMethods:methods=>this.setMethods(methods),addUpdateCallback:callback=>{this.updateCallback=()=>(callback(this.getProps()),new AgPromise((resolve=>{setTimeout((()=>{resolve()}))}))),this.resolveUpdateCallback()}})}setMethods(methods){this.providedMethods=methods,addOptionalMethods(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new AgPromise((resolve=>this.awaitUpdateCallback.then((()=>{this.updateCallback().then((()=>resolve()))}))))}},CellRendererComponentWrapper=class extends CustomComponentWrapper{refresh(params){return this.sourceParams=params,this.refreshProps(),!0}},DateComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.date=null,this.onDateChange=date=>this.updateDate(date)}getDate(){return this.date}setDate(date){this.date=date,this.refreshProps()}refresh(params){this.sourceParams=params,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(date){this.setDate(date),this.sourceParams.onDateChanged()}getProps(){const props=super.getProps();return props.date=this.date,props.onDateChange=this.onDateChange,delete props.onDateChanged,props}},FilterComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.model=null,this.onModelChange=model=>this.updateModel(model),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0}isFilterActive(){return null!=this.model}doesFilterPass(params){return this.providedMethods.doesFilterPass(params)}getModel(){return this.model}setModel(model){return this.expectingNewMethods=!0,this.model=model,this.refreshProps()}refresh(newParams){return this.sourceParams=newParams,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(methods){!1===this.expectingNewMethods&&this.providedMethods?.doesFilterPass!==methods?.doesFilterPass&&setTimeout((()=>{this.sourceParams.filterChangedCallback()})),this.expectingNewMethods=!1,super.setMethods(methods)}updateModel(model){this.setModel(model).then((()=>this.sourceParams.filterChangedCallback()))}getProps(){const props=super.getProps();return props.model=this.model,props.onModelChange=this.onModelChange,props.onUiChange=this.onUiChange,delete props.filterChangedCallback,delete props.filterModifiedCallback,delete props.valueGetter,props}};function updateFloatingFilterParent(params,model){params.parentFilterInstance((instance=>{(instance.setModel(model)||AgPromise.resolve()).then((()=>{params.filterParams.filterChangedCallback()}))}))}var FloatingFilterComponentProxy=class{constructor(floatingFilterParams,refreshProps){this.floatingFilterParams=floatingFilterParams,this.refreshProps=refreshProps,this.model=null,this.onModelChange=model=>this.updateModel(model)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(parentModel){this.model=parentModel,this.refreshProps()}refresh(params){this.floatingFilterParams=params,this.refreshProps()}setMethods(methods){addOptionalMethods(this.getOptionalMethods(),methods,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(model){this.model=model,this.refreshProps(),updateFloatingFilterParent(this.floatingFilterParams,model)}},FloatingFilterComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.model=null,this.onModelChange=model=>this.updateModel(model)}onParentModelChanged(parentModel){this.model=parentModel,this.refreshProps()}refresh(newParams){this.sourceParams=newParams,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(model){this.model=model,this.refreshProps(),updateFloatingFilterParent(this.sourceParams,model)}getProps(){const props=super.getProps();return props.model=this.model,props.onModelChange=this.onModelChange,props}},LoadingOverlayComponentWrapper=class extends CustomComponentWrapper{refresh(params){this.sourceParams=params,this.refreshProps()}},MenuItemComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=active=>this.updateActive(active)}setActive(active){this.awaitSetActive(active)}setExpanded(expanded){this.expanded=expanded,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(active){return this.active=active,this.refreshProps()}updateActive(active){const result=this.awaitSetActive(active);active&&result.then((()=>this.sourceParams.onItemActivated()))}getProps(){const props=super.getProps();return props.active=this.active,props.expanded=this.expanded,props.onActiveChange=this.onActiveChange,delete props.onItemActivated,props}},NoRowsOverlayComponentWrapper=class extends CustomComponentWrapper{refresh(params){this.sourceParams=params,this.refreshProps()}},StatusPanelComponentWrapper=class extends CustomComponentWrapper{refresh(params){return this.sourceParams=params,this.refreshProps(),!0}},ToolPanelComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.onStateChange=state=>this.updateState(state)}refresh(params){return this.sourceParams=params,this.refreshProps(),!0}getState(){return this.state}updateState(state){this.state=state,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const props=super.getProps();return props.state=this.state,props.onStateChange=this.onStateChange,props}};function warnReactiveCustomComponents(){_warnOnce("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var PortalManager=class{constructor(refresher,wrappingElement,maxComponentCreationTimeMs){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=wrappingElement||"div",this.refresher=refresher,this.maxComponentCreationTimeMs=maxComponentCreationTimeMs||1e3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(portal){this.portals=this.portals.filter((curPortal=>curPortal!==portal)),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(portal,reactComponent,resolve){this.portals=[...this.portals,portal],this.waitForInstance(reactComponent,resolve),this.batchUpdate()}updateReactPortal(oldPortal,newPortal){this.portals[this.portals.indexOf(oldPortal)]=newPortal,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout((()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)})),this.hasPendingPortalUpdate=!0)}waitForInstance(reactComponent,resolve,startTime=Date.now()){if(this.destroyed)resolve(null);else if(reactComponent.rendered())resolve(reactComponent);else{if(Date.now()-startTime>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout((()=>{this.waitForInstance(reactComponent,resolve,startTime)}))}}},headerCellComp_default=(0,react.memo)((props=>{const{ctrl}=props,isAlive=ctrl.isAlive(),{context}=(0,react.useContext)(BeansContext),colId=isAlive?ctrl.getColId():void 0,[userCompDetails,setUserCompDetails]=(0,react.useState)(),eGui=(0,react.useRef)(null),eResize=(0,react.useRef)(null),eHeaderCompWrapper=(0,react.useRef)(null),userCompRef=(0,react.useRef)(),cssClassManager=(0,react.useRef)();isAlive&&!cssClassManager.current&&(cssClassManager.current=new CssClassManager((()=>eGui.current)));const setRef2=(0,react.useCallback)((e=>{if(eGui.current=e,!eGui.current||!isAlive)return;const compProxy={setWidth:width=>{eGui.current&&(eGui.current.style.width=width)},addOrRemoveCssClass:(name,on)=>cssClassManager.current.addOrRemoveCssClass(name,on),setAriaSort:sort=>{eGui.current&&(sort?_setAriaSort(eGui.current,sort):_removeAriaSort(eGui.current))},setUserCompDetails:compDetails=>setUserCompDetails(compDetails),getUserCompInstance:()=>userCompRef.current||void 0};ctrl.setComp(compProxy,eGui.current,eResize.current,eHeaderCompWrapper.current);const selectAllGui=ctrl.getSelectAllGui();eResize.current?.insertAdjacentElement("afterend",selectAllGui)}),[]);(0,react.useLayoutEffect)((()=>showJsComp(userCompDetails,context,eHeaderCompWrapper.current,userCompRef)),[userCompDetails]),(0,react.useEffect)((()=>{ctrl.setDragSource(eGui.current)}),[userCompDetails]);const userCompStateless=(0,react.useMemo)((()=>!!(userCompDetails?.componentFromFramework&&isComponentStateless(userCompDetails.componentClass))),[userCompDetails]),reactUserComp=userCompDetails&&userCompDetails.componentFromFramework,UserCompClass=userCompDetails&&userCompDetails.componentClass;return react.createElement("div",{ref:setRef2,className:"ag-header-cell","col-id":colId,role:"columnheader"},react.createElement("div",{ref:eResize,className:"ag-header-cell-resize",role:"presentation"}),react.createElement("div",{ref:eHeaderCompWrapper,className:"ag-header-cell-comp-wrapper",role:"presentation"},reactUserComp&&userCompStateless&&react.createElement(UserCompClass,{...userCompDetails.params}),reactUserComp&&!userCompStateless&&react.createElement(UserCompClass,{...userCompDetails.params,ref:userCompRef})))})),headerFilterCellComp_default=(0,react.memo)((props=>{const{context,gos}=(0,react.useContext)(BeansContext),[cssClasses,setCssClasses]=(0,react.useState)((()=>new CssClasses("ag-header-cell","ag-floating-filter"))),[cssBodyClasses,setBodyCssClasses]=(0,react.useState)((()=>new CssClasses)),[cssButtonWrapperClasses,setButtonWrapperCssClasses]=(0,react.useState)((()=>new CssClasses("ag-floating-filter-button","ag-hidden"))),[buttonWrapperAriaHidden,setButtonWrapperAriaHidden]=(0,react.useState)("false"),[userCompDetails,setUserCompDetails]=(0,react.useState)(),[,setRenderKey]=(0,react.useState)(1),eGui=(0,react.useRef)(null),eFloatingFilterBody=(0,react.useRef)(null),eButtonWrapper=(0,react.useRef)(null),eButtonShowMainFilter=(0,react.useRef)(null),userCompResolve=(0,react.useRef)(),userCompPromise=(0,react.useRef)(),userCompRef=value=>{null!=value&&userCompResolve.current&&userCompResolve.current(value)},{ctrl}=props,setRef2=(0,react.useCallback)((e=>{if(eGui.current=e,!eGui.current)return;userCompPromise.current=new AgPromise((resolve=>{userCompResolve.current=resolve}));const compProxy={addOrRemoveCssClass:(name,on)=>setCssClasses((prev=>prev.setClass(name,on))),addOrRemoveBodyCssClass:(name,on)=>setBodyCssClasses((prev=>prev.setClass(name,on))),setButtonWrapperDisplayed:displayed=>{setButtonWrapperCssClasses((prev=>prev.setClass("ag-hidden",!displayed))),setButtonWrapperAriaHidden(displayed?"false":"true")},setWidth:width=>{eGui.current&&(eGui.current.style.width=width)},setCompDetails:compDetails=>setUserCompDetails(compDetails),getFloatingFilterComp:()=>userCompPromise.current?userCompPromise.current:null,setMenuIcon:eIcon=>eButtonShowMainFilter.current?.appendChild(eIcon)};ctrl.setComp(compProxy,eGui.current,eButtonShowMainFilter.current,eFloatingFilterBody.current)}),[]);(0,react.useLayoutEffect)((()=>showJsComp(userCompDetails,context,eFloatingFilterBody.current,userCompRef)),[userCompDetails]);const className=(0,react.useMemo)((()=>cssClasses.toString()),[cssClasses]),bodyClassName=(0,react.useMemo)((()=>cssBodyClasses.toString()),[cssBodyClasses]),buttonWrapperClassName=(0,react.useMemo)((()=>cssButtonWrapperClasses.toString()),[cssButtonWrapperClasses]),userCompStateless=(0,react.useMemo)((()=>!!(userCompDetails&&userCompDetails.componentFromFramework&&isComponentStateless(userCompDetails.componentClass))),[userCompDetails]),reactiveCustomComponents=(0,react.useMemo)((()=>gos.get("reactiveCustomComponents")),[]),floatingFilterCompProxy=(0,react.useMemo)((()=>{if(userCompDetails){if(reactiveCustomComponents){const compProxy=new FloatingFilterComponentProxy(userCompDetails.params,(()=>setRenderKey((prev=>prev+1))));return userCompRef(compProxy),compProxy}userCompDetails.componentFromFramework&&warnReactiveCustomComponents()}}),[userCompDetails]),floatingFilterProps=floatingFilterCompProxy?.getProps(),reactUserComp=userCompDetails&&userCompDetails.componentFromFramework,UserCompClass=userCompDetails&&userCompDetails.componentClass;return react.createElement("div",{ref:setRef2,className,role:"gridcell"},react.createElement("div",{ref:eFloatingFilterBody,className:bodyClassName,role:"presentation"},reactUserComp&&!reactiveCustomComponents&&react.createElement(UserCompClass,{...userCompDetails.params,ref:userCompStateless?()=>{}:userCompRef}),reactUserComp&&reactiveCustomComponents&&react.createElement(CustomContext.Provider,{value:{setMethods:methods=>floatingFilterCompProxy.setMethods(methods)}},react.createElement(UserCompClass,{...floatingFilterProps}))),react.createElement("div",{ref:eButtonWrapper,"aria-hidden":buttonWrapperAriaHidden,className:buttonWrapperClassName,role:"presentation"},react.createElement("button",{ref:eButtonShowMainFilter,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))})),headerGroupCellComp_default=(0,react.memo)((props=>{const{context}=(0,react.useContext)(BeansContext),{ctrl}=props,[cssClasses,setCssClasses]=(0,react.useState)((()=>new CssClasses)),[cssResizableClasses,setResizableCssClasses]=(0,react.useState)((()=>new CssClasses)),[resizableAriaHidden,setResizableAriaHidden]=(0,react.useState)("false"),[ariaExpanded,setAriaExpanded]=(0,react.useState)(),[userCompDetails,setUserCompDetails]=(0,react.useState)(),colId=(0,react.useMemo)((()=>ctrl.getColId()),[]),eGui=(0,react.useRef)(null),eResize=(0,react.useRef)(null),userCompRef=(0,react.useRef)(),setRef2=(0,react.useCallback)((e=>{if(eGui.current=e,!eGui.current)return;const compProxy={setWidth:width=>{eGui.current&&(eGui.current.style.width=width)},addOrRemoveCssClass:(name,on)=>setCssClasses((prev=>prev.setClass(name,on))),setUserCompDetails:compDetails=>setUserCompDetails(compDetails),setResizableDisplayed:displayed=>{setResizableCssClasses((prev=>prev.setClass("ag-hidden",!displayed))),setResizableAriaHidden(displayed?"false":"true")},setAriaExpanded:expanded=>setAriaExpanded(expanded),getUserCompInstance:()=>userCompRef.current||void 0};ctrl.setComp(compProxy,eGui.current,eResize.current)}),[]);(0,react.useLayoutEffect)((()=>showJsComp(userCompDetails,context,eGui.current)),[userCompDetails]),(0,react.useEffect)((()=>{eGui.current&&ctrl.setDragSource(eGui.current)}),[userCompDetails]);const userCompStateless=(0,react.useMemo)((()=>!!(userCompDetails?.componentFromFramework&&isComponentStateless(userCompDetails.componentClass))),[userCompDetails]),className=(0,react.useMemo)((()=>"ag-header-group-cell "+cssClasses.toString()),[cssClasses]),resizableClassName=(0,react.useMemo)((()=>"ag-header-cell-resize "+cssResizableClasses.toString()),[cssResizableClasses]),reactUserComp=userCompDetails&&userCompDetails.componentFromFramework,UserCompClass=userCompDetails&&userCompDetails.componentClass;return react.createElement("div",{ref:setRef2,className,"col-id":colId,role:"columnheader","aria-expanded":ariaExpanded},reactUserComp&&userCompStateless&&react.createElement(UserCompClass,{...userCompDetails.params}),reactUserComp&&!userCompStateless&&react.createElement(UserCompClass,{...userCompDetails.params,ref:userCompRef}),react.createElement("div",{ref:eResize,"aria-hidden":resizableAriaHidden,className:resizableClassName}))})),headerRowComp_default=(0,react.memo)((props=>{const{ctrl}=props,{topOffset,rowHeight}=(0,react.useMemo)((()=>ctrl.getTopAndHeight()),[]),ariaRowIndex=ctrl.getAriaRowIndex(),className=ctrl.getHeaderRowClass(),[height,setHeight]=(0,react.useState)((()=>rowHeight+"px")),[top,setTop]=(0,react.useState)((()=>topOffset+"px")),cellCtrlsRef=(0,react.useRef)(null),prevCellCtrlsRef=(0,react.useRef)(null),[cellCtrls,setCellCtrls]=(0,react.useState)((()=>ctrl.getHeaderCtrls())),eGui=(0,react.useRef)(null),setRef2=(0,react.useCallback)((e=>{if(eGui.current=e,!e)return;const compProxy={setHeight:height2=>setHeight(height2),setTop:top2=>setTop(top2),setHeaderCtrls:(ctrls,forceOrder,afterScroll)=>{prevCellCtrlsRef.current=cellCtrlsRef.current,cellCtrlsRef.current=ctrls;const next=getNextValueIfDifferent(prevCellCtrlsRef.current,ctrls,forceOrder);next!==prevCellCtrlsRef.current&&agFlushSync(afterScroll,(()=>setCellCtrls(next)))},setWidth:width=>{eGui.current&&(eGui.current.style.width=width)}};ctrl.setComp(compProxy,!1)}),[]),style=(0,react.useMemo)((()=>({height,top})),[height,top]),createCellJsx=(0,react.useCallback)((cellCtrl=>{switch(ctrl.getType()){case HeaderRowType.COLUMN_GROUP:return react.createElement(headerGroupCellComp_default,{ctrl:cellCtrl,key:cellCtrl.getInstanceId()});case HeaderRowType.FLOATING_FILTER:return react.createElement(headerFilterCellComp_default,{ctrl:cellCtrl,key:cellCtrl.getInstanceId()});default:return react.createElement(headerCellComp_default,{ctrl:cellCtrl,key:cellCtrl.getInstanceId()})}}),[]);return react.createElement("div",{ref:setRef2,className,role:"row",style,"aria-rowindex":ariaRowIndex},cellCtrls.map(createCellJsx))})),headerRowContainerComp_default=(0,react.memo)((props=>{const[displayed,setDisplayed]=(0,react.useState)(!0),[headerRowCtrls,setHeaderRowCtrls]=(0,react.useState)([]),{context}=(0,react.useContext)(BeansContext),eGui=(0,react.useRef)(null),eCenterContainer=(0,react.useRef)(null),headerRowCtrlRef=(0,react.useRef)(null),pinnedLeft="left"===props.pinned,pinnedRight="right"===props.pinned,centre=!pinnedLeft&&!pinnedRight,setRef2=(0,react.useCallback)((e=>{if(eGui.current=e,!eGui.current)return context.destroyBean(headerRowCtrlRef.current),void(headerRowCtrlRef.current=null);const compProxy={setDisplayed,setCtrls:ctrls=>setHeaderRowCtrls(ctrls),setCenterWidth:width=>{eCenterContainer.current&&(eCenterContainer.current.style.width=width)},setViewportScrollLeft:left=>{eGui.current&&(eGui.current.scrollLeft=left)},setPinnedContainerWidth:width=>{eGui.current&&(eGui.current.style.width=width,eGui.current.style.minWidth=width,eGui.current.style.maxWidth=width)}};headerRowCtrlRef.current=context.createBean(new HeaderRowContainerCtrl(props.pinned)),headerRowCtrlRef.current.setComp(compProxy,eGui.current)}),[]),className=displayed?"":"ag-hidden",insertRowsJsx=()=>headerRowCtrls.map((ctrl=>react.createElement(headerRowComp_default,{ctrl,key:ctrl.getInstanceId()})));return react.createElement(react.Fragment,null,pinnedLeft&&react.createElement("div",{ref:setRef2,className:"ag-pinned-left-header "+className,"aria-hidden":!displayed,role:"rowgroup"},insertRowsJsx()),pinnedRight&&react.createElement("div",{ref:setRef2,className:"ag-pinned-right-header "+className,"aria-hidden":!displayed,role:"rowgroup"},insertRowsJsx()),centre&&react.createElement("div",{ref:setRef2,className:"ag-header-viewport "+className,role:"presentation"},react.createElement("div",{ref:eCenterContainer,className:"ag-header-container",role:"rowgroup"},insertRowsJsx())))})),gridHeaderComp_default=(0,react.memo)((()=>{const[cssClasses,setCssClasses]=(0,react.useState)((()=>new CssClasses)),[height,setHeight]=(0,react.useState)(),{context}=(0,react.useContext)(BeansContext),eGui=(0,react.useRef)(null),gridCtrlRef=(0,react.useRef)(null),setRef2=(0,react.useCallback)((e=>{if(eGui.current=e,!e)return context.destroyBean(gridCtrlRef.current),void(gridCtrlRef.current=null);const compProxy={addOrRemoveCssClass:(name,on)=>setCssClasses((prev=>prev.setClass(name,on))),setHeightAndMinHeight:height2=>setHeight(height2)};gridCtrlRef.current=context.createBean(new GridHeaderCtrl),gridCtrlRef.current.setComp(compProxy,eGui.current,eGui.current)}),[]),className=(0,react.useMemo)((()=>"ag-header "+cssClasses.toString()),[cssClasses]),style=(0,react.useMemo)((()=>({height,minHeight:height})),[height]);return react.createElement("div",{ref:setRef2,className,style,role:"presentation"},react.createElement(headerRowContainerComp_default,{pinned:"left"}),react.createElement(headerRowContainerComp_default,{pinned:null}),react.createElement(headerRowContainerComp_default,{pinned:"right"}))})),reactComment_default=(comment,eForCommentRef)=>{(0,react.useEffect)((()=>{const eForComment=eForCommentRef.current;if(eForComment){const eParent=eForComment.parentElement;if(eParent){const eComment=document.createComment(comment);return eParent.insertBefore(eComment,eForComment),()=>{eParent.removeChild(eComment)}}}}),[comment])},CellEditorComponentProxy=class{constructor(cellEditorParams,refreshProps){this.cellEditorParams=cellEditorParams,this.refreshProps=refreshProps,this.instanceCreated=new AgPromise((resolve=>{this.resolveInstanceCreated=resolve})),this.onValueChange=value=>this.updateValue(value),this.value=cellEditorParams.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(params){this.cellEditorParams=params,this.refreshProps()}setMethods(methods){addOptionalMethods(this.getOptionalMethods(),methods,this)}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}setRef(componentInstance){this.componentInstance=componentInstance,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(value){this.value=value,this.refreshProps()}},popupEditorComp_default=(0,react.memo)((props=>{const[popupEditorWrapper,setPopupEditorWrapper]=(0,react.useState)(),{context,popupService,localeService,gos,editService}=(0,react.useContext)(BeansContext);return(effect=>{const effectFn=(0,react.useRef)(effect),destroyFn=(0,react.useRef)(),effectCalled=(0,react.useRef)(!1),rendered=(0,react.useRef)(!1),[,setVal]=(0,react.useState)(0);effectCalled.current&&(rendered.current=!0),(0,react.useEffect)((()=>(effectCalled.current||(destroyFn.current=effectFn.current(),effectCalled.current=!0),setVal((val=>val+1)),()=>{rendered.current&&destroyFn.current&&destroyFn.current()})),[])})((()=>{const{editDetails,cellCtrl,eParentCell}=props,{compDetails}=editDetails,useModelPopup=gos.get("stopEditingWhenCellsLoseFocus"),wrapper=context.createBean(editService.createPopupEditorWrapper(compDetails.params)),ePopupGui=wrapper.getGui();if(props.jsChildComp){const eChildGui=props.jsChildComp.getGui();eChildGui&&ePopupGui.appendChild(eChildGui)}const positionParams={column:cellCtrl.getColumn(),rowNode:cellCtrl.getRowNode(),type:"popupCellEditor",eventSource:eParentCell,ePopup:ePopupGui,position:editDetails.popupPosition,keepWithinBounds:!0},positionCallback=popupService.positionPopupByComponent.bind(popupService,positionParams),translate=localeService.getLocaleTextFunc(),addPopupRes=popupService.addPopup({modal:useModelPopup,eChild:ePopupGui,closeOnEsc:!0,closedCallback:()=>{cellCtrl.onPopupEditorClosed()},anchorToElement:eParentCell,positionCallback,ariaLabel:translate("ariaLabelCellEditor","Cell Editor")}),hideEditorPopup=addPopupRes?addPopupRes.hideFunc:void 0;return setPopupEditorWrapper(wrapper),props.jsChildComp&&props.jsChildComp.afterGuiAttached&&props.jsChildComp.afterGuiAttached(),()=>{null!=hideEditorPopup&&hideEditorPopup(),context.destroyBean(wrapper)}})),react.createElement(react.Fragment,null,popupEditorWrapper&&props.wrappedContent&&(0,react_dom.createPortal)(props.wrappedContent,popupEditorWrapper.getGui()))})),showJsRenderer_default=(showDetails,showTools,eCellValue,cellValueVersion,jsCellRendererRef,eGui)=>{const{context}=(0,react.useContext)(BeansContext),destroyCellRenderer=(0,react.useCallback)((()=>{const comp=jsCellRendererRef.current;if(!comp)return;const compGui=comp.getGui();compGui&&compGui.parentElement&&compGui.parentElement.removeChild(compGui),context.destroyBean(comp),jsCellRendererRef.current=void 0}),[]);(0,react.useEffect)((()=>{const showValue=null!=showDetails,jsCompDetails=showDetails&&showDetails.compDetails&&!showDetails.compDetails.componentFromFramework;if(!(showValue&&jsCompDetails&&!(showTools&&null==eCellValue)))return void destroyCellRenderer();const compDetails=showDetails.compDetails;if(jsCellRendererRef.current){const comp=jsCellRendererRef.current,refreshResult=!!(null!=comp.refresh&&0==showDetails.force)&&comp.refresh(compDetails.params);if(!0===refreshResult||void 0===refreshResult)return;destroyCellRenderer()}const promise=compDetails.newAgStackInstance();null!=promise&&promise.then((comp=>{if(!comp)return;const compGui=comp.getGui();if(!compGui)return;(showTools?eCellValue:eGui.current).appendChild(compGui),jsCellRendererRef.current=comp}))}),[showDetails,showTools,cellValueVersion]),(0,react.useEffect)((()=>destroyCellRenderer),[])},jsxEditor=(editDetails,CellEditorClass,setRef2)=>{const newFormat=editDetails.compProxy;return react.createElement(react.Fragment,null,!newFormat&&react.createElement(CellEditorClass,{...editDetails.compDetails.params,ref:setRef2}),newFormat&&((editDetails,CellEditorClass,setRef2)=>{const{compProxy}=editDetails;setRef2(compProxy);const props=compProxy.getProps(),isStateless=isComponentStateless(CellEditorClass);return react.createElement(CustomContext.Provider,{value:{setMethods:methods=>compProxy.setMethods(methods)}},isStateless&&react.createElement(CellEditorClass,{...props}),!isStateless&&react.createElement(CellEditorClass,{...props,ref:ref=>compProxy.setRef(ref)}))})(editDetails,CellEditorClass,setRef2))},cellComp_default=(0,react.memo)((props=>{const{context}=(0,react.useContext)(BeansContext),{cellCtrl,printLayout,editingRow}=props,tabIndex=cellCtrl.getTabIndex(),colId=cellCtrl.getColumnIdSanitised(),cellInstanceId=cellCtrl.getInstanceId(),[renderDetails,setRenderDetails]=(0,react.useState)((()=>cellCtrl.isCellRenderer()?void 0:{compDetails:void 0,value:cellCtrl.getValueToDisplay(),force:!1})),[editDetails,setEditDetails]=(0,react.useState)(),[renderKey,setRenderKey]=(0,react.useState)(1),[userStyles,setUserStyles]=(0,react.useState)(),[includeSelection,setIncludeSelection]=(0,react.useState)(!1),[includeRowDrag,setIncludeRowDrag]=(0,react.useState)(!1),[includeDndSource,setIncludeDndSource]=(0,react.useState)(!1),[jsEditorComp,setJsEditorComp]=(0,react.useState)(),forceWrapper=(0,react.useMemo)((()=>cellCtrl.isForceWrapper()),[cellCtrl]),cellAriaRole=(0,react.useMemo)((()=>cellCtrl.getCellAriaRole()),[cellCtrl]),eGui=(0,react.useRef)(null),cellRendererRef=(0,react.useRef)(null),jsCellRendererRef=(0,react.useRef)(),cellEditorRef=(0,react.useRef)(),eCellWrapper=(0,react.useRef)(),cellWrapperDestroyFuncs=(0,react.useRef)([]),eCellValue=(0,react.useRef)(),[cellValueVersion,setCellValueVersion]=(0,react.useState)(0),setCellValueRef=(0,react.useCallback)((ref=>{eCellValue.current=ref,setCellValueVersion((v=>v+1))}),[]),showCellWrapper=forceWrapper||null!=renderDetails&&(includeSelection||includeDndSource||includeRowDrag),setCellEditorRef=(0,react.useCallback)(((popup,cellEditor)=>{if(cellEditorRef.current=cellEditor,cellEditor){cellEditor.isCancelBeforeStart&&cellEditor.isCancelBeforeStart()&&setTimeout((()=>{cellCtrl.stopEditing(!0),cellCtrl.focusCell(!0)}))}}),[cellCtrl]),setPopupCellEditorRef=(0,react.useCallback)((cellRenderer=>setCellEditorRef(!0,cellRenderer)),[setCellEditorRef]),setInlineCellEditorRef=(0,react.useCallback)((cellRenderer=>setCellEditorRef(!1,cellRenderer)),[setCellEditorRef]),cssClassManager=(0,react.useRef)();cssClassManager.current||(cssClassManager.current=new CssClassManager((()=>eGui.current))),showJsRenderer_default(renderDetails,showCellWrapper,eCellValue.current,cellValueVersion,jsCellRendererRef,eGui);const lastRenderDetails=(0,react.useRef)();(0,react.useLayoutEffect)((()=>{const oldDetails=lastRenderDetails.current,newDetails=renderDetails;if(lastRenderDetails.current=renderDetails,null==oldDetails||null==oldDetails.compDetails||null==newDetails||null==newDetails.compDetails)return;const oldCompDetails=oldDetails.compDetails,newCompDetails=newDetails.compDetails;if(oldCompDetails.componentClass!=newCompDetails.componentClass)return;if(null==cellRendererRef.current||null==cellRendererRef.current.refresh)return;1!=cellRendererRef.current.refresh(newCompDetails.params)&&setRenderKey((prev=>prev+1))}),[renderDetails]),(0,react.useLayoutEffect)((()=>{if(!(editDetails&&!editDetails.compDetails.componentFromFramework))return;const compDetails=editDetails.compDetails,isPopup=!0===editDetails.popup,cellEditorPromise=compDetails.newAgStackInstance();return cellEditorPromise.then((cellEditor=>{if(!cellEditor)return;const compGui=cellEditor.getGui();if(setCellEditorRef(isPopup,cellEditor),!isPopup){const parentEl=(forceWrapper?eCellWrapper:eGui).current;parentEl?.appendChild(compGui),cellEditor.afterGuiAttached&&cellEditor.afterGuiAttached()}setJsEditorComp(cellEditor)})),()=>{cellEditorPromise.then((cellEditor=>{const compGui=cellEditor.getGui();context.destroyBean(cellEditor),setCellEditorRef(isPopup,void 0),setJsEditorComp(void 0),compGui&&compGui.parentElement&&compGui.parentElement.removeChild(compGui)}))}}),[editDetails]);const setCellWrapperRef=(0,react.useCallback)((ref=>{if(eCellWrapper.current=ref,!eCellWrapper.current)return cellWrapperDestroyFuncs.current.forEach((f=>f())),void(cellWrapperDestroyFuncs.current=[]);const addComp=comp=>{if(comp){const eGui2=comp.getGui();eCellWrapper.current?.insertAdjacentElement("afterbegin",eGui2),cellWrapperDestroyFuncs.current.push((()=>{context.destroyBean(comp),_removeFromParent(eGui2)}))}return comp};if(includeSelection){addComp(cellCtrl.createSelectionCheckbox())}includeDndSource&&addComp(cellCtrl.createDndSource()),includeRowDrag&&addComp(cellCtrl.createRowDragComp())}),[cellCtrl,context,includeDndSource,includeRowDrag,includeSelection]),setRef2=(0,react.useCallback)((ref=>{if(eGui.current=ref,!eGui.current)return;if(!cellCtrl)return;const compProxy={addOrRemoveCssClass:(name,on)=>cssClassManager.current.addOrRemoveCssClass(name,on),setUserStyles:styles=>setUserStyles(styles),getFocusableElement:()=>eGui.current,setIncludeSelection:include=>setIncludeSelection(include),setIncludeRowDrag:include=>setIncludeRowDrag(include),setIncludeDndSource:include=>setIncludeDndSource(include),getCellEditor:()=>cellEditorRef.current||null,getCellRenderer:()=>cellRendererRef.current?cellRendererRef.current:jsCellRendererRef.current,getParentOfValue:()=>eCellValue.current?eCellValue.current:eCellWrapper.current?eCellWrapper.current:eGui.current,setRenderDetails:(compDetails,value,force)=>{setRenderDetails((prev=>prev?.compDetails!==compDetails||prev?.value!==value||prev?.force!==force?{value,compDetails,force}:prev))},setEditDetails:(compDetails,popup,popupPosition,reactiveCustomComponents)=>{if(compDetails){let compProxy2;reactiveCustomComponents?compProxy2=new CellEditorComponentProxy(compDetails.params,(()=>setRenderKey((prev=>prev+1)))):compDetails.componentFromFramework&&warnReactiveCustomComponents(),setEditDetails({compDetails,popup,popupPosition,compProxy:compProxy2}),popup||setRenderDetails(void 0)}else setEditDetails((editDetails2=>{editDetails2?.compProxy&&(cellEditorRef.current=void 0)}))}},cellWrapperOrUndefined=eCellWrapper.current||void 0;cellCtrl.setComp(compProxy,eGui.current,cellWrapperOrUndefined,printLayout,editingRow)}),[]),reactCellRendererStateless=(0,react.useMemo)((()=>!!(renderDetails&&renderDetails.compDetails&&renderDetails.compDetails.componentFromFramework&&isComponentStateless(renderDetails.compDetails.componentClass))),[renderDetails]);(0,react.useLayoutEffect)((()=>{eGui.current&&(cssClassManager.current.addOrRemoveCssClass("ag-cell-value",!showCellWrapper),cssClassManager.current.addOrRemoveCssClass("ag-cell-inline-editing",!!editDetails&&!editDetails.popup),cssClassManager.current.addOrRemoveCssClass("ag-cell-popup-editing",!!editDetails&&!!editDetails.popup),cssClassManager.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!editDetails||!!editDetails.popup),cellCtrl.getRowCtrl()?.setInlineEditingCss(!!editDetails),cellCtrl.shouldRestoreFocus()&&!cellCtrl.isEditing()&&eGui.current.focus({preventScroll:!0}))}));const showContents=()=>react.createElement(react.Fragment,null,null!=renderDetails&&((showDetails,key,parentId,cellRendererRef,showCellWrapper,reactCellRendererStateless,setECellValue)=>{const{compDetails,value}=showDetails,noCellRenderer=!compDetails,reactCellRenderer=compDetails&&compDetails.componentFromFramework,CellRendererClass=compDetails&&compDetails.componentClass,valueForNoCellRenderer=value?.toString?value.toString():value,bodyJsxFunc=()=>react.createElement(react.Fragment,null,noCellRenderer&&react.createElement(react.Fragment,null,valueForNoCellRenderer),reactCellRenderer&&!reactCellRendererStateless&&react.createElement(CellRendererClass,{...compDetails.params,key,ref:cellRendererRef}),reactCellRenderer&&reactCellRendererStateless&&react.createElement(CellRendererClass,{...compDetails.params,key}));return react.createElement(react.Fragment,null,showCellWrapper?react.createElement("span",{role:"presentation",id:`cell-${parentId}`,className:"ag-cell-value",ref:setECellValue},bodyJsxFunc()):bodyJsxFunc())})(renderDetails,renderKey,cellInstanceId,cellRendererRef,showCellWrapper,reactCellRendererStateless,setCellValueRef),null!=editDetails&&((editDetails,setInlineCellEditorRef,setPopupCellEditorRef,eGui,cellCtrl,jsEditorComp)=>{const compDetails=editDetails.compDetails,CellEditorClass=compDetails.componentClass,reactInlineEditor=compDetails.componentFromFramework&&!editDetails.popup,reactPopupEditor=compDetails.componentFromFramework&&editDetails.popup,jsPopupEditor=!compDetails.componentFromFramework&&editDetails.popup;return react.createElement(react.Fragment,null,reactInlineEditor&&jsxEditor(editDetails,CellEditorClass,setInlineCellEditorRef),reactPopupEditor&&react.createElement(popupEditorComp_default,{editDetails,cellCtrl,eParentCell:eGui,wrappedContent:jsxEditor(editDetails,CellEditorClass,setPopupCellEditorRef)}),jsPopupEditor&&jsEditorComp&&react.createElement(popupEditorComp_default,{editDetails,cellCtrl,eParentCell:eGui,jsChildComp:jsEditorComp}))})(editDetails,setInlineCellEditorRef,setPopupCellEditorRef,eGui.current,cellCtrl,jsEditorComp));return react.createElement("div",{ref:setRef2,style:userStyles,tabIndex,role:cellAriaRole,"col-id":colId},showCellWrapper?react.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:setCellWrapperRef},showContents()):showContents())})),rowComp_default=(0,react.memo)((params=>{const{context,gos}=(0,react.useContext)(BeansContext),{rowCtrl,containerType}=params,tabIndex=rowCtrl.getTabIndex(),domOrderRef=(0,react.useRef)(rowCtrl.getDomOrder()),isFullWidth=rowCtrl.isFullWidth(),isDisplayed=rowCtrl.getRowNode().displayed,[rowIndex,setRowIndex]=(0,react.useState)((()=>isDisplayed?rowCtrl.getRowIndex():null)),[rowId,setRowId]=(0,react.useState)((()=>rowCtrl.getRowId())),[rowBusinessKey,setRowBusinessKey]=(0,react.useState)((()=>rowCtrl.getBusinessKey())),[userStyles,setUserStyles]=(0,react.useState)((()=>rowCtrl.getRowStyles())),cellCtrlsRef=(0,react.useRef)(null),prevCellCtrlsRef=(0,react.useRef)(null),[cellCtrls,setCellCtrls]=(0,react.useState)((()=>null)),[fullWidthCompDetails,setFullWidthCompDetails]=(0,react.useState)(),[top,setTop]=(0,react.useState)((()=>isDisplayed?rowCtrl.getInitialRowTop(containerType):void 0)),[transform,setTransform]=(0,react.useState)((()=>isDisplayed?rowCtrl.getInitialTransform(containerType):void 0)),eGui=(0,react.useRef)(null),fullWidthCompRef=(0,react.useRef)(),autoHeightSetup=(0,react.useRef)(!1),[autoHeightSetupAttempt,setAutoHeightSetupAttempt]=(0,react.useState)(0);(0,react.useEffect)((()=>{if(autoHeightSetup.current)return;if(!fullWidthCompDetails)return;if(autoHeightSetupAttempt>10)return;const eChild=eGui.current?.firstChild;eChild?(rowCtrl.setupDetailRowAutoHeight(eChild),autoHeightSetup.current=!0):setAutoHeightSetupAttempt((prev=>prev+1))}),[fullWidthCompDetails,autoHeightSetupAttempt]);const cssClassManager=(0,react.useRef)();cssClassManager.current||(cssClassManager.current=new CssClassManager((()=>eGui.current)));const setRef2=(0,react.useCallback)((e=>{if(eGui.current=e,!eGui.current)return void rowCtrl.unsetComp(containerType);if(!rowCtrl.isAlive())return;const compProxy={setTop,setTransform,addOrRemoveCssClass:(name,on)=>cssClassManager.current.addOrRemoveCssClass(name,on),setDomOrder:domOrder=>domOrderRef.current=domOrder,setRowIndex,setRowId,setRowBusinessKey,setUserStyles,setCellCtrls:(next,useFlushSync)=>{prevCellCtrlsRef.current=cellCtrlsRef.current,cellCtrlsRef.current=next;const nextCells=getNextValueIfDifferent(prevCellCtrlsRef.current,next,domOrderRef.current);nextCells!==prevCellCtrlsRef.current&&agFlushSync(useFlushSync,(()=>setCellCtrls(nextCells)))},showFullWidth:compDetails=>setFullWidthCompDetails(compDetails),getFullWidthCellRenderer:()=>fullWidthCompRef.current,refreshFullWidth:getUpdatedParams=>canRefreshFullWidthRef.current?(setFullWidthCompDetails((prevFullWidthCompDetails=>({...prevFullWidthCompDetails,params:getUpdatedParams()}))),!0):!(!fullWidthCompRef.current||!fullWidthCompRef.current.refresh)&&fullWidthCompRef.current.refresh(getUpdatedParams())};rowCtrl.setComp(compProxy,eGui.current,containerType)}),[]);(0,react.useLayoutEffect)((()=>showJsComp(fullWidthCompDetails,context,eGui.current,fullWidthCompRef)),[fullWidthCompDetails]);const rowStyles=(0,react.useMemo)((()=>{const res={top,transform};return Object.assign(res,userStyles),res}),[top,transform,userStyles]),showFullWidthFramework=isFullWidth&&fullWidthCompDetails&&fullWidthCompDetails.componentFromFramework,showCells=!isFullWidth&&null!=cellCtrls,reactFullWidthCellRendererStateless=(0,react.useMemo)((()=>!!(fullWidthCompDetails?.componentFromFramework&&isComponentStateless(fullWidthCompDetails.componentClass))),[fullWidthCompDetails]),canRefreshFullWidthRef=(0,react.useRef)(!1);(0,react.useEffect)((()=>{canRefreshFullWidthRef.current=reactFullWidthCellRendererStateless&&!!fullWidthCompDetails&&!!gos.get("reactiveCustomComponents")}),[reactFullWidthCellRendererStateless,fullWidthCompDetails]);return react.createElement("div",{ref:setRef2,role:"row",style:rowStyles,"row-index":rowIndex,"row-id":rowId,"row-business-key":rowBusinessKey,tabIndex},showCells&&cellCtrls?.map((cellCtrl=>react.createElement(cellComp_default,{cellCtrl,editingRow:rowCtrl.isEditing(),printLayout:rowCtrl.isPrintLayout(),key:cellCtrl.getInstanceId()}))),showFullWidthFramework&&(()=>{const FullWidthComp=fullWidthCompDetails.componentClass;return react.createElement(react.Fragment,null,reactFullWidthCellRendererStateless&&react.createElement(FullWidthComp,{...fullWidthCompDetails.params}),!reactFullWidthCellRendererStateless&&react.createElement(FullWidthComp,{...fullWidthCompDetails.params,ref:fullWidthCompRef}))})())})),rowContainerComp_default=(0,react.memo)((params=>{const{context}=(0,react.useContext)(BeansContext),{name}=params,containerOptions=(0,react.useMemo)((()=>_getRowContainerOptions(name)),[name]),eViewport=(0,react.useRef)(null),eContainer=(0,react.useRef)(null),rowCtrlsRef=(0,react.useRef)([]),prevRowCtrlsRef=(0,react.useRef)([]),[rowCtrlsOrdered,setRowCtrlsOrdered]=(0,react.useState)((()=>[])),domOrderRef=(0,react.useRef)(!1),rowContainerCtrlRef=(0,react.useRef)(),viewportClasses=(0,react.useMemo)((()=>classesList(containerOptions.viewport)),[containerOptions]),containerClasses=(0,react.useMemo)((()=>classesList(containerOptions.container)),[containerOptions]),isCenter="center"===containerOptions.type;reactComment_default(" AG Row Container "+name+" ",isCenter?eViewport:eContainer);const areElementsReady=(0,react.useCallback)((()=>isCenter?null!=eViewport.current&&null!=eContainer.current:null!=eContainer.current),[]),areElementsRemoved=(0,react.useCallback)((()=>isCenter?null==eViewport.current&&null==eContainer.current:null==eContainer.current),[]),setRef2=(0,react.useCallback)((()=>{if(areElementsRemoved()&&(context.destroyBean(rowContainerCtrlRef.current),rowContainerCtrlRef.current=null),areElementsReady()){const updateRowCtrlsOrdered=useFlushSync=>{const next=getNextValueIfDifferent(prevRowCtrlsRef.current,rowCtrlsRef.current,domOrderRef.current);next!==prevRowCtrlsRef.current&&(prevRowCtrlsRef.current=next,agFlushSync(useFlushSync,(()=>setRowCtrlsOrdered(next))))},compProxy={setViewportHeight:height=>{eViewport.current&&(eViewport.current.style.height=height)},setRowCtrls:({rowCtrls,useFlushSync})=>{const useFlush=!!useFlushSync&&rowCtrlsRef.current.length>0&&rowCtrls.length>0;rowCtrlsRef.current=rowCtrls,updateRowCtrlsOrdered(useFlush)},setDomOrder:domOrder=>{domOrderRef.current!=domOrder&&(domOrderRef.current=domOrder,updateRowCtrlsOrdered(!1))},setContainerWidth:width=>{eContainer.current&&(eContainer.current.style.width=width)},setOffsetTop:offset=>{eContainer.current&&(eContainer.current.style.transform=`translateY(${offset})`)}};rowContainerCtrlRef.current=context.createBean(new RowContainerCtrl(name)),rowContainerCtrlRef.current.setComp(compProxy,eContainer.current,eViewport.current)}}),[areElementsReady,areElementsRemoved]),setContainerRef=(0,react.useCallback)((e=>{eContainer.current=e,setRef2()}),[setRef2]),setViewportRef=(0,react.useCallback)((e=>{eViewport.current=e,setRef2()}),[setRef2]),buildContainer=()=>react.createElement("div",{className:containerClasses,ref:setContainerRef,role:"rowgroup"},rowCtrlsOrdered.map((rowCtrl=>react.createElement(rowComp_default,{rowCtrl,containerType:containerOptions.type,key:rowCtrl.getInstanceId()}))));return react.createElement(react.Fragment,null,isCenter?react.createElement("div",{className:viewportClasses,ref:setViewportRef,role:"presentation"},buildContainer()):buildContainer())})),gridBodyComp_default=(0,react.memo)((()=>{const{context,resizeObserverService}=(0,react.useContext)(BeansContext),[rowAnimationClass,setRowAnimationClass]=(0,react.useState)(""),[topHeight,setTopHeight]=(0,react.useState)(0),[bottomHeight,setBottomHeight]=(0,react.useState)(0),[stickyTopHeight,setStickyTopHeight]=(0,react.useState)("0px"),[stickyTopTop,setStickyTopTop]=(0,react.useState)("0px"),[stickyTopWidth,setStickyTopWidth]=(0,react.useState)("100%"),[stickyBottomHeight,setStickyBottomHeight]=(0,react.useState)("0px"),[stickyBottomBottom,setStickyBottomBottom]=(0,react.useState)("0px"),[stickyBottomWidth,setStickyBottomWidth]=(0,react.useState)("100%"),[topDisplay,setTopDisplay]=(0,react.useState)(""),[bottomDisplay,setBottomDisplay]=(0,react.useState)(""),[forceVerticalScrollClass,setForceVerticalScrollClass]=(0,react.useState)(null),[topAndBottomOverflowY,setTopAndBottomOverflowY]=(0,react.useState)(""),[cellSelectableCss,setCellSelectableCss]=(0,react.useState)(null),[layoutClass,setLayoutClass]=(0,react.useState)("ag-layout-normal"),cssClassManager=(0,react.useRef)();cssClassManager.current||(cssClassManager.current=new CssClassManager((()=>eRoot.current)));const eRoot=(0,react.useRef)(null),eTop=(0,react.useRef)(null),eStickyTop=(0,react.useRef)(null),eStickyBottom=(0,react.useRef)(null),eBody=(0,react.useRef)(null),eBodyViewport=(0,react.useRef)(null),eBottom=(0,react.useRef)(null),beansToDestroy=(0,react.useRef)([]),destroyFuncs=(0,react.useRef)([]);reactComment_default(" AG Grid Body ",eRoot),reactComment_default(" AG Pinned Top ",eTop),reactComment_default(" AG Sticky Top ",eStickyTop),reactComment_default(" AG Middle ",eBodyViewport),reactComment_default(" AG Pinned Bottom ",eBottom);const setRef2=(0,react.useCallback)((e=>{if(eRoot.current=e,!eRoot.current)return context.destroyBeans(beansToDestroy.current),destroyFuncs.current.forEach((f=>f())),beansToDestroy.current=[],void(destroyFuncs.current=[]);if(!context)return;const attachToDom=(eParent,eChild)=>{eParent.appendChild(eChild),destroyFuncs.current.push((()=>eParent.removeChild(eChild)))},addComp=(eParent,compClass,comment)=>{attachToDom(eParent,document.createComment(comment)),attachToDom(eParent,(compClass=>{const comp=context.createBean(new compClass);return beansToDestroy.current.push(comp),comp})(compClass).getGui())};addComp(eRoot.current,FakeHScrollComp," AG Fake Horizontal Scroll "),addComp(eRoot.current,OverlayWrapperComponent," AG Overlay Wrapper "),eBody.current&&addComp(eBody.current,FakeVScrollComp," AG Fake Vertical Scroll ");const compProxy={setRowAnimationCssOnBodyViewport:setRowAnimationClass,setColumnCount:count=>{eRoot.current&&_setAriaColCount(eRoot.current,count)},setRowCount:count=>{eRoot.current&&_setAriaRowCount(eRoot.current,count)},setTopHeight,setBottomHeight,setStickyTopHeight,setStickyTopTop,setStickyTopWidth,setTopDisplay,setBottomDisplay,setColumnMovingCss:(cssClass,flag)=>cssClassManager.current.addOrRemoveCssClass(cssClass,flag),updateLayoutClasses:setLayoutClass,setAlwaysVerticalScrollClass:setForceVerticalScrollClass,setPinnedTopBottomOverflowY:setTopAndBottomOverflowY,setCellSelectableCss:(cssClass,flag)=>setCellSelectableCss(flag?cssClass:null),setBodyViewportWidth:width=>{eBodyViewport.current&&(eBodyViewport.current.style.width=width)},registerBodyViewportResizeListener:listener=>{if(eBodyViewport.current){const unsubscribeFromResize=resizeObserverService.observeResize(eBodyViewport.current,listener);destroyFuncs.current.push((()=>unsubscribeFromResize()))}},setStickyBottomHeight,setStickyBottomBottom,setStickyBottomWidth},ctrl=context.createBean(new GridBodyCtrl);beansToDestroy.current.push(ctrl),ctrl.setComp(compProxy,eRoot.current,eBodyViewport.current,eTop.current,eBottom.current,eStickyTop.current,eStickyBottom.current)}),[]),rootClasses=(0,react.useMemo)((()=>classesList("ag-root","ag-unselectable",layoutClass)),[layoutClass]),bodyViewportClasses=(0,react.useMemo)((()=>classesList("ag-body-viewport",rowAnimationClass,layoutClass,forceVerticalScrollClass,cellSelectableCss)),[rowAnimationClass,layoutClass,forceVerticalScrollClass,cellSelectableCss]),bodyClasses=(0,react.useMemo)((()=>classesList("ag-body",layoutClass)),[layoutClass]),topClasses=(0,react.useMemo)((()=>classesList("ag-floating-top",cellSelectableCss)),[cellSelectableCss]),stickyTopClasses=(0,react.useMemo)((()=>classesList("ag-sticky-top",cellSelectableCss)),[cellSelectableCss]),stickyBottomClasses=(0,react.useMemo)((()=>classesList("ag-sticky-bottom",cellSelectableCss)),[cellSelectableCss]),bottomClasses=(0,react.useMemo)((()=>classesList("ag-floating-bottom",cellSelectableCss)),[cellSelectableCss]),topStyle=(0,react.useMemo)((()=>({height:topHeight,minHeight:topHeight,display:topDisplay,overflowY:topAndBottomOverflowY})),[topHeight,topDisplay,topAndBottomOverflowY]),stickyTopStyle=(0,react.useMemo)((()=>({height:stickyTopHeight,top:stickyTopTop,width:stickyTopWidth})),[stickyTopHeight,stickyTopTop,stickyTopWidth]),stickyBottomStyle=(0,react.useMemo)((()=>({height:stickyBottomHeight,bottom:stickyBottomBottom,width:stickyBottomWidth})),[stickyBottomHeight,stickyBottomBottom,stickyBottomWidth]),bottomStyle=(0,react.useMemo)((()=>({height:bottomHeight,minHeight:bottomHeight,display:bottomDisplay,overflowY:topAndBottomOverflowY})),[bottomHeight,bottomDisplay,topAndBottomOverflowY]),createRowContainer=container=>react.createElement(rowContainerComp_default,{name:container,key:`${container}-container`}),createSection=({section,children,className,style})=>react.createElement("div",{ref:section,className,role:"presentation",style},children.map(createRowContainer));return react.createElement("div",{ref:setRef2,className:rootClasses,role:"treegrid"},react.createElement(gridHeaderComp_default,null),createSection({section:eTop,className:topClasses,style:topStyle,children:["topLeft","topCenter","topRight","topFullWidth"]}),react.createElement("div",{className:bodyClasses,ref:eBody,role:"presentation"},createSection({section:eBodyViewport,className:bodyViewportClasses,children:["left","center","right","fullWidth"]})),createSection({section:eStickyTop,className:stickyTopClasses,style:stickyTopStyle,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),createSection({section:eStickyBottom,className:stickyBottomClasses,style:stickyBottomStyle,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),createSection({section:eBottom,className:bottomClasses,style:bottomStyle,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))})),index_esm_TabGuardComp=(0,react.forwardRef)(((props,forwardRef4)=>{const{children,eFocusableElement,onTabKeyDown,gridCtrl,forceFocusOutWhenTabGuardsAreEmpty}=props,{context}=(0,react.useContext)(BeansContext),topTabGuardRef=(0,react.useRef)(null),bottomTabGuardRef=(0,react.useRef)(null),tabGuardCtrlRef=(0,react.useRef)(),setTabIndex=value=>{const processedValue=null==value?void 0:parseInt(value,10).toString();[topTabGuardRef,bottomTabGuardRef].forEach((tabGuard=>{void 0===processedValue?tabGuard.current?.removeAttribute("tabindex"):tabGuard.current?.setAttribute("tabindex",processedValue)}))};(0,react.useImperativeHandle)(forwardRef4,(()=>({forceFocusOutOfContainer(up){tabGuardCtrlRef.current?.forceFocusOutOfContainer(up)}})));const setupCtrl=(0,react.useCallback)((()=>{if(!topTabGuardRef.current&&!bottomTabGuardRef.current)return context.destroyBean(tabGuardCtrlRef.current),void(tabGuardCtrlRef.current=null);if(topTabGuardRef.current&&bottomTabGuardRef.current){const compProxy={setTabIndex};tabGuardCtrlRef.current=context.createBean(new TabGuardCtrl({comp:compProxy,eTopGuard:topTabGuardRef.current,eBottomGuard:bottomTabGuardRef.current,eFocusableElement,onTabKeyDown,forceFocusOutWhenTabGuardsAreEmpty,focusInnerElement:fromBottom=>gridCtrl.focusInnerElement(fromBottom)}))}}),[]),setTopRef=(0,react.useCallback)((e=>{topTabGuardRef.current=e,setupCtrl()}),[setupCtrl]),setBottomRef=(0,react.useCallback)((e=>{bottomTabGuardRef.current=e,setupCtrl()}),[setupCtrl]),createTabGuard=side=>{const className="top"===side?TabGuardClassNames.TAB_GUARD_TOP:TabGuardClassNames.TAB_GUARD_BOTTOM;return react.createElement("div",{className:`${TabGuardClassNames.TAB_GUARD} ${className}`,role:"presentation",ref:"top"===side?setTopRef:setBottomRef})};return react.createElement(react.Fragment,null,createTabGuard("top"),children,createTabGuard("bottom"))})),tabGuardComp_default=(0,react.memo)(index_esm_TabGuardComp),gridComp_default=(0,react.memo)((({context})=>{const[rtlClass,setRtlClass]=(0,react.useState)(""),[layoutClass,setLayoutClass]=(0,react.useState)(""),[cursor,setCursor]=(0,react.useState)(null),[userSelect,setUserSelect]=(0,react.useState)(null),[initialised,setInitialised]=(0,react.useState)(!1),[tabGuardReady,setTabGuardReady]=(0,react.useState)(),gridCtrlRef=(0,react.useRef)(null),eRootWrapperRef=(0,react.useRef)(null),tabGuardRef=(0,react.useRef)(),[eGridBodyParent,setGridBodyParent]=(0,react.useState)(null),focusInnerElementRef=(0,react.useRef)((()=>{})),paginationCompRef=(0,react.useRef)(),focusableContainersRef=(0,react.useRef)([]),onTabKeyDown=(0,react.useCallback)((()=>{}),[]),beans=(0,react.useMemo)((()=>context.isDestroyed()?null:context.getBeans()),[context]);reactComment_default(" AG Grid ",eRootWrapperRef);const setRef2=(0,react.useCallback)((e=>{if(eRootWrapperRef.current=e,!eRootWrapperRef.current)return context.destroyBean(gridCtrlRef.current),void(gridCtrlRef.current=null);if(context.isDestroyed())return;gridCtrlRef.current=context.createBean(new GridCtrl);const gridCtrl=gridCtrlRef.current;focusInnerElementRef.current=gridCtrl.focusInnerElement.bind(gridCtrl);const compProxy={destroyGridUi:()=>{},setRtlClass,forceFocusOutOfContainer:up=>{up||!paginationCompRef.current?.isDisplayed()?tabGuardRef.current?.forceFocusOutOfContainer(up):paginationCompRef.current.forceFocusOutOfContainer(up)},updateLayoutClasses:setLayoutClass,getFocusableContainers:()=>{const comps=[],gridBodyCompEl=eRootWrapperRef.current?.querySelector(".ag-root");return gridBodyCompEl&&comps.push({getGui:()=>gridBodyCompEl}),focusableContainersRef.current.forEach((comp=>{comp.isDisplayed()&&comps.push(comp)})),comps},setCursor,setUserSelect};gridCtrl.setComp(compProxy,eRootWrapperRef.current,eRootWrapperRef.current),setInitialised(!0)}),[]);(0,react.useEffect)((()=>{if(!(tabGuardReady&&beans&&gridCtrlRef.current&&eGridBodyParent&&eRootWrapperRef.current))return;const gridCtrl=gridCtrlRef.current,beansToDestroy=[],{watermarkSelector,paginationSelector,sideBarSelector,statusBarSelector,gridHeaderDropZonesSelector}=gridCtrl.getOptionalSelectors(),additionalEls=[],eRootWrapper=eRootWrapperRef.current;if(gridHeaderDropZonesSelector){const headerDropZonesComp=context.createBean(new gridHeaderDropZonesSelector.component),eGui=headerDropZonesComp.getGui();eRootWrapper.insertAdjacentElement("afterbegin",eGui),additionalEls.push(eGui),beansToDestroy.push(headerDropZonesComp)}if(sideBarSelector){const sideBarComp=context.createBean(new sideBarSelector.component),eGui=sideBarComp.getGui(),bottomTabGuard=eGridBodyParent.querySelector(".ag-tab-guard-bottom");bottomTabGuard&&(bottomTabGuard.insertAdjacentElement("beforebegin",eGui),additionalEls.push(eGui)),beansToDestroy.push(sideBarComp),focusableContainersRef.current.push(sideBarComp)}const addComponentToDom=component=>{const comp=context.createBean(new component),eGui=comp.getGui();return eRootWrapper.insertAdjacentElement("beforeend",eGui),additionalEls.push(eGui),beansToDestroy.push(comp),comp};if(statusBarSelector&&addComponentToDom(statusBarSelector.component),paginationSelector){const paginationComp=addComponentToDom(paginationSelector.component);paginationCompRef.current=paginationComp,focusableContainersRef.current.push(paginationComp)}return watermarkSelector&&addComponentToDom(watermarkSelector.component),()=>{context.destroyBeans(beansToDestroy),additionalEls.forEach((el=>{el.parentElement&&el.parentElement.removeChild(el)}))}}),[tabGuardReady,eGridBodyParent,beans]);const rootWrapperClasses=(0,react.useMemo)((()=>classesList("ag-root-wrapper",rtlClass,layoutClass)),[rtlClass,layoutClass]),rootWrapperBodyClasses=(0,react.useMemo)((()=>classesList("ag-root-wrapper-body","ag-focus-managed",layoutClass)),[layoutClass]),topStyle=(0,react.useMemo)((()=>({userSelect:null!=userSelect?userSelect:"",WebkitUserSelect:null!=userSelect?userSelect:"",cursor:null!=cursor?cursor:""})),[userSelect,cursor]),setTabGuardCompRef=(0,react.useCallback)((ref=>{tabGuardRef.current=ref,setTabGuardReady(null!==ref)}),[]);return react.createElement("div",{ref:setRef2,className:rootWrapperClasses,style:topStyle,role:"presentation"},react.createElement("div",{className:rootWrapperBodyClasses,ref:setGridBodyParent,role:"presentation"},initialised&&eGridBodyParent&&beans&&react.createElement(BeansContext.Provider,{value:beans},react.createElement(tabGuardComp_default,{ref:setTabGuardCompRef,eFocusableElement:eGridBodyParent,onTabKeyDown,gridCtrl:gridCtrlRef.current,forceFocusOutWhenTabGuardsAreEmpty:!0},react.createElement(gridBodyComp_default,null)))))})),RenderStatusService=class extends BeanStub{wireBeans(beans){this.ctrlsService=beans.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every((container=>container.getAllCtrls().every((ctrl=>ctrl.areCellsRendered()))))}},AgGridReactUi=props=>{const apiRef=(0,react.useRef)(),eGui=(0,react.useRef)(null),portalManager=(0,react.useRef)(null),destroyFuncs=(0,react.useRef)([]),whenReadyFuncs=(0,react.useRef)([]),prevProps=(0,react.useRef)(props),frameworkOverridesRef=(0,react.useRef)(),ready=(0,react.useRef)(!1),[context,setContext]=(0,react.useState)(void 0),[,setPortalRefresher]=(0,react.useState)(0),setRef2=(0,react.useCallback)((e=>{if(eGui.current=e,!eGui.current)return destroyFuncs.current.forEach((f=>f())),void(destroyFuncs.current.length=0);const modules=props.modules||[];portalManager.current||(portalManager.current=new PortalManager((()=>setPortalRefresher((prev=>prev+1))),props.componentWrappingElement,props.maxComponentCreationTimeMs),destroyFuncs.current.push((()=>{portalManager.current?.destroy(),portalManager.current=null})));const mergedGridOps=function _combineAttributesAndGridOptions(gridOptions,component){"object"!=typeof gridOptions&&(gridOptions={});const mergedOptions={...gridOptions};return ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS.forEach((key=>{const value=component[key];void 0!==value&&value!==ComponentUtil.VUE_OMITTED_PROPERTY&&(mergedOptions[key]=value)})),mergedOptions}(props.gridOptions,props),frameworkOverrides=function isReact17Minus(){return!createRootAndFlushSyncAvailable}()?new React17MinusFrameworkOverrides((()=>{if(ready.current){const getFn=()=>frameworkOverridesRef.current?.shouldQueueUpdates()?void 0:whenReadyFuncs.current.shift();let fn=getFn();for(;fn;)fn(),fn=getFn()}})):new ReactFrameworkOverrides;frameworkOverridesRef.current=frameworkOverrides;const renderStatusService=new RenderStatusService,gridParams={providedBeanInstances:{frameworkComponentWrapper:new ReactFrameworkComponentWrapper(portalManager.current,mergedGridOps.reactiveCustomComponents??!0),renderStatusService},modules,frameworkOverrides},gridCoreCreator=new GridCoreCreator;apiRef.current=gridCoreCreator.create(eGui.current,mergedGridOps,(context2=>{setContext(context2),context2.createBean(renderStatusService),destroyFuncs.current.push((()=>{context2.destroy()}));context2.getBean("ctrlsService").whenReady((()=>{if(context2.isDestroyed())return;const api=apiRef.current;api&&props.setGridApi&&props.setGridApi(api)}))}),(context2=>{context2.getBean("ctrlsService").whenReady((()=>{whenReadyFuncs.current.forEach((f=>f())),whenReadyFuncs.current.length=0,ready.current=!0}))}),gridParams)}),[]),style=(0,react.useMemo)((()=>({height:"100%",...props.containerStyle||{}})),[props.containerStyle]),processWhenReady=(0,react.useCallback)((func=>{ready.current&&!frameworkOverridesRef.current?.shouldQueueUpdates()?func():whenReadyFuncs.current.push(func)}),[]);return(0,react.useEffect)((()=>{const changes=function extractGridPropertyChanges(prevProps,nextProps){const changes={};return Object.keys(nextProps).forEach((propKey=>{const propValue=nextProps[propKey];prevProps[propKey]!==propValue&&(changes[propKey]=propValue)})),changes}(prevProps.current,props);prevProps.current=props,processWhenReady((()=>{apiRef.current&&function _processOnChange(changes,api){if(!changes)return;const gridChanges={};let hasChanges=!1;if(Object.keys(changes).filter((key=>ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS_SET.has(key))).forEach((key=>{gridChanges[key]=changes[key],hasChanges=!0})),!hasChanges)return;const internalUpdateEvent={type:"gridOptionsChanged",options:gridChanges};api.dispatchEvent(internalUpdateEvent);const event={type:"componentStateChanged"};_iterateObject(gridChanges,((key,value)=>{event[key]=value})),api.dispatchEvent(event)}(changes,apiRef.current)}))}),[props]),react.createElement("div",{style,className:props.className,ref:setRef2},context&&!context.isDestroyed()?react.createElement(gridComp_default,{context}):null,portalManager.current?.getPortals()??null)};var ReactFrameworkComponentWrapper=class extends BaseComponentWrapper{constructor(parent,reactiveCustomComponents){super(),this.parent=parent,this.reactiveCustomComponents=reactiveCustomComponents}createWrapper(UserReactComponent,componentType){if(this.reactiveCustomComponents){const ComponentClass=(propertyName=>{switch(propertyName){case"filter":return FilterComponentWrapper;case"floatingFilterComponent":return FloatingFilterComponentWrapper;case"dateComponent":return DateComponentWrapper;case"loadingOverlayComponent":return LoadingOverlayComponentWrapper;case"noRowsOverlayComponent":return NoRowsOverlayComponentWrapper;case"statusPanel":return StatusPanelComponentWrapper;case"toolPanel":return ToolPanelComponentWrapper;case"menuItem":return MenuItemComponentWrapper;case"cellRenderer":return CellRendererComponentWrapper}})(componentType.propertyName);if(ComponentClass)return new ComponentClass(UserReactComponent,this.parent,componentType)}else switch(componentType.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":warnReactiveCustomComponents()}const suppressFallbackMethods=!componentType.cellRenderer&&"toolPanel"!==componentType.propertyName;return new ReactComponent(UserReactComponent,this.parent,componentType,suppressFallbackMethods)}},DetailCellRenderer=(0,react.forwardRef)(((props,ref)=>{const{ctrlsFactory,context,gos,resizeObserverService,rowModel}=(0,react.useContext)(BeansContext),[cssClasses,setCssClasses]=(0,react.useState)((()=>new CssClasses)),[gridCssClasses,setGridCssClasses]=(0,react.useState)((()=>new CssClasses)),[detailGridOptions,setDetailGridOptions]=(0,react.useState)(),[detailRowData,setDetailRowData]=(0,react.useState)(),ctrlRef=(0,react.useRef)(),eGuiRef=(0,react.useRef)(null),resizeObserverDestroyFunc=(0,react.useRef)(),parentModules=(0,react.useMemo)((()=>ModuleRegistry.__getGridRegisteredModules(props.api.getGridId())),[props]),topClassName=(0,react.useMemo)((()=>cssClasses.toString()+" ag-details-row"),[cssClasses]),gridClassName=(0,react.useMemo)((()=>gridCssClasses.toString()+" ag-details-grid"),[gridCssClasses]);ref&&(0,react.useImperativeHandle)(ref,(()=>({refresh:()=>ctrlRef.current?.refresh()??!1}))),props.template&&_warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const setRef2=(0,react.useCallback)((e=>{if(eGuiRef.current=e,!eGuiRef.current)return context.destroyBean(ctrlRef.current),void(resizeObserverDestroyFunc.current&&resizeObserverDestroyFunc.current());const compProxy={addOrRemoveCssClass:(name,on)=>setCssClasses((prev=>prev.setClass(name,on))),addOrRemoveDetailGridCssClass:(name,on)=>setGridCssClasses((prev=>prev.setClass(name,on))),setDetailGrid:gridOptions=>setDetailGridOptions(gridOptions),setRowData:rowData=>setDetailRowData(rowData),getGui:()=>eGuiRef.current},ctrl=ctrlsFactory.getInstance("detailCellRenderer");if(ctrl&&(context.createBean(ctrl),ctrl.init(compProxy,props),ctrlRef.current=ctrl,gos.get("detailRowAutoHeight"))){const checkRowSizeFunc=()=>{if(null==eGuiRef.current)return;const clientHeight=eGuiRef.current.clientHeight;if(null!=clientHeight&&clientHeight>0){setTimeout((()=>{props.node.setRowHeight(clientHeight),("clientSide"===rowModel.getType()||"serverSide"===rowModel.getType())&&rowModel.onRowHeightChanged()}),0)}};resizeObserverDestroyFunc.current=resizeObserverService.observeResize(eGuiRef.current,checkRowSizeFunc),checkRowSizeFunc()}}),[]),setGridApi=(0,react.useCallback)((api=>{ctrlRef.current?.registerDetailWithMaster(api)}),[]);return react.createElement("div",{className:topClassName,ref:setRef2},detailGridOptions&&react.createElement(AgGridReactUi,{className:gridClassName,...detailGridOptions,modules:parentModules,rowData:detailRowData,setGridApi}))})),ReactFrameworkOverrides=class extends VanillaFrameworkOverrides{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:groupCellRenderer_default,agGroupRowRenderer:groupCellRenderer_default,agDetailCellRenderer:DetailCellRenderer},this.wrapIncoming=(callback,source)=>"ensureVisible"===source?function runWithoutFlushSync(func){return disableFlushSync||setTimeout((()=>disableFlushSync=!1),0),disableFlushSync=!0,func()}(callback):callback(),this.renderingEngine="react"}frameworkComponent(name){return this.frameworkComponents[name]}isFrameworkComponent(comp){if(!comp)return!1;const prototype=comp.prototype;return!(prototype&&"getGui"in prototype)}shouldQueueUpdates(){return!1}getLockOnRefreshError(){return" This error can also occur if using 'ReactDOM.render' instead of 'createRoot'. If so, please upgrade to 'createRoot'."}},React17MinusFrameworkOverrides=class extends ReactFrameworkOverrides{constructor(processQueuedUpdates){super(),this.processQueuedUpdates=processQueuedUpdates,this.queueUpdates=!1}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}getLockOnRefreshError(){return""}},AgGridReact=class extends react.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=api=>{this.api=api,this.apiListeners.forEach((listener=>listener(api)))}}registerApiListener(listener){this.apiListeners.push(listener)}componentWillUnmount(){this.apiListeners.length=0}render(){return react.createElement(AgGridReactUi,{...this.props,setGridApi:this.setGridApi})}}},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var f=__webpack_require__("./node_modules/react/index.js"),g=60103;if(exports.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var h=Symbol.for;g=h("react.element"),exports.Fragment=h("react.fragment")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,k){var b,d={},e=null,l=null;for(b in void 0!==k&&(e=""+k),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(l=a.ref),a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")},"./node_modules/ag-grid-community/styles/ag-grid.css":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/@storybook/addon-postcss/node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/ag-grid-community/styles/ag-grid.css");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},"./node_modules/ag-grid-community/styles/ag-theme-quartz.css":(module,__unused_webpack_exports,__webpack_require__)=>{var api=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),content=__webpack_require__("./node_modules/@storybook/addon-postcss/node_modules/css-loader/dist/cjs.js!./node_modules/postcss-loader/dist/cjs.js!./node_modules/ag-grid-community/styles/ag-theme-quartz.css");"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.id,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}}}]);