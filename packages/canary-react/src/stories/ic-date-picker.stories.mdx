import {
  Meta,
  Story,
  Canvas,
  ArgsTable,
  Description,
} from "@storybook/addon-docs";
import { IcDatePicker } from "../components";
import { useState } from "react";
import readme from "../../../canary-web-components/src/components/ic-date-picker/readme.md";


<Meta
  title="React Components/Date Picker"
  component={IcDatePicker}
  parameters={{
    componentAPI: {
      data: readme,
    },
  }}
/>

# [Canary]: Date Picker

Use a date picker to select a single date where visualising that date could be useful.

There is one required prop for a date picker:

- label: `string`

Click the 'Component API' tab to view all the available props and events for date pickers.

To use the date picker component, import `@ukic/canary-react` into your application.

### Default

The default date picker, which uses the date format of `DD/MM/YYYY`.

<Canvas withSource="none">
  <Story name="Default" height="540px">
    <IcDatePicker label="When would you like to collect your coffee?" />
  </Story>
</Canvas>

#### Default code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const DatePicker = () => (
  <IcDatePicker label="When would you like to collect your coffee?" />
);

export default DatePicker;
```

### Sizes

Set the size of the date picker by using the `size` prop. This prop takes the values `small`, `default` or `large`. Depending on the chosen size, the prop will apply styling to increase or decrease the amount of spacing within the component.

<Canvas withSource="none">
  <Story name="Sizes">
    <div style={{ display: "flex", flexDirection: "column", gap: "16px", height: "790px" }}>
      <IcDatePicker label="When would you like to collect your coffee?" size="small" />
      <IcDatePicker label="When would you like to collect your coffee?" />
      <IcDatePicker label="When would you like to collect your coffee?" size="large" />
    </div>
  </Story>
</Canvas>

#### Sizes code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const DatePickers = () => (
  <div style={{ display: "flex", flexDirection: "column", gap: "16px" }}>
    <IcDatePicker label="When would you like to collect your coffee?" size="small" />
    <IcDatePicker label="When would you like to collect your coffee?" />
    <IcDatePicker label="When would you like to collect your coffee?" size="large" />
  </div>
);

export default DatePickers;
```

### Max width

Set the size of the input field by using the `--input-width` CSS custom property. The picker will grow, but not exceed its maximum supported width.

<Canvas withSource="none">
  <Story name="Max width">
    <div style={{ display: "flex", flexDirection: "column", gap: "16px", height: "790px" }}>
      <IcDatePicker style={{ "--input-width": "500px" }} label="When would you like to collect your coffee?" size="small" />
      <IcDatePicker style={{ "--input-width": "500px" }} label="When would you like to collect your coffee?" />
      <IcDatePicker style={{ "--input-width": "500px" }} label="When would you like to collect your coffee?" size="large" />
    </div>
  </Story>
</Canvas>

#### Max width code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const DatePickers = () => (
  <div style={{ display: "flex", flexDirection: "column", gap: "16px" }}>
    <IcDatePicker style="--input-width: 500px" label="When would you like to collect your coffee?" size="small" />
    <IcDatePicker style="--input-width: 500px" label="When would you like to collect your coffee?" />
    <IcDatePicker style="--input-width: 500px" label="When would you like to collect your coffee?" size="large" />
  </div>
);

export default DatePickers;
```

### Disabled

Disable the date picker and prevent user interaction by using the `disabled` prop.

<Canvas withSource="none">
  <Story name="Disabled" height="100px">
    <IcDatePicker label="When would you like to collect your coffee?" disabled />
  </Story>
</Canvas>

#### Disabled code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const DatePicker = () => (
  <IcDatePicker label="When would you like to collect your coffee?" disabled />
);

export default DatePicker;
```

### Date formats

The `dateFormat` prop determines how dates are displayed. The supported formats are `DD/MM/YYYY`, `MM/DD/YYYY` or `YYYY/MM/DD`.
The default format is `DD/MM/YYYY`.

<Canvas withSource="none">
  <Story name="Date formats" height="760px">
    <div style={{ display: "flex", flexDirection: "column", gap: "16px" }}>
      <IcDatePicker label="When would you like to collect your coffee?" />
      <IcDatePicker label="When would you like to collect your coffee?" dateFormat="MM/DD/YYYY" />
      <IcDatePicker label="When would you like to collect your coffee?" dateFormat="YYYY/MM/DD" />
    </div>
  </Story>
</Canvas>

#### Date formats code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const DatePickers = () => (
  <div style={{ display: "flex", flexDirection: "column", gap: "16px" }}>
    <IcDatePicker label="When would you like to collect your coffee?" />
    <IcDatePicker label="When would you like to collect your coffee?" dateFormat="MM/DD/YYYY" />
    <IcDatePicker label="When would you like to collect your coffee?" dateFormat="YYYY/MM/DD" />
  </div>
);

export default DatePickers;
```

### Value

The `value` prop sets the date in the input field. The value can be in any format supported by the `dateFormat` prop, in ISO 8601 date string format (yyyy-mm-dd) or as a JavaScript Date object.

<Canvas withSource="none">
  <Story name="Value" height="540px">
    <IcDatePicker label="When would you like to collect your coffee?" value="01/01/2024" />
  </Story>
</Canvas>

#### Value code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const DatePicker = () => (
  <IcDatePicker label="When would you like to collect your coffee?" value="01/01/2024" />
);

export default DatePicker;
```

### Open at date

If no `value` is set, the `openAtDate` prop can be used to specify the date in view when the calendar view is opened. If not set to a value, the calendar will default to showing the current date.

The supported formats are the same as for the `value` prop.

<Canvas withSource="none">
  <Story name="Open at date" height="540px">
    <IcDatePicker label="When would you like to collect your coffee?" helperText="The calendar will open showing 25th December 2024, if no date selected" openAtDate="2024-12-25" />
  </Story>
</Canvas>

#### Open at date code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const DatePicker = () => (
  <IcDatePicker 
    label="When would you like to collect your coffee?"
    helperText="The calendar will open showing 25th December 2024, if no date selected" 
    openAtDate="2024-12-25" 
  />
);

export default DatePicker;
```

### Start of week

The first day of the week can be changed by setting the `startOfWeek` prop. This is a numeric value where 0 = Sunday, 1 = Monday, etc up to 6 = Saturday.

<Canvas withSource="none">
  <Story name="Start of week" height="540px">
    <IcDatePicker label="When would you like to collect your coffee?" startOfWeek="0" />
  </Story>
</Canvas>

#### Start of week code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const DatePicker = () => (
  <IcDatePicker label="When would you like to collect your coffee?" startOfWeek="0" />
);

export default DatePicker;
```

### Disable days of week

Specific days of the week can be disabled from selection by setting the `disableDays` prop. The value can be set as an array of numeric values where where 0 = Sunday, 1 = Monday, etc up to 6 = Saturday.

export const disabledDaysOfWeek = [0, 6]

<Canvas withSource="none">
  <Story name="Disable days of week" height="540px">
    <IcDatePicker label="When would you like to collect your coffee?" disableDays={disabledDaysOfWeek} />
  </Story>
</Canvas>

#### Disable days of week code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const disabledDaysOfWeek = [0, 6]

const DatePicker = () => (
  <IcDatePicker label="When would you like to collect your coffee?" disableDays={disabledDaysOfWeek} />
);

export default DatePicker;
```

### Max & Min

The `max` and `min` props can be used to limit the range of dates available for selection. Values can be in any format supported by the `dateFormat` prop, in ISO 8601 date string format (yyyy-mm-dd) or as a JavaScript Date object.

<Canvas withSource="none">
  <Story name="Max & Min" height="500px">
    <IcDatePicker 
      label="When would you like to collect your coffee?" 
      helperText="Choose a date between the 1st and 31st of July"
      min="2024-07-01"
      max="2024-07-31"
      showPickerTodayButton="false"
    />
  </Story>
</Canvas>

#### Max & Min code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const DatePicker = () => (
  <IcDatePicker 
    label="When would you like to collect your coffee?" 
    helperText="Choose a date between the 1st and 31st of July"
    min="2024-07-01"
    max="2024-07-31"
    showPickerTodayButton="false"
  />
);

export default DatePicker;
```

### Disable dates in past

Dates before today can be disabled with the `disablePast` prop.

<Canvas withSource="none">
  <Story name="Disable dates in past" height="540px">
    <IcDatePicker label="When would you like to collect your coffee?" disablePast />
  </Story>
</Canvas>

#### Disable dates in past code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const DatePicker = () => (
  <IcDatePicker label="When would you like to collect your coffee?" disablePast />
);

export default DatePicker;
```

### Disable dates in future

Dates after today can be disabled with the `disableFuture` prop.

<Canvas withSource="none">
  <Story name="Disable dates in future" height="540px">
    <IcDatePicker label="When would you like to collect your coffee?" disableFuture />
  </Story>
</Canvas>

#### Disable dates in future code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const DatePicker = () => (
  <IcDatePicker label="When would you like to collect your coffee?" disableFuture />
);

export default DatePicker;
```

### Days outside month hidden

Days outside of the current month in view can be hidden by setting the `showDaysOutsideMonth` prop to `false`.

<Canvas withSource="none">
  <Story name="Days outside month hidden" height="540px">
    <IcDatePicker label="When would you like to collect your coffee?" showDaysOutsideMonth="false" />
  </Story>
</Canvas>

#### Days outside month hidden code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const DatePicker = () => (
  <IcDatePicker label="When would you like to collect your coffee?" showDaysOutsideMonth="false" />
);

export default DatePicker;
```

### Today & clear buttons hidden

The "Go to today" and "Clear" buttons can be hidden from the calendar view by setting the `showPickerTodayButton` and `showPickerClearButton` props to `false`.

<Canvas withSource="none">
  <Story name="Today & clear buttons hidden" height="480px">
    <IcDatePicker 
      label="When would you like to collect your coffee?" 
      showPickerTodayButton="false"
      showPickerClearButton="false"
    />
  </Story>
</Canvas>

#### Today & clear buttons hidden code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const DatePicker = () => (
  <IcDatePicker 
    label="When would you like to collect your coffee?" 
    showPickerTodayButton="false"
    showPickerClearButton="false"
  />
);

export default DatePicker;
```


### JavaScript dates

Any prop that accepts a date value can be set to a Javascript Date object. The following example sets the `value`, `max` and `min` props.

<Canvas withSource="none">
  <Story name="JavaScript dates" height="500px">
    <IcDatePicker 
      label="When would you like to collect your coffee?" 
      min={new Date(2024, 6, 1)}
      max={new Date(2024, 6, 31)}
      value={new Date(2024, 6, 15)}
      helperText="Choose a date between the 1st and 31st of July"
      showPickerTodayButton="false"
    />
  </Story>
</Canvas>

#### JavaScript dates code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const DatePicker = () => (
  <IcDatePicker 
    label="When would you like to collect your coffee?" 
    min={new Date(2024, 6, 1)}
    max={new Date(2024, 6, 31)}
    value={new Date(2024, 6, 15)}
    helperText="Choose a date between the 1st and 31st of July"
    showPickerTodayButton="false"
  />
);

export default DatePicker;
```

### IcChange event

The `IcChange` event is emitted by the date picker when the selected date changes.

export const DatePickerWithIcChange = () => {
  const [selectedDate, setSelectedDate] = useState();
  return (
    <div style={{ display: "flex", flexDirection: "column", gap: "50px" }}>
      <IcDatePicker 
        label="When would you like to collect your coffee?" 
        onIcChange={(event) => setSelectedDate(event.detail.value)}
      /> 
      <span>
        {`Selected date: ${selectedDate}`}
      </span>  
    </div>
  );
};

<Canvas withSource="none">
  <Story name="IcChange event" height="540px">
    <DatePickerWithIcChange />
  </Story>
</Canvas>

#### IcChange event code example

```jsx
import * as React from "react";
import { IcDatePicker } from "@ukic/canary-react";

const DatePickerWithIcChange = () => {
  const [selectedDate, setSelectedDate] = React.useState("Selected date: ");
  return (
    <div style={{ display: "flex", flexDirection: "column", gap: "50px" }}>
      <IcDatePicker 
        label="When would you like to collect your coffee?" 
        onIcChange={(event) => setSelectedDate(event.detail.value)}
      /> 
      <span>
        {`Selected date: ${selectedDate}`}
      </span>  
    </div>
  );
};

export default DatePickerWithIcChange;
```