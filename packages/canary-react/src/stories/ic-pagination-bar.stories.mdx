import { Meta, Description, Canvas, Story } from "@storybook/addon-docs";
import { IcPaginationBar } from "../components";
import { IcLink } from "@ukic/react";
import readme from "../../../canary-web-components/src/components/ic-pagination-bar/readme.md";
import { useArgs } from '@storybook/client-api';

<Meta
  title="React Components/Pagination Bar"
  component="ic-pagination-bar"
  parameters={{
    componentAPI: {
      data: readme,
    },
  }}
/>

# [Canary]: Pagination Bar

Use the pagination bar when large amounts of content are split across multiple pages and various pagination options are required.

There is one required prop for the pagination bar:

- totalItems: `number`

Click the 'Component API' tab to view all the available props, events and slots for pagination bar.

To use the pagination bar component, import `@ukic/canary-react` into your application.


### Basic

A basic example using the `totalItems`.

<Canvas withSource="none">
  <Story name="Basic">
    <div style={{
        height: '120px'
    }}>
        <IcPaginationBar totalItems={100} />
    </div>
  </Story>
</Canvas>


#### Basic code example

```jsx
import * as React from "react";
import { IcPaginationBar } from '@ukic/canary-react';

const PaginationBar = () => (
  <IcPaginationBar totalItems={100} />
);

export default PaginationBar;
```

Pagination bar will display the number of pages out of the total number of pages as well as the `simple` pagination type.

By default, the items per page is set to 10. If the total items is greater than 100, the default items per page is set to 25.

### Items per page control

To display the items per page control, set the `showItemsPerPageControl`.

<Canvas withSource="none">
  <Story name="Items per page control">
    <div style={{
        height: '120px'
    }}>
        <IcPaginationBar totalItems={100} showItemsPerPageControl />
    </div>
  </Story>
</Canvas>

#### Items per page control code example

```jsx
import * as React from "react";
import { IcPaginationBar } from '@ukic/canary-react';

const PaginationBar = () => (
  <IcPaginationBar totalItems={100} showItemsPerPageControl />
);

export default PaginationBar;
```

The items per page control will display a dropdown with options to select the number of items to display per page. Customize the options by setting the `itemsPerPageOptions` property.
`itemsPerPageOptions` is an array of objects with `label` and `value` properties. If more than three options are provided, the dropdown will display the first three options and an 'All' option.

#### Items per page options code example

```jsx
import * as React from "react";
import { IcPaginationBar } from '@ukic/canary-react';

const PaginationBar = () => (
  <IcPaginationBar
    totalItems={100}
    showItemsPerPageControl
    itemsPerPageOptions={[
      { label: "50", value: "50" },
      { label: "100", value: "100" },
      { label: "250", value: "250" },
    ]}
  />
);

export default PaginationBar;
```

### Go to page control

To display the go to page control, set `showGoToPageControl`. 'Go to page' allows the user to jump to a specific page. If the page number is invalid, the input will be styled in the `ic-status-error` colour with a tooltip detailing the error.

<Canvas withSource="none">
  <Story name="Go to page control">
    <div style={{
        height: '120px'
    }}>
        <IcPaginationBar totalItems={100} showGoToPageControl />
    </div>
  </Story>
</Canvas>

### Go to page control code example

```jsx
import * as React from "react";
import { IcPaginationBar } from '@ukic/canary-react';

const PaginationBar = () => (
  <IcPaginationBar totalItems={100} showGoToPageControl />
);

export default PaginationBar;
```

### Pagination range label type

The pagination range label type can be set to two types:

- `simple`: [default]: Display the total number of pages and the current page number.
- `data`: Displays the total number of items and the items range.

The example below uses the `data` pagination range label type. The range is updated when the page is changed.

<Canvas withSource="none">
  <Story name="Pagination range label type">
    <div style={{
      height: '150px'
    }}>
      <IcPaginationBar
        totalItems={100}
        showItemsPerPageControl
        showGoToPageControl
        rangeLabelType="data"
      />
    </div>
  </Story>
</Canvas>

#### Pagination range label type code example

```jsx
import * as React from "react";
import { IcPaginationBar } from '@ukic/canary-react';

const PaginationBar = () => (
  <IcPaginationBar
    totalItems={100}
    showItemsPerPageControl
    showGoToPageControl
    rangeLabelType="data"
  />
);

export default PaginationBar;
```

### Pagination item label

'Item' can be changed to a custom label by setting the `itemLabel` prop. Any occurrences of 'Item' in the pagination bar will be replaced with the custom label.

<Canvas withSource="none">
  <Story name="Pagination item label">
    <div style={{
      height: '150px'
    }}>
      <IcPaginationBar
        totalItems={100}
        showItemsPerPageControl
        showGoToPageControl
        rangeLabelType="data"
        itemLabel="Image"
      />
    </div>
  </Story>
</Canvas>

#### Pagination range item label code example

```jsx
import * as React from "react";
import { IcPaginationBar } from '@ukic/canary-react';

const PaginationBar = () => (
  <IcPaginationBar
    totalItems={100}
    showItemsPerPageControl
    showGoToPageControl
    rangeLabelType="data"
    itemLabel="Image"
  />
);

export default PaginationBar;
```

### Pagination type

The pagination type can be set to two types:

- `simple`: [default]: Display the current page as a label with back and next buttons.
- `complex`: Displays all the page numbers as buttons with back and next buttons.

The `complex` pagination type is useful when there are many pages to navigate through.

<Canvas withSource="none">
  <Story name="Pagination type">
    <div style={{
      height: '150px'
    }}>
      <IcPaginationBar
        totalItems={100}
        showItemsPerPageControl
        type="complex"
      />
    </div>
  </Story>
</Canvas>

#### Pagination type code example

```jsx
import * as React from "react";
import { IcPaginationBar } from '@ukic/canary-react';

const PaginationBar = () => (
  <IcPaginationBar
    totalItems={100}
    showItemsPerPageControl
    type="complex"
  />
);

export default PaginationBar;
```

### Alignment

The pagination elements can be aligned to the `right` (default), `left` or `space-between`. The default alignment is `right`.

#### Alignment left

<Canvas withSource="none">
  <Story name="Alignment left">
    <div style={{
      height: '150px'
    }}>
      <IcPaginationBar
        totalItems={100}
        alignment="left"
        showItemsPerPageControl
        showGoToPageControl
      />
    </div>
  </Story>
</Canvas>

#### Alignment left between code example

```jsx
import * as React from "react";
import { IcPaginationBar } from '@ukic/canary-react';

const PaginationBar = () => (
  <IcPaginationBar
    totalItems={100}
    alignment="left"
    showItemsPerPageControl
    showGoToPageControl
  />
);

export default PaginationBar;
```

#### Alignment space between

<Canvas withSource="none">
  <Story name="Alignment space between">
    <div style={{
      height: '150px'
    }}>
      <IcPaginationBar
        totalItems={100}
        alignment="space-between"
        showItemsPerPageControl
        showGoToPageControl
      />
    </div>
  </Story>
</Canvas>

#### Alignment space between code example

```jsx
import * as React from "react";
import { IcPaginationBar } from '@ukic/canary-react';

const PaginationBar = () => (
  <IcPaginationBar
    totalItems={100}
    alignment="space-between"
    showItemsPerPageControl
    showGoToPageControl
  />
);

export default PaginationBar;
```

### Appearance

The background colour of the pagination bar can be customized by adding a background colour to the parent element. The `appearance` prop can be set to `light` or `dark` to change the appearance of the pagination bar labels.

<Canvas withSource="none">
  <Story name="Appearance">
  <div style={{
    display: 'flex',
    flexDirection: 'column',
    gap: '8px',
    height: '220px'
  }}>
    <div style={{ backgroundColor: "var(--ic-architectural-black)" }}>
      <IcPaginationBar
        totalItems={100}
        appearance="light"
        showItemsPerPageControl
        showGoToPageControl
      />
    </div>
    <div style={{ backgroundColor: "var(--ic-status-info-contrast)" }}>
      <IcPaginationBar
        totalItems={100}
        appearance="dark"
        showItemsPerPageControl
        showGoToPageControl
      />
    </div>
  </div>
  </Story>
</Canvas>

#### Appearance code example

```jsx
import * as React from "react";
import { IcPaginationBar } from '@ukic/canary-react';

const PaginationBar = () => (
  <div style={{
    display: 'flex',
    flexDirection: 'column',
    gap: '8px'
  }}>
    <div style={{ backgroundColor: "var(--ic-architectural-black)" }}>
      <IcPaginationBar
        totalItems={100}
        appearance="light"
        showItemsPerPageControl
        showGoToPageControl
      />
    </div>
    <div style={{ backgroundColor: "var(--ic-status-info-contrast)" }}>
      <IcPaginationBar
        totalItems={100}
        appearance="dark"
        showItemsPerPageControl
        showGoToPageControl
      />
    </div>
  </div>
);

export default PaginationBar;
```

### Hide range label

If the pagination bar becomes cluttered due to the number of pagination elements displayed, the range label can be hidden by setting the `hideRangeLabel` prop to `true`.

<Canvas withSource="none">
  <Story name="Hide range label">
    <div style={{
      height: '150px'
    }}>
      <div style={{
        backgroundColor: 'var(--ic-architectural-100)'
      }}>
        <IcPaginationBar
          totalItems={100}
          appearance="dark"
          hideRangeLabel
          showItemsPerPageControl
          showGoToPageControl
        />
      </div>
    </div>
  </Story>
</Canvas>

#### Hide range label code example

```jsx
import * as React from "react";
import { IcPaginationBar } from '@ukic/canary-react';

const PaginationBar = () => (
  <div style={{
    backgroundColor: 'var(--ic-architectural-100)'
  }}>
    <IcPaginationBar
      totalItems={100}
      appearance="dark"
      hideRangeLabel
      showItemsPerPageControl
      showGoToPageControl
    />
  </div>
);

export default PaginationBar;
```


### Playground

Go to the <IcLink href="/?path=/story/react-components-pagination-bar--playground">separate page for the playground example</IcLink> to view the prop controls.

export const defaultArgs = {
  alignment: "right",
  appearance: "default",
  currentPage: 1,
  hideRangeLabel: false,
  itemLabel: "Item",
  itemsPerPageOptions: [
    { label: "10", value: "10" },
    { label: "25", value: "25" },
    { label: "50", value: "50" },
  ],
  pageLabel: "Page",
  rangeLabelType: "page",
  showItemsPerPageControl: false,
  showGoToPageControl: false,
  totalItems: 100,
  type: "simple",
};

<Canvas withSource="none">
  <Story
    args={defaultArgs}
    argTypes={{
       alignment: {
        options: ["left", "right", "space-between"],
        control: { type: "inline-radio" },
      },
      appearance: {
        options: ["default", "dark", "light"],
        control: { type: "inline-radio" },
      },
      rangeLabelType: {
        options: ["page", "data"],
        control: { type: "inline-radio" },
      },
      type: {
        options: ["simple", "complex"],
        control: { type: "inline-radio" },
      },     
    }}
    name="Playground"
  >
    {(args) => {
      const [{ value }, updateArgs] = useArgs();

      const updatePageNum = (ev) => {
        updateArgs({ currentPage: ev.detail.value });
      }; 
      return (
        <IcPaginationBar
          alignment={args.alignment}
          appearance={args.appearance}
          currentPage={args.currentPage}
          hideRangeLabel={args.hideRangeLabel}
          itemLabel={args.itemLabel}
          itemsPerPageOptions={args.itemsPerPageOptions}
          pageLabel={args.pageLabel}
          rangeLabelType={args.rangeLabelType}
          showItemsPerPageControl={args.showItemsPerPageControl}
          showGoToPageControl={args.showGoToPageControl}
          totalItems={args.totalItems}
          type={args.type}
          onIcPageChange={updatePageNum}
        >
        </IcPaginationBar>
      )
    }}
  </Story>
</Canvas>