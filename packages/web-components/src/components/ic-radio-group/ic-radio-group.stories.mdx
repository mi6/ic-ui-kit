import {
  Meta,
  Story,
  Canvas,
  ArgsTable,
  Description,
} from "@storybook/addon-docs";
import { html } from "lit-html";
import readme from "./readme.md";

<Meta title="Web Components/Radio button" component="Radio" />

<Description markdown={readme} />

### Default

<Canvas>
  <Story name="Default" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`
        <ic-radio-group label="This is a label" name="1">
          <ic-radio-option
            value="valueName1"
            label="Unselected / Default"
          ></ic-radio-option>
          <ic-radio-option
            value="valueName2"
            label="Selected / Default"
            selected
          ></ic-radio-option>
          <ic-radio-option
            value="valueName3"
            label="Unselected / Disabled"
            disabled
          ></ic-radio-option>
        </ic-radio-group>
      `
    }
  </Story>
</Canvas>

### Horizontal

<Canvas>
  <Story name="Horizontal" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`
        <ic-radio-group
          orientation="horizontal"
          label="This should be horizontal"
          name="1"
        >
          <ic-radio-option
            value="valueName1"
            label="Selected / Default"
            selected
          ></ic-radio-option>
          <ic-radio-option
            value="valueName2"
            label="Unselected / Default"
          ></ic-radio-option>
        </ic-radio-group>
        <br />
        <p>Horizontal orientation is overridden with >2 radio options</p>
        <br />
        <ic-radio-group
          orientation="horizontal"
          label="This should be vertical"
          name="2"
        >
          <ic-radio-option
            value="valueNameA"
            label="First"
            selected
          ></ic-radio-option>
          <ic-radio-option value="valueNameB" label="Second"></ic-radio-option>
          <ic-radio-option value="valueNameC" label="Third"></ic-radio-option>
        </ic-radio-group>
      `
    }
  </Story>
</Canvas>

### Required

<Canvas>
  <Story name="Required" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`
        <ic-radio-group label="This is a label" required name="1">
          <ic-radio-option
            value="valueName1"
            label="Unselected / Default"
          ></ic-radio-option>
          <ic-radio-option
            value="valueName2"
            label="Selected / Default"
            selected
          ></ic-radio-option>
          <ic-radio-option
            value="valueName3"
            label="Unselected / Disabled"
            disabled
          ></ic-radio-option>
        </ic-radio-group>
      `
    }
  </Story>
</Canvas>

### Disabled

<Canvas>
  <Story name="Disabled" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`
        <ic-radio-group label="This is a label" name="1">
          <ic-radio-option
            value="valueName1"
            label="Unselected / Disabled 1"
            disabled
          ></ic-radio-option>
          <ic-radio-option
            value="valueName2"
            label="Unselected / Disabled 2"
            disabled
          ></ic-radio-option>
          <ic-radio-option
            value="valueName3"
            label="Unselected / Disabled 3"
            disabled
          ></ic-radio-option>
          <ic-radio-option
            value="valueName4"
            label="Selected / Disabled"
            disabled
            selected
          ></ic-radio-option>
        </ic-radio-group>
      `
    }
  </Story>
</Canvas>

### Conditional dynamic

<Canvas>
  <Story name="Conditional dynamic" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`
        <script>
          function handleIcChange(ev) {
            console.log(ev.detail.selectedOption);
          }
          document
            .querySelector("ic-radio-group")
            .addEventListener("icChange", handleIcChange);
        </script>
        <ic-radio-group label="Conditional dynamic" name="1">
          <ic-radio-option
            additional-field-display="dynamic"
            value="valueName1"
            label="option1"
            selected
          >
            <ic-text-field
              slot="additional-field"
              placeholder="Placeholder"
              label="What's your favourite type of coffee?"
            ></ic-text-field>
          </ic-radio-option>
          <ic-radio-option
            additional-field-display="dynamic"
            value="valueName2"
            label="option2 - error example"
          >
            <ic-text-field
              validation-status="error"
              validation-text="Now it has really gone to (coffee) pot"
              slot="additional-field"
              placeholder="Placeholder"
              label="What's your favourite type of coffee?"
            >
            </ic-text-field>
          </ic-radio-option>
          <ic-radio-option
            additional-field-display="dynamic"
            value="valueName3"
            label="option3"
          >
            <ic-text-field
              slot="additional-field"
              placeholder="Placeholder"
              label="What's your favourite type of coffee?"
            ></ic-text-field>
          </ic-radio-option>
        </ic-radio-group>
      `
    }
  </Story>
</Canvas>

### Conditional static

<Canvas>
  <Story name="Conditional static" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`
        <ic-radio-group label=" Conditional static" name="1">
          <ic-radio-option value="valueName1" label="option1">
            <ic-text-field
              slot="additional-field"
              label="What's your favourite type of coffee?"
            ></ic-text-field>
          </ic-radio-option>
          <ic-radio-option value="valueName2" label="option2">
          </ic-radio-option>
        </ic-radio-group>
      `
    }
  </Story>
</Canvas>

### Helper text

<Canvas>
  <Story name="Helper text" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`
        <ic-radio-group
          label="This is a label"
          name="1"
          helper-text="Helper text"
        >
          <ic-radio-option
            value="valueName1"
            label="Unselected / Default"
          ></ic-radio-option>
          <ic-radio-option
            value="valueName2"
            label="Selected / Default"
            selected
          ></ic-radio-option>
          <ic-radio-option
            value="valueName3"
            label="Unselected / Disabled"
            disabled
          ></ic-radio-option>
        </ic-radio-group>
      `
    }
  </Story>
</Canvas>

### Small

<Canvas>
  <Story name="Small" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`
        <ic-radio-group label="This is a label" name="1" size="small">
          <ic-radio-option
            value="valueName1"
            label="Unselected / Default"
          ></ic-radio-option>
          <ic-radio-option
            value="valueName2"
            label="Selected / Default"
            selected
          ></ic-radio-option>
          <ic-radio-option
            value="valueName3"
            label="Unselected / Disabled"
            disabled
          ></ic-radio-option>
        </ic-radio-group>
      `
    }
  </Story>
</Canvas>

### Validation

<Canvas>
  <Story name="Validation" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`
        <ic-radio-group
          label="This is a label"
          name="1"
          validation-status="error"
          validation-text="Error message"
        >
          <ic-radio-option
            value="valueName1"
            label="Unselected / Default"
          ></ic-radio-option>
          <ic-radio-option
            value="valueName2"
            label="Selected / Default"
            selected
          ></ic-radio-option>
          <ic-radio-option
            value="valueName3"
            label="Unselected / Disabled"
            disabled
          ></ic-radio-option>
        </ic-radio-group>
      `
    }
  </Story>
</Canvas>

### Form - This shows how the radio button works within a form and is where the value of the radio button selected will appear in the console.log

<Canvas>
  <Story name="Form" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`
        <form>
          <ic-radio-group label="This is a label" name="1">
            <ic-radio-option
              value="valueName1"
              label="Unselected / Default"
            ></ic-radio-option>
            <ic-radio-option
              value="valueName2"
              label="Selected / Default"
            ></ic-radio-option>
            <ic-radio-option
              value="valueName3"
              label="Unselected / Disabled"
              disabled
            ></ic-radio-option>
          </ic-radio-group>
          <input type="submit" value="Submit" />
          <input type="reset" value="Reset" />
        </form>
        <script>
          document.querySelector("form").addEventListener("submit", (ev) => {
            ev.preventDefault();
            console.log(document.querySelector('input[name="1"]').value);
          });
        </script>
      `
    }
  </Story>
</Canvas>

### Playground

export const defaultArgs = {
  disabled: false,
  helperText: "Some helper text",
  hideLabel: false,
  label: "This is a label",
  name: "1",
  orientation: "vertical",
  required: false,
  size: "medium",
  validationStatus: "",
  validationText: "",
  additionalFieldDisplay: "static",
  radioDisabled: false,
  dynamicText: "This selection requires additional answers",
  radioLabel: "Radio 1",
  radioName: "radio1",
  value: "valueName1",
  selected: false,
  additionalFieldSlot: true,
};

<Canvas>
  <Story
    args={defaultArgs}
    parameters={{ loki: { skip: true } }}
    argTypes={{
      orientation: {
        options: ["vertical", "horizontal"],
        control: {
          type: "inline-radio",
        },
      },
      size: {
        options: ["medium", "small"],
        control: {
          type: "inline-radio",
        },
      },
      validationStatus: {
        options: ["error", "warning", "success", ""],
        control: {
          type: "radio",
        },
      },
      additionalFieldDisplay: {
        options: ["static", "dynamic"],
        control: {
          type: "inline-radio",
        },
      },
      additionalFieldSlot: {
        mapping: {
          true: "additional-field",
          false: "",
        },
      },
    }}
    name="Playground"
  >
    {(args) =>
      html`
        <ic-radio-group
          label=${args.label}
          name=${args.name}
          orientation=${args.orientation}
          required=${args.required}
          size=${args.size}
          validation-status=${args.validationStatus}
          validation-text=${args.validationText}
          helper-text=${args.helperText}
          disabled=${args.disabled}
          hide-label=${args.hideLabel}
        >
          <ic-radio-option
            additional-field-display=${args.additionalFieldDisplay}
            value=${args.value}
            label=${args.radioLabel}
            name=${args.radioName}
            selected=${args.selected}
            disabled=${args.radioDisabled}
            dynamic-text=${args.dynamicText}
          >
            <ic-text-field
              slot=${args.additionalFieldSlot}
              placeholder="Placeholder"
              label="What's your favourite type of coffee?"
            ></ic-text-field>
          </ic-radio-option>
          <ic-radio-option value="valueName2" label="Radio 2"></ic-radio-option>
        </ic-radio-group>
      `
    }
  </Story>
</Canvas>
