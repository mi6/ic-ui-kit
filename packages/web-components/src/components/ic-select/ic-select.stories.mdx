import {
  Meta,
  Story,
  Canvas,
  ArgsTable,
  Description,
} from "@storybook/addon-docs";
import { html } from "lit-html";
import readme from "./readme.md";

<Meta title="Web Components/Select" component="ic-select" />

<Description markdown={readme} />

export const defaultArgs = {
  disabled: false,
  ["full-width"]: false,
  ["helper-text"]: "Such as Arabica, Robusta or Liberica.",
  ["hide-label"]: false,
  label: "What is your favourite coffee?",
  placeholder: "Select an option",
  readonly: false,
  required: false,
  small: false,
  ["validation-status"]: "none",
  ["validation-text"]: "",
};

export const validationArgType = {
  ["validation-status"]: {
    options: ["none", "error", "success", "warning"],
    control: { type: "inline-radio" },
  },
};

### Default

<Canvas>
  <Story name="Default" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-1"
          label="What is your favourite coffee?"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-1");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
          select.addEventListener("icOpen", function () {
            console.log("select dropdown opened");
          });
          select.addEventListener("icClose", function () {
            console.log("select dropdown closed");
          });
        </script>`
    }
  </Story>
</Canvas>

### Async select default

<Canvas>
  <Story name="Async select default" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          loading
          id="select-2"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-2");
          select.options = [];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
          setTimeout(() => {
            select.options = [
              { label: "Cappuccino", value: "Cap" },
              { label: "Latte", value: "Lat" },
              { label: "Americano", value: "Ame" },
              { label: "Filter", value: "Fil" },
              { label: "Flat white", value: "Fla" },
              { label: "Mocha", value: "Moc" },
              { label: "Macchiato", value: "Mac" },
              { label: "Caf√© au lait", value: "Caf" },
              { label: "Espresso", value: "Esp" },
              { label: "Cortado", value: "Cor" },
              { label: "Ristretto", value: "Ris" },
            ];
          }, 5000);
        </script>`
    }
  </Story>
</Canvas>

### Default value

<Canvas>
  <Story name="Default value" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-3"
          label="What is your favourite coffee?"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-3");
          select.value = "Cap";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### With clear button

<Canvas>
  <Story name="With clear button" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-4"
          label="What is your favourite coffee?"
          show-clear-button
        ></ic-select>
        <script>
          var select = document.querySelector("#select-4");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### With description

<Canvas>
  <Story name="With description" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-5"
          label="What is your favourite coffee?"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-5");
          select.options = [
            {
              label: "Cappuccino",
              value: "Cap",
              description: "Coffee frothed up with pressurised steam",
            },
            {
              label: "Latte",
              value: "Lat",
              description: "A milkier coffee than a cappuccino",
            },
            {
              label: "Americano",
              value: "Ame",
              description: "Espresso coffee diluted with hot water",
            },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Helper text

<Canvas>
  <Story name="Helper text" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-6"
          label="What is your favourite coffee?"
          helper-text="Some helper text"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-6");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Custom placeholder

<Canvas>
  <Story name="Custom placeholder" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-7"
          label="What is your favourite coffee?"
          placeholder="Placeholder goes here"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-7");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Custom components

<Canvas>
  <Story name="Custom components" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-1"
          label="What is your favourite coffee?"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-1");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            {
              label: "Latte",
              value: "Lat",
              description: "A milkier coffee than a cappuccino",
              element: {
                component: \`<ic-status-tag label="Neutral status"></ic-status-tag>\`,
                ariaLabel: "Neutral status tag",
              },
              icon: \`<svg aria-labelledby="warning-title" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#000000"><g id="warning"><path id="Vector" d="M4.47 20.5037H19.53C21.07 20.5037 22.03 18.8337 21.26 17.5037L13.73 4.49375C12.96 3.16375 11.04 3.16375 10.27 4.49375L2.74 17.5037C1.97 18.8337 2.93 20.5037 4.47 20.5037ZM12 13.5037C11.45 13.5037 11 13.0537 11 12.5037V10.5037C11 9.95375 11.45 9.50375 12 9.50375C12.55 9.50375 13 9.95375 13 10.5037V12.5037C13 13.0537 12.55 13.5037 12 13.5037ZM13 17.5037H11V15.5037H13V17.5037Z" /></g></svg>\`,
            },
            {
              label: "Americano",
              value: "Ame",
              icon: \`<svg aria-labelledby="warning-title" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#000000">
            <g id="warning">
            <path id="Vector" d="M4.47 20.5037H19.53C21.07 20.5037 22.03 18.8337 21.26 17.5037L13.73 4.49375C12.96 3.16375 11.04 3.16375 10.27 4.49375L2.74 17.5037C1.97 18.8337 2.93 20.5037 4.47 20.5037ZM12 13.5037C11.45 13.5037 11 13.0537 11 12.5037V10.5037C11 9.95375 11.45 9.50375 12 9.50375C12.55 9.50375 13 9.95375 13 10.5037V12.5037C13 13.0537 12.55 13.5037 12 13.5037ZM13 17.5037H11V15.5037H13V17.5037Z" />
            </g>
            </svg>\`,
            },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Small

<Canvas>
  <Story name="Small" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-8"
          label="What is your favourite coffee?"
          size="small"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-8");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Deprecated - small

<Canvas>
  <Story name="Deprecated - small" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-8"
          label="What is your favourite coffee?"
          small
        ></ic-select>
        <script>
          var select = document.querySelector("#select-8");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Disabled

<Canvas>
  <Story name="Disabled" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-9"
          label="What is your favourite coffee?"
          disabled
        ></ic-select>
        <script>
          var select = document.querySelector("#select-9");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Disabled options

<Canvas>
  <Story name="Disabled options" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-10"
          label="What is your favourite coffee?"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-10");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat", disabled: true },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Full width

<Canvas>
  <Story name="Full width" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-11"
          label="What is your favourite coffee?"
          full-width="true"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-11");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Hidden label

<Canvas>
  <Story name="Hidden label" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-12"
          label="What is your favourite coffee?"
          hide-label
        ></ic-select>
        <script>
          var select = document.querySelector("#select-12");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Required

<Canvas>
  <Story name="Required" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-13"
          label="What is your favourite coffee?"
          required
        ></ic-select>
        <script>
          var select = document.querySelector("#select-13");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Read-only

<Canvas>
  <Story name="Read-only" parameters={{ loki: { skip: true } }}>
    {() =>
      html`<ic-select
          id="select-14"
          label="What is your favourite coffee?"
          readonly
          value="Cap"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-14");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Groups

<Canvas>
  <Story name="Groups" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-15"
          label="What is your favourite coffee?"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-15");
          select.options = [
            {
              label: "Fancy",
              children: [
                { label: "Cappuccino", value: "Cap" },
                { label: "Flat white", value: "Flat" },
              ],
            },
            {
              label: "Boring",
              children: [
                { label: "Filter", value: "Fil" },
                { label: "Latte", value: "Lat" },
              ],
            },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Recommended

<Canvas>
  <Story name="Recommended" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-16"
          label="What is your favourite coffee?"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-16");
          select.options = [
            { label: "Cappuccino", value: "Cappuccino" },
            { label: "Flat white", value: "Flat white", recommended: true },
            { label: "Latte", value: "Latte" },
            { label: "Americano", value: "Americano", recommended: true },
            { label: "Filter", value: "Fil" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Validation

<Canvas>
  <Story name="Validation" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="ic-select-1"
          label="What is your favourite coffee?"
          validation-status="success"
          validation-text="Success message"
        ></ic-select>
        <script>
          var select1 = document.querySelector("#ic-select-1");
          var option1 = "Cappuccino";
          select1.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select1.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>
        <ic-select
          id="ic-select-2"
          label="What is your favourite coffee?"
          validation-status="warning"
          validation-text="Warning message"
        ></ic-select>
        <script>
          var select2 = document.querySelector("#ic-select-2");
          var option2 = "Cappuccino";
          select2.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select2.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>
        <ic-select
          id="ic-select-3"
          label="What is your favourite coffee?"
          validation-status="error"
          validation-text="Error message"
        ></ic-select>
        <script>
          var select3 = document.querySelector("#ic-select-3");
          var option3 = "Cappuccino";
          select3.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select3.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Scroll behaviour

<Canvas>
  <Story name="Scroll behaviour" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-17"
          label="What is your favourite coffee?"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-17");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
            { label: "Caf√© au lait", value: "Caf" },
            { label: "Espresso", value: "Esp" },
            { label: "Cortado", value: "Cor" },
            { label: "Ristretto", value: "Ris" },
            { label: "Latte macchiato", value: "Lam" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Default in form - This shows how the select works within a form. The value will appear in the console.log on submit.

<Canvas>
  <Story name="Default in form" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`
        <form>
          <ic-select
            id="select-18"
            label="What is your favourite coffee?"
          ></ic-select>
          <br />
          <br />
          <input type="submit" value="Submit" />
          <input type="reset" value="Reset" />
        </form>
        <script>
          var select = document.querySelector("#select-18");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
          document.querySelector("form").addEventListener("submit", (ev) => {
            ev.preventDefault();
            console.log(document.querySelector("input.ic-input").value);
          });
        </script>
      `
    }
  </Story>
</Canvas>

### Emitting icOptionSelect on enter

<Canvas>
  <Story
    name="Emitting icOptionSelect on enter"
    parameters={{ loki: { skip: true } }}
  >
    {(args) =>
      html`<ic-select
          id="select-1"
          label="What is your favourite coffee?"
          select-on-enter="true"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-1");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icOptionSelect", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable default

<Canvas>
  <Story name="Searchable default" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-19"
          label="What is your favourite coffee?"
          searchable
        ></ic-select>
        <script>
          var select = document.querySelector("#select-19");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
          select.addEventListener("icOpen", function () {
            console.log("select dropdown opened");
          });
          select.addEventListener("icClose", function () {
            console.log("select dropdown closed");
          });
        </script>`
    }
  </Story>
</Canvas>

### Async searchable default

<Canvas>
  <Story name="Async searchable default" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-20"
          label="What is your favourite coffee?"
          searchable
          loading
        ></ic-select>
        <script>
          var select = document.querySelector("#select-20");
          select.options = [];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
          setTimeout(() => {
            select.options = [
              { label: "Cappuccino", value: "Cap" },
              { label: "Latte", value: "Lat" },
              { label: "Americano", value: "Ame" },
              { label: "Filter", value: "Fil" },
              { label: "Flat white", value: "Fla" },
              { label: "Mocha", value: "Moc" },
              { label: "Macchiato", value: "Mac" },
              { label: "Caf√© au lait", value: "Caf" },
              { label: "Espresso", value: "Esp" },
              { label: "Cortado", value: "Cor" },
              { label: "Ristretto", value: "Ris" },
            ];
          }, 5000);
        </script>`
    }
  </Story>
</Canvas>

### Searchable default value

<Canvas>
  <Story name="Searchable default value" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-21"
          label="What is your favourite coffee?"
          searchable
        ></ic-select>
        <script>
          var select = document.querySelector("#select-21");
          select.value = "Lat";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable filter by start of options

<Canvas>
  <Story
    name="Searchable filter by start of options"
    parameters={{ loki: { skip: true } }}
  >
    {(args) =>
      html`<ic-select
          id="select-22"
          label="What is your favourite coffee?"
          searchable
          search-match-position="start"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-22");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable with description

<Canvas>
  <Story
    name="Searchable with description"
    parameters={{ loki: { skip: true } }}
  >
    {(args) =>
      html`<ic-select
          id="select-23"
          label="What is your favourite coffee?"
          searchable
        ></ic-select>
        <script>
          var select = document.querySelector("#select-23");
          select.options = [
            {
              label: "Cappuccino",
              value: "Cap",
              description: "Coffee frothed up with pressurised steam",
            },
            {
              label: "Latte",
              value: "Lat",
              description: "A milkier coffee than a cappuccino",
            },
            {
              label: "Americano",
              value: "Ame",
              description: "Espresso coffee diluted with hot water",
            },
            {
              label: "Filter",
              value: "Fil",
              description: "Coffee filtered using paper or a mesh",
            },
            {
              label: "Flat white",
              value: "Fla",
              description:
                "Coffee without froth made with espresso and hot steamed milk",
            },
            {
              label: "Mocha",
              value: "Moc",
              description: "A mixture of coffee and chocolate",
            },
            {
              label: "Macchiato",
              value: "Mac",
              description: "Espresso coffee with a dash of frothy steamed milk",
            },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable with description (included in search)

<Canvas>
  <Story
    name="Searchable with description (included in search)"
    parameters={{ loki: { skip: true } }}
  >
    {(args) =>
      html`<ic-select
          id="select-24"
          label="What is your favourite coffee?"
          searchable
          include-descriptions-in-search
        ></ic-select>
        <script>
          var select = document.querySelector("#select-24");
          select.options = [
            {
              label: "Cappuccino",
              value: "Cap",
              description: "Coffee frothed up with pressurised steam",
            },
            {
              label: "Latte",
              value: "Lat",
              description: "A milkier coffee than a cappuccino",
            },
            {
              label: "Americano",
              value: "Ame",
              description: "Espresso coffee diluted with hot water",
            },
            {
              label: "Filter",
              value: "Fil",
              description: "Coffee filtered using paper or a mesh",
            },
            {
              label: "Flat white",
              value: "Fla",
              description:
                "Coffee without froth made with espresso and hot steamed milk",
            },
            {
              label: "Mocha",
              value: "Moc",
              description: "A mixture of coffee and chocolate",
            },
            {
              label: "Macchiato",
              value: "Mac",
              description: "Espresso coffee with a dash of frothy steamed milk",
            },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable helper text

<Canvas>
  <Story name="Searchable helper text" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-25"
          label="What is your favourite coffee?"
          searchable
          helper-text="Some helper text"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-25");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable small

<Canvas>
  <Story name="Searchable small" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-26"
          label="What is your favourite coffee?"
          searchable
          size="small"
        ></ic-select>
        <script>
          var select = document.querySelector("#select-26");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable disabled

<Canvas>
  <Story name="Searchable disabled" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-27"
          label="What is your favourite coffee?"
          searchable
          disabled
        ></ic-select>
        <script>
          var select = document.querySelector("#select-27");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable disabled options

<Canvas>
  <Story
    name="Searchable disabled options"
    parameters={{ loki: { skip: true } }}
  >
    {(args) =>
      html`<ic-select
          id="select-28"
          label="What is your favourite coffee?"
          searchable
        ></ic-select>
        <script>
          var select = document.querySelector("#select-28");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame", disabled: true },
            { label: "Filter", value: "Fil", disabled: true },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac", disabled: true },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable hidden label

<Canvas>
  <Story name="Searchable hidden label" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-29"
          label="What is your favourite coffee?"
          searchable
          hide-label
        ></ic-select>
        <script>
          var select = document.querySelector("#select-29");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable required

<Canvas>
  <Story name="Searchable required" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-30"
          label="What is your favourite coffee?"
          searchable
          required
        ></ic-select>
        <script>
          var select = document.querySelector("#select-30");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable groups

<Canvas>
  <Story name="Searchable groups" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-31"
          label="What is your favourite coffee?"
          searchable
        ></ic-select>
        <script>
          var select = document.querySelector("#select-31");
          select.options = [
            {
              label: "Fancy",
              children: [
                { label: "Cappuccino", value: "Cap" },
                { label: "Flat white", value: "Flat" },
              ],
            },
            {
              label: "Boring",
              children: [
                { label: "Filter", value: "Fil" },
                { label: "Latte", value: "Lat" },
              ],
            },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable group (group titles included in search)

<Canvas>
  <Story
    name="Searchable groups (group titles included in search)"
    parameters={{ loki: { skip: true } }}
  >
    {(args) =>
      html`<ic-select
          id="select-32"
          label="What is your favourite coffee?"
          searchable
          include-group-titles-in-search
        ></ic-select>
        <script>
          var select = document.querySelector("#select-32");
          select.options = [
            {
              label: "Fancy",
              children: [
                { label: "Cappuccino", value: "Cap" },
                { label: "Flat white", value: "Flat" },
              ],
            },
            {
              label: "Boring",
              children: [
                { label: "Filter", value: "Fil" },
                { label: "Latte", value: "Lat" },
              ],
            },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable recommended

<Canvas>
  <Story name="Searchable recommended" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="select-33"
          label="What is your favourite coffee?"
          searchable
        ></ic-select>
        <script>
          var select = document.querySelector("#select-33");
          select.options = [
            { label: "Cappuccino", value: "Cappuccino" },
            { label: "Flat white", value: "Flat white", recommended: true },
            { label: "Latte", value: "Latte" },
            { label: "Americano", value: "Americano", recommended: true },
            { label: "Filter", value: "Fil" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable validation

<Canvas>
  <Story name="Searchable validation" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`<ic-select
          id="ic-select-4"
          label="What is your favourite coffee?"
          validation-status="success"
          validation-text="Success message"
          searchable
        ></ic-select>
        <script>
          var select1 = document.querySelector("#ic-select-4");
          var option1 = "Cappuccino";
          select1.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select1.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>
        <ic-select
          id="ic-select-5"
          label="What is your favourite coffee?"
          validation-status="warning"
          validation-text="Warning message"
          searchable
        ></ic-select>
        <script>
          var select2 = document.querySelector("#ic-select-5");
          var option2 = "Cappuccino";
          select2.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select2.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>
        <ic-select
          id="ic-select-6"
          label="What is your favourite coffee?"
          validation-status="error"
          validation-text="Error message"
          searchable
        ></ic-select>
        <script>
          var select3 = document.querySelector("#ic-select-6");
          var option3 = "Cappuccino";
          select3.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select3.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable scroll behaviour

<Canvas>
  <Story
    name="Searchable scroll behaviour"
    parameters={{ loki: { skip: true } }}
  >
    {(args) =>
      html`<ic-select
          id="select-34"
          label="What is your favourite coffee?"
          searchable
        ></ic-select>
        <script>
          var select = document.querySelector("#select-34");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
            { label: "Caf√© au lait", value: "Caf" },
            { label: "Espresso", value: "Esp" },
            { label: "Cortado", value: "Cor" },
            { label: "Ristretto", value: "Ris" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable external filtering

<Canvas>
  <Story
    name="Searchable external filtering"
    parameters={{ loki: { skip: true } }}
  >
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable="true"
          debounce="300"
          disable-filter="true"
          id="external-filter-select"
          timeout="1000"
        ></ic-select>
        <br />
        <ic-typography>
          Suggested search options: Espresso, Double Espresso, Flat White,
          Filter, Cappuccino, Americano, Mocha, Macchiato.
        </ic-typography>
        <br />
        <ic-typography>
          The IcChange event will trigger 300ms after you finish typing. 1
          second later, the options in the select menu will be updated.
        </ic-typography>
        <script>
          var mockData = [
            { label: "Espresso", value: "Esp" },
            { label: "Double Espresso", value: "Dou" },
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          function handleFilter(event) {
            var option = event.detail.value;
            console.log(option);
            if (option !== selectedValue) {
              if (option) {
                select.loading = true;
                mockAPI = (query) => {
                  filteredResults = mockData.filter((m) =>
                    m.label.toLowerCase().includes(query.toLowerCase())
                  );
                  return new Promise((resolve) =>
                    setTimeout(
                      () => resolve(filteredResults),
                      event.type === "icChange" ? 2000 : 900
                    )
                  );
                };
                mockAPI(option).then((results) => (select.options = results));
              } else {
                select.options = [];
              }
            }
          }
          var select = document.querySelector("#external-filter-select");
          var selectedValue = "";
          select.addEventListener("icClear", function (event) {
            select.options = [];
          });
          select.addEventListener("icOptionSelect", function (event) {
            selectedValue = event.detail.value;
          });
          select.addEventListener("icChange", handleFilter);
          select.addEventListener("icRetryLoad", handleFilter);
        </script>`
    }
  </Story>
</Canvas>

### Searchable - Reset/Submit in form searchable - This shows how the select works within a form. The value will appear in the console.log on submit.

<Canvas>
  <Story
    name="Searchable: Reset/Submit in form searchable"
    parameters={{ loki: { skip: true } }}
  >
    {(args) =>
      html`
        <form>
          <ic-select
            id="select-35"
            label="What is your favourite coffee?"
            searchable="true"
          ></ic-select>
          <br />
          <br />
          <input type="submit" value="Submit" />
          <input type="reset" value="Reset" />
        </form>
        <script>
          var select = document.querySelector("#select-35");
          select.value = "Cap";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
          document.querySelector("form").addEventListener("submit", (ev) => {
            ev.preventDefault();
            console.log(document.querySelector("input.ic-input").value);
          });
        </script>
      `
    }
  </Story>
</Canvas>

### Searchable - Update input value from external request

<Canvas>
  <Story
    name="Searchable - Update input value from external request"
    parameters={{ loki: { skip: true } }}
  >
    {(args) =>
      html`<ic-section-container>
          <ic-select
            id="search-select"
            searchable="true"
            label="What is your favourite coffee? (searchable)"
          ></ic-select>
        </ic-section-container>
        <script>
          const searchSelect = document.getElementById("search-select");
          let options = [];
          options.push({ label: "unknown", value: "unknown" });
          options.push({ label: "item 1", value: "item-1" });
          options.push({ label: "item 2", value: "item-2" });
          options.push({ label: "item 3", value: "item-3" });
          searchSelect.options = options;
          let searchoption = "";
          searchSelect.addEventListener("icChange", function (event) {
            console.log("icChange", event.detail.value);
            searchoption = event.detail.value;
            if (searchoption === "unknown") {
              searchoption = "item-1";
              searchSelect.value = "item-1";
            } else {
              searchSelect.value = searchoption;
            }
          });
          searchSelect.addEventListener("icOptionSelect", function (event) {
            console.log("icOptionSelect", event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable emitting icOptionSelect on enter

<Canvas>
  <Story
    name="Searchable emitting icOptionSelect on enter"
    parameters={{ loki: { skip: true } }}
  >
    {(args) =>
      html`<ic-select
          id="select-1"
          label="What is your favourite coffee?"
          select-on-enter="true"
          searchable
        ></ic-select>
        <script>
          var select = document.querySelector("#select-1");
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icOptionSelect", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Default select playground

<Canvas>
  <Story
    name="Default select playground"
    parameters={{ loki: { skip: true } }}
    args={{ ...defaultArgs, ["show-clear-button"]: false }}
    argTypes={{
      ...validationArgType,
    }}
  >
    {(args) =>
      html` <ic-select
          id="select-playground"
          disabled=${args.disabled}
          full-width=${args["full-width"]}
          helper-text=${args["helper-text"]}
          hide-label=${args["hide-label"]}
          label=${args.label}
          placeholder=${args.placeholder}
          readonly=${args.readonly}
          required=${args.required}
          show-clear-button=${args["show-clear-button"]}
          small=${args.small}
          validation-status=${args["validation-status"]}
          validation-text=${args["validation-text"]}
        >
        </ic-select>
        <script>
          var select = document.querySelector("#select-playground");
          select.options = [
            {
              label: "Cappuccino",
              value: "Cap",
              description: "Coffee frothed up with pressurised steam",
            },
            {
              label: "Boring",
              children: [
                {
                  label: "Latte",
                  value: "Lat",
                  description: "A milkier coffee than a cappuccino",
                },
                {
                  label: "Filter",
                  value: "Fil",
                  description: "Coffee filtered using paper or a mesh",
                },
              ],
            },
            {
              label: "Fancy",
              children: [
                {
                  label: "Flat white",
                  value: "Fla",
                  description:
                    "Coffee without froth made with espresso and hot steamed milk",
                },
                {
                  label: "Macchiato",
                  value: "Mac",
                  description:
                    "Espresso coffee with a dash of frothy steamed milk",
                },
              ],
            },
            {
              label: "Americano",
              value: "Ame",
              description: "Espresso coffee diluted with hot water",
            },
            {
              label: "Mocha",
              value: "Moc",
              description: "A mixture of coffee and chocolate",
            },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable select playground

<Canvas>
  <Story
    name="Searchable select playground"
    parameters={{ loki: { skip: true } }}
    args={{
      ...defaultArgs,
      ["include-descriptions-in-search"]: false,
      ["include-group-titles-in-search"]: false,
      loading: false,
      ["loading-label"]: "Loading...",
      ["search-match-position"]: "anywhere",
    }}
    argTypes={{
      ...validationArgType,
      ["search-match-position"]: {
        options: ["anywhere", "start"],
        control: { type: "inline-radio" },
      },
    }}
  >
    {(args) =>
      html` <ic-select
          id="select-searchable-playground"
          disabled=${args.disabled}
          full-width=${args["full-width"]}
          helper-text=${args["helper-text"]}
          hide-label=${args["hide-label"]}
          include-descriptions-in-search=${args[
            "include-descriptions-in-search"
          ]}
          include-group-titles-in-search=${args[
            "include-group-titles-in-search"
          ]}
          loading=${args.loading}
          loading-label=${args["loading-label"]}
          label=${args.label}
          placeholder=${args.placeholder}
          readonly=${args.readonly}
          required=${args.required}
          search-match-position=${args["search-match-position"]}
          searchable="true"
          small=${args.small}
          validation-status=${args["validation-status"]}
          validation-text=${args["validation-text"]}
        >
        </ic-select>
        <script>
          var select = document.querySelector("#select-searchable-playground");
          select.options = [
            {
              label: "Cappuccino",
              value: "Cap",
              description: "Coffee frothed up with pressurised steam",
            },
            {
              label: "Boring",
              children: [
                {
                  label: "Latte",
                  value: "Lat",
                  description: "A milkier coffee than a cappuccino",
                },
                {
                  label: "Filter",
                  value: "Fil",
                  description: "Coffee filtered using paper or a mesh",
                },
              ],
            },
            {
              label: "Fancy",
              children: [
                {
                  label: "Flat white",
                  value: "Fla",
                  description:
                    "Coffee without froth made with espresso and hot steamed milk",
                },
                {
                  label: "Macchiato",
                  value: "Mac",
                  description:
                    "Espresso coffee with a dash of frothy steamed milk",
                },
              ],
            },
            {
              label: "Americano",
              value: "Ame",
              description: "Espresso coffee diluted with hot water",
            },
            {
              label: "Mocha",
              value: "Moc",
              description: "A mixture of coffee and chocolate",
            },
          ];
          select.addEventListener("icChange", function (event) {
            console.log(event.detail.value);
          });
        </script>`
    }
  </Story>
</Canvas>
