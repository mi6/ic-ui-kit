import {
  Meta,
  Story,
  Canvas,
  ArgsTable,
  Description,
} from "@storybook/addon-docs";
import { html } from "lit-html";
import readme from "./readme.md";

<Meta title="Web Components/Select" component="ic-select" />

<Description markdown={readme} />

### Default

<Canvas>
  <Story name="Default">
    {(args) =>
      html`<ic-select label="What is your favourite coffee?"></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Default value

<Canvas>
  <Story name="Default value">
    {(args) =>
      html`<ic-select label="What is your favourite coffee?"></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          select.value = "Cap";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### With clear button

<Canvas>
  <Story name="With clear button">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          show-clear-button
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### With description

<Canvas>
  <Story name="With description">
    {(args) =>
      html`<ic-select label="What is your favourite coffee?"></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            {
              label: "Cappuccino",
              value: "Cap",
              description: "Coffee frothed up with pressurised steam",
            },
            {
              label: "Latte",
              value: "Lat",
              description: "A milkier coffee than a cappuccino",
            },
            {
              label: "Americano",
              value: "Ame",
              description: "Espresso coffee diluted with hot water",
            },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Helper text

<Canvas>
  <Story name="Helper text">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          helper-text="Some helper text"
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Custom placeholder

<Canvas>
  <Story name="Custom placeholder">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          placeholder="Placeholder goes here"
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Small

<Canvas>
  <Story name="Small">
    {(args) =>
      html`<ic-select label="What is your favourite coffee?" small></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Disabled

<Canvas>
  <Story name="Disabled">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          disabled
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Disabled options

<Canvas>
  <Story name="Disabled options">
    {(args) =>
      html`<ic-select label="What is your favourite coffee?"></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat", disabled: true },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Full width

<Canvas>
  <Story name="Full width">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          full-width="true"
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Hidden label

<Canvas>
  <Story name="Hidden label">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          hide-label
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Required

<Canvas>
  <Story name="Required">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          required
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Read-only

<Canvas>
  <Story name="Read-only">
    {() =>
      html`<ic-select
          label="What is your favourite coffee?"
          readonly
          value="Cap"
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Groups

<Canvas>
  <Story name="Groups">
    {(args) =>
      html`<ic-select label="What is your favourite coffee?"></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            {
              label: "Fancy",
              children: [
                { label: "Cappuccino", value: "Cap" },
                { label: "Flat white", value: "Flat" },
              ],
            },
            {
              label: "Boring",
              children: [
                { label: "Filter", value: "Fil" },
                { label: "Latte", value: "Lat" },
              ],
            },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Recommended

<Canvas>
  <Story name="Recommended">
    {(args) =>
      html`<ic-select label="What is your favourite coffee?"></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cappuccino" },
            { label: "Flat white", value: "Flat white", recommended: true },
            { label: "Latte", value: "Latte" },
            { label: "Americano", value: "Americano", recommended: true },
            { label: "Filter", value: "Fil" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Validation

<Canvas>
  <Story name="Validation">
    {(args) =>
      html`<ic-select
          id="ic-select-1"
          label="What is your favourite coffee?"
          validation-status="success"
          validation-text="Success message"
        ></ic-select>
        <script>
          var select1 = document.querySelector("#ic-select-1");
          var option1 = "Cappuccino";
          select1.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select1.addEventListener("icChange", function (event) {
            option1 = event.detail.value;
            select1.value = option1;
          });
        </script>
        <ic-select
          id="ic-select-2"
          label="What is your favourite coffee?"
          validation-status="warning"
          validation-text="Warning message"
        ></ic-select>
        <script>
          var select2 = document.querySelector("#ic-select-2");
          var option2 = "Cappuccino";
          select2.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select2.addEventListener("icChange", function (event) {
            option2 = event.detail.value;
            select2.value = option2;
          });
        </script>
        <ic-select
          id="ic-select-3"
          label="What is your favourite coffee?"
          validation-status="error"
          validation-text="Error message"
        ></ic-select>
        <script>
          var select3 = document.querySelector("#ic-select-3");
          var option3 = "Cappuccino";
          select3.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select3.addEventListener("icChange", function (event) {
            option3 = event.detail.value;
            select3.value = option3;
          });
        </script>`
    }
  </Story>
</Canvas>

### Scroll behaviour

<Canvas>
  <Story name="Scroll behaviour">
    {(args) =>
      html`<ic-select label="What is your favourite coffee?"></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
            { label: "Café au lait", value: "Caf" },
            { label: "Espresso", value: "Esp" },
            { label: "Cortado", value: "Cor" },
            { label: "Ristretto", value: "Ris" },
            { label: "Latte macchiato", value: "Lam" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Default in form - This shows how the select works within a form. The value will appear in the console.log on submit.

<Canvas>
  <Story name="Default in form" parameters={{ loki: { skip: true } }}>
    {(args) =>
      html`
        <form>
          <ic-select label="What is your favourite coffee?"></ic-select>
          <br />
          <br />
          <input type="submit" value="Submit" />
          <input type="reset" value="Reset" />
        </form>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
          document.querySelector("form").addEventListener("submit", (ev) => {
            ev.preventDefault();
            console.log(document.querySelector("input.ic-input").value);
          });
        </script>
      `
    }
  </Story>
</Canvas>

### Searchable default

<Canvas>
  <Story name="Searchable default">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable default value

<Canvas>
  <Story name="Searchable default value">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          select.value = "Lat";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable filter by start of options

<Canvas>
  <Story name="Searchable filter by start of options">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
          search-match-position="start"
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable characters until suggestions

<Canvas>
  <Story name="Searchable characters until suggestions">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
          characters-until-suggestions="3"
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable with description

<Canvas>
  <Story name="Searchable with description">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            {
              label: "Cappuccino",
              value: "Cap",
              description: "Coffee frothed up with pressurised steam",
            },
            {
              label: "Latte",
              value: "Lat",
              description: "A milkier coffee than a cappuccino",
            },
            {
              label: "Americano",
              value: "Ame",
              description: "Espresso coffee diluted with hot water",
            },
            {
              label: "Filter",
              value: "Fil",
              description: "Coffee filtered using paper or a mesh",
            },
            {
              label: "Flat white",
              value: "Fla",
              description:
                "Coffee without froth made with espresso and hot steamed milk",
            },
            {
              label: "Mocha",
              value: "Moc",
              description: "A mixture of coffee and chocolate",
            },
            {
              label: "Macchiato",
              value: "Mac",
              description: "Espresso coffee with a dash of frothy steamed milk",
            },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable with description (included in search)

<Canvas>
  <Story name="Searchable with description (included in search)">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
          include-descriptions-in-search
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            {
              label: "Cappuccino",
              value: "Cap",
              description: "Coffee frothed up with pressurised steam",
            },
            {
              label: "Latte",
              value: "Lat",
              description: "A milkier coffee than a cappuccino",
            },
            {
              label: "Americano",
              value: "Ame",
              description: "Espresso coffee diluted with hot water",
            },
            {
              label: "Filter",
              value: "Fil",
              description: "Coffee filtered using paper or a mesh",
            },
            {
              label: "Flat white",
              value: "Fla",
              description:
                "Coffee without froth made with espresso and hot steamed milk",
            },
            {
              label: "Mocha",
              value: "Moc",
              description: "A mixture of coffee and chocolate",
            },
            {
              label: "Macchiato",
              value: "Mac",
              description: "Espresso coffee with a dash of frothy steamed milk",
            },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable helper text

<Canvas>
  <Story name="Searchable helper text">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
          helper-text="Some helper text"
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable small

<Canvas>
  <Story name="Searchable small">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
          small
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable disabled

<Canvas>
  <Story name="Searchable disabled">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
          disabled
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable disabled options

<Canvas>
  <Story name="Searchable disabled options">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame", disabled: true },
            { label: "Filter", value: "Fil", disabled: true },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac", disabled: true },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable hidden label

<Canvas>
  <Story name="Searchable hidden label">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
          hide-label
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable required

<Canvas>
  <Story name="Searchable required">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
          required
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable groups

<Canvas>
  <Story name="Searchable groups">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            {
              label: "Fancy",
              children: [
                { label: "Cappuccino", value: "Cap" },
                { label: "Flat white", value: "Flat" },
              ],
            },
            {
              label: "Boring",
              children: [
                { label: "Filter", value: "Fil" },
                { label: "Latte", value: "Lat" },
              ],
            },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable group (group titles included in search)

<Canvas>
  <Story name="Searchable groups (group titles included in search)">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
          include-group-titles-in-search
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            {
              label: "Fancy",
              children: [
                { label: "Cappuccino", value: "Cap" },
                { label: "Flat white", value: "Flat" },
              ],
            },
            {
              label: "Boring",
              children: [
                { label: "Filter", value: "Fil" },
                { label: "Latte", value: "Lat" },
              ],
            },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable groups characters until suggestions

<Canvas>
  <Story name="Searchable groups characters until suggestions">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
          characters-until-suggestions="3"
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            {
              label: "Fancy",
              children: [
                { label: "Cappuccino", value: "Cap" },
                { label: "Flat white", value: "Flat" },
              ],
            },
            {
              label: "Boring",
              children: [
                { label: "Filter", value: "Fil" },
                { label: "Latte", value: "Lat" },
              ],
            },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable recommended

<Canvas>
  <Story name="Searchable recommended">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cappuccino" },
            { label: "Flat white", value: "Flat white", recommended: true },
            { label: "Latte", value: "Latte" },
            { label: "Americano", value: "Americano", recommended: true },
            { label: "Filter", value: "Fil" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable validation

<Canvas>
  <Story name="Searchable validation">
    {(args) =>
      html`<ic-select
          id="ic-select-1"
          label="What is your favourite coffee?"
          validation-status="success"
          validation-text="Success message"
          searchable
        ></ic-select>
        <script>
          var select1 = document.querySelector("#ic-select-1");
          var option1 = "Cappuccino";
          select1.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select1.addEventListener("icChange", function (event) {
            option1 = event.detail.value;
            select1.value = option1;
          });
        </script>
        <ic-select
          id="ic-select-2"
          label="What is your favourite coffee?"
          validation-status="warning"
          validation-text="Warning message"
          searchable
        ></ic-select>
        <script>
          var select2 = document.querySelector("#ic-select-2");
          var option2 = "Cappuccino";
          select2.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select2.addEventListener("icChange", function (event) {
            option2 = event.detail.value;
            select2.value = option2;
          });
        </script>
        <ic-select
          id="ic-select-3"
          label="What is your favourite coffee?"
          validation-status="error"
          validation-text="Error message"
          searchable
        ></ic-select>
        <script>
          var select3 = document.querySelector("#ic-select-3");
          var option3 = "Cappuccino";
          select3.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          select3.addEventListener("icChange", function (event) {
            option3 = event.detail.value;
            select3.value = option3;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable scroll behaviour

<Canvas>
  <Story name="Searchable scroll behaviour">
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable
        ></ic-select>
        <script>
          var select = document.querySelector("ic-select");
          var option = "Cappuccino";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
            { label: "Café au lait", value: "Caf" },
            { label: "Espresso", value: "Esp" },
            { label: "Cortado", value: "Cor" },
            { label: "Ristretto", value: "Ris" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable external filtering

<Canvas>
  <Story
    name="Searchable external filtering"
    parameters={{ loki: { skip: true } }}
  >
    {(args) =>
      html`<ic-select
          label="What is your favourite coffee?"
          searchable="true"
          debounce="300"
          disable-filter="true"
          id="external-filter-select"
          characters-until-suggestions="2"
        ></ic-select>
        <br />
        <ic-typography>
          Suggested search options: Espresso, Double Espresso, Flat White,
          Filter, Cappuccino, Americano, Mocha, Macchiato.
        </ic-typography>
        <br />
        <ic-typography>
          The IcChange event will trigger 300ms after you finish typing. 1
          second later, the options in the select menu will be updated.
        </ic-typography>
        <script>
          var mockData = [
            { label: "Espresso", value: "Esp" },
            { label: "Double Espresso", value: "Dou" },
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
            { label: "Filter", value: "Fil" },
            { label: "Flat white", value: "Fla" },
            { label: "Mocha", value: "Moc" },
            { label: "Macchiato", value: "Mac" },
          ];
          var select = document.querySelector("#external-filter-select");
          var selectedValue = "";
          select.addEventListener("icClear", function (event) {
            select.options = [];
          });
          select.addEventListener("icOptionSelect", function (event) {
            selectedValue = event.detail.value;
          });
          select.addEventListener("icChange", function (event) {
            var option = event.detail.value;
            select.value = option;
            if (option !== selectedValue) {
              if (option && option.length > 1) {
                mockAPI = (query) => {
                  filteredResults = mockData.filter((m) =>
                    m.label.toLowerCase().includes(query.toLowerCase())
                  );
                  return new Promise((resolve) =>
                    setTimeout(() => resolve(filteredResults), 1000)
                  );
                };
                mockAPI(option).then((results) => (select.options = results));
              } else {
                select.options = [];
              }
            }
          });
        </script>`
    }
  </Story>
</Canvas>

### Searchable - Reset/Submit in form searchable - This shows how the select works within a form. The value will appear in the console.log on submit.

<Canvas>
  <Story
    name="Searchable: Reset/Submit in form searchable"
    parameters={{ loki: { skip: true } }}
  >
    {(args) =>
      html`
        <form>
          <ic-select
            label="What is your favourite coffee?"
            searchable="true"
          ></ic-select>
          <br />
          <br />
          <input type="submit" value="Submit" />
          <input type="reset" value="Reset" />
        </form>
        <script>
          var select = document.querySelector("ic-select");
          select.value = "Cap";
          select.options = [
            { label: "Cappuccino", value: "Cap" },
            { label: "Latte", value: "Lat" },
            { label: "Americano", value: "Ame" },
          ];
          select.addEventListener("icChange", function (event) {
            option = event.detail.value;
            select.value = option;
          });
          document.querySelector("form").addEventListener("submit", (ev) => {
            ev.preventDefault();
            console.log(document.querySelector("input.ic-input").value);
          });
        </script>
      `
    }
  </Story>
</Canvas>
