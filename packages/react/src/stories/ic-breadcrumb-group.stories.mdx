import {
  Meta,
  Story,
  Canvas,
  ArgsTable,
  Description,
} from "@storybook/addon-docs";
import {
  IcBreadcrumbGroup,
  IcBreadcrumb,
  IcLink,
  IcButton,
  IcTypography,
  IcSectionContainer,
} from "../components";
import readme from "../../../web-components/src/components/ic-breadcrumb-group/readme.md";
import IcBreadcrumbReadme from "../../../web-components/src/components/ic-breadcrumb/readme.md";

<Description markdown={readme + IcBreadcrumbReadme} />

<Meta title="Breadcrumb" component={IcBreadcrumbGroup} />

import {
  NavLink,
  MemoryRouter,
  Route,
  Routes,
  useLocation,
  Link,
} from "react-router-dom";

### Default

<Canvas>
  <Story name="Default">
    <div>
      <IcBreadcrumbGroup>
        <IcBreadcrumb pageTitle="foo" href="/foo" />
        <IcBreadcrumb pageTitle="bar" href="/bar" />
        <IcBreadcrumb pageTitle="baz" href="/baz" current />
      </IcBreadcrumbGroup>
    </div>
  </Story>
</Canvas>

### Slotted links

<Canvas>
  <Story name="Slotted links">
    <div>
      <IcBreadcrumbGroup>
        <IcBreadcrumb>
          <IcLink>
            <a slot="router-item" href="/foo">
              Foo
            </a>
          </IcLink>
        </IcBreadcrumb>
        <IcBreadcrumb>
          <IcLink>
            <a slot="router-item" href="/bar">
              Bar
            </a>
          </IcLink>
        </IcBreadcrumb>
        <IcBreadcrumb current>
          <IcLink>
            <a slot="router-item" href="/baz">
              Baz
            </a>
          </IcLink>
        </IcBreadcrumb>
      </IcBreadcrumbGroup>
    </div>
  </Story>
</Canvas>

### Back

<Canvas>
  <Story name="Back">
    <div>
      <IcBreadcrumbGroup backBreadcrumbOnly>
        <IcBreadcrumb pageTitle="foo" href="/foo" />
        <IcBreadcrumb pageTitle="bar" href="/bar" />
        <IcBreadcrumb pageTitle="baz" href="/baz" current />
      </IcBreadcrumbGroup>
    </div>
  </Story>
</Canvas>

### Icon

<Canvas>
  <Story name="Icon">
    <div>
      <IcBreadcrumbGroup>
        <IcBreadcrumb pageTitle="foo" href="/foo">
          <svg
            slot="icon"
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 0 24 24"
            width="24px"
            fill="#000000"
          >
            <path d="M0 0h24v24H0V0z" fill="none" />
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5.5-2.5l7.51-3.49L17.5 6.5 9.99 9.99 6.5 17.5zm5.5-6.6c.61 0 1.1.49 1.1 1.1s-.49 1.1-1.1 1.1-1.1-.49-1.1-1.1.49-1.1 1.1-1.1z" />
          </svg>
        </IcBreadcrumb>
        <IcBreadcrumb pageTitle="bar" href="/bar">
          <svg
            slot="icon"
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 0 24 24"
            width="24px"
            fill="#000000"
          >
            <path d="M0 0h24v24H0V0z" fill="none" />
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5.5-2.5l7.51-3.49L17.5 6.5 9.99 9.99 6.5 17.5zm5.5-6.6c.61 0 1.1.49 1.1 1.1s-.49 1.1-1.1 1.1-1.1-.49-1.1-1.1.49-1.1 1.1-1.1z" />
          </svg>
        </IcBreadcrumb>
        <IcBreadcrumb pageTitle="baz" href="/baz" current>
          <svg
            slot="icon"
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 0 24 24"
            width="24px"
            fill="#000000"
          >
            <path d="M0 0h24v24H0V0z" fill="none" />
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5.5-2.5l7.51-3.49L17.5 6.5 9.99 9.99 6.5 17.5zm5.5-6.6c.61 0 1.1.49 1.1 1.1s-.49 1.1-1.1 1.1-1.1-.49-1.1-1.1.49-1.1 1.1-1.1z" />
          </svg>
        </IcBreadcrumb>
      </IcBreadcrumbGroup>
    </div>
  </Story>
</Canvas>

### Collapsed

<Canvas>
  <Story name="Collapsed">
    <div>
      <IcBreadcrumbGroup collapsed>
        <IcBreadcrumb pageTitle="foo" href="/foo" />
        <IcBreadcrumb pageTitle="bar" href="/bar" />
        <IcBreadcrumb pageTitle="baz" href="/baz" />
        <IcBreadcrumb pageTitle="qux" href="/qux" />
        <IcBreadcrumb pageTitle="quxx" href="/quxx" current />
      </IcBreadcrumbGroup>
    </div>
  </Story>
</Canvas>

### React Router

export const HomePage = (props) => {
  return (
    <IcSectionContainer>
      <IcTypography variant="h1">Hi there!</IcTypography>
      <IcTypography>
        This example is demonstrating the breadcrumb and breadcrumb group
        components with React Router
      </IcTypography>
    </IcSectionContainer>
  );
};

export const DailyTippers = () => (
  <IcSectionContainer>
    <IcTypography variant="h1">Daily tippers</IcTypography>
    <IcTypography>
      Lorem ipsum doloe sit amet, consectetur adipiscing
    </IcTypography>
  </IcSectionContainer>
);

export const About = () => (
  <IcSectionContainer>
    <IcTypography variant="h1">About</IcTypography>
    <IcTypography>
      Lorem ipsum doloe sit amet, consectetur adipiscing
    </IcTypography>
  </IcSectionContainer>
);

export const Breadcrumbs = () => {
  const location = useLocation();
  return (
    <IcBreadcrumbGroup>
      <IcBreadcrumb pageTitle="Home" current={location.pathname === "/"}>
        <IcLink>
          <NavLink to="/" slot="router-item">
            Home
          </NavLink>
        </IcLink>
      </IcBreadcrumb>
      <IcBreadcrumb
        pageTitle="Daily Tippers"
        current={location.pathname === "/daily-tippers"}
      >
        <IcLink>
          <NavLink to="/daily-tippers" slot="router-item">
            Daily Tippers
          </NavLink>
        </IcLink>
      </IcBreadcrumb>
      <IcBreadcrumb pageTitle="About" current={location.pathname === "/about"}>
        <IcLink>
          <NavLink to="/about" slot="router-item">
            About
          </NavLink>
        </IcLink>
      </IcBreadcrumb>
    </IcBreadcrumbGroup>
  );
};

<Canvas>
  <Story
    name="React Router"
    decorators={[
      (Story) => (
        <MemoryRouter initialEntries={["/"]}>
          <Story />
        </MemoryRouter>
      ),
    ]}
  >
    <div>
      <Breadcrumbs />
      <Routes>
        <Route path="/" element={<HomePage />} />
        <Route path="/daily-tippers" element={<DailyTippers />} />
        <Route path="/about" element={<About />} />
      </Routes>
      <div style={{ display: "flex", gap: "10px", marginTop: "16px" }}>
        <IcTypography>
          Click the links to switch pages and update breadcrumb states:
        </IcTypography>
        <IcLink>
          <Link slot="router-item" to="/">
            Home
          </Link>
        </IcLink>
        <IcLink>
          <Link slot="router-item" to="/daily-tippers">
            Daily Tippers
          </Link>
        </IcLink>
        <IcLink>
          <Link slot="router-item" to="/about">
            About
          </Link>
        </IcLink>
      </div>
    </div>
  </Story>
</Canvas>

### Playground

export const defaultArgs = {
  backBreadcrumbOnly: false,
  collapsed: false,
  current: false,
  href: "/",
  pageTitle: "Home",
  iconSlot: true,
  theme: "inherit",
  monochrome: false,
};

<Canvas>
  <Story
    args={defaultArgs}
    argTypes={{
      iconSlot: {
        mapping: {
          true: "icon",
          false: "",
        }
      },
      theme: {
        options: ["inherit", "light", "dark"],
        control: { type: "inline-radio" },
      },
    }}
    name="Playground"
  >
    {(args) => (
        <IcBreadcrumbGroup
          backBreadcrumbOnly={args.backBreadcrumbOnly}
          collapsed={args.collapsed}
          theme={args.theme}
          monochrome={args.monochrome}
        >
          <IcBreadcrumb
            current={args.current}
            pageTitle={args.pageTitle}
            href={args.href}
          >
            <svg
              slot={args.iconSlot}
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12 6.19L17 10.69V18.5H15V12.5H9V18.5H7V10.69L12 6.19ZM12 3.5L2 12.5H5V20.5H11V14.5H13V20.5H19V12.5H22L12 3.5Z"
                fill="currentColor"
              ></path>
            </svg>
          </IcBreadcrumb>
          <IcBreadcrumb
            pageTitle="Breadcrumb 2"
            href="/breadcrumb-2"
          />
          <IcBreadcrumb
            pageTitle="Breadcrumb 3"
            href="/breadcrumb-3"
          />
        </IcBreadcrumbGroup>
    )}
  </Story>
</Canvas>
