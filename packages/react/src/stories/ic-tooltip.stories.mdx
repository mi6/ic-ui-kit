import {
  Meta,
  Story,
  Canvas,
  ArgsTable,
  Description,
} from "@storybook/addon-docs";
import { IcTooltip } from "../components";
import readme from "../../../web-components/src/components/ic-tooltip/readme.md";

<Meta title="Tooltip" component={IcTooltip} />

<Description markdown={readme} />

### Default

<Canvas>
  <Story name="Default">
    <IcTooltip
      label="This is a description of the button"
      id="ic-tooltip-test-button-default"
      target="test-button-default"
    >
      <button
        aria-describedby="ic-tooltip-test-button-default"
        id="test-button-default"
      >
        Default
      </button>
    </IcTooltip>
  </Story>
</Canvas>

### Using external method

<Canvas>
  <Story name="Using external method">
    {() => {
      let display = true;
      function func() {
        document.querySelector("ic-tooltip").displayTooltip(display, true);
        display = !display;
      }
      return (
        <>
          <button onClick={func}>Show tooltip</button>
          <IcTooltip
            label="This is a description of the button"
            id="ic-tooltip-test-button-default"
            target="test-button-default"
          >
            <button
              aria-describedby="ic-tooltip-test-button-default"
              id="test-button-default"
            >
              Default
            </button>
          </IcTooltip>
        </>
      );
    }}
  </Story>
</Canvas>

### Disabled Hover

<Canvas>
  <Story name="Disabled Hover">
    <IcTooltip
      label="This shows 'Code' has been copied"
      id="ic-tooltip-test-button-disable-hover"
      target="test-button-disable-hover"
      disableHover
    >
      <button
        aria-describedby="ic-tooltip-test-button-disable-hover"
        id="test-button-disable-hover"
        onClick={() => navigator.clipboard.writeText("Code")}
      >
        Show tooltip
      </button>
    </IcTooltip>
  </Story>
</Canvas>

### Top placements

<Canvas>
  <Story name="Top placements">
    {(args) => (
      <div style={{ margin: "40px" }}>
        <IcTooltip
          placement="top-start"
          label="This is a description of the button"
          id="ic-tooltip-test-button-top-start"
          target="test-button-top-start"
        >
          <button
            id="test-button-top-start"
            aria-describedby="ic-tooltip-test-button-top-start"
          >
            Top start
          </button>
        </IcTooltip>
        <IcTooltip
          placement="top"
          label="This is a description of the button"
          id="ic-tooltip-test-button-top"
          target="test-button-top"
        >
          <button
            id="test-button-top"
            aria-describedby="ic-tooltip-test-button-top"
          >
            Top
          </button>
        </IcTooltip>
        <IcTooltip
          placement="top-end"
          label="This is a description of the button"
          id="ic-tooltip-test-button-top-end"
          target="test-button-top-end"
        >
          <button
            id="test-button-top-end"
            aria-describedby="ic-tooltip-test-button-top-end"
          >
            Top end
          </button>
        </IcTooltip>
      </div>
    )}
  </Story>
</Canvas>

### Bottom placements

<Canvas>
  <Story name="Bottom placements">
    {(args) => (
      <div style={{ margin: "40px" }}>
        <IcTooltip
          placement="bottom-start"
          label="This is a description of the button"
          id="ic-tooltip-test-button-bottom-start"
          target="test-button-bottom-start"
        >
          <button
            id="test-button-bottom-start"
            aria-describedby="ic-tooltip-test-button-bottom-start"
          >
            Bottom start
          </button>
        </IcTooltip>
        <IcTooltip
          placement="bottom"
          label="This is a description of the button"
          id="ic-tooltip-test-button-bottom"
          target="test-button-bottom"
        >
          <button
            id="test-button-bottom"
            aria-describedby="ic-tooltip-test-button-bottom"
          >
            Bottom
          </button>
        </IcTooltip>
        <IcTooltip
          placement="bottom-end"
          label="This is a description of the button"
          id="ic-tooltip-test-button-bottom-end"
          target="test-button-bottom-end"
        >
          <button
            id="test-button-bottom-end"
            aria-describedby="ic-tooltip-test-button-bottom-end"
          >
            Bottom end
          </button>
        </IcTooltip>
      </div>
    )}
  </Story>
</Canvas>

### Right placements

<Canvas>
  <Story name="Right placements">
    {(args) => (
      <div style={{ margin: "40px" }}>
        <IcTooltip
          placement="right-start"
          label="This is a description of the button"
          id="ic-tooltip-test-button-right-start"
          target="test-button-right-start"
        >
          <button
            id="test-button-right-start"
            aria-describedby="ic-tooltip-test-button-right-start"
          >
            Right start
          </button>
        </IcTooltip>
        <IcTooltip
          placement="right"
          label="This is a description of the button"
          id="ic-tooltip-test-button-right"
          target="test-button-right"
        >
          <button
            id="test-button-right"
            aria-describedby="ic-tooltip-test-button-right"
          >
            Right
          </button>
        </IcTooltip>
        <IcTooltip
          placement="right-end"
          label="This is a description of the button"
          id="ic-tooltip-test-button-right-end"
          target="test-button-right-end"
        >
          <button
            id="test-button-right-end"
            aria-describedby="ic-tooltip-test-button-right-end"
          >
            Right end
          </button>
        </IcTooltip>
      </div>
    )}
  </Story>
</Canvas>

### Left placements

<Canvas>
  <Story name="Left placements">
    {(args) => (
      <div style={{ marginLeft: "40px" }}>
        <IcTooltip
          placement="left-start"
          label="This is a description of the button"
          id="ic-tooltip-test-button-left-start"
          target="test-button-left-start"
        >
          <button
            id="test-button-left-start"
            aria-describedby="ic-tooltip-test-button-left-start"
          >
            Left start
          </button>
        </IcTooltip>
        <IcTooltip
          placement="left"
          label="This is a description of the button"
          id="ic-tooltip-test-button-left"
          target="test-button-left"
        >
          <button
            id="test-button-left"
            aria-describedby="ic-tooltip-test-button-left"
          >
            Left
          </button>
        </IcTooltip>
        <IcTooltip
          placement="left-end"
          label="This is a description of the button"
          id="ic-tooltip-test-button-left-end"
          target="test-button-left-end"
        >
          <button
            id="test-button-left-end"
            aria-describedby="ic-tooltip-test-button-left-end"
          >
            Left end
          </button>
        </IcTooltip>
      </div>
    )}
  </Story>
</Canvas>

### Truncation

<Canvas>
  <Story name="Truncation">
    <IcTooltip
      label="This is a body of text that is truncated to three lines within a tooltip. It has been truncated based on the maxLines prop. The number of lines in the text is clamped to the number passed through the maxLines prop."
      maxLines={3}
      id="ic-tooltip-test-button-truncation"
      target="test-button-truncation"
    >
      <button
        aria-describedby="ic-tooltip-test-button-truncation"
        id="test-button-truncation"
      >
        Default
      </button>
    </IcTooltip>
  </Story>
</Canvas>

### Dark background

<Canvas>
  <Story name="Dark background">
    <div style={{ backgroundColor: "#333333", height: "100px" }}>
      <IcTooltip
        label="This is a description of the button"
        id="ic-tooltip-test-button-dark"
        target="test-button-dark"
      >
        <button
          aria-describedby="ic-tooltip-test-button-dark"
          id="test-button-dark"
        >
          Default
        </button>
      </IcTooltip>
    </div>
  </Story>
</Canvas>

### Playground

export const defaultArgs = {
  disableHover: false,
  maxLines: 3,
  placement: "bottom",
  label: "This is a description of the button",
  theme: "inherit",
};

<Canvas>
  <Story
    args={defaultArgs}
    argTypes={{
      placement: {
        options: [
          "bottom",
          "top-start",
          "top",
          "top-end",
          "right-start",
          "right",
          "right-end",
          "bottom-end",
          "bottom-start",
          "left-end",
          "left",
          "left-start"
        ],
        control: { type: "select" },
      },
      theme: {
        options: ["inherit", "light", "dark"],
        control: { type: "inline-radio" },
      },
    }}
    name="Playground"
  >
    {(args) => (
      <div style={{margin: "250px"}}>
        <IcTooltip
          label={args.label}
          placement={args.placement}
          maxLines={args.maxLines}
          disableHover={args.disableHover}
          id="ic-tooltip-test-button-default"
          target="button-id"
          theme={args.theme}
        >
          <button
            id="button-id"
            aria-describedby="ic-tooltip-test-button-default"
          >
            Button 1
          </button>
        </IcTooltip>
      </div>
    )}
  </Story>
</Canvas>
